{"id":"Focm","dependencies":[{"name":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/package.json","includedInParent":true,"mtime":1635965767517},{"name":"@codemirror/basic-setup","loc":{"line":1,"column":52},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/basic-setup/dist/index.js"},{"name":"@codemirror/lang-javascript","loc":{"line":2,"column":27},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/lang-javascript/dist/index.js"},{"name":"@codemirror/lang-python","loc":{"line":3,"column":23},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/lang-python/dist/index.js"},{"name":"@codemirror/gutter","loc":{"line":4,"column":56},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/gutter/dist/index.js"},{"name":"./theme","loc":{"line":5,"column":36},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/theme.js"},{"name":"@codemirror/autocomplete","loc":{"line":6,"column":31},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/autocomplete/dist/index.js"},{"name":"@codemirror/closebrackets","loc":{"line":7,"column":30},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/closebrackets/dist/index.js"},{"name":"@codemirror/view","loc":{"line":8,"column":38},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/view/dist/index.js"},{"name":"@codemirror/matchbrackets","loc":{"line":9,"column":32},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/matchbrackets/dist/index.js"}],"generated":{"js":"\"use strict\";var e=require(\"@codemirror/basic-setup\"),r=require(\"@codemirror/lang-javascript\"),n=require(\"@codemirror/lang-python\"),i=require(\"@codemirror/gutter\"),t=require(\"./theme\"),o=require(\"@codemirror/autocomplete\"),a=require(\"@codemirror/closebrackets\"),c=require(\"@codemirror/view\"),s=require(\"@codemirror/matchbrackets\"),p=\"import logger from '@teamenki/logger';\\nimport omit from 'lodash.omit';\\nimport crypto from 'crypto';\\nimport { Forbidden403, NotFound404 } from '../common/error';\\nimport * as notifier from '../common/notifier';\\nimport { PLATFORMS } from '../common/in-app-purchases/constants';\\nimport Receipt from '../models/iap-receipt';\\nimport DeprecatedReceipt from '../models/receipt';\\nimport WebhookPayload from '../models/iap-webhook-payload';\\nimport User from '../models/user';\\nimport * as ios from '../common/in-app-purchases/handlers/ios';\\nimport * as analytics from '../common/in-app-purchases/analytics';\\nimport { processSubscription } from '../common/in-app-purchases/handlers/helpers';\\nimport { UPSELL_SOURCE } from '../api/v2/purchases/helpers/constants';\\n\\nasync function getUserAssociatedWithTransaction({\\n  productId,\\n  transactionId,\\n  environment,\\n}) {\\n  const [initialReceipt] = await Receipt.find({\\n    'platformData.ios.environment': environment,\\n    transactionId,\\n  })\\n    .sort('createdAt')\\n    .limit(1)\\n    .lean();\\n  if (initialReceipt) {\\n    const user = await User.findOne({ _id: initialReceipt.userId }).lean();\\n    return { user, foundInDeprecatedReceipts: false };\\n  }\\n\\n  const [deprecatedInitialReceipt] = await DeprecatedReceipt.find({\\n    transactionId,\\n    productId,\\n  })\\n    .sort('purchaseDate')\\n    .limit(1)\\n    .lean();\\n  if (deprecatedInitialReceipt) {\\n    const user = await User.findOne({\\n      _id: deprecatedInitialReceipt.userId,\\n    }).lean();\\n    return {\\n      user,\\n      foundInDeprecatedReceipts: true,\\n    };\\n  }\\n\\n  return { user: null, foundInDeprecatedReceipts: false };\\n}\",m=e.EditorState.create({doc:p,extensions:[(0,i.lineNumbers)(),(0,c.highlightSpecialChars)(),(0,s.bracketMatching)(),(0,o.autocompletion)(),(0,a.closeBrackets)(),e.EditorView.lineWrapping,(0,r.javascript)(),t.theme,t.highlighting]}),d=new e.EditorView({parent:document.getElementById(\"editor\"),state:m});window.view=d;"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":54}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":56}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":64}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":95}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":97}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":105}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":132}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":134}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":142}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":164}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":166}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":174}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":185}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":187}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":195}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":223}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":225}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":233}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":262}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":264}},{"source":"index.js","original":{"line":8,"column":0},"generated":{"line":1,"column":272}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":292}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":294}},{"source":"index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":302}},{"source":"index.js","name":"initialCode","original":{"line":11,"column":6},"generated":{"line":1,"column":331}},{"source":"index.js","original":{"line":11,"column":0},"generated":{"line":1,"column":333}},{"source":"index.js","name":"initialState","original":{"line":63,"column":6},"generated":{"line":1,"column":1996}},{"source":"index.js","name":"EditorState","original":{"line":63,"column":21},"generated":{"line":1,"column":1998}},{"source":"index.js","name":"create","original":{"line":63,"column":33},"generated":{"line":1,"column":2000}},{"source":"index.js","name":"create","original":{"line":63,"column":33},"generated":{"line":1,"column":2012}},{"source":"index.js","original":{"line":63,"column":40},"generated":{"line":1,"column":2019}},{"source":"index.js","name":"doc","original":{"line":64,"column":2},"generated":{"line":1,"column":2020}},{"source":"index.js","name":"initialCode","original":{"line":64,"column":7},"generated":{"line":1,"column":2024}},{"source":"index.js","name":"extensions","original":{"line":65,"column":2},"generated":{"line":1,"column":2026}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2037}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2039}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2041}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2043}},{"source":"index.js","original":{"line":69,"column":4},"generated":{"line":1,"column":2059}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2061}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2063}},{"source":"index.js","original":{"line":70,"column":4},"generated":{"line":1,"column":2089}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2091}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2093}},{"source":"index.js","original":{"line":71,"column":4},"generated":{"line":1,"column":2113}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2115}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2117}},{"source":"index.js","original":{"line":72,"column":4},"generated":{"line":1,"column":2136}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2138}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2140}},{"source":"index.js","name":"EditorView","original":{"line":73,"column":4},"generated":{"line":1,"column":2157}},{"source":"index.js","name":"lineWrapping","original":{"line":73,"column":15},"generated":{"line":1,"column":2159}},{"source":"index.js","name":"lineWrapping","original":{"line":73,"column":15},"generated":{"line":1,"column":2170}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2184}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2186}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2188}},{"source":"index.js","name":"theme","original":{"line":76,"column":4},"generated":{"line":1,"column":2202}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2204}},{"source":"index.js","name":"highlighting","original":{"line":77,"column":4},"generated":{"line":1,"column":2210}},{"source":"index.js","original":{"line":65,"column":14},"generated":{"line":1,"column":2212}},{"source":"index.js","name":"view","original":{"line":81,"column":6},"generated":{"line":1,"column":2228}},{"source":"index.js","original":{"line":81,"column":13},"generated":{"line":1,"column":2230}},{"source":"index.js","name":"EditorView","original":{"line":81,"column":17},"generated":{"line":1,"column":2234}},{"source":"index.js","original":{"line":81,"column":13},"generated":{"line":1,"column":2236}},{"source":"index.js","original":{"line":81,"column":28},"generated":{"line":1,"column":2247}},{"source":"index.js","name":"parent","original":{"line":82,"column":2},"generated":{"line":1,"column":2248}},{"source":"index.js","name":"document","original":{"line":82,"column":10},"generated":{"line":1,"column":2255}},{"source":"index.js","name":"getElementById","original":{"line":82,"column":19},"generated":{"line":1,"column":2264}},{"source":"index.js","original":{"line":82,"column":34},"generated":{"line":1,"column":2279}},{"source":"index.js","name":"state","original":{"line":83,"column":2},"generated":{"line":1,"column":2289}},{"source":"index.js","name":"initialState","original":{"line":83,"column":9},"generated":{"line":1,"column":2295}},{"source":"index.js","name":"window","original":{"line":86,"column":0},"generated":{"line":1,"column":2299}},{"source":"index.js","name":"view","original":{"line":86,"column":7},"generated":{"line":1,"column":2306}},{"source":"index.js","name":"view","original":{"line":86,"column":14},"generated":{"line":1,"column":2311}}],"sources":{"index.js":"import { basicSetup, EditorState, EditorView } from \"@codemirror/basic-setup\";\nimport { javascript } from \"@codemirror/lang-javascript\";\nimport { python } from \"@codemirror/lang-python\";\nimport { lineNumbers, highlightActiveLineGutterr } from \"@codemirror/gutter\";\nimport { theme, highlighting } from \"./theme\";\nimport { autocompletion } from \"@codemirror/autocomplete\";\nimport { closeBrackets } from \"@codemirror/closebrackets\";\nimport { highlightSpecialChars } from \"@codemirror/view\";\nimport { bracketMatching } from \"@codemirror/matchbrackets\";\n\nconst initialCode = `import logger from '@teamenki/logger';\nimport omit from 'lodash.omit';\nimport crypto from 'crypto';\nimport { Forbidden403, NotFound404 } from '../common/error';\nimport * as notifier from '../common/notifier';\nimport { PLATFORMS } from '../common/in-app-purchases/constants';\nimport Receipt from '../models/iap-receipt';\nimport DeprecatedReceipt from '../models/receipt';\nimport WebhookPayload from '../models/iap-webhook-payload';\nimport User from '../models/user';\nimport * as ios from '../common/in-app-purchases/handlers/ios';\nimport * as analytics from '../common/in-app-purchases/analytics';\nimport { processSubscription } from '../common/in-app-purchases/handlers/helpers';\nimport { UPSELL_SOURCE } from '../api/v2/purchases/helpers/constants';\n\nasync function getUserAssociatedWithTransaction({\n  productId,\n  transactionId,\n  environment,\n}) {\n  const [initialReceipt] = await Receipt.find({\n    'platformData.ios.environment': environment,\n    transactionId,\n  })\n    .sort('createdAt')\n    .limit(1)\n    .lean();\n  if (initialReceipt) {\n    const user = await User.findOne({ _id: initialReceipt.userId }).lean();\n    return { user, foundInDeprecatedReceipts: false };\n  }\n\n  const [deprecatedInitialReceipt] = await DeprecatedReceipt.find({\n    transactionId,\n    productId,\n  })\n    .sort('purchaseDate')\n    .limit(1)\n    .lean();\n  if (deprecatedInitialReceipt) {\n    const user = await User.findOne({\n      _id: deprecatedInitialReceipt.userId,\n    }).lean();\n    return {\n      user,\n      foundInDeprecatedReceipts: true,\n    };\n  }\n\n  return { user: null, foundInDeprecatedReceipts: false };\n}`;\n\nconst initialState = EditorState.create({\n  doc: initialCode,\n  extensions: [\n    // basicSetup,\n    // javascript(),\n    lineNumbers(),\n    highlightSpecialChars(),\n    bracketMatching(),\n    autocompletion(),\n    closeBrackets(),\n    EditorView.lineWrapping,\n    // python(),\n    javascript(),\n    theme,\n    highlighting,\n  ],\n});\n\nconst view = new EditorView({\n  parent: document.getElementById(\"editor\"),\n  state: initialState,\n});\n\nwindow.view = view;\n"},"lineCount":null}},"error":null,"hash":"249c1fe4181a1a3b0167fa90ac56e0a1","cacheData":{"env":{}}}