{"id":"index.js","dependencies":[{"name":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/package.json","includedInParent":true,"mtime":1635965767517},{"name":"@codemirror/basic-setup","loc":{"line":1,"column":52},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/basic-setup/dist/index.js"},{"name":"@codemirror/lang-javascript","loc":{"line":2,"column":27},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/lang-javascript/dist/index.js"},{"name":"@codemirror/lang-python","loc":{"line":3,"column":23},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/lang-python/dist/index.js"},{"name":"@codemirror/gutter","loc":{"line":4,"column":56},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/gutter/dist/index.js"},{"name":"./theme","loc":{"line":5,"column":36},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/theme.js"},{"name":"@codemirror/autocomplete","loc":{"line":6,"column":31},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/autocomplete/dist/index.js"},{"name":"@codemirror/closebrackets","loc":{"line":7,"column":30},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/closebrackets/dist/index.js"},{"name":"@codemirror/view","loc":{"line":8,"column":38},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/view/dist/index.js"},{"name":"@codemirror/matchbrackets","loc":{"line":9,"column":32},"parent":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/editor/index.js","resolved":"/Users/loopiezlol/work/projects/rn-prototype-monaco-code-editor/node_modules/@codemirror/matchbrackets/dist/index.js"}],"generated":{"js":"\"use strict\";\n\nvar _basicSetup = require(\"@codemirror/basic-setup\");\n\nvar _langJavascript = require(\"@codemirror/lang-javascript\");\n\nvar _langPython = require(\"@codemirror/lang-python\");\n\nvar _gutter = require(\"@codemirror/gutter\");\n\nvar _theme = require(\"./theme\");\n\nvar _autocomplete = require(\"@codemirror/autocomplete\");\n\nvar _closebrackets = require(\"@codemirror/closebrackets\");\n\nvar _view = require(\"@codemirror/view\");\n\nvar _matchbrackets = require(\"@codemirror/matchbrackets\");\n\nvar initialCode = \"import logger from '@teamenki/logger';\\nimport omit from 'lodash.omit';\\nimport crypto from 'crypto';\\nimport { Forbidden403, NotFound404 } from '../common/error';\\nimport * as notifier from '../common/notifier';\\nimport { PLATFORMS } from '../common/in-app-purchases/constants';\\nimport Receipt from '../models/iap-receipt';\\nimport DeprecatedReceipt from '../models/receipt';\\nimport WebhookPayload from '../models/iap-webhook-payload';\\nimport User from '../models/user';\\nimport * as ios from '../common/in-app-purchases/handlers/ios';\\nimport * as analytics from '../common/in-app-purchases/analytics';\\nimport { processSubscription } from '../common/in-app-purchases/handlers/helpers';\\nimport { UPSELL_SOURCE } from '../api/v2/purchases/helpers/constants';\\n\\nasync function getUserAssociatedWithTransaction({\\n  productId,\\n  transactionId,\\n  environment,\\n}) {\\n  const [initialReceipt] = await Receipt.find({\\n    'platformData.ios.environment': environment,\\n    transactionId,\\n  })\\n    .sort('createdAt')\\n    .limit(1)\\n    .lean();\\n  if (initialReceipt) {\\n    const user = await User.findOne({ _id: initialReceipt.userId }).lean();\\n    return { user, foundInDeprecatedReceipts: false };\\n  }\\n\\n  const [deprecatedInitialReceipt] = await DeprecatedReceipt.find({\\n    transactionId,\\n    productId,\\n  })\\n    .sort('purchaseDate')\\n    .limit(1)\\n    .lean();\\n  if (deprecatedInitialReceipt) {\\n    const user = await User.findOne({\\n      _id: deprecatedInitialReceipt.userId,\\n    }).lean();\\n    return {\\n      user,\\n      foundInDeprecatedReceipts: true,\\n    };\\n  }\\n\\n  return { user: null, foundInDeprecatedReceipts: false };\\n}\";\n\nvar initialState = _basicSetup.EditorState.create({\n  doc: initialCode,\n  extensions: [// basicSetup,\n  // javascript(),\n  (0, _gutter.lineNumbers)(), (0, _view.highlightSpecialChars)(), (0, _matchbrackets.bracketMatching)(), (0, _autocomplete.autocompletion)(), (0, _closebrackets.closeBrackets)(), _basicSetup.EditorView.lineWrapping, // python(),\n  (0, _langJavascript.javascript)(), _theme.theme, _theme.highlighting]\n});\n\nvar view = new _basicSetup.EditorView({\n  parent: document.getElementById(\"editor\"),\n  state: initialState\n});\nwindow.view = view;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":3,"column":0},"source":"index.js","original":{"line":1,"column":0}},{"generated":{"line":5,"column":0},"source":"index.js","original":{"line":2,"column":0}},{"generated":{"line":7,"column":0},"source":"index.js","original":{"line":3,"column":0}},{"generated":{"line":9,"column":0},"source":"index.js","original":{"line":4,"column":0}},{"generated":{"line":11,"column":0},"source":"index.js","original":{"line":5,"column":0}},{"generated":{"line":13,"column":0},"source":"index.js","original":{"line":6,"column":0}},{"generated":{"line":15,"column":0},"source":"index.js","original":{"line":7,"column":0}},{"generated":{"line":17,"column":0},"source":"index.js","original":{"line":8,"column":0}},{"generated":{"line":19,"column":0},"source":"index.js","original":{"line":9,"column":0}},{"generated":{"line":21,"column":0},"source":"index.js","original":{"line":11,"column":0}},{"name":"initialCode","generated":{"line":21,"column":4},"source":"index.js","original":{"line":11,"column":6}},{"generated":{"line":21,"column":15},"source":"index.js","original":{"line":11,"column":17}},{"generated":{"line":21,"column":1680},"source":"index.js","original":{"line":11,"column":0}},{"generated":{"line":23,"column":0},"source":"index.js","original":{"line":63,"column":0}},{"name":"initialState","generated":{"line":23,"column":4},"source":"index.js","original":{"line":63,"column":6}},{"generated":{"line":23,"column":16},"source":"index.js","original":{"line":63,"column":18}},{"name":"EditorState","generated":{"line":23,"column":19},"source":"index.js","original":{"line":63,"column":21}},{"name":"create","generated":{"line":23,"column":43},"source":"index.js","original":{"line":63,"column":33}},{"generated":{"line":23,"column":49},"source":"index.js","original":{"line":63,"column":21}},{"generated":{"line":23,"column":50},"source":"index.js","original":{"line":63,"column":40}},{"name":"doc","generated":{"line":24,"column":0},"source":"index.js","original":{"line":64,"column":2}},{"name":"doc","generated":{"line":24,"column":2},"source":"index.js","original":{"line":64,"column":2}},{"generated":{"line":24,"column":5},"source":"index.js","original":{"line":64,"column":5}},{"name":"initialCode","generated":{"line":24,"column":7},"source":"index.js","original":{"line":64,"column":7}},{"generated":{"line":24,"column":18},"source":"index.js","original":{"line":63,"column":40}},{"name":"extensions","generated":{"line":25,"column":0},"source":"index.js","original":{"line":65,"column":2}},{"name":"extensions","generated":{"line":25,"column":2},"source":"index.js","original":{"line":65,"column":2}},{"generated":{"line":25,"column":12},"source":"index.js","original":{"line":65,"column":12}},{"generated":{"line":25,"column":14},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":25,"column":15},"source":"index.js","original":{"line":66,"column":4}},{"generated":{"line":26,"column":0},"source":"index.js","original":{"line":67,"column":4}},{"generated":{"line":27,"column":0},"source":"index.js","original":{"line":68,"column":4}},{"generated":{"line":27,"column":28},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":27,"column":30},"source":"index.js","original":{"line":69,"column":4}},{"generated":{"line":27,"column":64},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":27,"column":66},"source":"index.js","original":{"line":70,"column":4}},{"generated":{"line":27,"column":103},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":27,"column":105},"source":"index.js","original":{"line":71,"column":4}},{"generated":{"line":27,"column":140},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":27,"column":142},"source":"index.js","original":{"line":72,"column":4}},{"generated":{"line":27,"column":177},"source":"index.js","original":{"line":65,"column":14}},{"name":"EditorView","generated":{"line":27,"column":179},"source":"index.js","original":{"line":73,"column":4}},{"name":"lineWrapping","generated":{"line":27,"column":202},"source":"index.js","original":{"line":73,"column":15}},{"generated":{"line":27,"column":214},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":27,"column":216},"source":"index.js","original":{"line":74,"column":4}},{"generated":{"line":28,"column":0},"source":"index.js","original":{"line":75,"column":4}},{"generated":{"line":28,"column":35},"source":"index.js","original":{"line":65,"column":14}},{"name":"theme","generated":{"line":28,"column":37},"source":"index.js","original":{"line":76,"column":4}},{"generated":{"line":28,"column":49},"source":"index.js","original":{"line":65,"column":14}},{"name":"highlighting","generated":{"line":28,"column":51},"source":"index.js","original":{"line":77,"column":4}},{"generated":{"line":28,"column":70},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":29,"column":0},"source":"index.js","original":{"line":63,"column":40}},{"generated":{"line":29,"column":1},"source":"index.js","original":{"line":63,"column":21}},{"generated":{"line":29,"column":2},"source":"index.js","original":{"line":63,"column":0}},{"generated":{"line":31,"column":0},"source":"index.js","original":{"line":81,"column":0}},{"name":"view","generated":{"line":31,"column":4},"source":"index.js","original":{"line":81,"column":6}},{"generated":{"line":31,"column":8},"source":"index.js","original":{"line":81,"column":10}},{"generated":{"line":31,"column":11},"source":"index.js","original":{"line":81,"column":13}},{"name":"EditorView","generated":{"line":31,"column":15},"source":"index.js","original":{"line":81,"column":17}},{"generated":{"line":31,"column":37},"source":"index.js","original":{"line":81,"column":13}},{"generated":{"line":31,"column":38},"source":"index.js","original":{"line":81,"column":28}},{"name":"parent","generated":{"line":32,"column":0},"source":"index.js","original":{"line":82,"column":2}},{"name":"parent","generated":{"line":32,"column":2},"source":"index.js","original":{"line":82,"column":2}},{"generated":{"line":32,"column":8},"source":"index.js","original":{"line":82,"column":8}},{"name":"document","generated":{"line":32,"column":10},"source":"index.js","original":{"line":82,"column":10}},{"generated":{"line":32,"column":18},"source":"index.js","original":{"line":82,"column":18}},{"name":"getElementById","generated":{"line":32,"column":19},"source":"index.js","original":{"line":82,"column":19}},{"generated":{"line":32,"column":33},"source":"index.js","original":{"line":82,"column":10}},{"generated":{"line":32,"column":34},"source":"index.js","original":{"line":82,"column":34}},{"generated":{"line":32,"column":42},"source":"index.js","original":{"line":82,"column":10}},{"generated":{"line":32,"column":43},"source":"index.js","original":{"line":81,"column":28}},{"name":"state","generated":{"line":33,"column":0},"source":"index.js","original":{"line":83,"column":2}},{"name":"state","generated":{"line":33,"column":2},"source":"index.js","original":{"line":83,"column":2}},{"generated":{"line":33,"column":7},"source":"index.js","original":{"line":83,"column":7}},{"name":"initialState","generated":{"line":33,"column":9},"source":"index.js","original":{"line":83,"column":9}},{"generated":{"line":34,"column":0},"source":"index.js","original":{"line":81,"column":28}},{"generated":{"line":34,"column":1},"source":"index.js","original":{"line":81,"column":13}},{"generated":{"line":34,"column":2},"source":"index.js","original":{"line":81,"column":0}},{"name":"window","generated":{"line":35,"column":0},"source":"index.js","original":{"line":86,"column":0}},{"generated":{"line":35,"column":6},"source":"index.js","original":{"line":86,"column":6}},{"name":"view","generated":{"line":35,"column":7},"source":"index.js","original":{"line":86,"column":7}},{"generated":{"line":35,"column":11},"source":"index.js","original":{"line":86,"column":0}},{"name":"view","generated":{"line":35,"column":14},"source":"index.js","original":{"line":86,"column":14}},{"generated":{"line":35,"column":18},"source":"index.js","original":{"line":86,"column":0}}],"sources":{"index.js":"import { basicSetup, EditorState, EditorView } from \"@codemirror/basic-setup\";\nimport { javascript } from \"@codemirror/lang-javascript\";\nimport { python } from \"@codemirror/lang-python\";\nimport { lineNumbers, highlightActiveLineGutterr } from \"@codemirror/gutter\";\nimport { theme, highlighting } from \"./theme\";\nimport { autocompletion } from \"@codemirror/autocomplete\";\nimport { closeBrackets } from \"@codemirror/closebrackets\";\nimport { highlightSpecialChars } from \"@codemirror/view\";\nimport { bracketMatching } from \"@codemirror/matchbrackets\";\n\nconst initialCode = `import logger from '@teamenki/logger';\nimport omit from 'lodash.omit';\nimport crypto from 'crypto';\nimport { Forbidden403, NotFound404 } from '../common/error';\nimport * as notifier from '../common/notifier';\nimport { PLATFORMS } from '../common/in-app-purchases/constants';\nimport Receipt from '../models/iap-receipt';\nimport DeprecatedReceipt from '../models/receipt';\nimport WebhookPayload from '../models/iap-webhook-payload';\nimport User from '../models/user';\nimport * as ios from '../common/in-app-purchases/handlers/ios';\nimport * as analytics from '../common/in-app-purchases/analytics';\nimport { processSubscription } from '../common/in-app-purchases/handlers/helpers';\nimport { UPSELL_SOURCE } from '../api/v2/purchases/helpers/constants';\n\nasync function getUserAssociatedWithTransaction({\n  productId,\n  transactionId,\n  environment,\n}) {\n  const [initialReceipt] = await Receipt.find({\n    'platformData.ios.environment': environment,\n    transactionId,\n  })\n    .sort('createdAt')\n    .limit(1)\n    .lean();\n  if (initialReceipt) {\n    const user = await User.findOne({ _id: initialReceipt.userId }).lean();\n    return { user, foundInDeprecatedReceipts: false };\n  }\n\n  const [deprecatedInitialReceipt] = await DeprecatedReceipt.find({\n    transactionId,\n    productId,\n  })\n    .sort('purchaseDate')\n    .limit(1)\n    .lean();\n  if (deprecatedInitialReceipt) {\n    const user = await User.findOne({\n      _id: deprecatedInitialReceipt.userId,\n    }).lean();\n    return {\n      user,\n      foundInDeprecatedReceipts: true,\n    };\n  }\n\n  return { user: null, foundInDeprecatedReceipts: false };\n}`;\n\nconst initialState = EditorState.create({\n  doc: initialCode,\n  extensions: [\n    // basicSetup,\n    // javascript(),\n    lineNumbers(),\n    highlightSpecialChars(),\n    bracketMatching(),\n    autocompletion(),\n    closeBrackets(),\n    EditorView.lineWrapping,\n    // python(),\n    javascript(),\n    theme,\n    highlighting,\n  ],\n});\n\nconst view = new EditorView({\n  parent: document.getElementById(\"editor\"),\n  state: initialState,\n});\n\nwindow.view = view;\n"},"lineCount":null}},"error":null,"hash":"0c40c8b7c5b8de30094fec74e0f82292","cacheData":{"env":{}}}