{"version":3,"sources":["../node_modules/@lezer/common/dist/index.js","../node_modules/process/browser.js","../node_modules/@lezer/lr/dist/index.js","../node_modules/@lezer/javascript/dist/index.es.js","../node_modules/@codemirror/text/dist/index.js","../node_modules/@codemirror/state/dist/index.js","../node_modules/style-mod/src/style-mod.js","../node_modules/@codemirror/rangeset/dist/index.js","../node_modules/w3c-keyname/index.es.js","../node_modules/@codemirror/view/dist/index.js","../node_modules/@codemirror/language/dist/index.js","../node_modules/@codemirror/highlight/dist/index.js","../node_modules/@codemirror/tooltip/dist/index.js","../node_modules/@codemirror/autocomplete/dist/index.js","../node_modules/@codemirror/lang-javascript/dist/index.js","../node_modules/@lezer/python/dist/index.es.js","../node_modules/@codemirror/lang-python/dist/index.js","../node_modules/@codemirror/gutter/dist/index.js","../node_modules/@codemirror/history/dist/index.js","../node_modules/@codemirror/fold/dist/index.js","../node_modules/@codemirror/matchbrackets/dist/index.js","../node_modules/@codemirror/commands/dist/index.js","../node_modules/@codemirror/closebrackets/dist/index.js","../node_modules/@codemirror/panel/dist/index.js","../node_modules/crelt/index.es.js","../node_modules/@codemirror/search/dist/index.js","../node_modules/@codemirror/comment/dist/index.js","../node_modules/@codemirror/rectangular-selection/dist/index.js","../node_modules/@codemirror/lint/dist/index.js","../node_modules/@codemirror/basic-setup/dist/index.js","theme.js","editor.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["DefaultBufferLength","nextPropID","Range","constructor","from","to","NodeProp","config","id","perNode","deserialize","Error","add","match","RangeError","NodeType","type","result","undefined","closedBy","str","split","openedBy","group","contextHash","lookAhead","mounted","MountedTree","tree","overlay","parser","noProps","Object","create","name","props","flags","define","spec","length","top","skipped","error","src","Array","isArray","prop","isTop","isSkipped","isError","isAnonymous","is","indexOf","map","direct","node","groups","i","found","none","NodeSet","types","extend","newTypes","newProps","source","assign","push","CachedNode","WeakMap","Tree","children","positions","value","toString","ch","test","JSON","stringify","cursor","pos","side","scope","get","topNode","TreeCursor","moveTo","set","_tree","fullCursor","TreeNode","resolve","resolveInner","inner","enter","iterate","leave","c","mustLeave","firstChild","nextSibling","parent","propValues","balance","balanceRange","makeTree","build","data","buildTree","empty","FlatBufferCursor","buffer","index","start","end","size","next","fork","TreeBuffer","childString","join","endIndex","findChild","startIndex","dir","pick","checkSide","slice","startI","endI","b","copy","Uint16Array","j","enterUnfinishedNodesBefore","scan","childBefore","last","lastChild","prevSibling","_from","_parent","nextChild","mode","e","BufferNode","BufferContext","hasChild","childAfter","overlays","buffers","rPos","nextSignificantParent","val","toTree","getChild","before","after","r","getChildren","cur","context","child","externalSibling","parentStart","stack","bufferNode","yieldNode","n","unshift","yieldBuf","yield","enterChild","pop","sibling","d","atLastNode","move","prev","cache","depth","some","_a","nodeSet","maxBufferLength","reused","minRepeatType","takeNode","minPos","inRepeat","lookAheadAtStart","startPos","findBufferSize","skip","endPos","copyToBuffer","localChildren","localPositions","localInRepeat","lastGroup","lastEnd","makeRepeatLeaf","reverse","make","makeBalanced","lastI","lookAheadProp","base","pair","concat","maxSize","minStart","nodeSize","localSkipped","nodeStart","bufferStart","topID","nodeSizeCache","balanceType","reduce","s","mkTop","mkTree","total","maxChild","Math","ceil","divide","offset","groupFrom","groupStart","groupSize","nextSize","only","TreeFragment","openStart","openEnd","open","addTree","fragments","partial","f","applyChanges","changes","minGap","fI","nextF","cI","off","nextC","nextPos","fromA","cut","fFrom","max","fTo","min","toA","toB","Parser","startParse","input","ranges","StringInput","createParse","parse","done","advance","string","chunk","lineChunks","read","parseMixed","nest","MixedParse","InnerParse","target","ActiveOverlay","predicate","mounts","innerDone","baseTree","stoppedAt","baseParse","startInner","parsedPos","stopAt","fragmentCursor","FragmentCursor","covered","isCovered","range","hasNode","find","m","frag","mount","checkCover","materialize","oldMounts","findMounts","punchRanges","enterFragments","splice","sliceBuf","buf","nodes","innerOffset","isTarget","StructureCursor","root","p","fragI","first","curFrag","nextFrag","outer","current","gapFrom","gapTo","findCoverChanges","a","iA","iB","inA","inB","nextA","nextB","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","arguments","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","Stack","state","reducePos","score","bufferBase","curContext","filter","_","cx","StackContext","pushState","action","dPrec","dynamicPrecedence","minRepeatTerm","storeNode","getGoto","reduceContext","count","stateFlag","baseStateID","term","isReduce","shift","nextEnd","nextState","maxNode","shiftContext","useNode","updateContext","tracker","reuse","stream","reset","recoverByDelete","isNode","canShift","sim","SimulatedStack","stateSlot","hasAction","recoverByInsert","nextStates","best","v","forceReduce","validAction","forceAll","deadEnd","restart","sameState","other","dialectEnabled","dialectID","dialect","emitContext","hash","emitLookAhead","newCx","setLookAhead","close","strict","Recover","goto","StackBufferCursor","maybeNext","CachedToken","extended","mask","nullToken","InputStream","chunkOff","chunk2","chunk2Pos","token","rangeIndex","chunkPos","readNext","resolveOffset","assoc","peek","idx","charCodeAt","resolved","acceptToken","endOffset","getChunk","nextChunk","setDone","TokenGroup","readToken","contextual","fallback","ExternalTokenizer","options","groupMask","accEnd","allows","overrides","low","high","mid","decodeArray","Type","out","stop","digit","verbose","stackIDs","Safety","cutAt","fragment","safeFrom","safeTo","trees","nextFragment","fr","nextStart","nodeAt","TokenCache","tokens","mainToken","actions","tokenizers","getActions","actionIndex","main","tokenizer","updateCachedToken","addActions","eofTerm","getMainToken","specialized","specializers","putAction","Rec","Parse","recovering","nextStackID","minStackPos","topTerm","stacks","bufferLength","newStacks","stopped","stoppedTokens","advanceStack","tok","finished","findFinished","stackToTree","console","log","getName","SyntaxError","runRecovery","maxRemaining","sort","stackID","strictCx","cxHash","cached","defaultReduce","localStack","advanceFully","pushStackDedup","restarted","tokenEnd","force","forceBase","insert","String","fromCodePoint","Dialect","disabled","x","ContextTracker","LRParser","wrappers","nodeNames","repeatNodeCount","topTerms","keys","topRules","nodeProps","setProp","nodeID","propSpec","skippedNodes","tokenArray","tokenData","states","Uint32Array","stateData","maxTerm","dialects","dynamicPrecedences","tokenPrecTable","tokenPrec","termNames","parseDialect","w","loose","table","groupTag","terminal","slot","flag","iPrev","findOffset","configure","info","t","contextTracker","wrap","prec","values","part","Uint8Array","noSemi","incdec","incdecPrefix","templateContent","templateDollarBrace","templateEnd","insertSemi","TSExtends","spaces","newline","LineComment","BlockComment","Dialect_ts","space","braceR","braceL","semicolon","slash","star","plus","minus","dollar","backtick","backslash","trackNewline","insertSemicolon","noSemicolon","incdecToken","mayPostfix","template","afterDollar","tsExtends","spec_identifier","__proto__","export","as","default","async","function","this","true","false","void","typeof","null","super","new","await","delete","class","extends","public","private","protected","readonly","in","instanceof","const","import","keyof","unique","infer","abstract","implements","let","var","interface","enum","namespace","declare","global","for","of","while","with","do","if","else","switch","case","try","catch","finally","return","throw","break","continue","debugger","spec_word","static","spec_LessThan","jsx","ts","parseInt","isExtendingChar","code","isRegionalIndicator","ZWJ","findClusterBreak","forward","nextClusterBreak","prevClusterBreak","surrogateLow","surrogateHigh","codePointAt","codePointSize","countBefore","code0","code1","fromCharCode","countColumn","tabSize","findColumn","col","Text","lineAt","lineInner","line","lines","replace","text","parts","decompose","TextNode","append","eq","scanIdentical","RawTextCursor","lineBreak","iter","iterRange","PartialTextCursor","iterLines","LineCursor","sliceString","toJSON","flatten","TextLeaf","textLength","isLine","Line","sliceText","joined","appendText","newLen","lineSep","endLine","childOpen","updated","totalLines","eA","eB","chA","chB","l","flat","maxChunk","minChunk","chunked","currentLines","currentLen","currentChunk","flush","offsets","nextInner","offsetValue","limit","afterBreak","Symbol","iterator","number","DefaultSplit","MapMode","ChangeDesc","sections","newLength","ins","iterGaps","posA","posB","iterChangedRanges","individual","iterChanges","invertedDesc","composeDesc","composeSets","mapDesc","mapSet","mapPos","Simple","endA","TrackDel","TrackBefore","TrackAfter","touchesRange","fromJSON","json","ChangeSet","inserted","doc","fromB","_toB","invert","compose","desc","resultSections","resultInserted","filteredSections","SectionIter","addSection","addInsert","filtered","sub","insText","insLen","forceJoin","endB","setA","setB","mkSet","len2","sectionLen","insB","textBit","forward2","SelectionRange","anchor","head","bidiLevel","level","goalColumn","change","EditorSelection","abs","mainIndex","asSingle","addRange","replaceRange","which","single","normalized","goal","checkSelection","selection","docLength","nextID","Facet","combine","compareInput","compare","isStatic","extensions","sameArray","enables","FacetProvider","compute","deps","computeN","field","every","dependencies","facet","dynamicSlot","addresses","getter","multi","depDoc","depSel","depAddrs","dep","tr","reconfigured","depChanged","docChanged","addr","ensureAddr","newVal","oldVal","startState","compareArray","dynamicFacetSlot","providers","providerAddrs","providerTypes","dynamic","oldAddr","address","changed","dynAddr","getAddr","maybeIndex","initField","StateField","createF","updateF","compareF","provides","update","provide","init","extension","Prec_","override","ext","PrecExtension","Prec","Compartment","CompartmentInstance","reconfigure","content","compartment","compartments","Configuration","dynamicSlots","staticValues","statusTemplate","staticFacet","oldState","fields","facets","newCompartments","Map","seen","known","has","status","applying","languageData","allowMultipleSelections","lineSeparator","changeFilter","transactionFilter","transactionExtender","readOnly","Annotation","AnnotationType","StateEffectType","StateEffect","mapping","mapped","mapEffects","effects","effect","appendConfig","Transaction","annotations","scrollIntoView","_doc","_state","time","Date","now","newDoc","newSelection","applyTransaction","annotation","ann","isUserEvent","event","userEvent","addToHistory","remote","joinRanges","mergeTransaction","sequential","mapForA","mapForB","resolveTransactionInner","docSize","sel","asArray","resolveTransaction","specs","seq","extendTransaction","filterTransaction","back","filters","extenders","CharCategory","nonASCIISingleCaseWordChar","wordChar","RegExp","hasWordChar","toUpperCase","toLowerCase","makeCategorizer","wordChars","char","Space","Word","Other","EditorState","require","conf","forEach","key","replaceSelection","toText","changeByRange","result1","newChanges","newMapped","mapBy","sliceDoc","fieldInit","configuration","phrase","phrases","hasOwnProperty","languageDataAt","provider","charCategorizer","at","wordAt","cat","combineConfig","configs","defaults","C","COUNT","SET","floor","random","globalThis","window","StyleModule","rules","finish","splitSelector","selector","render","selectors","isKeyframes","local","isAt","exec","keyframes","getRules","newName","modules","StyleSet","adoptedSet","adoptedStyleSheets","CSSStyleSheet","sheet","styleTag","ownerDocument","createElement","insertBefore","mod","k","insertRule","textContent","RangeValue","startSide","endSide","point","mapMode","cmpRange","Chunk","maxPoint","findIndex","startAt","arr","lo","hi","diff","between","newPos","curFrom","curTo","newFrom","newTo","RangeSet","nextLayer","chunkEnd","isEmpty","updateSpec","filterFrom","filterTo","LayerCursor","spill","builder","RangeSetBuilder","addInner","chunkIndex","addChunk","finishInner","chunks","touch","HeapCursor","sets","oldSets","newSets","textDiff","comparator","minPointSize","sharedChunks","findSharedChunks","sideA","SpanCursor","sideB","sameValues","active","spans","activeForPoint","span","lazySort","chunkStart","lastFrom","lastTo","setMaxPoint","finishChunk","newArrays","shared","Set","layer","minPoint","rank","gotoInner","setRangeIndex","heap","heapBubble","childIndex","activeTo","activeRank","minActive","pointFrom","pointRank","removeActive","remove","findMinIndex","addActive","trackOpen","wasPoint","trackExtra","nextVal","startA","startB","dPos","clipEnd","comparePoint","compareRange","foundPos","chrome","navigator","userAgent","safari","vendor","gecko","mac","platform","ie","brokenModifierNames","keyName","ignoreKey","ctrlKey","altKey","metaKey","shiftKey","keyCode","getSelection","nodeType","contains","dom","parentNode","deepActiveElement","elt","document","activeElement","shadowRoot","hasSelection","anchorNode","clientRectsFor","textRange","nodeValue","getClientRects","isEquivalentPosition","targetNode","targetOff","scanFor","domIndex","previousSibling","maxOffset","nodeName","childNodes","contentEditable","Rect0","left","right","bottom","flattenRect","rect","windowRect","win","innerWidth","innerHeight","ScrollSpace","scrollRectIntoView","center","defaultView","bounding","body","scrollHeight","clientHeight","scrollWidth","clientWidth","getBoundingClientRect","moveX","moveY","rectHeight","boundingHeight","targetTop","scrollBy","scrollTop","scrollLeft","assignedSlot","host","DOMSelection","anchorOffset","focusNode","focusOffset","domSel","preventScrollSupported","focusPreventScroll","setActive","focus","preventScroll","scratchRange","createRange","setEnd","setStart","dispatchKey","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","_plainTextSupported","contentEditablePlainTextSupported","dummy","getRoot","DOMPos","precise","none$3","ContentView","dirty","editorView","overrideDOMText","posAtStart","posBefore","posAtEnd","view","breakAfter","posAfter","coordsAt","_pos","_side","sync","track","reuseDOM","written","syncNodeInto","rm","_dom","localPosFromDOM","bias","domBoundsAround","fromI","fromStart","toI","toEnd","prevEnd","startDOM","endDOM","markDirty","andParent","markParentsDirty","childList","setParent","setDOM","cmView","rootView","replaceChildren","ignoreMutation","_rec","ignoreEvent","_event","childCursor","ChildCursor","childPos","findPos","isEditable","removeChild","nav","documentElement","style","ie_edge","ie_upto10","ie_11up","webkit","ios","maxTouchPoints","browser","windows","linux","ie_version","documentMode","gecko_version","chrome_version","android","webkit_version","none$2","InlineView","become","_other","getSide","MaxJoinLen","TextView","createDOM","textDOM","createTextNode","merge","domAtPos","_to","textCoords","MarkView","mark","tagName","className","attrs","setAttribute","mergeInlineChildren","detachFrom","inlineDOMAtPos","coordsInChildren","rects","width","WidgetView","widget","customView","updateDOM","toDOM","CompositionView","WidgetBufferView","elts","toOff","fromOff","dLen","joinInlineInto","combineAttrs","attrsEq","keysA","keysB","updateAttrs","removeAttribute","WidgetType","_widget","estimatedHeight","BlockType","Decoration","heightRelevant","MarkDecoration","block","PointDecoration","getInclusive","LineDecoration","hasHeight","attributes","isReplace","WidgetRange","WidgetBefore","WidgetAfter","widgetsEq","inclusiveStart","inclusiveEnd","inclusive","margin","LineView","prevAttrs","takeDeco","transferDOM","setDeco","none$1","addLineDeco","deco","cls","classList","hack","cmIgnore","appendChild","measureTextSize","totalWidth","lineHeight","height","charWidth","docView","BlockWidgetView","_takeDeco","Text$1","ContentBuilder","curLine","breakAtStart","pendingBuffer","atCursorPos","textOff","posCovered","getLine","flushBuffer","wrapMarks","addBlockWidget","buildText","take","NullWidget","cursorBefore","cursorAfter","decorations","tag","clickAddsSelectionRange","dragMovesSelection$1","mouseSelectionStyle","exceptionSink","updateListener","inputHandler","scrollTo","centerOn","logException","exception","handler","onerror","editable","PluginFieldProvider","PluginField","atomicRanges","scrollMargins","nextPluginID","viewPlugin","ViewPlugin","eventHandlers","domEventHandlers","plugin","handlers","fromClass","PluginInstance","mustUpdate","takeField","destroy","editorAttributes","contentAttributes","styleModule","ChangedRange","addToSet","me","extendWithRanges","dI","rI","ViewUpdate","transactions","changedRanges","hasFocus","inputState","notifiedFocused","viewportChanged","heightChanged","geometryChanged","focusChanged","selectionSet","DocView","compositionDeco","minWidth","minWidthFrom","minWidthTo","impreciseAnchor","impreciseHead","contentDOM","updateInner","updateDeco","composing","computeCompositionDeco","forceSelection","prevDeco","decoDiff","findChangedDeco","pointerSel","viewport","updateSelection","observer","ignore","oldLength","updateChildren","viewState","domHeight","selectionRange","gaps","BlockGapWidget","updateGaps","breakAtEnd","fromPointer","mayControlSelection","rapidCompositionStart","betweenUneditable","inUneditable","blur","rawSel","nextTo","nextToUneditable","nearbyTextNode","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","enforceCursorAssoc","modify","lineStart","nearest","domView","posFromDOM","measureVisibleLineHeights","scrollDOM","measure","computeBlockGapDeco","vs","viewports","pluginField","lineGapDeco","mLeft","mRight","mTop","mBottom","margins","textNode","cView","CompositionWidget","DecorationComparator$1","comp","inside","Direction","LTR","RTL","dec","LowTypes","ArabicTypes","Brackets","BracketStack","charType","BidiRE","BidiSpan","order","maybe","computeOrder","direction","outerType","oppositeType","trivialOrder","prevStrong","sI","br","sJ","embed","beforeL","afterL","rtl","movedOver","moveVisually","spanI","indexForward","nextIndex","nextSpan","groupAt","categorize","linePos","getdx","getdy","y","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestX","closestY","above","below","aboveRect","belowRect","dx","dy","domPosInText","clipX","closestOffset","closestDY","generalSide","rectBefore","posAtCoords","halfLine","defaultLineHeight","bounced","blockAtHeight","posAtCoordsImprecise","element","elementFromPoint","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","isSuspiciousCaretResult","contentRect","into","round","defaultCharacterWidth","lineWrapping","heightOracle","lineLength","moveToLineBoundary","includeWrap","coords","coordsAtPos","editorRect","textDirection","lineView","moveByChar","by","bidiSpans","check","byGroup","nextCat","moveVertically","distance","startY","startCoords","resolvedGoal","dist","extra","curY","skipAtoms","oldPos","atoms","moved","InputState","lastKeyCode","lastKeyTime","pendingKey","lastSelectionOrigin","lastSelectionTime","lastEscPress","lastContextMenu","scrollHandlers","registeredEvents","customHandlers","compositionFirstChange","compositionEndedAt","mouseSelection","addEventListener","keydown","eventBelongsToEditor","ignoreDuringComposition","mustFlushObserver","forceFlush","runCustomHandlers","preventDefault","ensureHandlers","setSelectionOrigin","origin","handled","flushSoon","runScrollHandlers","scroll","screenKeyEvent","pending","PendingKeys","setPendingKey","requestAnimationFrame","processRecords","protectedTab","modifierCodes","startMouseSelection","MouseSelection","inputType","startEvent","lastEvent","bind","multiple","addsSelectionRange","dragMove","dragMovesSelection","dragging","isInPrimarySelection","select","buttons","removeEventListener","dispatch","rangeCount","getRangeAt","clientX","clientY","bubbles","brokenClipboardAPI","capturePaste","cssText","doPaste","byLine","linewise","lastLinewiseCopy","lastLine","lastTouch","touchstart","touchmove","mousedown","makeStyle","button","basicMouseSelection","rangeForClick","visual","insideY","findPositionSide","queryPos","BadMouseDetail","lastMouseDown","lastMouseDownCount","lastMouseDownTime","getClickType","detail","lastTime","startSel","startRange","dragstart","dataTransfer","setData","effectAllowed","dropText","dropPos","del","drop","files","finishFile","reader","FileReader","onload","readAsText","getData","paste","clipboardData","captureCopy","selectionEnd","selectionStart","copiedRange","upto","clearData","beforeprint","printing","requestMeasure","forceClearComposition","rapid","compositionstart","compositionupdate","compositionend","contextmenu","beforeinput","startViewHeight","visualViewport","wrappingWhiteSpace","HeightOracle","heightSamples","heightForGap","heightForLine","setDoc","mustRefresh","lineHeights","whiteSpace","newHeight","h","refresh","knownHeights","MeasuredHeights","heights","more","BlockInfo","QueryType","Epsilon","HeightMap","outdated","setHeight","oracle","decomposeLeft","decomposeRight","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","brk","HeightMapBranch","HeightMapBlock","blockAt","_height","_value","_type","forEachLine","_force","measured","collapsed","widgetHeight","HeightMapGap","firstLine","ByHeight","rightTop","rightOffset","subQuery","ByPos","rightStart","balanced","mergeGaps","rebalance","around","relevantWidgetHeight","lineEnd","covering","writtenTo","addBlock","enterLine","blankContent","gap","ensureLine","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","paddingTop","getComputedStyle","overflow","parentRect","position","offsetParent","LineGap","same","gA","gB","draw","wrapping","LineGapWidget","vertical","display","ScrollTarget","ViewState","pixelViewport","inView","paddingBottom","contentWidth","scaler","IdScaler","scrollTarget","visibleRanges","mustEnforceCursorAssoc","heightMap","getViewport","updateForViewport","lineGaps","ensureLineGaps","computeVisibleRanges","Viewport","BigScaler","newDeco","contentChanges","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLineGaps","mapLineGaps","repeated","dTop","dBottom","visibleTop","fromDOM","visibleBottom","marginTop","viewHeight","topPos","structure","lineStructure","viewFrom","viewTo","findPosition","gapSize","findFraction","ratio","editorTop","scaleBlock","lineAtHeight","scale","contentHeight","counted","vpHeight","domBase","domTop","domBottom","obj","vp","bTop","bBottom","theme","strs","darkTheme","baseThemeID","baseLightID","baseDarkID","lightDarkIDs","buildTheme","scopes","baseTheme","boxSizing","outline","flexDirection","alignItems","fontFamily","overflowX","zIndex","flexGrow","minHeight","wordWrap","padding","wordBreak","overflowWrap","caretColor","contain","background","pointerEvents","animation","visibility","borderLeft","marginLeft","borderLeftColor","backgroundColor","color","verticalAlign","fontSize","borderRadius","backgroundImage","border","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","onChange","onScrollChanged","ignoreSelection","delayedFlush","lastFlush","scrollTargets","intersection","intersecting","gapIntersection","_selectionRange","parentCheck","MutationObserver","mutations","mut","removedNodes","oldValue","onCharData","prevValue","onSelectionChange","onScroll","IntersectionObserver","entries","listenForScroll","intersectionRatio","createEvent","observe","g","disconnect","safariSelectionRangeHack","clear","clearSelection","takeRecords","records","typeOver","record","readMutation","newSel","rec","curView","stopImmediatePropagation","getTargetRanges","execCommand","endContainer","curAnchor","applyDOMChange","bounds","selPoints","selectionPoints","DOMReader","readRange","selectionFromPoints","preferredPos","preferredSide","findDiff","iHead","iAnchor","minLen","adjust","points","findPointBefore","readNode","nextView","isBlockElement","fromView","findPointIn","maxLen","DOMPoint","EditorView","plugins","editorAttrs","contentAttrs","bidiCache","destroyed","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","mountStyles","ensureGlobalHandler","redrawn","setState","CachedOrder","updatePlugins","styleModules","showAnnouncements","listener","newState","prevSpecs","newPlugins","cancelAnimationFrame","oldViewport","warn","measuring","BadMeasure","write","themeClasses","spellcheck","autocorrect","autocapitalize","translate","contenteditable","role","trs","announce","div","readMeasured","request","inst","docTop","ensureTop","visualLineAtHeight","viewportLines","visualLineAt","moveByGroup","initial","scrollPosIntoView","posAtDOM","MaxBidiLine","entry","prefix","dark","given","resizeDebounce","handleResize","querySelectorAll","lastDir","currentPlatform","normalizeKeyName","alt","ctrl","meta","modifiers","handleKeyEvents","runHandlers","getKeymap","keymap","Keymaps","bindings","buildKeymap","runScopeHandlers","storedPrefix","PrefixTimeout","bound","isPrefix","checkPrefix","command","scopeObj","commands","ourObj","full","isChar","fallthrough","runFor","cmd","baseName","CanHidePrimary","selectionConfig","cursorBlinkRate","drawRangeCursor","drawSelection","drawSelectionPlugin","hideNativeSelection","Piece","rangePieces","cursors","measureReq","readPos","drawSel","selectionLayer","cursorLayer","setBlinkRate","animationDuration","confChanged","animationName","measureRange","prim","piece","measureCursor","oldCursors","themeSpec","getBase","wrappedLine","ltr","lineStyle","leftSide","paddingLeft","rightSide","paddingRight","startBlock","endBlock","visualStart","visualEnd","pieces","drawForLine","drawForWidget","horizontal","addSpan","fromOpen","toOpen","fromCoords","toCoords","docLine","spanFrom","spanTo","primary","iterMatches","re","lastIndex","MatchDecorator","regexp","decoration","boundary","getDeco","createDeco","changeFrom","changeTo","_f","_t","updateRange","updateFrom","updateTo","fromLine","toLine","UnicodeRegexpSupport","unicode","Specials","Names","_supportsTabSize","supportsTabSize","styles","MozTabSize","specialCharConfig","specialChars","addSpecialChars","replaceTabs","highlightSpecialChars","specialCharPlugin","_plugin","decorationCache","decorator","makeDecorator","TabWidget","SpecialCharWidget","DefaultPlaceholder","placeholder$1","ph","custom","scrollPastEnd","highlightActiveLine","activeLineHighlighter","lineDeco","lastLineStart","Placeholder","placeholder","__test","languageDataProp","defineLanguageFacet","baseData","Language","extraExtensions","defineProperty","syntaxTree","language","languageDataFacetAt","isActiveAt","findRegions","lang","allowsNesting","explore","topLang","LRLanguage","ensureSyntaxTree","treeLen","work","DocInput","cursorPos","syncTo","stringStart","currentContext","ParseContext","scheduleOn","tempSkipped","isDone","takeTree","withContext","endTime","withoutTempSkipped","cutFragments","updateViewport","startLen","skipUntilInView","getSkippingParser","until","Promise","all","movedPast","frags","LanguageState","parseState","requestIdle","requestIdleCallback","callback","cancelIdle","cancelIdleCallback","parseWorker","ParseWorker","working","chunkBudget","scheduleWork","checkAsyncSchedule","deadline","vpTo","timeRemaining","then","languages","LanguageSupport","support","LanguageDescription","alias","filename","loadFunc","loading","load","err","matchFilename","descs","matchLanguageName","fuzzy","indentService","indentUnit","getIndentUnit","unit","indentString","cols","getIndentation","IndentContext","service","syntaxIndentation","simulateBreak","textAfterPos","simulateDoubleBreak","column","overrideIndentation","search","lineIndent","overriden","simulatedBreak","indentNodeProp","ast","indentFrom","ignoreClosed","indentStrategy","strategy","closed","delimitedStrategy","topIndent","TreeIndentContext","textAfter","baseIndent","atBreak","isParent","bracketedAligned","openToken","openLine","delimitedIndent","closing","align","units","closedAt","aligned","flatIndent","continuedIndent","except","matchExcept","DontIndentBeyond","indentOnInput","indent","norm","foldService","foldNodeProp","foldInside","syntaxFolding","foldable","nextTagID","Tag","modified","defineModifier","Modifier","nextModifierID","instances","mods","exists","permute","styleTags","byName","tags","rest","rule","Rule","ruleNodeProp","highlightStyle","stylings","HighlightStyle","combinedMatch","fallbackHighlightStyle","getHighlightStyle","modSpec","def","treeHighlighter","highlightTree","getStyle","putStyle","highlightTreeRange","TreeHighlighter","markCache","buildDeco","styleChange","nodeStack","HighlightBuilder","startSpan","highlightRange","inheritedClass","opaque","matchContext","st","rangeFrom","rangeTo","comment","typeName","propertyName","literal","heading","keyword","operator","punctuation","bracket","lineComment","blockComment","docComment","variableName","attributeName","labelName","macroName","docString","character","attributeValue","integer","float","bool","escape","url","self","atom","modifier","operatorKeyword","controlKeyword","definitionKeyword","derefOperator","arithmeticOperator","logicOperator","bitwiseOperator","compareOperator","updateOperator","definitionOperator","typeOperator","controlOperator","separator","angleBracket","squareBracket","paren","brace","heading1","heading2","heading3","heading4","heading5","heading6","contentSeparator","list","quote","emphasis","strong","link","monospace","strikethrough","deleted","invalid","documentMeta","processingInstruction","definition","constant","standard","special","defaultHighlightStyle","textDecoration","fontWeight","fontStyle","classHighlightStyle","Outside","TooltipViewManager","createTooltipView","tooltips","tooltipViews","shouldMeasure","tip","tooltipView","tooltipConfig","_b","tooltipPlugin","classes","createContainer","readMeasure","writeMeasure","manager","showTooltip","createTooltip","maybeMeasure","container","newConfig","tooltip","arrow","editor","others","tView","strictSide","toggle","positioned","tv","insetInlineStart","borderTop","borderRight","borderBottom","borderTopColor","borderBottomColor","showHoverTooltip","HoverTooltipHost","createHostedView","hostedView","showHoverTooltipHost","HoverPlugin","setHover","hoverTime","lastMouseMove","lastMoveTime","hoverTimeout","restartTimeout","checkHover","mouseleave","mousemove","startHover","hovered","lastMove","posCoords","bidi","isInTooltip","isOverRange","detach","hoverTooltip","hoverState","hideOnChange","CompletionContext","explicit","abortListeners","tokenBefore","matchBefore","expr","ensureAnchor","aborted","toSet","chars","words","prefixMatch","label","completeFromList","o","ifIn","ifNotIn","Option","completion","addStart","addEnd","ignoreCase","applyCompletion","option","SourceCache","asSource","FuzzyMatcher","pattern","folded","any","byWord","upper","astral","word","anyTo","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","prevType","completionConfig","activateOnTyping","maxRenderedOptions","defaultKeymap","optionClass","icons","addToOptions","joinClass","MaxInfoWidth","maxWidth_fallback","maxWidth","maxHeight","listStyle","opacity","textAlign","optionContent","icon","_s","labelElt","detailElt","createInfoDialog","rangeAroundSelected","selected","CompletionTooltip","stateField","placeInfo","measureInfo","positionInfo","cState","createListBox","updateSel","updateSelectedOption","opt","hasAttribute","querySelector","spaceLeft","spaceRight","ul","li","completionTooltip","MaxOptions","boost","sortOptions","hasResult","matcher","cmpOption","CompletionDialog","timestamp","setSelected","makeAttrs","selectedValue","completionState","CompletionState","sources","ActiveSource","sameResults","setSelectedEffect","baseAttrs","dScore","localeCompare","getUserEvent","explicitPos","handleUserEvent","handleChange","startCompletionEffect","closeCompletionEffect","setActiveEffect","ActiveResult","CompletionInteractMargin","moveCompletionSelection","step","offsetHeight","acceptCompletion","startCompletion","closeCompletion","RunningQuery","updates","DebounceTime","MaxUpdateCount","MinAbortTime","completionPlugin","debounceUpdate","running","debounceAccept","startQuery","doesReset","query","q","startUpdate","scheduleAccept","accept","FieldPos","FieldRange","Snippet","fieldPositions","instantiate","lineObj","tabs","fieldMarker","fieldRange","ActiveSnippet","selectionInsideField","moveToField","snippetState","fieldSelection","snippet","_completion","addSnippetKeymap","snippetPointerHandler","moveField","clearSnippet","nextSnippetField","prevSnippetField","defaultSnippetKeymap","snippetKeymap","maps","snippetCompletion","wordRE","escaped","mapRE","wordCaches","wordCache","storeWords","ignoreAt","collectWords","big","completeAnyWord","autocompletion","completionKeymapExt","completionKeymap","completionStatus","currentCompletions","snippets","javascriptLanguage","IfStatement","TryStatement","LabeledStatement","SwitchBody","isCase","Block","ArrowFunction","JSXElement","JSXEscape","TemplateString","Super","BooleanLiteral","Star","VariableName","VariableDefinition","Label","PropertyName","PropertyNameDefinition","UpdateOp","Number","ArithOp","LogicOp","BitOp","CompareOp","Equals","TypeName","TypeDefinition","JSXAttributeValue","JSXText","closeBrackets","brackets","commentTokens","typescriptLanguage","jsxLanguage","tsxLanguage","javascript","typescript","autocomplete","esLint","eslint","parserOptions","ecmaVersion","sourceType","es6","es2015","es2017","es2020","docs","recommended","verify","translateDiagnostic","endColumn","message","ruleId","severity","fix","printKeyword","dedent","newline$1","newlineBracketed","newlineEmpty","eof","ParenthesizedExpression","ParenL","TupleExpression","ComprehensionExpression","ArrayExpression","BracketL","ArrayComprehensionExpression","DictionaryExpression","BraceL","DictionaryComprehensionExpression","SetExpression","SetComprehensionExpression","ArgList","subscript","FormatReplacement","importList","ParamList","carriageReturn","tab","parenOpen","dot","bracketed","newlines","indentation","cDepth","IndentLevel","trackIndent","legacyPrint","or","and","not","lambda","None","True","False","pass","raise","nonlocal","assert","elif","indentBody","pythonLanguage","Body","Script","endBody","bodyIndent","Boolean","Comment","FormatString","AssignOp","Ellipsis","At","python","GutterMarker","elementClass","gutterLineClass","renderEmptyElements","elementStyle","markers","lineMarker","initialSpacer","updateSpacer","activeGutters","gutter","gutters","flexShrink","unfixGutters","gutterView","fixed","SingleGutterView","syncGutters","updateGutters","lineClasses","classSet","contexts","UpdateContext","advanceCursor","offsetWidth","collect","localMarkers","extraMarkers","forLine","elements","newElt","GutterElement","sameMarkers","spacer","prevMarkers","lineNumberMarkers","lineNumberConfig","formatNumber","NumberMarker","_view","lineNumberGutter","maxLineNumber","lineNumbers","activeLineGutterMarker","activeLineGutterHighlighter","marks","highlightActiveLineGutter","fromHistory","isolateHistory","invertedEffects","historyConfig","minDepth","newGroupDelay","historyField_","HistoryState","fromHist","item","HistEvent","fromTransaction","undone","updateBranch","addSelection","isolate","addMapping","addChanges","history","undo","redo","historyField","historyState","undoSelection","redoSelection","histState","branch","undoDepth","redoDepth","startSelection","selectionsAfter","setSelAfter","_c","selections","newEvent","newBranch","isAdjacent","eqSelectionShape","conc","MaxSelectionsPerEvent","sels","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","fullMapping","prevTime","prevUserEvent","historyKeymap","mapRange","foldEffect","unfoldEffect","selectedLines","foldState","foldExists","foldWidget","onSelection","foldedRanges","maybeEnable","codeFolding","foldCode","announceFold","unfoldCode","fold","lineFrom","lineTo","foldAll","unfoldAll","foldKeymap","defaultConfig","placeholderDOM","placeholderText","foldConfig","ignoreEvents","onclick","foldGutterDefaults","openText","closedText","markerDOM","FoldMarker","foldGutter","fullConfig","canFold","canUnfold","buildMarkers","click","DefaultScanDist","DefaultBrackets","bracketMatchingConfig","afterCursor","maxScanDistance","matchingMark","nonmatchingMark","bracketMatchingState","matchBrackets","matched","bracketMatchingUnique","bracketMatching","matchingNodes","byProp","matches","matchMarkedBrackets","matchPlainBrackets","matching","firstToken","tokenType","startCh","startToken","basePos","setSel","moveSel","how","rangeEnd","cursorByChar","cursorCharLeft","cursorCharRight","cursorCharForward","cursorCharBackward","cursorByGroup","cursorGroupLeft","cursorGroupRight","cursorGroupForward","cursorGroupBackward","moveBySubword","sawUpper","sawLower","ahead","cursorBySubword","cursorSubwordForward","cursorSubwordBackward","interestingNode","bracketProp","moveBySyntax","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","cursorLineUp","cursorLineDown","cursorByPage","cursorPageUp","cursorPageDown","moveByLineBoundary","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineStart","cursorLineEnd","toMatchingBracket","cursorMatchingBracket","selectMatchingBracket","extendSel","selectByChar","selectCharLeft","selectCharRight","selectCharForward","selectCharBackward","selectByGroup","selectGroupLeft","selectGroupRight","selectGroupForward","selectGroupBackward","selectBySubword","selectSubwordForward","selectSubwordBackward","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","simplifySelection","deleteBy","towards","skipAtomic","deleteByChar","targetPos","deleteCharBackward","deleteCharForward","deleteByGroup","nextChar","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","deleteToLineStart","deleteTrailingWhitespace","trailing","splitLine","transposeChars","blocks","startLine","moveLine","nextLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","insertNewline","isBetweenBrackets","insertNewlineAndIndent","newlineAndIndent","insertBlankLine","atEof","explode","changeBySelectedLine","atLine","changeSet","indentSelection","indentMore","indentLess","keep","insertTab","emacsStyleKeymap","standardKeymap","indentWithTab","closeBracketEffect","skipBracketEffect","closedBracket","bracketState","prevLineStart","handleInput","definedClosing","charAt","insertBracket","deleteBracketPair","dont","prevChar","closeBracketsKeymap","handleSame","handleOpen","closedBracketAt","handleClose","closeBefore","_open","allowTriple","isTriple","panelConfig","topContainer","bottomContainer","panels","getPanel","panel","panelPlugin","showPanel","PanelGroup","syncClasses","scrollMargin","syncDOM","curDOM","crelt","basicNormalize","normalize","SearchCursor","bufferPos","nextOverlapping","baseFlags","RegExpCursor","MultilineRegExpCursor","curLineStart","matchPos","flattened","FlattenedDoc","cachedFrom","validRegExp","createLineDialog","onkeydown","dialogEffect","go","onsubmit","sign","ln","cl","percent","pc","dialogField","gotoLine","baseTheme$1","defaultHighlightOptions","highlightWordAroundCursor","minSelectionLength","maxMatches","highlightConfig","highlightSelectionMatches","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","trim","selectWord","findNextOccurrence","fullWord","cycled","selectNextOccurrence","searchedText","searchConfigFacet","matchCase","searchConfig","Query","caseInsensitive","StringQuery","unquoted","nextMatch","prevMatchInRange","prevMatch","getReplacement","_result","matchAll","highlight","valid","RegExpQuery","setQuery","togglePanel","searchState","SearchState","defaultQuery","createSearchPanel","matchMark","selectedMatchMark","searchHighlighter","searchCommand","openSearchPanel","findNext","announceMatch","findPrevious","selectMatches","selectSelectionMatches","replaceNext","replacement","replaceAll","buildPanel","updateQuery","selText","searchInput","searchExtensions","closeSearchPanel","searchKeymap","searchField","onchange","onkeyup","replaceField","caseField","checked","reField","AnnounceMargin","Break","font","marginRight","toggleComment","getConfig","toggleLineComment","toggleBlockComment","changeLineComment","lineUncomment","changeBlockComment","blockUncomment","commentKeymap","SearchMargin","findBlockComment","textBefore","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","endOff","comments","prevLine","minIndent","MaxOff","rectangleFor","startOff","startCol","endCol","absoluteColumn","ref","getPos","rectangleSelectionStyle","newStart","newLine","_extend","rectangularSelection","eventFilter","SelectedDiagnostic","diagnostic","LintState","diagnostics","DiagnosticWidget","findDiagnostic","maybeEnableLint","getState","lintState","activeMark","lintTooltip","setDiagnostics","setDiagnosticsEffect","movePanelSelection","selPos","LintPanel","diagnosticCount","lint","stackStart","stackEnd","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","lintKeymap","lintPlugin","delay","lintSource","lintTime","linter","forceLinting","assignKeys","assigned","inPanel","keyIndex","nameElt","onmousedown","PanelItem","items","moveSelection","selectedIndex","needsSync","newSelectedItem","_start","_end","domPos","underline","btoa","svg","backgroundPosition","backgroundRepeat","overflowY","background_fallback","color_fallback","basicSetup","lightTheme","darkColors","enki","textSecondary","oneDark","highlightBackground","selectionMatch","stone","violet","coral","cyan","malibu","whiskey","sage","chalky","ivory","darkHighlighting","lightHighlighting","darkThemeExtensions","lightThemeExtensions","ReactNativeWebView","postMessage","consoleLog","debug","themes","jsKeywords","pyKeywords","mapKeywordString","kString","kw","jsCompletion","pyCompletion","initialState","getElementById","replaceCode","languageExtensionsMap","replaceLanguage","languageExtension","replaceTheme","simulateKeyPress","onresize","scrollIntoViewIfNeeded","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","parents","Function","cb"],"mappings":"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,CAACltC,EAAV,CAAa,IAAb,CAAZ;AACJ,WAAO3oB,MAAP;AACH;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACoB,SAATo2D,SAAS,CAAC/0D,IAAD,EAAO;AACnB,WAAO+1B,YAAKhb,QAAL,CAAcm9B,WAAW,CAAC5wB,EAAZ,CAAeutC,UAAU,CAAC,MAAMJ,WAAP,EAAoBz0D,IAApB,EAA0B40D,YAA1B,CAAzB,CAAd,CAAP;AACH;;AAjqBY;AAmqBjB;AACA;AACA;AACA;;;;AACA0G,UAAU,CAAC7kB,QAAX,GAAsBA,QAAtB;AACA;AACA;AACA;AACA;;AACA6kB,UAAU,CAAC5kB,QAAX,GAAsBA,QAAtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA4kB,UAAU,CAACpjB,WAAX,GAAyBA,WAAzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAojB,UAAU,CAAC9kB,YAAX,GAA0BA,YAA1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA8kB,UAAU,CAAChlB,aAAX,GAA2BA,aAA3B;AACA;AACA;AACA;AACA;;AACAglB,UAAU,CAAC/kB,cAAX,GAA4BA,cAA5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA+kB,UAAU,CAACvkB,QAAX,GAAsBA,QAAtB;AACA;AACA;AACA;AACA;AACA;AACA;;AACAukB,UAAU,CAACjlB,mBAAX,GAAiCA,mBAAjC;AACA;AACA;AACA;AACA;AACA;AACA;;AACAilB,UAAU,CAACvU,kBAAX,GAAgC3Q,oBAAhC;AACA;AACA;AACA;AACA;;AACAklB,UAAU,CAACnlB,uBAAX,GAAqCA,uBAArC;AACA;AACA;AACA;AACA;AACA;AACA;;AACAmlB,UAAU,CAACrlB,WAAX,GAAyBA,WAAzB;AACA;AACA;AACA;AACA;;AACAqlB,UAAU,CAACrjB,iBAAX,GAA+BA,iBAA/B;AACA;AACA;AACA;AACA;;AACAqjB,UAAU,CAACtjB,gBAAX,GAA8BA,gBAA9B;AACA;AACA;AACA;AACA;;AACAsjB,UAAU,CAACjZ,YAAX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","file":"editor.2fbf4503.js","sourceRoot":"../editor","sourcesContent":["// FIXME profile adding a per-Tree TreeNode cache, validating it by\n// parent pointer\n/// The default maximum length of a `TreeBuffer` node (1024).\nconst DefaultBufferLength = 1024;\nlet nextPropID = 0;\nclass Range {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\n/// Each [node type](#common.NodeType) or [individual tree](#common.Tree)\n/// can have metadata associated with it in props. Instances of this\n/// class represent prop names.\nclass NodeProp {\n    /// Create a new node prop type.\n    constructor(config = {}) {\n        this.id = nextPropID++;\n        this.perNode = !!config.perNode;\n        this.deserialize = config.deserialize || (() => {\n            throw new Error(\"This node type doesn't define a deserialize function\");\n        });\n    }\n    /// This is meant to be used with\n    /// [`NodeSet.extend`](#common.NodeSet.extend) or\n    /// [`LRParser.configure`](#lr.ParserConfig.props) to compute\n    /// prop values for each node type in the set. Takes a [match\n    /// object](#common.NodeType^match) or function that returns undefined\n    /// if the node type doesn't get this prop, and the prop's value if\n    /// it does.\n    add(match) {\n        if (this.perNode)\n            throw new RangeError(\"Can't add per-node props to node types\");\n        if (typeof match != \"function\")\n            match = NodeType.match(match);\n        return (type) => {\n            let result = match(type);\n            return result === undefined ? null : [this, result];\n        };\n    }\n}\n/// Prop that is used to describe matching delimiters. For opening\n/// delimiters, this holds an array of node names (written as a\n/// space-separated string when declaring this prop in a grammar)\n/// for the node types of closing delimiters that match it.\nNodeProp.closedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The inverse of [`closedBy`](#common.NodeProp^closedBy). This is\n/// attached to closing delimiters, holding an array of node names\n/// of types of matching opening delimiters.\nNodeProp.openedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// Used to assign node types to groups (for example, all node\n/// types that represent an expression could be tagged with an\n/// `\"Expression\"` group).\nNodeProp.group = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The hash of the [context](#lr.ContextTracker.constructor)\n/// that the node was parsed in, if any. Used to limit reuse of\n/// contextual nodes.\nNodeProp.contextHash = new NodeProp({ perNode: true });\n/// The distance beyond the end of the node that the tokenizer\n/// looked ahead for any of the tokens inside the node. (The LR\n/// parser only stores this when it is larger than 25, for\n/// efficiency reasons.)\nNodeProp.lookAhead = new NodeProp({ perNode: true });\n/// This per-node prop is used to replace a given node, or part of a\n/// node, with another tree. This is useful to include trees from\n/// different languages.\nNodeProp.mounted = new NodeProp({ perNode: true });\n/// A mounted tree, which can be [stored](#common.NodeProp^mounted) on\n/// a tree node to indicate that parts of its content are\n/// represented by another tree.\nclass MountedTree {\n    constructor(\n    /// The inner tree.\n    tree, \n    /// If this is null, this tree replaces the entire node (it will\n    /// be included in the regular iteration instead of its host\n    /// node). If not, only the given ranges are considered to be\n    /// covered by this tree. This is used for trees that are mixed in\n    /// a way that isn't strictly hierarchical. Such mounted trees are\n    /// only entered by [`resolveInner`](#common.Tree.resolveInner)\n    /// and [`enter`](#common.SyntaxNode.enter).\n    overlay, \n    /// The parser used to create this subtree.\n    parser) {\n        this.tree = tree;\n        this.overlay = overlay;\n        this.parser = parser;\n    }\n}\nconst noProps = Object.create(null);\n/// Each node in a syntax tree has a node type associated with it.\nclass NodeType {\n    /// @internal\n    constructor(\n    /// The name of the node type. Not necessarily unique, but if the\n    /// grammar was written properly, different node types with the\n    /// same name within a node set should play the same semantic\n    /// role.\n    name, \n    /// @internal\n    props, \n    /// The id of this node in its set. Corresponds to the term ids\n    /// used in the parser.\n    id, \n    /// @internal\n    flags = 0) {\n        this.name = name;\n        this.props = props;\n        this.id = id;\n        this.flags = flags;\n    }\n    static define(spec) {\n        let props = spec.props && spec.props.length ? Object.create(null) : noProps;\n        let flags = (spec.top ? 1 /* Top */ : 0) | (spec.skipped ? 2 /* Skipped */ : 0) |\n            (spec.error ? 4 /* Error */ : 0) | (spec.name == null ? 8 /* Anonymous */ : 0);\n        let type = new NodeType(spec.name || \"\", props, spec.id, flags);\n        if (spec.props)\n            for (let src of spec.props) {\n                if (!Array.isArray(src))\n                    src = src(type);\n                if (src) {\n                    if (src[0].perNode)\n                        throw new RangeError(\"Can't store a per-node prop on a node type\");\n                    props[src[0].id] = src[1];\n                }\n            }\n        return type;\n    }\n    /// Retrieves a node prop for this type. Will return `undefined` if\n    /// the prop isn't present on this node.\n    prop(prop) { return this.props[prop.id]; }\n    /// True when this is the top node of a grammar.\n    get isTop() { return (this.flags & 1 /* Top */) > 0; }\n    /// True when this node is produced by a skip rule.\n    get isSkipped() { return (this.flags & 2 /* Skipped */) > 0; }\n    /// Indicates whether this is an error node.\n    get isError() { return (this.flags & 4 /* Error */) > 0; }\n    /// When true, this node type doesn't correspond to a user-declared\n    /// named node, for example because it is used to cache repetition.\n    get isAnonymous() { return (this.flags & 8 /* Anonymous */) > 0; }\n    /// Returns true when this node's name or one of its\n    /// [groups](#common.NodeProp^group) matches the given string.\n    is(name) {\n        if (typeof name == 'string') {\n            if (this.name == name)\n                return true;\n            let group = this.prop(NodeProp.group);\n            return group ? group.indexOf(name) > -1 : false;\n        }\n        return this.id == name;\n    }\n    /// Create a function from node types to arbitrary values by\n    /// specifying an object whose property names are node or\n    /// [group](#common.NodeProp^group) names. Often useful with\n    /// [`NodeProp.add`](#common.NodeProp.add). You can put multiple\n    /// names, separated by spaces, in a single property name to map\n    /// multiple node names to a single value.\n    static match(map) {\n        let direct = Object.create(null);\n        for (let prop in map)\n            for (let name of prop.split(\" \"))\n                direct[name] = map[prop];\n        return (node) => {\n            for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {\n                let found = direct[i < 0 ? node.name : groups[i]];\n                if (found)\n                    return found;\n            }\n        };\n    }\n}\n/// An empty dummy node type to use when no actual type is available.\nNodeType.none = new NodeType(\"\", Object.create(null), 0, 8 /* Anonymous */);\n/// A node set holds a collection of node types. It is used to\n/// compactly represent trees by storing their type ids, rather than a\n/// full pointer to the type object, in a numeric array. Each parser\n/// [has](#lr.LRParser.nodeSet) a node set, and [tree\n/// buffers](#common.TreeBuffer) can only store collections of nodes\n/// from the same set. A set can have a maximum of 2**16 (65536) node\n/// types in it, so that the ids fit into 16-bit typed array slots.\nclass NodeSet {\n    /// Create a set with the given types. The `id` property of each\n    /// type should correspond to its position within the array.\n    constructor(\n    /// The node types in this set, by id.\n    types) {\n        this.types = types;\n        for (let i = 0; i < types.length; i++)\n            if (types[i].id != i)\n                throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\");\n    }\n    /// Create a copy of this set with some node properties added. The\n    /// arguments to this method should be created with\n    /// [`NodeProp.add`](#common.NodeProp.add).\n    extend(...props) {\n        let newTypes = [];\n        for (let type of this.types) {\n            let newProps = null;\n            for (let source of props) {\n                let add = source(type);\n                if (add) {\n                    if (!newProps)\n                        newProps = Object.assign({}, type.props);\n                    newProps[add[0].id] = add[1];\n                }\n            }\n            newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);\n        }\n        return new NodeSet(newTypes);\n    }\n}\nconst CachedNode = new WeakMap();\n/// A piece of syntax tree. There are two ways to approach these\n/// trees: the way they are actually stored in memory, and the\n/// convenient way.\n///\n/// Syntax trees are stored as a tree of `Tree` and `TreeBuffer`\n/// objects. By packing detail information into `TreeBuffer` leaf\n/// nodes, the representation is made a lot more memory-efficient.\n///\n/// However, when you want to actually work with tree nodes, this\n/// representation is very awkward, so most client code will want to\n/// use the [`TreeCursor`](#common.TreeCursor) or\n/// [`SyntaxNode`](#common.SyntaxNode) interface instead, which provides\n/// a view on some part of this data structure, and can be used to\n/// move around to adjacent nodes.\nclass Tree {\n    /// Construct a new tree. See also [`Tree.build`](#common.Tree^build).\n    constructor(\n    /// The type of the top node.\n    type, \n    /// This node's child nodes.\n    children, \n    /// The positions (offsets relative to the start of this tree) of\n    /// the children.\n    positions, \n    /// The total length of this tree\n    length, \n    /// Per-node [node props](#common.NodeProp) to associate with this node.\n    props) {\n        this.type = type;\n        this.children = children;\n        this.positions = positions;\n        this.length = length;\n        /// @internal\n        this.props = null;\n        if (props && props.length) {\n            this.props = Object.create(null);\n            for (let [prop, value] of props)\n                this.props[typeof prop == \"number\" ? prop : prop.id] = value;\n        }\n    }\n    /// @internal\n    toString() {\n        let mounted = this.prop(NodeProp.mounted);\n        if (mounted && !mounted.overlay)\n            return mounted.tree.toString();\n        let children = \"\";\n        for (let ch of this.children) {\n            let str = ch.toString();\n            if (str) {\n                if (children)\n                    children += \",\";\n                children += str;\n            }\n        }\n        return !this.type.name ? children :\n            (/\\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) +\n                (children.length ? \"(\" + children + \")\" : \"\");\n    }\n    /// Get a [tree cursor](#common.TreeCursor) rooted at this tree. When\n    /// `pos` is given, the cursor is [moved](#common.TreeCursor.moveTo)\n    /// to the given position and side.\n    cursor(pos, side = 0) {\n        let scope = (pos != null && CachedNode.get(this)) || this.topNode;\n        let cursor = new TreeCursor(scope);\n        if (pos != null) {\n            cursor.moveTo(pos, side);\n            CachedNode.set(this, cursor._tree);\n        }\n        return cursor;\n    }\n    /// Get a [tree cursor](#common.TreeCursor) that, unlike regular\n    /// cursors, doesn't skip through\n    /// [anonymous](#common.NodeType.isAnonymous) nodes.\n    fullCursor() {\n        return new TreeCursor(this.topNode, 1 /* Full */);\n    }\n    /// Get a [syntax node](#common.SyntaxNode) object for the top of the\n    /// tree.\n    get topNode() {\n        return new TreeNode(this, 0, 0, null);\n    }\n    /// Get the [syntax node](#common.SyntaxNode) at the given position.\n    /// If `side` is -1, this will move into nodes that end at the\n    /// position. If 1, it'll move into nodes that start at the\n    /// position. With 0, it'll only enter nodes that cover the position\n    /// from both sides.\n    resolve(pos, side = 0) {\n        return this.cursor(pos, side).node;\n    }\n    /// Like [`resolve`](#common.Tree.resolve), but will enter\n    /// [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node\n    /// pointing into the innermost overlaid tree at the given position\n    /// (with parent links going through all parent structure, including\n    /// the host trees).\n    resolveInner(pos, side = 0) {\n        let result = this.topNode;\n        for (;;) {\n            let inner = result.enter(pos, side);\n            if (!inner)\n                return result;\n            result = inner;\n        }\n    }\n    /// Iterate over the tree and its children, calling `enter` for any\n    /// node that touches the `from`/`to` region (if given) before\n    /// running over such a node's children, and `leave` (if given) when\n    /// leaving the node. When `enter` returns `false`, that node will\n    /// not have its children iterated over (or `leave` called).\n    iterate(spec) {\n        let { enter, leave, from = 0, to = this.length } = spec;\n        for (let c = this.cursor(), get = () => c.node;;) {\n            let mustLeave = false;\n            if (c.from <= to && c.to >= from && (c.type.isAnonymous || enter(c.type, c.from, c.to, get) !== false)) {\n                if (c.firstChild())\n                    continue;\n                if (!c.type.isAnonymous)\n                    mustLeave = true;\n            }\n            for (;;) {\n                if (mustLeave && leave)\n                    leave(c.type, c.from, c.to, get);\n                mustLeave = c.type.isAnonymous;\n                if (c.nextSibling())\n                    break;\n                if (!c.parent())\n                    return;\n                mustLeave = true;\n            }\n        }\n    }\n    /// Get the value of the given [node prop](#common.NodeProp) for this\n    /// node. Works with both per-node and per-type props.\n    prop(prop) {\n        return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : undefined;\n    }\n    /// Returns the node's [per-node props](#common.NodeProp.perNode) in a\n    /// format that can be passed to the [`Tree`](#common.Tree)\n    /// constructor.\n    get propValues() {\n        let result = [];\n        if (this.props)\n            for (let id in this.props)\n                result.push([+id, this.props[id]]);\n        return result;\n    }\n    /// Balance the direct children of this tree, producing a copy of\n    /// which may have children grouped into subtrees with type\n    /// [`NodeType.none`](#common.NodeType^none).\n    balance(config = {}) {\n        return this.children.length <= 8 /* BranchFactor */ ? this :\n            balanceRange(this.type, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new Tree(this.type, children, positions, length, this.propValues), config.makeTree || ((children, positions, length) => new Tree(NodeType.none, children, positions, length)));\n    }\n    /// Build a tree from a postfix-ordered buffer of node information,\n    /// or a cursor over such a buffer.\n    static build(data) { return buildTree(data); }\n}\n/// The empty tree\nTree.empty = new Tree(NodeType.none, [], [], 0);\nclass FlatBufferCursor {\n    constructor(buffer, index) {\n        this.buffer = buffer;\n        this.index = index;\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    get pos() { return this.index; }\n    next() { this.index -= 4; }\n    fork() { return new FlatBufferCursor(this.buffer, this.index); }\n}\n/// Tree buffers contain (type, start, end, endIndex) quads for each\n/// node. In such a buffer, nodes are stored in prefix order (parents\n/// before children, with the endIndex of the parent indicating which\n/// children belong to it)\nclass TreeBuffer {\n    /// Create a tree buffer.\n    constructor(\n    /// The buffer's content.\n    buffer, \n    /// The total length of the group of nodes in the buffer.\n    length, \n    /// The node set used in this buffer.\n    set) {\n        this.buffer = buffer;\n        this.length = length;\n        this.set = set;\n    }\n    /// @internal\n    get type() { return NodeType.none; }\n    /// @internal\n    toString() {\n        let result = [];\n        for (let index = 0; index < this.buffer.length;) {\n            result.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result.join(\",\");\n    }\n    /// @internal\n    childString(index) {\n        let id = this.buffer[index], endIndex = this.buffer[index + 3];\n        let type = this.set.types[id], result = type.name;\n        if (/\\W/.test(result) && !type.isError)\n            result = JSON.stringify(result);\n        index += 4;\n        if (endIndex == index)\n            return result;\n        let children = [];\n        while (index < endIndex) {\n            children.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result + \"(\" + children.join(\",\") + \")\";\n    }\n    /// @internal\n    findChild(startIndex, endIndex, dir, pos, side) {\n        let { buffer } = this, pick = -1;\n        for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {\n            if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {\n                pick = i;\n                if (dir > 0)\n                    break;\n            }\n        }\n        return pick;\n    }\n    /// @internal\n    slice(startI, endI, from, to) {\n        let b = this.buffer;\n        let copy = new Uint16Array(endI - startI);\n        for (let i = startI, j = 0; i < endI;) {\n            copy[j++] = b[i++];\n            copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - startI;\n        }\n        return new TreeBuffer(copy, to - from, this.set);\n    }\n}\nfunction checkSide(side, pos, from, to) {\n    switch (side) {\n        case -2 /* Before */: return from < pos;\n        case -1 /* AtOrBefore */: return to >= pos && from < pos;\n        case 0 /* Around */: return from < pos && to > pos;\n        case 1 /* AtOrAfter */: return from <= pos && to > pos;\n        case 2 /* After */: return to > pos;\n        case 4 /* DontCare */: return true;\n    }\n}\nfunction enterUnfinishedNodesBefore(node, pos) {\n    let scan = node.childBefore(pos);\n    while (scan) {\n        let last = scan.lastChild;\n        if (!last || last.to != scan.to)\n            break;\n        if (last.type.isError && last.from == last.to) {\n            node = scan;\n            scan = last.prevSibling;\n        }\n        else {\n            scan = last;\n        }\n    }\n    return node;\n}\nclass TreeNode {\n    constructor(node, _from, \n    // Index in parent node, set to -1 if the node is not a direct child of _parent.node (overlay)\n    index, _parent) {\n        this.node = node;\n        this._from = _from;\n        this.index = index;\n        this._parent = _parent;\n    }\n    get type() { return this.node.type; }\n    get name() { return this.node.type.name; }\n    get from() { return this._from; }\n    get to() { return this._from + this.node.length; }\n    nextChild(i, dir, pos, side, mode = 0) {\n        for (let parent = this;;) {\n            for (let { children, positions } = parent.node, e = dir > 0 ? children.length : -1; i != e; i += dir) {\n                let next = children[i], start = positions[i] + parent._from;\n                if (!checkSide(side, pos, start, start + next.length))\n                    continue;\n                if (next instanceof TreeBuffer) {\n                    if (mode & 2 /* NoEnterBuffer */)\n                        continue;\n                    let index = next.findChild(0, next.buffer.length, dir, pos - start, side);\n                    if (index > -1)\n                        return new BufferNode(new BufferContext(parent, next, i, start), null, index);\n                }\n                else if ((mode & 1 /* Full */) || (!next.type.isAnonymous || hasChild(next))) {\n                    let mounted;\n                    if (next.props && (mounted = next.prop(NodeProp.mounted)) && !mounted.overlay)\n                        return new TreeNode(mounted.tree, start, i, parent);\n                    let inner = new TreeNode(next, start, i, parent);\n                    return (mode & 1 /* Full */) || !inner.type.isAnonymous ? inner\n                        : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);\n                }\n            }\n            if ((mode & 1 /* Full */) || !parent.type.isAnonymous)\n                return null;\n            if (parent.index >= 0)\n                i = parent.index + dir;\n            else\n                i = dir < 0 ? -1 : parent._parent.node.children.length;\n            parent = parent._parent;\n            if (!parent)\n                return null;\n        }\n    }\n    get firstChild() { return this.nextChild(0, 1, 0, 4 /* DontCare */); }\n    get lastChild() { return this.nextChild(this.node.children.length - 1, -1, 0, 4 /* DontCare */); }\n    childAfter(pos) { return this.nextChild(0, 1, pos, 2 /* After */); }\n    childBefore(pos) { return this.nextChild(this.node.children.length - 1, -1, pos, -2 /* Before */); }\n    enter(pos, side, overlays = true, buffers = true) {\n        let mounted;\n        if (overlays && (mounted = this.node.prop(NodeProp.mounted)) && mounted.overlay) {\n            let rPos = pos - this.from;\n            for (let { from, to } of mounted.overlay) {\n                if ((side > 0 ? from <= rPos : from < rPos) &&\n                    (side < 0 ? to >= rPos : to > rPos))\n                    return new TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);\n            }\n        }\n        return this.nextChild(0, 1, pos, side, buffers ? 0 : 2 /* NoEnterBuffer */);\n    }\n    nextSignificantParent() {\n        let val = this;\n        while (val.type.isAnonymous && val._parent)\n            val = val._parent;\n        return val;\n    }\n    get parent() {\n        return this._parent ? this._parent.nextSignificantParent() : null;\n    }\n    get nextSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4 /* DontCare */) : null;\n    }\n    get prevSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4 /* DontCare */) : null;\n    }\n    get cursor() { return new TreeCursor(this); }\n    get tree() { return this.node; }\n    toTree() { return this.node; }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n    /// @internal\n    toString() { return this.node.toString(); }\n}\nfunction getChildren(node, type, before, after) {\n    let cur = node.cursor, result = [];\n    if (!cur.firstChild())\n        return result;\n    if (before != null)\n        while (!cur.type.is(before))\n            if (!cur.nextSibling())\n                return result;\n    for (;;) {\n        if (after != null && cur.type.is(after))\n            return result;\n        if (cur.type.is(type))\n            result.push(cur.node);\n        if (!cur.nextSibling())\n            return after == null ? result : [];\n    }\n}\nclass BufferContext {\n    constructor(parent, buffer, index, start) {\n        this.parent = parent;\n        this.buffer = buffer;\n        this.index = index;\n        this.start = start;\n    }\n}\nclass BufferNode {\n    constructor(context, _parent, index) {\n        this.context = context;\n        this._parent = _parent;\n        this.index = index;\n        this.type = context.buffer.set.types[context.buffer.buffer[index]];\n    }\n    get name() { return this.type.name; }\n    get from() { return this.context.start + this.context.buffer.buffer[this.index + 1]; }\n    get to() { return this.context.start + this.context.buffer.buffer[this.index + 2]; }\n    child(dir, pos, side) {\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get firstChild() { return this.child(1, 0, 4 /* DontCare */); }\n    get lastChild() { return this.child(-1, 0, 4 /* DontCare */); }\n    childAfter(pos) { return this.child(1, pos, 2 /* After */); }\n    childBefore(pos) { return this.child(-1, pos, -2 /* Before */); }\n    enter(pos, side, overlays, buffers = true) {\n        if (!buffers)\n            return null;\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get parent() {\n        return this._parent || this.context.parent.nextSignificantParent();\n    }\n    externalSibling(dir) {\n        return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, 0, 4 /* DontCare */);\n    }\n    get nextSibling() {\n        let { buffer } = this.context;\n        let after = buffer.buffer[this.index + 3];\n        if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))\n            return new BufferNode(this.context, this._parent, after);\n        return this.externalSibling(1);\n    }\n    get prevSibling() {\n        let { buffer } = this.context;\n        let parentStart = this._parent ? this._parent.index + 4 : 0;\n        if (this.index == parentStart)\n            return this.externalSibling(-1);\n        return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, 0, 4 /* DontCare */));\n    }\n    get cursor() { return new TreeCursor(this); }\n    get tree() { return null; }\n    toTree() {\n        let children = [], positions = [];\n        let { buffer } = this.context;\n        let startI = this.index + 4, endI = buffer.buffer[this.index + 3];\n        if (endI > startI) {\n            let from = buffer.buffer[this.index + 1], to = buffer.buffer[this.index + 2];\n            children.push(buffer.slice(startI, endI, from, to));\n            positions.push(0);\n        }\n        return new Tree(this.type, children, positions, this.to - this.from);\n    }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    /// @internal\n    toString() { return this.context.buffer.childString(this.index); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n}\n/// A tree cursor object focuses on a given node in a syntax tree, and\n/// allows you to move to adjacent nodes.\nclass TreeCursor {\n    /// @internal\n    constructor(node, \n    /// @internal\n    mode = 0) {\n        this.mode = mode;\n        this.buffer = null;\n        this.stack = [];\n        this.index = 0;\n        this.bufferNode = null;\n        if (node instanceof TreeNode) {\n            this.yieldNode(node);\n        }\n        else {\n            this._tree = node.context.parent;\n            this.buffer = node.context;\n            for (let n = node._parent; n; n = n._parent)\n                this.stack.unshift(n.index);\n            this.bufferNode = node;\n            this.yieldBuf(node.index);\n        }\n    }\n    /// Shorthand for `.type.name`.\n    get name() { return this.type.name; }\n    yieldNode(node) {\n        if (!node)\n            return false;\n        this._tree = node;\n        this.type = node.type;\n        this.from = node.from;\n        this.to = node.to;\n        return true;\n    }\n    yieldBuf(index, type) {\n        this.index = index;\n        let { start, buffer } = this.buffer;\n        this.type = type || buffer.set.types[buffer.buffer[index]];\n        this.from = start + buffer.buffer[index + 1];\n        this.to = start + buffer.buffer[index + 2];\n        return true;\n    }\n    yield(node) {\n        if (!node)\n            return false;\n        if (node instanceof TreeNode) {\n            this.buffer = null;\n            return this.yieldNode(node);\n        }\n        this.buffer = node.context;\n        return this.yieldBuf(node.index, node.type);\n    }\n    /// @internal\n    toString() {\n        return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();\n    }\n    /// @internal\n    enterChild(dir, pos, side) {\n        if (!this.buffer)\n            return this.yield(this._tree.nextChild(dir < 0 ? this._tree.node.children.length - 1 : 0, dir, pos, side, this.mode));\n        let { buffer } = this.buffer;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);\n        if (index < 0)\n            return false;\n        this.stack.push(this.index);\n        return this.yieldBuf(index);\n    }\n    /// Move the cursor to this node's first child. When this returns\n    /// false, the node has no child, and the cursor has not been moved.\n    firstChild() { return this.enterChild(1, 0, 4 /* DontCare */); }\n    /// Move the cursor to this node's last child.\n    lastChild() { return this.enterChild(-1, 0, 4 /* DontCare */); }\n    /// Move the cursor to the first child that ends after `pos`.\n    childAfter(pos) { return this.enterChild(1, pos, 2 /* After */); }\n    /// Move to the last child that starts before `pos`.\n    childBefore(pos) { return this.enterChild(-1, pos, -2 /* Before */); }\n    /// Move the cursor to the child around `pos`. If side is -1 the\n    /// child may end at that position, when 1 it may start there. This\n    /// will also enter [overlaid](#common.MountedTree.overlay)\n    /// [mounted](#common.NodeProp^mounted) trees unless `overlays` is\n    /// set to false.\n    enter(pos, side, overlays = true, buffers = true) {\n        if (!this.buffer)\n            return this.yield(this._tree.enter(pos, side, overlays, buffers));\n        return buffers ? this.enterChild(1, pos, side) : false;\n    }\n    /// Move the node's parent node, if this isn't the top node.\n    parent() {\n        if (!this.buffer)\n            return this.yieldNode((this.mode & 1 /* Full */) ? this._tree._parent : this._tree.parent);\n        if (this.stack.length)\n            return this.yieldBuf(this.stack.pop());\n        let parent = (this.mode & 1 /* Full */) ? this.buffer.parent : this.buffer.parent.nextSignificantParent();\n        this.buffer = null;\n        return this.yieldNode(parent);\n    }\n    /// @internal\n    sibling(dir) {\n        if (!this.buffer)\n            return !this._tree._parent ? false\n                : this.yield(this._tree.index < 0 ? null\n                    : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4 /* DontCare */, this.mode));\n        let { buffer } = this.buffer, d = this.stack.length - 1;\n        if (dir < 0) {\n            let parentStart = d < 0 ? 0 : this.stack[d] + 4;\n            if (this.index != parentStart)\n                return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, 0, 4 /* DontCare */));\n        }\n        else {\n            let after = buffer.buffer[this.index + 3];\n            if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))\n                return this.yieldBuf(after);\n        }\n        return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4 /* DontCare */, this.mode)) : false;\n    }\n    /// Move to this node's next sibling, if any.\n    nextSibling() { return this.sibling(1); }\n    /// Move to this node's previous sibling, if any.\n    prevSibling() { return this.sibling(-1); }\n    atLastNode(dir) {\n        let index, parent, { buffer } = this;\n        if (buffer) {\n            if (dir > 0) {\n                if (this.index < buffer.buffer.buffer.length)\n                    return false;\n            }\n            else {\n                for (let i = 0; i < this.index; i++)\n                    if (buffer.buffer.buffer[i + 3] < this.index)\n                        return false;\n            }\n            ({ index, parent } = buffer);\n        }\n        else {\n            ({ index, _parent: parent } = this._tree);\n        }\n        for (; parent; { index, _parent: parent } = parent) {\n            if (index > -1)\n                for (let i = index + dir, e = dir < 0 ? -1 : parent.node.children.length; i != e; i += dir) {\n                    let child = parent.node.children[i];\n                    if ((this.mode & 1 /* Full */) || child instanceof TreeBuffer || !child.type.isAnonymous || hasChild(child))\n                        return false;\n                }\n        }\n        return true;\n    }\n    move(dir, enter) {\n        if (enter && this.enterChild(dir, 0, 4 /* DontCare */))\n            return true;\n        for (;;) {\n            if (this.sibling(dir))\n                return true;\n            if (this.atLastNode(dir) || !this.parent())\n                return false;\n        }\n    }\n    /// Move to the next node in a\n    /// [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order_(NLR))\n    /// traversal, going from a node to its first child or, if the\n    /// current node is empty or `enter` is false, its next sibling or\n    /// the next sibling of the first parent node that has one.\n    next(enter = true) { return this.move(1, enter); }\n    /// Move to the next node in a last-to-first pre-order traveral. A\n    /// node is followed by its last child or, if it has none, its\n    /// previous sibling or the previous sibling of the first parent\n    /// node that has one.\n    prev(enter = true) { return this.move(-1, enter); }\n    /// Move the cursor to the innermost node that covers `pos`. If\n    /// `side` is -1, it will enter nodes that end at `pos`. If it is 1,\n    /// it will enter nodes that start at `pos`.\n    moveTo(pos, side = 0) {\n        // Move up to a node that actually holds the position, if possible\n        while (this.from == this.to ||\n            (side < 1 ? this.from >= pos : this.from > pos) ||\n            (side > -1 ? this.to <= pos : this.to < pos))\n            if (!this.parent())\n                break;\n        // Then scan down into child nodes as far as possible\n        while (this.enterChild(1, pos, side)) { }\n        return this;\n    }\n    /// Get a [syntax node](#common.SyntaxNode) at the cursor's current\n    /// position.\n    get node() {\n        if (!this.buffer)\n            return this._tree;\n        let cache = this.bufferNode, result = null, depth = 0;\n        if (cache && cache.context == this.buffer) {\n            scan: for (let index = this.index, d = this.stack.length; d >= 0;) {\n                for (let c = cache; c; c = c._parent)\n                    if (c.index == index) {\n                        if (index == this.index)\n                            return c;\n                        result = c;\n                        depth = d + 1;\n                        break scan;\n                    }\n                index = this.stack[--d];\n            }\n        }\n        for (let i = depth; i < this.stack.length; i++)\n            result = new BufferNode(this.buffer, result, this.stack[i]);\n        return this.bufferNode = new BufferNode(this.buffer, result, this.index);\n    }\n    /// Get the [tree](#common.Tree) that represents the current node, if\n    /// any. Will return null when the node is in a [tree\n    /// buffer](#common.TreeBuffer).\n    get tree() {\n        return this.buffer ? null : this._tree.node;\n    }\n}\nfunction hasChild(tree) {\n    return tree.children.some(ch => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));\n}\nfunction buildTree(data) {\n    var _a;\n    let { buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;\n    let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;\n    let types = nodeSet.types;\n    let contextHash = 0, lookAhead = 0;\n    function takeNode(parentStart, minPos, children, positions, inRepeat) {\n        let { id, start, end, size } = cursor;\n        let lookAheadAtStart = lookAhead;\n        while (size < 0) {\n            cursor.next();\n            if (size == -1 /* Reuse */) {\n                let node = reused[id];\n                children.push(node);\n                positions.push(start - parentStart);\n                return;\n            }\n            else if (size == -3 /* ContextChange */) { // Context change\n                contextHash = id;\n                return;\n            }\n            else if (size == -4 /* LookAhead */) {\n                lookAhead = id;\n                return;\n            }\n            else {\n                throw new RangeError(`Unrecognized record size: ${size}`);\n            }\n        }\n        let type = types[id], node, buffer;\n        let startPos = start - parentStart;\n        if (end - start <= maxBufferLength && (buffer = findBufferSize(cursor.pos - minPos, inRepeat))) {\n            // Small enough for a buffer, and no reused nodes inside\n            let data = new Uint16Array(buffer.size - buffer.skip);\n            let endPos = cursor.pos - buffer.size, index = data.length;\n            while (cursor.pos > endPos)\n                index = copyToBuffer(buffer.start, data, index);\n            node = new TreeBuffer(data, end - buffer.start, nodeSet);\n            startPos = buffer.start - parentStart;\n        }\n        else { // Make it a node\n            let endPos = cursor.pos - size;\n            cursor.next();\n            let localChildren = [], localPositions = [];\n            let localInRepeat = id >= minRepeatType ? id : -1;\n            let lastGroup = 0, lastEnd = end;\n            while (cursor.pos > endPos) {\n                if (localInRepeat >= 0 && cursor.id == localInRepeat && cursor.size >= 0) {\n                    if (cursor.end <= lastEnd - maxBufferLength) {\n                        makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor.end, lastEnd, localInRepeat, lookAheadAtStart);\n                        lastGroup = localChildren.length;\n                        lastEnd = cursor.end;\n                    }\n                    cursor.next();\n                }\n                else {\n                    takeNode(start, endPos, localChildren, localPositions, localInRepeat);\n                }\n            }\n            if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)\n                makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart);\n            localChildren.reverse();\n            localPositions.reverse();\n            if (localInRepeat > -1 && lastGroup > 0) {\n                let make = makeBalanced(type);\n                node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);\n            }\n            else {\n                node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end);\n            }\n        }\n        children.push(node);\n        positions.push(startPos);\n    }\n    function makeBalanced(type) {\n        return (children, positions, length) => {\n            let lookAhead = 0, lastI = children.length - 1, last, lookAheadProp;\n            if (lastI >= 0 && (last = children[lastI]) instanceof Tree) {\n                if (!lastI && last.type == type && last.length == length)\n                    return last;\n                if (lookAheadProp = last.prop(NodeProp.lookAhead))\n                    lookAhead = positions[lastI] + last.length + lookAheadProp;\n            }\n            return makeTree(type, children, positions, length, lookAhead);\n        };\n    }\n    function makeRepeatLeaf(children, positions, base, i, from, to, type, lookAhead) {\n        let localChildren = [], localPositions = [];\n        while (children.length > i) {\n            localChildren.push(children.pop());\n            localPositions.push(positions.pop() + base - from);\n        }\n        children.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from, lookAhead - to));\n        positions.push(from - base);\n    }\n    function makeTree(type, children, positions, length, lookAhead = 0, props) {\n        if (contextHash) {\n            let pair = [NodeProp.contextHash, contextHash];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        if (lookAhead > 25) {\n            let pair = [NodeProp.lookAhead, lookAhead];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        return new Tree(type, children, positions, length, props);\n    }\n    function findBufferSize(maxSize, inRepeat) {\n        // Scan through the buffer to find previous siblings that fit\n        // together in a TreeBuffer, and don't contain any reused nodes\n        // (which can't be stored in a buffer).\n        // If `inRepeat` is > -1, ignore node boundaries of that type for\n        // nesting, but make sure the end falls either at the start\n        // (`maxSize`) or before such a node.\n        let fork = cursor.fork();\n        let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;\n        let result = { size: 0, start: 0, skip: 0 };\n        scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos;) {\n            let nodeSize = fork.size;\n            // Pretend nested repeat nodes of the same type don't exist\n            if (fork.id == inRepeat && nodeSize >= 0) {\n                // Except that we store the current state as a valid return\n                // value.\n                result.size = size;\n                result.start = start;\n                result.skip = skip;\n                skip += 4;\n                size += 4;\n                fork.next();\n                continue;\n            }\n            let startPos = fork.pos - nodeSize;\n            if (nodeSize < 0 || startPos < minPos || fork.start < minStart)\n                break;\n            let localSkipped = fork.id >= minRepeatType ? 4 : 0;\n            let nodeStart = fork.start;\n            fork.next();\n            while (fork.pos > startPos) {\n                if (fork.size < 0) {\n                    if (fork.size == -3 /* ContextChange */)\n                        localSkipped += 4;\n                    else\n                        break scan;\n                }\n                else if (fork.id >= minRepeatType) {\n                    localSkipped += 4;\n                }\n                fork.next();\n            }\n            start = nodeStart;\n            size += nodeSize;\n            skip += localSkipped;\n        }\n        if (inRepeat < 0 || size == maxSize) {\n            result.size = size;\n            result.start = start;\n            result.skip = skip;\n        }\n        return result.size > 4 ? result : undefined;\n    }\n    function copyToBuffer(bufferStart, buffer, index) {\n        let { id, start, end, size } = cursor;\n        cursor.next();\n        if (size >= 0 && id < minRepeatType) {\n            let startIndex = index;\n            if (size > 4) {\n                let endPos = cursor.pos - (size - 4);\n                while (cursor.pos > endPos)\n                    index = copyToBuffer(bufferStart, buffer, index);\n            }\n            buffer[--index] = startIndex;\n            buffer[--index] = end - bufferStart;\n            buffer[--index] = start - bufferStart;\n            buffer[--index] = id;\n        }\n        else if (size == -3 /* ContextChange */) {\n            contextHash = id;\n        }\n        else if (size == -4 /* LookAhead */) {\n            lookAhead = id;\n        }\n        return index;\n    }\n    let children = [], positions = [];\n    while (cursor.pos > 0)\n        takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1);\n    let length = (_a = data.length) !== null && _a !== void 0 ? _a : (children.length ? positions[0] + children[0].length : 0);\n    return new Tree(types[data.topID], children.reverse(), positions.reverse(), length);\n}\nconst nodeSizeCache = new WeakMap;\nfunction nodeSize(balanceType, node) {\n    if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)\n        return 1;\n    let size = nodeSizeCache.get(node);\n    if (size == null) {\n        size = node.children.reduce((s, ch) => s + nodeSize(balanceType, ch), 1);\n        nodeSizeCache.set(node, size);\n    }\n    return size;\n}\nfunction balanceRange(\n// The type to tag the resulting tree with. Will also be used for\n// internal nodes when it is an anonymous type\ntype, \n// The direct children and their positions\nchildren, positions, \n// The index range in children/positions to use\nfrom, to, \n// The start position of the nodes, relative to their parent.\nstart, \n// Length of the outer node\nlength, \n// Function to build the top node of the balanced tree\nmkTop, \n// Function to build internal nodes for the balanced tree\nmkTree) {\n    let total = 0;\n    for (let i = from; i < to; i++)\n        total += nodeSize(type, children[i]);\n    let maxChild = Math.ceil((total * 1.5) / 8 /* BranchFactor */);\n    let localChildren = [], localPositions = [];\n    function divide(children, positions, from, to, offset) {\n        for (let i = from; i < to;) {\n            let groupFrom = i, groupStart = positions[i], groupSize = nodeSize(type, children[i]);\n            i++;\n            for (; i < to; i++) {\n                let nextSize = nodeSize(type, children[i]);\n                if (groupSize + nextSize >= maxChild)\n                    break;\n                groupSize += nextSize;\n            }\n            if (i == groupFrom + 1) {\n                if (groupSize > maxChild) {\n                    let only = children[groupFrom];\n                    divide(only.children, only.positions, 0, only.children.length, positions[groupFrom] + offset);\n                    continue;\n                }\n                localChildren.push(children[groupFrom]);\n            }\n            else {\n                let length = positions[i - 1] + children[i - 1].length - groupStart;\n                localChildren.push(balanceRange(type, children, positions, groupFrom, i, groupStart, length, null, mkTree));\n            }\n            localPositions.push(groupStart + offset - start);\n        }\n    }\n    divide(children, positions, from, to, 0);\n    return (mkTop || mkTree)(localChildren, localPositions, length);\n}\n\n/// Tree fragments are used during [incremental\n/// parsing](#common.Parser.startParse) to track parts of old trees\n/// that can be reused in a new parse. An array of fragments is used\n/// to track regions of an old tree whose nodes might be reused in new\n/// parses. Use the static\n/// [`applyChanges`](#common.TreeFragment^applyChanges) method to\n/// update fragments for document changes.\nclass TreeFragment {\n    /// Construct a tree fragment.\n    constructor(\n    /// The start of the unchanged range pointed to by this fragment.\n    /// This refers to an offset in the _updated_ document (as opposed\n    /// to the original tree).\n    from, \n    /// The end of the unchanged range.\n    to, \n    /// The tree that this fragment is based on.\n    tree, \n    /// The offset between the fragment's tree and the document that\n    /// this fragment can be used against. Add this when going from\n    /// document to tree positions, subtract it to go from tree to\n    /// document positions.\n    offset, openStart = false, openEnd = false) {\n        this.from = from;\n        this.to = to;\n        this.tree = tree;\n        this.offset = offset;\n        this.open = (openStart ? 1 /* Start */ : 0) | (openEnd ? 2 /* End */ : 0);\n    }\n    /// Whether the start of the fragment represents the start of a\n    /// parse, or the end of a change. (In the second case, it may not\n    /// be safe to reuse some nodes at the start, depending on the\n    /// parsing algorithm.)\n    get openStart() { return (this.open & 1 /* Start */) > 0; }\n    /// Whether the end of the fragment represents the end of a\n    /// full-document parse, or the start of a change.\n    get openEnd() { return (this.open & 2 /* End */) > 0; }\n    /// Create a set of fragments from a freshly parsed tree, or update\n    /// an existing set of fragments by replacing the ones that overlap\n    /// with a tree with content from the new tree. When `partial` is\n    /// true, the parse is treated as incomplete, and the resulting\n    /// fragment has [`openEnd`](#common.TreeFragment.openEnd) set to\n    /// true.\n    static addTree(tree, fragments = [], partial = false) {\n        let result = [new TreeFragment(0, tree.length, tree, 0, false, partial)];\n        for (let f of fragments)\n            if (f.to > tree.length)\n                result.push(f);\n        return result;\n    }\n    /// Apply a set of edits to an array of fragments, removing or\n    /// splitting fragments as necessary to remove edited ranges, and\n    /// adjusting offsets for fragments that moved.\n    static applyChanges(fragments, changes, minGap = 128) {\n        if (!changes.length)\n            return fragments;\n        let result = [];\n        let fI = 1, nextF = fragments.length ? fragments[0] : null;\n        for (let cI = 0, pos = 0, off = 0;; cI++) {\n            let nextC = cI < changes.length ? changes[cI] : null;\n            let nextPos = nextC ? nextC.fromA : 1e9;\n            if (nextPos - pos >= minGap)\n                while (nextF && nextF.from < nextPos) {\n                    let cut = nextF;\n                    if (pos >= cut.from || nextPos <= cut.to || off) {\n                        let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;\n                        cut = fFrom >= fTo ? null : new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);\n                    }\n                    if (cut)\n                        result.push(cut);\n                    if (nextF.to > nextPos)\n                        break;\n                    nextF = fI < fragments.length ? fragments[fI++] : null;\n                }\n            if (!nextC)\n                break;\n            pos = nextC.toA;\n            off = nextC.toA - nextC.toB;\n        }\n        return result;\n    }\n}\n/// A superclass that parsers should extend.\nclass Parser {\n    /// Start a parse, returning a [partial parse](#common.PartialParse)\n    /// object. [`fragments`](#common.TreeFragment) can be passed in to\n    /// make the parse incremental.\n    ///\n    /// By default, the entire input is parsed. You can pass `ranges`,\n    /// which should be a sorted array of non-empty, non-overlapping\n    /// ranges, to parse only those ranges. The tree returned in that\n    /// case will start at `ranges[0].from`.\n    startParse(input, fragments, ranges) {\n        if (typeof input == \"string\")\n            input = new StringInput(input);\n        ranges = !ranges ? [new Range(0, input.length)] : ranges.length ? ranges.map(r => new Range(r.from, r.to)) : [new Range(0, 0)];\n        return this.createParse(input, fragments || [], ranges);\n    }\n    /// Run a full parse, returning the resulting tree.\n    parse(input, fragments, ranges) {\n        let parse = this.startParse(input, fragments, ranges);\n        for (;;) {\n            let done = parse.advance();\n            if (done)\n                return done;\n        }\n    }\n}\nclass StringInput {\n    constructor(string) {\n        this.string = string;\n    }\n    get length() { return this.string.length; }\n    chunk(from) { return this.string.slice(from); }\n    get lineChunks() { return false; }\n    read(from, to) { return this.string.slice(from, to); }\n}\n\n/// Create a parse wrapper that, after the inner parse completes,\n/// scans its tree for mixed language regions with the `nest`\n/// function, runs the resulting [inner parses](#common.NestedParse),\n/// and then [mounts](#common.NodeProp^mounted) their results onto the\n/// tree.\n///\n/// The nesting function is passed a cursor to provide context for a\n/// node, but _should not_ move that cursor, only inspect its\n/// properties and optionally access its\n/// [node object](#common.TreeCursor.node).\nfunction parseMixed(nest) {\n    return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);\n}\nclass InnerParse {\n    constructor(parser, parse, overlay, target) {\n        this.parser = parser;\n        this.parse = parse;\n        this.overlay = overlay;\n        this.target = target;\n    }\n}\nclass ActiveOverlay {\n    constructor(parser, predicate, mounts, index, start, target, prev) {\n        this.parser = parser;\n        this.predicate = predicate;\n        this.mounts = mounts;\n        this.index = index;\n        this.start = start;\n        this.target = target;\n        this.prev = prev;\n        this.depth = 0;\n        this.ranges = [];\n    }\n}\nclass MixedParse {\n    constructor(base, nest, input, fragments, ranges) {\n        this.nest = nest;\n        this.input = input;\n        this.fragments = fragments;\n        this.ranges = ranges;\n        this.inner = [];\n        this.innerDone = 0;\n        this.baseTree = null;\n        this.stoppedAt = null;\n        this.baseParse = base;\n    }\n    advance() {\n        if (this.baseParse) {\n            let done = this.baseParse.advance();\n            if (!done)\n                return null;\n            this.baseParse = null;\n            this.baseTree = done;\n            this.startInner();\n        }\n        if (this.innerDone == this.inner.length)\n            return this.baseTree;\n        let inner = this.inner[this.innerDone], done = inner.parse.advance();\n        if (done) {\n            this.innerDone++;\n            // This is a somewhat dodgy but super helpful hack where we\n            // patch up nodes created by the inner parse (and thus\n            // presumably not aliased anywhere else) to hold the information\n            // about the inner parse.\n            let props = Object.assign(Object.create(null), inner.target.props);\n            props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);\n            inner.target.props = props;\n        }\n        return null;\n    }\n    get parsedPos() {\n        if (this.baseParse)\n            return 0;\n        let next = this.inner[this.innerDone];\n        return next ? next.parse.parsedPos : this.input.length;\n    }\n    stopAt(pos) {\n        this.stoppedAt = pos;\n        if (this.baseParse)\n            this.baseParse.stopAt(pos);\n        else\n            for (let i = this.innerDone; i < this.inner.length; i++)\n                this.inner[i].parse.stopAt(pos);\n    }\n    startInner() {\n        let fragmentCursor = new FragmentCursor(this.fragments);\n        let overlay = null;\n        let covered = null;\n        let cursor = new TreeCursor(new TreeNode(this.baseTree, this.ranges[0].from, 0, null), 1 /* Full */);\n        scan: for (let nest, isCovered;;) {\n            let enter = true, range;\n            if (fragmentCursor.hasNode(cursor)) {\n                if (overlay) {\n                    let match = overlay.mounts.find(m => m.frag.from <= cursor.from && m.frag.to >= cursor.to && m.mount.overlay);\n                    if (match)\n                        for (let r of match.mount.overlay) {\n                            let from = r.from + match.pos, to = r.to + match.pos;\n                            if (from >= cursor.from && to <= cursor.to)\n                                overlay.ranges.push({ from, to });\n                        }\n                }\n                enter = false;\n            }\n            else if (covered && (isCovered = checkCover(covered.ranges, cursor.from, cursor.to))) {\n                enter = isCovered != 2 /* Full */;\n            }\n            else if (!cursor.type.isAnonymous && cursor.from < cursor.to && (nest = this.nest(cursor, this.input))) {\n                if (!cursor.tree)\n                    materialize(cursor);\n                let oldMounts = fragmentCursor.findMounts(cursor.from, nest.parser);\n                if (typeof nest.overlay == \"function\") {\n                    overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor.from, cursor.tree, overlay);\n                }\n                else {\n                    let ranges = punchRanges(this.ranges, nest.overlay || [new Range(cursor.from, cursor.to)]);\n                    if (ranges.length)\n                        this.inner.push(new InnerParse(nest.parser, nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges), nest.overlay ? nest.overlay.map(r => new Range(r.from - cursor.from, r.to - cursor.from)) : null, cursor.tree));\n                    if (!nest.overlay)\n                        enter = false;\n                    else if (ranges.length)\n                        covered = { ranges, depth: 0, prev: covered };\n                }\n            }\n            else if (overlay && (range = overlay.predicate(cursor))) {\n                if (range === true)\n                    range = new Range(cursor.from, cursor.to);\n                if (range.from < range.to)\n                    overlay.ranges.push(range);\n            }\n            if (enter && cursor.firstChild()) {\n                if (overlay)\n                    overlay.depth++;\n                if (covered)\n                    covered.depth++;\n            }\n            else {\n                for (;;) {\n                    if (cursor.nextSibling())\n                        break;\n                    if (!cursor.parent())\n                        break scan;\n                    if (overlay && !--overlay.depth) {\n                        let ranges = punchRanges(this.ranges, overlay.ranges);\n                        if (ranges.length)\n                            this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map(r => new Range(r.from - overlay.start, r.to - overlay.start)), overlay.target));\n                        overlay = overlay.prev;\n                    }\n                    if (covered && !--covered.depth)\n                        covered = covered.prev;\n                }\n            }\n        }\n    }\n}\nfunction checkCover(covered, from, to) {\n    for (let range of covered) {\n        if (range.from >= to)\n            break;\n        if (range.to > from)\n            return range.from <= from && range.to >= to ? 2 /* Full */ : 1 /* Partial */;\n    }\n    return 0 /* None */;\n}\n// Take a piece of buffer and convert it into a stand-alone\n// TreeBuffer.\nfunction sliceBuf(buf, startI, endI, nodes, positions, off) {\n    if (startI < endI) {\n        let from = buf.buffer[startI + 1], to = buf.buffer[endI - 2];\n        nodes.push(buf.slice(startI, endI, from, to));\n        positions.push(from - off);\n    }\n}\n// This function takes a node that's in a buffer, and converts it, and\n// its parent buffer nodes, into a Tree. This is again acting on the\n// assumption that the trees and buffers have been constructed by the\n// parse that was ran via the mix parser, and thus aren't shared with\n// any other code, making violations of the immutability safe.\nfunction materialize(cursor) {\n    let { node } = cursor, depth = 0;\n    // Scan up to the nearest tree\n    do {\n        cursor.parent();\n        depth++;\n    } while (!cursor.tree);\n    // Find the index of the buffer in that tree\n    let i = 0, base = cursor.tree, off = 0;\n    for (;; i++) {\n        off = base.positions[i] + cursor.from;\n        if (off <= node.from && off + base.children[i].length >= node.to)\n            break;\n    }\n    let buf = base.children[i], b = buf.buffer;\n    // Split a level in the buffer, putting the nodes before and after\n    // the child that contains `node` into new buffers.\n    function split(startI, endI, type, innerOffset) {\n        let i = startI;\n        while (b[i + 2] + off <= node.from)\n            i = b[i + 3];\n        let children = [], positions = [];\n        sliceBuf(buf, startI, i, children, positions, innerOffset);\n        let isTarget = b[i + 1] + off == node.from && b[i + 2] + off == node.to && b[i] == node.type.id;\n        children.push(isTarget ? node.toTree() : split(i + 4, b[i + 3], buf.set.types[b[i]], b[i + 1]));\n        positions.push(b[i + 1] - innerOffset);\n        sliceBuf(buf, b[i + 3], endI, children, positions, innerOffset);\n        let last = children.length - 1;\n        return new Tree(type, children, positions, positions[last] + children[last].length);\n    }\n    base.children[i] = split(0, b.length, NodeType.none, 0);\n    // Move the cursor back to the target node\n    for (let d = 0; d <= depth; d++)\n        cursor.childAfter(node.from);\n}\nclass StructureCursor {\n    constructor(root, offset) {\n        this.offset = offset;\n        this.done = false;\n        this.cursor = root.fullCursor();\n    }\n    // Move to the first node (in pre-order) that starts at or after `pos`.\n    moveTo(pos) {\n        let { cursor } = this, p = pos - this.offset;\n        while (!this.done && cursor.from < p) {\n            if (cursor.to >= pos && cursor.enter(p, 1, false, false)) ;\n            else if (!cursor.next(false))\n                this.done = true;\n        }\n    }\n    hasNode(cursor) {\n        this.moveTo(cursor.from);\n        if (!this.done && this.cursor.from + this.offset == cursor.from && this.cursor.tree) {\n            for (let tree = this.cursor.tree;;) {\n                if (tree == cursor.tree)\n                    return true;\n                if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)\n                    tree = tree.children[0];\n                else\n                    break;\n            }\n        }\n        return false;\n    }\n}\nclass FragmentCursor {\n    constructor(fragments) {\n        this.fragments = fragments;\n        this.fragI = 0;\n        if (fragments.length) {\n            let first = this.curFrag = fragments[0];\n            this.inner = new StructureCursor(first.tree, -first.offset);\n        }\n        else {\n            this.curFrag = this.inner = null;\n        }\n    }\n    hasNode(node) {\n        while (this.curFrag && node.from >= this.curFrag.to)\n            this.nextFrag();\n        return this.curFrag && this.curFrag.from <= node.from && this.curFrag.to >= node.to && this.inner.hasNode(node);\n    }\n    nextFrag() {\n        this.fragI++;\n        if (this.fragI == this.fragments.length) {\n            this.curFrag = this.inner = null;\n        }\n        else {\n            let frag = this.curFrag = this.fragments[this.fragI];\n            this.inner = new StructureCursor(frag.tree, -frag.offset);\n        }\n    }\n    findMounts(pos, parser) {\n        var _a;\n        let result = [];\n        if (this.inner) {\n            this.inner.cursor.moveTo(pos, 1);\n            for (let pos = this.inner.cursor.node; pos; pos = pos.parent) {\n                let mount = (_a = pos.tree) === null || _a === void 0 ? void 0 : _a.prop(NodeProp.mounted);\n                if (mount && mount.parser == parser) {\n                    for (let i = this.fragI; i < this.fragments.length; i++) {\n                        let frag = this.fragments[i];\n                        if (frag.from >= pos.to)\n                            break;\n                        if (frag.tree == this.curFrag.tree)\n                            result.push({\n                                frag,\n                                pos: pos.from - frag.offset,\n                                mount\n                            });\n                    }\n                }\n            }\n        }\n        return result;\n    }\n}\nfunction punchRanges(outer, ranges) {\n    let copy = null, current = ranges;\n    for (let i = 1, j = 0; i < outer.length; i++) {\n        let gapFrom = outer[i - 1].to, gapTo = outer[i].from;\n        for (; j < current.length; j++) {\n            let r = current[j];\n            if (r.from >= gapTo)\n                break;\n            if (r.to <= gapFrom)\n                continue;\n            if (!copy)\n                current = copy = ranges.slice();\n            if (r.from < gapFrom) {\n                copy[j] = new Range(r.from, gapFrom);\n                if (r.to > gapTo)\n                    copy.splice(j + 1, 0, new Range(gapTo, r.to));\n            }\n            else if (r.to > gapTo) {\n                copy[j--] = new Range(gapTo, r.to);\n            }\n            else {\n                copy.splice(j--, 1);\n            }\n        }\n    }\n    return current;\n}\nfunction findCoverChanges(a, b, from, to) {\n    let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;\n    let result = [];\n    for (;;) {\n        let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;\n        let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;\n        if (inA != inB) {\n            let start = Math.max(pos, from), end = Math.min(nextA, nextB, to);\n            if (start < end)\n                result.push(new Range(start, end));\n        }\n        pos = Math.min(nextA, nextB);\n        if (pos == 1e9)\n            break;\n        if (nextA == pos) {\n            if (!inA)\n                inA = true;\n            else {\n                inA = false;\n                iA++;\n            }\n        }\n        if (nextB == pos) {\n            if (!inB)\n                inB = true;\n            else {\n                inB = false;\n                iB++;\n            }\n        }\n    }\n    return result;\n}\n// Given a number of fragments for the outer tree, and a set of ranges\n// to parse, find fragments for inner trees mounted around those\n// ranges, if any.\nfunction enterFragments(mounts, ranges) {\n    let result = [];\n    for (let { pos, mount, frag } of mounts) {\n        let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;\n        let from = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);\n        if (mount.overlay) {\n            let overlay = mount.overlay.map(r => new Range(r.from + pos, r.to + pos));\n            let changes = findCoverChanges(ranges, overlay, from, to);\n            for (let i = 0, pos = from;; i++) {\n                let last = i == changes.length, end = last ? to : changes[i].from;\n                if (end > pos)\n                    result.push(new TreeFragment(pos, end, mount.tree, -startPos, frag.from >= pos, frag.to <= end));\n                if (last)\n                    break;\n                pos = changes[i].to;\n            }\n        }\n        else {\n            result.push(new TreeFragment(from, to, mount.tree, -startPos, frag.from >= startPos, frag.to <= endPos));\n        }\n    }\n    return result;\n}\n\nexport { DefaultBufferLength, MountedTree, NodeProp, NodeSet, NodeType, Parser, Tree, TreeBuffer, TreeCursor, TreeFragment, parseMixed };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { Parser, NodeSet, NodeType, DefaultBufferLength, NodeProp, Tree } from '@lezer/common';\n\n/// A parse stack. These are used internally by the parser to track\n/// parsing progress. They also provide some properties and methods\n/// that external code such as a tokenizer can use to get information\n/// about the parse state.\nclass Stack {\n    /// @internal\n    constructor(\n    /// The parse that this stack is part of @internal\n    p, \n    /// Holds state, input pos, buffer index triplets for all but the\n    /// top state @internal\n    stack, \n    /// The current parse state @internal\n    state, \n    // The position at which the next reduce should take place. This\n    // can be less than `this.pos` when skipped expressions have been\n    // added to the stack (which should be moved outside of the next\n    // reduction)\n    /// @internal\n    reducePos, \n    /// The input position up to which this stack has parsed.\n    pos, \n    /// The dynamic score of the stack, including dynamic precedence\n    /// and error-recovery penalties\n    /// @internal\n    score, \n    // The output buffer. Holds (type, start, end, size) quads\n    // representing nodes created by the parser, where `size` is\n    // amount of buffer array entries covered by this node.\n    /// @internal\n    buffer, \n    // The base offset of the buffer. When stacks are split, the split\n    // instance shared the buffer history with its parent up to\n    // `bufferBase`, which is the absolute offset (including the\n    // offset of previous splits) into the buffer at which this stack\n    // starts writing.\n    /// @internal\n    bufferBase, \n    /// @internal\n    curContext, \n    /// @internal\n    lookAhead = 0, \n    // A parent stack from which this was split off, if any. This is\n    // set up so that it always points to a stack that has some\n    // additional buffer content, never to a stack with an equal\n    // `bufferBase`.\n    /// @internal\n    parent) {\n        this.p = p;\n        this.stack = stack;\n        this.state = state;\n        this.reducePos = reducePos;\n        this.pos = pos;\n        this.score = score;\n        this.buffer = buffer;\n        this.bufferBase = bufferBase;\n        this.curContext = curContext;\n        this.lookAhead = lookAhead;\n        this.parent = parent;\n    }\n    /// @internal\n    toString() {\n        return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? \"!\" + this.score : \"\"}`;\n    }\n    // Start an empty stack\n    /// @internal\n    static start(p, state, pos = 0) {\n        let cx = p.parser.context;\n        return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);\n    }\n    /// The stack's current [context](#lr.ContextTracker) value, if\n    /// any. Its type will depend on the context tracker's type\n    /// parameter, or it will be `null` if there is no context\n    /// tracker.\n    get context() { return this.curContext ? this.curContext.context : null; }\n    // Push a state onto the stack, tracking its start position as well\n    // as the buffer base at that point.\n    /// @internal\n    pushState(state, start) {\n        this.stack.push(this.state, start, this.bufferBase + this.buffer.length);\n        this.state = state;\n    }\n    // Apply a reduce action\n    /// @internal\n    reduce(action) {\n        let depth = action >> 19 /* ReduceDepthShift */, type = action & 65535 /* ValueMask */;\n        let { parser } = this.p;\n        let dPrec = parser.dynamicPrecedence(type);\n        if (dPrec)\n            this.score += dPrec;\n        if (depth == 0) {\n            // Zero-depth reductions are a special casethey add stuff to\n            // the stack without popping anything off.\n            if (type < parser.minRepeatTerm)\n                this.storeNode(type, this.reducePos, this.reducePos, 4, true);\n            this.pushState(parser.getGoto(this.state, type, true), this.reducePos);\n            this.reduceContext(type, this.reducePos);\n            return;\n        }\n        // Find the base index into `this.stack`, content after which will\n        // be dropped. Note that with `StayFlag` reductions we need to\n        // consume two extra frames (the dummy parent node for the skipped\n        // expression and the state that we'll be staying in, which should\n        // be moved to `this.state`).\n        let base = this.stack.length - ((depth - 1) * 3) - (action & 262144 /* StayFlag */ ? 6 : 0);\n        let start = this.stack[base - 2];\n        let bufferBase = this.stack[base - 1], count = this.bufferBase + this.buffer.length - bufferBase;\n        // Store normal terms or `R -> R R` repeat reductions\n        if (type < parser.minRepeatTerm || (action & 131072 /* RepeatFlag */)) {\n            let pos = parser.stateFlag(this.state, 1 /* Skipped */) ? this.pos : this.reducePos;\n            this.storeNode(type, start, pos, count + 4, true);\n        }\n        if (action & 262144 /* StayFlag */) {\n            this.state = this.stack[base];\n        }\n        else {\n            let baseStateID = this.stack[base - 3];\n            this.state = parser.getGoto(baseStateID, type, true);\n        }\n        while (this.stack.length > base)\n            this.stack.pop();\n        this.reduceContext(type, start);\n    }\n    // Shift a value into the buffer\n    /// @internal\n    storeNode(term, start, end, size = 4, isReduce = false) {\n        if (term == 0 /* Err */) { // Try to omit/merge adjacent error nodes\n            let cur = this, top = this.buffer.length;\n            if (top == 0 && cur.parent) {\n                top = cur.bufferBase - cur.parent.bufferBase;\n                cur = cur.parent;\n            }\n            if (top > 0 && cur.buffer[top - 4] == 0 /* Err */ && cur.buffer[top - 1] > -1) {\n                if (start == end)\n                    return;\n                if (cur.buffer[top - 2] >= start) {\n                    cur.buffer[top - 2] = end;\n                    return;\n                }\n            }\n        }\n        if (!isReduce || this.pos == end) { // Simple case, just append\n            this.buffer.push(term, start, end, size);\n        }\n        else { // There may be skipped nodes that have to be moved forward\n            let index = this.buffer.length;\n            if (index > 0 && this.buffer[index - 4] != 0 /* Err */)\n                while (index > 0 && this.buffer[index - 2] > end) {\n                    // Move this record forward\n                    this.buffer[index] = this.buffer[index - 4];\n                    this.buffer[index + 1] = this.buffer[index - 3];\n                    this.buffer[index + 2] = this.buffer[index - 2];\n                    this.buffer[index + 3] = this.buffer[index - 1];\n                    index -= 4;\n                    if (size > 4)\n                        size -= 4;\n                }\n            this.buffer[index] = term;\n            this.buffer[index + 1] = start;\n            this.buffer[index + 2] = end;\n            this.buffer[index + 3] = size;\n        }\n    }\n    // Apply a shift action\n    /// @internal\n    shift(action, next, nextEnd) {\n        let start = this.pos;\n        if (action & 131072 /* GotoFlag */) {\n            this.pushState(action & 65535 /* ValueMask */, this.pos);\n        }\n        else if ((action & 262144 /* StayFlag */) == 0) { // Regular shift\n            let nextState = action, { parser } = this.p;\n            if (nextEnd > this.pos || next <= parser.maxNode) {\n                this.pos = nextEnd;\n                if (!parser.stateFlag(nextState, 1 /* Skipped */))\n                    this.reducePos = nextEnd;\n            }\n            this.pushState(nextState, start);\n            this.shiftContext(next, start);\n            if (next <= parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n        else { // Shift-and-stay, which means this is a skipped token\n            this.pos = nextEnd;\n            this.shiftContext(next, start);\n            if (next <= this.p.parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n    }\n    // Apply an action\n    /// @internal\n    apply(action, next, nextEnd) {\n        if (action & 65536 /* ReduceFlag */)\n            this.reduce(action);\n        else\n            this.shift(action, next, nextEnd);\n    }\n    // Add a prebuilt (reused) node into the buffer. @internal\n    useNode(value, next) {\n        let index = this.p.reused.length - 1;\n        if (index < 0 || this.p.reused[index] != value) {\n            this.p.reused.push(value);\n            index++;\n        }\n        let start = this.pos;\n        this.reducePos = this.pos = start + value.length;\n        this.pushState(next, start);\n        this.buffer.push(index, start, this.reducePos, -1 /* size == -1 means this is a reused value */);\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));\n    }\n    // Split the stack. Due to the buffer sharing and the fact\n    // that `this.stack` tends to stay quite shallow, this isn't very\n    // expensive.\n    /// @internal\n    split() {\n        let parent = this;\n        let off = parent.buffer.length;\n        // Because the top of the buffer (after this.pos) may be mutated\n        // to reorder reductions and skipped tokens, and shared buffers\n        // should be immutable, this copies any outstanding skipped tokens\n        // to the new buffer, and puts the base pointer before them.\n        while (off > 0 && parent.buffer[off - 2] > parent.reducePos)\n            off -= 4;\n        let buffer = parent.buffer.slice(off), base = parent.bufferBase + off;\n        // Make sure parent points to an actual parent with content, if there is such a parent.\n        while (parent && base == parent.bufferBase)\n            parent = parent.parent;\n        return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base, this.curContext, this.lookAhead, parent);\n    }\n    // Try to recover from an error by 'deleting' (ignoring) one token.\n    /// @internal\n    recoverByDelete(next, nextEnd) {\n        let isNode = next <= this.p.parser.maxNode;\n        if (isNode)\n            this.storeNode(next, this.pos, nextEnd, 4);\n        this.storeNode(0 /* Err */, this.pos, nextEnd, isNode ? 8 : 4);\n        this.pos = this.reducePos = nextEnd;\n        this.score -= 190 /* Delete */;\n    }\n    /// Check if the given term would be able to be shifted (optionally\n    /// after some reductions) on this stack. This can be useful for\n    /// external tokenizers that want to make sure they only provide a\n    /// given token when it applies.\n    canShift(term) {\n        for (let sim = new SimulatedStack(this);;) {\n            let action = this.p.parser.stateSlot(sim.state, 4 /* DefaultReduce */) || this.p.parser.hasAction(sim.state, term);\n            if ((action & 65536 /* ReduceFlag */) == 0)\n                return true;\n            if (action == 0)\n                return false;\n            sim.reduce(action);\n        }\n    }\n    // Apply up to Recover.MaxNext recovery actions that conceptually\n    // inserts some missing token or rule.\n    /// @internal\n    recoverByInsert(next) {\n        if (this.stack.length >= 300 /* MaxInsertStackDepth */)\n            return [];\n        let nextStates = this.p.parser.nextStates(this.state);\n        if (nextStates.length > 4 /* MaxNext */ << 1 || this.stack.length >= 120 /* DampenInsertStackDepth */) {\n            let best = [];\n            for (let i = 0, s; i < nextStates.length; i += 2) {\n                if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))\n                    best.push(nextStates[i], s);\n            }\n            if (this.stack.length < 120 /* DampenInsertStackDepth */)\n                for (let i = 0; best.length < 4 /* MaxNext */ << 1 && i < nextStates.length; i += 2) {\n                    let s = nextStates[i + 1];\n                    if (!best.some((v, i) => (i & 1) && v == s))\n                        best.push(nextStates[i], s);\n                }\n            nextStates = best;\n        }\n        let result = [];\n        for (let i = 0; i < nextStates.length && result.length < 4 /* MaxNext */; i += 2) {\n            let s = nextStates[i + 1];\n            if (s == this.state)\n                continue;\n            let stack = this.split();\n            stack.storeNode(0 /* Err */, stack.pos, stack.pos, 4, true);\n            stack.pushState(s, this.pos);\n            stack.shiftContext(nextStates[i], this.pos);\n            stack.score -= 200 /* Insert */;\n            result.push(stack);\n        }\n        return result;\n    }\n    // Force a reduce, if possible. Return false if that can't\n    // be done.\n    /// @internal\n    forceReduce() {\n        let reduce = this.p.parser.stateSlot(this.state, 5 /* ForcedReduce */);\n        if ((reduce & 65536 /* ReduceFlag */) == 0)\n            return false;\n        let { parser } = this.p;\n        if (!parser.validAction(this.state, reduce)) {\n            let depth = reduce >> 19 /* ReduceDepthShift */, term = reduce & 65535 /* ValueMask */;\n            let target = this.stack.length - depth * 3;\n            if (target < 0 || parser.getGoto(this.stack[target], term, false) < 0)\n                return false;\n            this.storeNode(0 /* Err */, this.reducePos, this.reducePos, 4, true);\n            this.score -= 100 /* Reduce */;\n        }\n        this.reduce(reduce);\n        return true;\n    }\n    /// @internal\n    forceAll() {\n        while (!this.p.parser.stateFlag(this.state, 2 /* Accepting */) && this.forceReduce()) { }\n        return this;\n    }\n    /// Check whether this state has no further actions (assumed to be a direct descendant of the\n    /// top state, since any other states must be able to continue\n    /// somehow). @internal\n    get deadEnd() {\n        if (this.stack.length != 3)\n            return false;\n        let { parser } = this.p;\n        return parser.data[parser.stateSlot(this.state, 1 /* Actions */)] == 65535 /* End */ &&\n            !parser.stateSlot(this.state, 4 /* DefaultReduce */);\n    }\n    /// Restart the stack (put it back in its start state). Only safe\n    /// when this.stack.length == 3 (state is directly below the top\n    /// state). @internal\n    restart() {\n        this.state = this.stack[0];\n        this.stack.length = 0;\n    }\n    /// @internal\n    sameState(other) {\n        if (this.state != other.state || this.stack.length != other.stack.length)\n            return false;\n        for (let i = 0; i < this.stack.length; i += 3)\n            if (this.stack[i] != other.stack[i])\n                return false;\n        return true;\n    }\n    /// Get the parser used by this stack.\n    get parser() { return this.p.parser; }\n    /// Test whether a given dialect (by numeric ID, as exported from\n    /// the terms file) is enabled.\n    dialectEnabled(dialectID) { return this.p.parser.dialect.flags[dialectID]; }\n    shiftContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    reduceContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    /// @internal\n    emitContext() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -3)\n            this.buffer.push(this.curContext.hash, this.reducePos, this.reducePos, -3);\n    }\n    /// @internal\n    emitLookAhead() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -4)\n            this.buffer.push(this.lookAhead, this.reducePos, this.reducePos, -4);\n    }\n    updateContext(context) {\n        if (context != this.curContext.context) {\n            let newCx = new StackContext(this.curContext.tracker, context);\n            if (newCx.hash != this.curContext.hash)\n                this.emitContext();\n            this.curContext = newCx;\n        }\n    }\n    /// @internal\n    setLookAhead(lookAhead) {\n        if (lookAhead > this.lookAhead) {\n            this.emitLookAhead();\n            this.lookAhead = lookAhead;\n        }\n    }\n    /// @internal\n    close() {\n        if (this.curContext && this.curContext.tracker.strict)\n            this.emitContext();\n        if (this.lookAhead > 0)\n            this.emitLookAhead();\n    }\n}\nclass StackContext {\n    constructor(tracker, context) {\n        this.tracker = tracker;\n        this.context = context;\n        this.hash = tracker.strict ? tracker.hash(context) : 0;\n    }\n}\nvar Recover;\n(function (Recover) {\n    Recover[Recover[\"Insert\"] = 200] = \"Insert\";\n    Recover[Recover[\"Delete\"] = 190] = \"Delete\";\n    Recover[Recover[\"Reduce\"] = 100] = \"Reduce\";\n    Recover[Recover[\"MaxNext\"] = 4] = \"MaxNext\";\n    Recover[Recover[\"MaxInsertStackDepth\"] = 300] = \"MaxInsertStackDepth\";\n    Recover[Recover[\"DampenInsertStackDepth\"] = 120] = \"DampenInsertStackDepth\";\n})(Recover || (Recover = {}));\n// Used to cheaply run some reductions to scan ahead without mutating\n// an entire stack\nclass SimulatedStack {\n    constructor(start) {\n        this.start = start;\n        this.state = start.state;\n        this.stack = start.stack;\n        this.base = this.stack.length;\n    }\n    reduce(action) {\n        let term = action & 65535 /* ValueMask */, depth = action >> 19 /* ReduceDepthShift */;\n        if (depth == 0) {\n            if (this.stack == this.start.stack)\n                this.stack = this.stack.slice();\n            this.stack.push(this.state, 0, 0);\n            this.base += 3;\n        }\n        else {\n            this.base -= (depth - 1) * 3;\n        }\n        let goto = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);\n        this.state = goto;\n    }\n}\n// This is given to `Tree.build` to build a buffer, and encapsulates\n// the parent-stack-walking necessary to read the nodes.\nclass StackBufferCursor {\n    constructor(stack, pos, index) {\n        this.stack = stack;\n        this.pos = pos;\n        this.index = index;\n        this.buffer = stack.buffer;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    static create(stack, pos = stack.bufferBase + stack.buffer.length) {\n        return new StackBufferCursor(stack, pos, pos - stack.bufferBase);\n    }\n    maybeNext() {\n        let next = this.stack.parent;\n        if (next != null) {\n            this.index = this.stack.bufferBase - next.bufferBase;\n            this.stack = next;\n            this.buffer = next.buffer;\n        }\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    next() {\n        this.index -= 4;\n        this.pos -= 4;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    fork() {\n        return new StackBufferCursor(this.stack, this.pos, this.index);\n    }\n}\n\nclass CachedToken {\n    constructor() {\n        this.start = -1;\n        this.value = -1;\n        this.end = -1;\n        this.extended = -1;\n        this.lookAhead = 0;\n        this.mask = 0;\n        this.context = 0;\n    }\n}\nconst nullToken = new CachedToken;\n/// [Tokenizers](#lr.ExternalTokenizer) interact with the input\n/// through this interface. It presents the input as a stream of\n/// characters, tracking lookahead and hiding the complexity of\n/// [ranges](#common.Parser.parse^ranges) from tokenizer code.\nclass InputStream {\n    /// @internal\n    constructor(\n    /// @internal\n    input, \n    /// @internal\n    ranges) {\n        this.input = input;\n        this.ranges = ranges;\n        /// @internal\n        this.chunk = \"\";\n        /// @internal\n        this.chunkOff = 0;\n        /// Backup chunk\n        this.chunk2 = \"\";\n        this.chunk2Pos = 0;\n        /// The character code of the next code unit in the input, or -1\n        /// when the stream is at the end of the input.\n        this.next = -1;\n        /// @internal\n        this.token = nullToken;\n        this.rangeIndex = 0;\n        this.pos = this.chunkPos = ranges[0].from;\n        this.range = ranges[0];\n        this.end = ranges[ranges.length - 1].to;\n        this.readNext();\n    }\n    resolveOffset(offset, assoc) {\n        let range = this.range, index = this.rangeIndex;\n        let pos = this.pos + offset;\n        while (pos < range.from) {\n            if (!index)\n                return null;\n            let next = this.ranges[--index];\n            pos -= range.from - next.to;\n            range = next;\n        }\n        while (assoc < 0 ? pos > range.to : pos >= range.to) {\n            if (index == this.ranges.length - 1)\n                return null;\n            let next = this.ranges[++index];\n            pos += next.from - range.to;\n            range = next;\n        }\n        return pos;\n    }\n    /// Look at a code unit near the stream position. `.peek(0)` equals\n    /// `.next`, `.peek(-1)` gives you the previous character, and so\n    /// on.\n    ///\n    /// Note that looking around during tokenizing creates dependencies\n    /// on potentially far-away content, which may reduce the\n    /// effectiveness incremental parsingwhen looking forwardor even\n    /// cause invalid reparses when looking backward more than 25 code\n    /// units, since the library does not track lookbehind.\n    peek(offset) {\n        let idx = this.chunkOff + offset, pos, result;\n        if (idx >= 0 && idx < this.chunk.length) {\n            pos = this.pos + offset;\n            result = this.chunk.charCodeAt(idx);\n        }\n        else {\n            let resolved = this.resolveOffset(offset, 1);\n            if (resolved == null)\n                return -1;\n            pos = resolved;\n            if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {\n                result = this.chunk2.charCodeAt(pos - this.chunk2Pos);\n            }\n            else {\n                let i = this.rangeIndex, range = this.range;\n                while (range.to <= pos)\n                    range = this.ranges[++i];\n                this.chunk2 = this.input.chunk(this.chunk2Pos = pos);\n                if (pos + this.chunk2.length > range.to)\n                    this.chunk2 = this.chunk2.slice(0, range.to - pos);\n                result = this.chunk2.charCodeAt(0);\n            }\n        }\n        if (pos > this.token.lookAhead)\n            this.token.lookAhead = pos;\n        return result;\n    }\n    /// Accept a token. By default, the end of the token is set to the\n    /// current stream position, but you can pass an offset (relative to\n    /// the stream position) to change that.\n    acceptToken(token, endOffset = 0) {\n        let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;\n        if (end == null || end < this.token.start)\n            throw new RangeError(\"Token end out of bounds\");\n        this.token.value = token;\n        this.token.end = end;\n    }\n    getChunk() {\n        if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {\n            let { chunk, chunkPos } = this;\n            this.chunk = this.chunk2;\n            this.chunkPos = this.chunk2Pos;\n            this.chunk2 = chunk;\n            this.chunk2Pos = chunkPos;\n            this.chunkOff = this.pos - this.chunkPos;\n        }\n        else {\n            this.chunk2 = this.chunk;\n            this.chunk2Pos = this.chunkPos;\n            let nextChunk = this.input.chunk(this.pos);\n            let end = this.pos + nextChunk.length;\n            this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;\n            this.chunkPos = this.pos;\n            this.chunkOff = 0;\n        }\n    }\n    readNext() {\n        if (this.chunkOff >= this.chunk.length) {\n            this.getChunk();\n            if (this.chunkOff == this.chunk.length)\n                return this.next = -1;\n        }\n        return this.next = this.chunk.charCodeAt(this.chunkOff);\n    }\n    /// Move the stream forward N (defaults to 1) code units. Returns\n    /// the new value of [`next`](#lr.InputStream.next).\n    advance(n = 1) {\n        this.chunkOff += n;\n        while (this.pos + n >= this.range.to) {\n            if (this.rangeIndex == this.ranges.length - 1)\n                return this.setDone();\n            n -= this.range.to - this.pos;\n            this.range = this.ranges[++this.rangeIndex];\n            this.pos = this.range.from;\n        }\n        this.pos += n;\n        if (this.pos > this.token.lookAhead)\n            this.token.lookAhead = this.pos;\n        return this.readNext();\n    }\n    setDone() {\n        this.pos = this.chunkPos = this.end;\n        this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];\n        this.chunk = \"\";\n        return this.next = -1;\n    }\n    /// @internal\n    reset(pos, token) {\n        if (token) {\n            this.token = token;\n            token.start = token.lookAhead = pos;\n            token.value = token.extended = -1;\n        }\n        else {\n            this.token = nullToken;\n        }\n        if (this.pos != pos) {\n            this.pos = pos;\n            if (pos == this.end) {\n                this.setDone();\n                return this;\n            }\n            while (pos < this.range.from)\n                this.range = this.ranges[--this.rangeIndex];\n            while (pos >= this.range.to)\n                this.range = this.ranges[++this.rangeIndex];\n            if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {\n                this.chunkOff = pos - this.chunkPos;\n            }\n            else {\n                this.chunk = \"\";\n                this.chunkOff = 0;\n            }\n            this.readNext();\n        }\n        return this;\n    }\n    /// @internal\n    read(from, to) {\n        if (from >= this.chunkPos && to <= this.chunkPos + this.chunk.length)\n            return this.chunk.slice(from - this.chunkPos, to - this.chunkPos);\n        if (from >= this.range.from && to <= this.range.to)\n            return this.input.read(from, to);\n        let result = \"\";\n        for (let r of this.ranges) {\n            if (r.from >= to)\n                break;\n            if (r.to > from)\n                result += this.input.read(Math.max(r.from, from), Math.min(r.to, to));\n        }\n        return result;\n    }\n}\n/// @internal\nclass TokenGroup {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n    }\n    token(input, stack) { readToken(this.data, input, stack, this.id); }\n}\nTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/// `@external tokens` declarations in the grammar should resolve to\n/// an instance of this class.\nclass ExternalTokenizer {\n    /// Create a tokenizer. The first argument is the function that,\n    /// given an input stream, scans for the types of tokens it\n    /// recognizes at the stream's position, and calls\n    /// [`acceptToken`](#lr.InputStream.acceptToken) when it finds\n    /// one.\n    constructor(\n    /// @internal\n    token, options = {}) {\n        this.token = token;\n        this.contextual = !!options.contextual;\n        this.fallback = !!options.fallback;\n        this.extend = !!options.extend;\n    }\n}\n// Tokenizer data is stored a big uint16 array containing, for each\n// state:\n//\n//  - A group bitmask, indicating what token groups are reachable from\n//    this state, so that paths that can only lead to tokens not in\n//    any of the current groups can be cut off early.\n//\n//  - The position of the end of the state's sequence of accepting\n//    tokens\n//\n//  - The number of outgoing edges for the state\n//\n//  - The accepting tokens, as (token id, group mask) pairs\n//\n//  - The outgoing edges, as (start character, end character, state\n//    index) triples, with end character being exclusive\n//\n// This function interprets that data, running through a stream as\n// long as new states with the a matching group mask can be reached,\n// and updating `token` when it matches a token.\nfunction readToken(data, input, stack, group) {\n    let state = 0, groupMask = 1 << group, { parser } = stack.p, { dialect } = parser;\n    scan: for (;;) {\n        if ((groupMask & data[state]) == 0)\n            break;\n        let accEnd = data[state + 1];\n        // Check whether this state can lead to a token in the current group\n        // Accept tokens in this state, possibly overwriting\n        // lower-precedence / shorter tokens\n        for (let i = state + 3; i < accEnd; i += 2)\n            if ((data[i + 1] & groupMask) > 0) {\n                let term = data[i];\n                if (dialect.allows(term) &&\n                    (input.token.value == -1 || input.token.value == term || parser.overrides(term, input.token.value))) {\n                    input.acceptToken(term);\n                    break;\n                }\n            }\n        // Do a binary search on the state's edges\n        for (let next = input.next, low = 0, high = data[state + 2]; low < high;) {\n            let mid = (low + high) >> 1;\n            let index = accEnd + mid + (mid << 1);\n            let from = data[index], to = data[index + 1];\n            if (next < from)\n                high = mid;\n            else if (next >= to)\n                low = mid + 1;\n            else {\n                state = data[index + 2];\n                input.advance();\n                continue scan;\n            }\n        }\n        break;\n    }\n}\n\n// See lezer-generator/src/encode.ts for comments about the encoding\n// used here\nfunction decodeArray(input, Type = Uint16Array) {\n    if (typeof input != \"string\")\n        return input;\n    let array = null;\n    for (let pos = 0, out = 0; pos < input.length;) {\n        let value = 0;\n        for (;;) {\n            let next = input.charCodeAt(pos++), stop = false;\n            if (next == 126 /* BigValCode */) {\n                value = 65535 /* BigVal */;\n                break;\n            }\n            if (next >= 92 /* Gap2 */)\n                next--;\n            if (next >= 34 /* Gap1 */)\n                next--;\n            let digit = next - 32 /* Start */;\n            if (digit >= 46 /* Base */) {\n                digit -= 46 /* Base */;\n                stop = true;\n            }\n            value += digit;\n            if (stop)\n                break;\n            value *= 46 /* Base */;\n        }\n        if (array)\n            array[out++] = value;\n        else\n            array = new Type(value);\n    }\n    return array;\n}\n\n// FIXME find some way to reduce recovery work done when the input\n// doesn't match the grammar at all.\n// Environment variable used to control console output\nconst verbose = typeof process != \"undefined\" && /\\bparse\\b/.test(process.env.LOG);\nlet stackIDs = null;\nvar Safety;\n(function (Safety) {\n    Safety[Safety[\"Margin\"] = 25] = \"Margin\";\n})(Safety || (Safety = {}));\nfunction cutAt(tree, pos, side) {\n    let cursor = tree.fullCursor();\n    cursor.moveTo(pos);\n    for (;;) {\n        if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))\n            for (;;) {\n                if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)\n                    return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 25 /* Margin */))\n                        : Math.min(tree.length, Math.max(cursor.from + 1, pos + 25 /* Margin */));\n                if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())\n                    break;\n                if (!cursor.parent())\n                    return side < 0 ? 0 : tree.length;\n            }\n    }\n}\nclass FragmentCursor {\n    constructor(fragments, nodeSet) {\n        this.fragments = fragments;\n        this.nodeSet = nodeSet;\n        this.i = 0;\n        this.fragment = null;\n        this.safeFrom = -1;\n        this.safeTo = -1;\n        this.trees = [];\n        this.start = [];\n        this.index = [];\n        this.nextFragment();\n    }\n    nextFragment() {\n        let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];\n        if (fr) {\n            this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;\n            this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;\n            while (this.trees.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n            }\n            this.trees.push(fr.tree);\n            this.start.push(-fr.offset);\n            this.index.push(0);\n            this.nextStart = this.safeFrom;\n        }\n        else {\n            this.nextStart = 1e9;\n        }\n    }\n    // `pos` must be >= any previously given `pos` for this cursor\n    nodeAt(pos) {\n        if (pos < this.nextStart)\n            return null;\n        while (this.fragment && this.safeTo <= pos)\n            this.nextFragment();\n        if (!this.fragment)\n            return null;\n        for (;;) {\n            let last = this.trees.length - 1;\n            if (last < 0) { // End of tree\n                this.nextFragment();\n                return null;\n            }\n            let top = this.trees[last], index = this.index[last];\n            if (index == top.children.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n                continue;\n            }\n            let next = top.children[index];\n            let start = this.start[last] + top.positions[index];\n            if (start > pos) {\n                this.nextStart = start;\n                return null;\n            }\n            if (next instanceof Tree) {\n                if (start == pos) {\n                    if (start < this.safeFrom)\n                        return null;\n                    let end = start + next.length;\n                    if (end <= this.safeTo) {\n                        let lookAhead = next.prop(NodeProp.lookAhead);\n                        if (!lookAhead || end + lookAhead < this.fragment.to)\n                            return next;\n                    }\n                }\n                this.index[last]++;\n                if (start + next.length >= Math.max(this.safeFrom, pos)) { // Enter this node\n                    this.trees.push(next);\n                    this.start.push(start);\n                    this.index.push(0);\n                }\n            }\n            else {\n                this.index[last]++;\n                this.nextStart = start + next.length;\n            }\n        }\n    }\n}\nclass TokenCache {\n    constructor(parser, stream) {\n        this.stream = stream;\n        this.tokens = [];\n        this.mainToken = null;\n        this.actions = [];\n        this.tokens = parser.tokenizers.map(_ => new CachedToken);\n    }\n    getActions(stack) {\n        let actionIndex = 0;\n        let main = null;\n        let { parser } = stack.p, { tokenizers } = parser;\n        let mask = parser.stateSlot(stack.state, 3 /* TokenizerMask */);\n        let context = stack.curContext ? stack.curContext.hash : 0;\n        let lookAhead = 0;\n        for (let i = 0; i < tokenizers.length; i++) {\n            if (((1 << i) & mask) == 0)\n                continue;\n            let tokenizer = tokenizers[i], token = this.tokens[i];\n            if (main && !tokenizer.fallback)\n                continue;\n            if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {\n                this.updateCachedToken(token, tokenizer, stack);\n                token.mask = mask;\n                token.context = context;\n            }\n            if (token.lookAhead > token.end + 25 /* Margin */)\n                lookAhead = Math.max(token.lookAhead, lookAhead);\n            if (token.value != 0 /* Err */) {\n                let startIndex = actionIndex;\n                if (token.extended > -1)\n                    actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);\n                actionIndex = this.addActions(stack, token.value, token.end, actionIndex);\n                if (!tokenizer.extend) {\n                    main = token;\n                    if (actionIndex > startIndex)\n                        break;\n                }\n            }\n        }\n        while (this.actions.length > actionIndex)\n            this.actions.pop();\n        if (lookAhead)\n            stack.setLookAhead(lookAhead);\n        if (!main && stack.pos == this.stream.end) {\n            main = new CachedToken;\n            main.value = stack.p.parser.eofTerm;\n            main.start = main.end = stack.pos;\n            actionIndex = this.addActions(stack, main.value, main.end, actionIndex);\n        }\n        this.mainToken = main;\n        return this.actions;\n    }\n    getMainToken(stack) {\n        if (this.mainToken)\n            return this.mainToken;\n        let main = new CachedToken, { pos, p } = stack;\n        main.start = pos;\n        main.end = Math.min(pos + 1, p.stream.end);\n        main.value = pos == p.stream.end ? p.parser.eofTerm : 0 /* Err */;\n        return main;\n    }\n    updateCachedToken(token, tokenizer, stack) {\n        tokenizer.token(this.stream.reset(stack.pos, token), stack);\n        if (token.value > -1) {\n            let { parser } = stack.p;\n            for (let i = 0; i < parser.specialized.length; i++)\n                if (parser.specialized[i] == token.value) {\n                    let result = parser.specializers[i](this.stream.read(token.start, token.end), stack);\n                    if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {\n                        if ((result & 1) == 0 /* Specialize */)\n                            token.value = result >> 1;\n                        else\n                            token.extended = result >> 1;\n                        break;\n                    }\n                }\n        }\n        else {\n            token.value = 0 /* Err */;\n            token.end = Math.min(stack.p.stream.end, stack.pos + 1);\n        }\n    }\n    putAction(action, token, end, index) {\n        // Don't add duplicate actions\n        for (let i = 0; i < index; i += 3)\n            if (this.actions[i] == action)\n                return index;\n        this.actions[index++] = action;\n        this.actions[index++] = token;\n        this.actions[index++] = end;\n        return index;\n    }\n    addActions(stack, token, end, index) {\n        let { state } = stack, { parser } = stack.p, { data } = parser;\n        for (let set = 0; set < 2; set++) {\n            for (let i = parser.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */);; i += 3) {\n                if (data[i] == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */) {\n                        i = pair(data, i + 2);\n                    }\n                    else {\n                        if (index == 0 && data[i + 1] == 2 /* Other */)\n                            index = this.putAction(pair(data, i + 1), token, end, index);\n                        break;\n                    }\n                }\n                if (data[i] == token)\n                    index = this.putAction(pair(data, i + 1), token, end, index);\n            }\n        }\n        return index;\n    }\n}\nvar Rec;\n(function (Rec) {\n    Rec[Rec[\"Distance\"] = 5] = \"Distance\";\n    Rec[Rec[\"MaxRemainingPerStep\"] = 3] = \"MaxRemainingPerStep\";\n    Rec[Rec[\"MinBufferLengthPrune\"] = 200] = \"MinBufferLengthPrune\";\n    Rec[Rec[\"ForceReduceLimit\"] = 10] = \"ForceReduceLimit\";\n})(Rec || (Rec = {}));\nclass Parse {\n    constructor(parser, input, fragments, ranges) {\n        this.parser = parser;\n        this.input = input;\n        this.ranges = ranges;\n        this.recovering = 0;\n        this.nextStackID = 0x2654;\n        this.minStackPos = 0;\n        this.reused = [];\n        this.stoppedAt = null;\n        this.stream = new InputStream(input, ranges);\n        this.tokens = new TokenCache(parser, this.stream);\n        this.topTerm = parser.top[1];\n        let { from } = ranges[0];\n        this.stacks = [Stack.start(this, parser.top[0], from)];\n        this.fragments = fragments.length && this.stream.end - from > parser.bufferLength * 4\n            ? new FragmentCursor(fragments, parser.nodeSet) : null;\n    }\n    get parsedPos() {\n        return this.minStackPos;\n    }\n    // Move the parser forward. This will process all parse stacks at\n    // `this.pos` and try to advance them to a further position. If no\n    // stack for such a position is found, it'll start error-recovery.\n    //\n    // When the parse is finished, this will return a syntax tree. When\n    // not, it returns `null`.\n    advance() {\n        let stacks = this.stacks, pos = this.minStackPos;\n        // This will hold stacks beyond `pos`.\n        let newStacks = this.stacks = [];\n        let stopped, stoppedTokens;\n        // Keep advancing any stacks at `pos` until they either move\n        // forward or can't be advanced. Gather stacks that can't be\n        // advanced further in `stopped`.\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i];\n            for (;;) {\n                this.tokens.mainToken = null;\n                if (stack.pos > pos) {\n                    newStacks.push(stack);\n                }\n                else if (this.advanceStack(stack, newStacks, stacks)) {\n                    continue;\n                }\n                else {\n                    if (!stopped) {\n                        stopped = [];\n                        stoppedTokens = [];\n                    }\n                    stopped.push(stack);\n                    let tok = this.tokens.getMainToken(stack);\n                    stoppedTokens.push(tok.value, tok.end);\n                }\n                break;\n            }\n        }\n        if (!newStacks.length) {\n            let finished = stopped && findFinished(stopped);\n            if (finished)\n                return this.stackToTree(finished);\n            if (this.parser.strict) {\n                if (verbose && stopped)\n                    console.log(\"Stuck with token \" + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : \"none\"));\n                throw new SyntaxError(\"No parse at \" + pos);\n            }\n            if (!this.recovering)\n                this.recovering = 5 /* Distance */;\n        }\n        if (this.recovering && stopped) {\n            let finished = this.runRecovery(stopped, stoppedTokens, newStacks);\n            if (finished)\n                return this.stackToTree(finished.forceAll());\n        }\n        if (this.recovering) {\n            let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3 /* MaxRemainingPerStep */;\n            if (newStacks.length > maxRemaining) {\n                newStacks.sort((a, b) => b.score - a.score);\n                while (newStacks.length > maxRemaining)\n                    newStacks.pop();\n            }\n            if (newStacks.some(s => s.reducePos > pos))\n                this.recovering--;\n        }\n        else if (newStacks.length > 1) {\n            // Prune stacks that are in the same state, or that have been\n            // running without splitting for a while, to avoid getting stuck\n            // with multiple successful stacks running endlessly on.\n            outer: for (let i = 0; i < newStacks.length - 1; i++) {\n                let stack = newStacks[i];\n                for (let j = i + 1; j < newStacks.length; j++) {\n                    let other = newStacks[j];\n                    if (stack.sameState(other) ||\n                        stack.buffer.length > 200 /* MinBufferLengthPrune */ && other.buffer.length > 200 /* MinBufferLengthPrune */) {\n                        if (((stack.score - other.score) || (stack.buffer.length - other.buffer.length)) > 0) {\n                            newStacks.splice(j--, 1);\n                        }\n                        else {\n                            newStacks.splice(i--, 1);\n                            continue outer;\n                        }\n                    }\n                }\n            }\n        }\n        this.minStackPos = newStacks[0].pos;\n        for (let i = 1; i < newStacks.length; i++)\n            if (newStacks[i].pos < this.minStackPos)\n                this.minStackPos = newStacks[i].pos;\n        return null;\n    }\n    stopAt(pos) {\n        if (this.stoppedAt != null && this.stoppedAt < pos)\n            throw new RangeError(\"Can't move stoppedAt forward\");\n        this.stoppedAt = pos;\n    }\n    // Returns an updated version of the given stack, or null if the\n    // stack can't advance normally. When `split` and `stacks` are\n    // given, stacks split off by ambiguous operations will be pushed to\n    // `split`, or added to `stacks` if they move `pos` forward.\n    advanceStack(stack, stacks, split) {\n        let start = stack.pos, { parser } = this;\n        let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n        if (this.stoppedAt != null && start > this.stoppedAt)\n            return stack.forceReduce() ? stack : null;\n        if (this.fragments) {\n            let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;\n            for (let cached = this.fragments.nodeAt(start); cached;) {\n                let match = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser.getGoto(stack.state, cached.type.id) : -1;\n                if (match > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {\n                    stack.useNode(cached, match);\n                    if (verbose)\n                        console.log(base + this.stackID(stack) + ` (via reuse of ${parser.getName(cached.type.id)})`);\n                    return true;\n                }\n                if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)\n                    break;\n                let inner = cached.children[0];\n                if (inner instanceof Tree && cached.positions[0] == 0)\n                    cached = inner;\n                else\n                    break;\n            }\n        }\n        let defaultReduce = parser.stateSlot(stack.state, 4 /* DefaultReduce */);\n        if (defaultReduce > 0) {\n            stack.reduce(defaultReduce);\n            if (verbose)\n                console.log(base + this.stackID(stack) + ` (via always-reduce ${parser.getName(defaultReduce & 65535 /* ValueMask */)})`);\n            return true;\n        }\n        let actions = this.tokens.getActions(stack);\n        for (let i = 0; i < actions.length;) {\n            let action = actions[i++], term = actions[i++], end = actions[i++];\n            let last = i == actions.length || !split;\n            let localStack = last ? stack : stack.split();\n            localStack.apply(action, term, end);\n            if (verbose)\n                console.log(base + this.stackID(localStack) + ` (via ${(action & 65536 /* ReduceFlag */) == 0 ? \"shift\"\n                    : `reduce of ${parser.getName(action & 65535 /* ValueMask */)}`} for ${parser.getName(term)} @ ${start}${localStack == stack ? \"\" : \", split\"})`);\n            if (last)\n                return true;\n            else if (localStack.pos > start)\n                stacks.push(localStack);\n            else\n                split.push(localStack);\n        }\n        return false;\n    }\n    // Advance a given stack forward as far as it will go. Returns the\n    // (possibly updated) stack if it got stuck, or null if it moved\n    // forward and was given to `pushStackDedup`.\n    advanceFully(stack, newStacks) {\n        let pos = stack.pos;\n        for (;;) {\n            if (!this.advanceStack(stack, null, null))\n                return false;\n            if (stack.pos > pos) {\n                pushStackDedup(stack, newStacks);\n                return true;\n            }\n        }\n    }\n    runRecovery(stacks, tokens, newStacks) {\n        let finished = null, restarted = false;\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];\n            let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n            if (stack.deadEnd) {\n                if (restarted)\n                    continue;\n                restarted = true;\n                stack.restart();\n                if (verbose)\n                    console.log(base + this.stackID(stack) + \" (restarted)\");\n                let done = this.advanceFully(stack, newStacks);\n                if (done)\n                    continue;\n            }\n            let force = stack.split(), forceBase = base;\n            for (let j = 0; force.forceReduce() && j < 10 /* ForceReduceLimit */; j++) {\n                if (verbose)\n                    console.log(forceBase + this.stackID(force) + \" (via force-reduce)\");\n                let done = this.advanceFully(force, newStacks);\n                if (done)\n                    break;\n                if (verbose)\n                    forceBase = this.stackID(force) + \" -> \";\n            }\n            for (let insert of stack.recoverByInsert(token)) {\n                if (verbose)\n                    console.log(base + this.stackID(insert) + \" (via recover-insert)\");\n                this.advanceFully(insert, newStacks);\n            }\n            if (this.stream.end > stack.pos) {\n                if (tokenEnd == stack.pos) {\n                    tokenEnd++;\n                    token = 0 /* Err */;\n                }\n                stack.recoverByDelete(token, tokenEnd);\n                if (verbose)\n                    console.log(base + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);\n                pushStackDedup(stack, newStacks);\n            }\n            else if (!finished || finished.score < stack.score) {\n                finished = stack;\n            }\n        }\n        return finished;\n    }\n    // Convert the stack's buffer to a syntax tree.\n    stackToTree(stack) {\n        stack.close();\n        return Tree.build({ buffer: StackBufferCursor.create(stack),\n            nodeSet: this.parser.nodeSet,\n            topID: this.topTerm,\n            maxBufferLength: this.parser.bufferLength,\n            reused: this.reused,\n            start: this.ranges[0].from,\n            length: stack.pos - this.ranges[0].from,\n            minRepeatType: this.parser.minRepeatTerm });\n    }\n    stackID(stack) {\n        let id = (stackIDs || (stackIDs = new WeakMap)).get(stack);\n        if (!id)\n            stackIDs.set(stack, id = String.fromCodePoint(this.nextStackID++));\n        return id + stack;\n    }\n}\nfunction pushStackDedup(stack, newStacks) {\n    for (let i = 0; i < newStacks.length; i++) {\n        let other = newStacks[i];\n        if (other.pos == stack.pos && other.sameState(stack)) {\n            if (newStacks[i].score < stack.score)\n                newStacks[i] = stack;\n            return;\n        }\n    }\n    newStacks.push(stack);\n}\nclass Dialect {\n    constructor(source, flags, disabled) {\n        this.source = source;\n        this.flags = flags;\n        this.disabled = disabled;\n    }\n    allows(term) { return !this.disabled || this.disabled[term] == 0; }\n}\nconst id = x => x;\n/// Context trackers are used to track stateful context (such as\n/// indentation in the Python grammar, or parent elements in the XML\n/// grammar) needed by external tokenizers. You declare them in a\n/// grammar file as `@context exportName from \"module\"`.\n///\n/// Context values should be immutable, and can be updated (replaced)\n/// on shift or reduce actions.\n///\n/// The export used in a `@context` declaration should be of this\n/// type.\nclass ContextTracker {\n    /// Define a context tracker.\n    constructor(spec) {\n        this.start = spec.start;\n        this.shift = spec.shift || id;\n        this.reduce = spec.reduce || id;\n        this.reuse = spec.reuse || id;\n        this.hash = spec.hash || (() => 0);\n        this.strict = spec.strict !== false;\n    }\n}\n/// A parser holds the parse tables for a given grammar, as generated\n/// by `lezer-generator`.\nclass LRParser extends Parser {\n    /// @internal\n    constructor(spec) {\n        super();\n        /// @internal\n        this.wrappers = [];\n        if (spec.version != 13 /* Version */)\n            throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${13 /* Version */})`);\n        let nodeNames = spec.nodeNames.split(\" \");\n        this.minRepeatTerm = nodeNames.length;\n        for (let i = 0; i < spec.repeatNodeCount; i++)\n            nodeNames.push(\"\");\n        let topTerms = Object.keys(spec.topRules).map(r => spec.topRules[r][1]);\n        let nodeProps = [];\n        for (let i = 0; i < nodeNames.length; i++)\n            nodeProps.push([]);\n        function setProp(nodeID, prop, value) {\n            nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);\n        }\n        if (spec.nodeProps)\n            for (let propSpec of spec.nodeProps) {\n                let prop = propSpec[0];\n                for (let i = 1; i < propSpec.length;) {\n                    let next = propSpec[i++];\n                    if (next >= 0) {\n                        setProp(next, prop, propSpec[i++]);\n                    }\n                    else {\n                        let value = propSpec[i + -next];\n                        for (let j = -next; j > 0; j--)\n                            setProp(propSpec[i++], prop, value);\n                        i++;\n                    }\n                }\n            }\n        this.nodeSet = new NodeSet(nodeNames.map((name, i) => NodeType.define({\n            name: i >= this.minRepeatTerm ? undefined : name,\n            id: i,\n            props: nodeProps[i],\n            top: topTerms.indexOf(i) > -1,\n            error: i == 0,\n            skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1\n        })));\n        this.strict = false;\n        this.bufferLength = DefaultBufferLength;\n        let tokenArray = decodeArray(spec.tokenData);\n        this.context = spec.context;\n        this.specialized = new Uint16Array(spec.specialized ? spec.specialized.length : 0);\n        this.specializers = [];\n        if (spec.specialized)\n            for (let i = 0; i < spec.specialized.length; i++) {\n                this.specialized[i] = spec.specialized[i].term;\n                this.specializers[i] = spec.specialized[i].get;\n            }\n        this.states = decodeArray(spec.states, Uint32Array);\n        this.data = decodeArray(spec.stateData);\n        this.goto = decodeArray(spec.goto);\n        this.maxTerm = spec.maxTerm;\n        this.tokenizers = spec.tokenizers.map(value => typeof value == \"number\" ? new TokenGroup(tokenArray, value) : value);\n        this.topRules = spec.topRules;\n        this.dialects = spec.dialects || {};\n        this.dynamicPrecedences = spec.dynamicPrecedences || null;\n        this.tokenPrecTable = spec.tokenPrec;\n        this.termNames = spec.termNames || null;\n        this.maxNode = this.nodeSet.types.length - 1;\n        this.dialect = this.parseDialect();\n        this.top = this.topRules[Object.keys(this.topRules)[0]];\n    }\n    createParse(input, fragments, ranges) {\n        let parse = new Parse(this, input, fragments, ranges);\n        for (let w of this.wrappers)\n            parse = w(parse, input, fragments, ranges);\n        return parse;\n    }\n    /// Get a goto table entry @internal\n    getGoto(state, term, loose = false) {\n        let table = this.goto;\n        if (term >= table[0])\n            return -1;\n        for (let pos = table[term + 1];;) {\n            let groupTag = table[pos++], last = groupTag & 1;\n            let target = table[pos++];\n            if (last && loose)\n                return target;\n            for (let end = pos + (groupTag >> 1); pos < end; pos++)\n                if (table[pos] == state)\n                    return target;\n            if (last)\n                return -1;\n        }\n    }\n    /// Check if this state has an action for a given terminal @internal\n    hasAction(state, terminal) {\n        let data = this.data;\n        for (let set = 0; set < 2; set++) {\n            for (let i = this.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */), next;; i += 3) {\n                if ((next = data[i]) == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */)\n                        next = data[i = pair(data, i + 2)];\n                    else if (data[i + 1] == 2 /* Other */)\n                        return pair(data, i + 2);\n                    else\n                        break;\n                }\n                if (next == terminal || next == 0 /* Err */)\n                    return pair(data, i + 1);\n            }\n        }\n        return 0;\n    }\n    /// @internal\n    stateSlot(state, slot) {\n        return this.states[(state * 6 /* Size */) + slot];\n    }\n    /// @internal\n    stateFlag(state, flag) {\n        return (this.stateSlot(state, 0 /* Flags */) & flag) > 0;\n    }\n    /// @internal\n    validAction(state, action) {\n        if (action == this.stateSlot(state, 4 /* DefaultReduce */))\n            return true;\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    return false;\n            }\n            if (action == pair(this.data, i + 1))\n                return true;\n        }\n    }\n    /// Get the states that can follow this one through shift actions or\n    /// goto jumps. @internal\n    nextStates(state) {\n        let result = [];\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    break;\n            }\n            if ((this.data[i + 2] & (65536 /* ReduceFlag */ >> 16)) == 0) {\n                let value = this.data[i + 1];\n                if (!result.some((v, i) => (i & 1) && v == value))\n                    result.push(this.data[i], value);\n            }\n        }\n        return result;\n    }\n    /// @internal\n    overrides(token, prev) {\n        let iPrev = findOffset(this.data, this.tokenPrecTable, prev);\n        return iPrev < 0 || findOffset(this.data, this.tokenPrecTable, token) < iPrev;\n    }\n    /// Configure the parser. Returns a new parser instance that has the\n    /// given settings modified. Settings not provided in `config` are\n    /// kept from the original parser.\n    configure(config) {\n        // Hideous reflection-based kludge to make it easy to create a\n        // slightly modified copy of a parser.\n        let copy = Object.assign(Object.create(LRParser.prototype), this);\n        if (config.props)\n            copy.nodeSet = this.nodeSet.extend(...config.props);\n        if (config.top) {\n            let info = this.topRules[config.top];\n            if (!info)\n                throw new RangeError(`Invalid top rule name ${config.top}`);\n            copy.top = info;\n        }\n        if (config.tokenizers)\n            copy.tokenizers = this.tokenizers.map(t => {\n                let found = config.tokenizers.find(r => r.from == t);\n                return found ? found.to : t;\n            });\n        if (config.contextTracker)\n            copy.context = config.contextTracker;\n        if (config.dialect)\n            copy.dialect = this.parseDialect(config.dialect);\n        if (config.strict != null)\n            copy.strict = config.strict;\n        if (config.wrap)\n            copy.wrappers = copy.wrappers.concat(config.wrap);\n        if (config.bufferLength != null)\n            copy.bufferLength = config.bufferLength;\n        return copy;\n    }\n    /// Returns the name associated with a given term. This will only\n    /// work for all terms when the parser was generated with the\n    /// `--names` option. By default, only the names of tagged terms are\n    /// stored.\n    getName(term) {\n        return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);\n    }\n    /// The eof term id is always allocated directly after the node\n    /// types. @internal\n    get eofTerm() { return this.maxNode + 1; }\n    /// The type of top node produced by the parser.\n    get topNode() { return this.nodeSet.types[this.top[1]]; }\n    /// @internal\n    dynamicPrecedence(term) {\n        let prec = this.dynamicPrecedences;\n        return prec == null ? 0 : prec[term] || 0;\n    }\n    /// @internal\n    parseDialect(dialect) {\n        let values = Object.keys(this.dialects), flags = values.map(() => false);\n        if (dialect)\n            for (let part of dialect.split(\" \")) {\n                let id = values.indexOf(part);\n                if (id >= 0)\n                    flags[id] = true;\n            }\n        let disabled = null;\n        for (let i = 0; i < values.length; i++)\n            if (!flags[i]) {\n                for (let j = this.dialects[values[i]], id; (id = this.data[j++]) != 65535 /* End */;)\n                    (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id] = 1;\n            }\n        return new Dialect(dialect, flags, disabled);\n    }\n    /// (used by the output of the parser generator) @internal\n    static deserialize(spec) {\n        return new LRParser(spec);\n    }\n}\nfunction pair(data, off) { return data[off] | (data[off + 1] << 16); }\nfunction findOffset(data, start, term) {\n    for (let i = start, next; (next = data[i]) != 65535 /* End */; i++)\n        if (next == term)\n            return i - start;\n    return -1;\n}\nfunction findFinished(stacks) {\n    let best = null;\n    for (let stack of stacks) {\n        let stopped = stack.p.stoppedAt;\n        if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) &&\n            stack.p.parser.stateFlag(stack.state, 2 /* Accepting */) &&\n            (!best || best.score < stack.score))\n            best = stack;\n    }\n    return best;\n}\n\nexport { ContextTracker, ExternalTokenizer, InputStream, LRParser, Stack };\n","import { ContextTracker, ExternalTokenizer, LRParser } from '@lezer/lr';\nimport { NodeProp } from '@lezer/common';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst noSemi = 271,\n  incdec = 1,\n  incdecPrefix = 2,\n  templateContent = 272,\n  templateDollarBrace = 273,\n  templateEnd = 274,\n  insertSemi = 275,\n  TSExtends = 3,\n  spaces = 277,\n  newline = 278,\n  LineComment = 4,\n  BlockComment = 5,\n  Dialect_ts = 1;\n\n/* Hand-written tokenizers for JavaScript tokens that can't be\n   expressed by lezer's built-in tokenizer. */\n\nconst space = [9, 10, 11, 12, 13, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200,\n               8201, 8202, 8232, 8233, 8239, 8287, 12288];\n\nconst braceR = 125, braceL = 123, semicolon = 59, slash = 47, star = 42,\n      plus = 43, minus = 45, dollar = 36, backtick = 96, backslash = 92;\n\nconst trackNewline = new ContextTracker({\n  start: false,\n  shift(context, term) {\n    return term == LineComment || term == BlockComment || term == spaces ? context : term == newline\n  },\n  strict: false\n});\n\nconst insertSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if ((next == braceR || next == -1 || stack.context) && stack.canShift(insertSemi))\n    input.acceptToken(insertSemi);\n}, {contextual: true, fallback: true});\n\nconst noSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input, after;\n  if (space.indexOf(next) > -1) return\n  if (next == slash && ((after = input.peek(1)) == slash || after == star)) return\n  if (next != braceR && next != semicolon && next != -1 && !stack.context && stack.canShift(noSemi))\n    input.acceptToken(noSemi);\n}, {contextual: true});\n\nconst incdecToken = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if (next == plus || next == minus) {\n    input.advance();\n    if (next == input.next) {\n      input.advance();\n      let mayPostfix = !stack.context && stack.canShift(incdec);\n      input.acceptToken(mayPostfix ? incdec : incdecPrefix);\n    }\n  }\n}, {contextual: true});\n\nconst template = new ExternalTokenizer(input => {\n  for (let afterDollar = false, i = 0;; i++) {\n    let {next} = input;\n    if (next < 0) {\n      if (i) input.acceptToken(templateContent);\n      break\n    } else if (next == backtick) {\n      if (i) input.acceptToken(templateContent);\n      else input.acceptToken(templateEnd, 1);\n      break\n    } else if (next == braceL && afterDollar) {\n      if (i == 1) input.acceptToken(templateDollarBrace, 1);\n      else input.acceptToken(templateContent, -1);\n      break\n    } else if (next == 10 /* \"\\n\" */ && i) {\n      // Break up template strings on lines, to avoid huge tokens\n      input.advance();\n      input.acceptToken(templateContent);\n      break\n    } else if (next == backslash) {\n      input.advance();\n    }\n    afterDollar = next == dollar;\n    input.advance();\n  }\n});\n\nfunction tsExtends(value, stack) {\n  return value == \"extends\" && stack.dialectEnabled(Dialect_ts) ? TSExtends : -1\n}\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,export:16, as:21, from:25, default:30, async:35, function:36, this:46, true:54, false:54, void:60, typeof:64, null:78, super:80, new:114, await:131, yield:133, delete:134, class:144, extends:146, public:183, private:183, protected:183, readonly:185, in:204, instanceof:206, const:208, import:240, keyof:291, unique:295, infer:301, is:335, abstract:355, implements:357, type:359, let:362, var:364, interface:371, enum:375, namespace:381, module:383, declare:387, global:391, for:412, of:421, while:424, with:428, do:432, if:436, else:438, switch:442, case:448, try:454, catch:456, finally:458, return:462, throw:466, break:470, continue:474, debugger:478};\nconst spec_word = {__proto__:null,async:101, get:103, set:105, public:153, private:153, protected:153, static:155, abstract:157, readonly:161, new:339};\nconst spec_LessThan = {__proto__:null,\"<\":121};\nconst parser = LRParser.deserialize({\n  version: 13,\n  states: \"$-tO`QYOOO&}Q!LdO'#CgO'UOSO'#DSO)^QYO'#DXO)nQYO'#DdO)uQYO'#DnO-lQYO'#DtOOQO'#EU'#EUO.PQWO'#ETO.UQWO'#ETO0TQ!LdO'#ImO2kQ!LdO'#InO3XQWO'#ErO3^QpO'#FXOOQ!LS'#Ez'#EzO3fO!bO'#EzO3tQWO'#F`O5RQWO'#F_OOQ!LS'#In'#InOOQ!LQ'#Im'#ImOOQQ'#JV'#JVO5WQWO'#HfO5]Q!LYO'#HgOOQQ'#I_'#I_OOQQ'#Hh'#HhQ`QYOOO)uQYO'#DfO5eQWO'#GSO5jQ#tO'#ClO5xQWO'#ESO6TQ#tO'#EyO6oQWO'#GSO6tQWO'#GWO7PQWO'#GWO7_QWO'#GZO7_QWO'#G[O7_QWO'#G^O5eQWO'#GaO8OQWO'#GdO9^QWO'#CcO9nQWO'#GqO9vQWO'#GwO9vQWO'#GyO`QYO'#G{O9vQWO'#G}O9vQWO'#HQO9{QWO'#HWO:QQ!LZO'#H[O)uQYO'#H^O:]Q!LZO'#H`O:hQ!LZO'#HbO5]Q!LYO'#HdO)uQYO'#IoOOOS'#Hj'#HjO:sOSO,59nOOQ!LS,59n,59nO=UQbO'#CgO=`QYO'#HkO=mQWO'#IpO?lQbO'#IpO'aQYO'#IpO?sQWO,59sO@ZQ&jO'#D^OASQWO'#EUOAaQWO'#IzOAlQWO'#IyOAtQWO,5:rOAyQWO'#IxOBQQWO'#DuO5jQ#tO'#ESOB`QWO'#ESOBkQ`O'#EyOOQ!LS,5:O,5:OOBsQYO,5:OODqQ!LdO,5:YOE_QWO,5:`OExQ!LYO'#IwO6tQWO'#IvOFPQWO'#IvOFXQWO,5:qOF^QWO'#IvOFlQYO,5:oOHiQWO'#EQOIsQWO,5:oOKSQWO'#DhOKZQYO'#DmOKeQ&jO,5:xO)uQYO,5:xOOQQ'#Ej'#EjOOQQ'#El'#ElO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yOOQQ'#Ep'#EpOKjQYO,5;ZOOQ!LS,5;`,5;`OOQ!LS,5;a,5;aOMgQWO,5;aOOQ!LS,5;b,5;bO)uQYO'#HuOMlQ!LYO,5;{ONWQWO,5:yO)uQYO,5;^ONpQpO'#JOON_QpO'#JOONwQpO'#JOO! YQpO,5;iOOQO,5;s,5;sO! hQYO'#FZOOOO'#Ht'#HtO3fO!bO,5;fO! oQpO'#F]OOQ!LS,5;f,5;fO!!]Q,UO'#CqOOQ!LS'#Ct'#CtO!!pQWO'#CtO!!uOSO'#CxO!#cQ#tO,5;xO!#jQWO,5;zO!$vQWO'#FjO!%TQWO'#FkO!%YQWO'#FoO!&[Q&jO'#FsO!&}Q,UO'#IhOOQ!LS'#Ih'#IhO!'XQWO'#IgO!'gQWO'#IfOOQ!LS'#Cr'#CrOOQ!LS'#Cy'#CyO!'oQWO'#C{OIxQWO'#FbOIxQWO'#FdO!'tQWO'#FfO!'yQWO'#FgO!(OQWO'#FmOIxQWO'#FrO!(TQWO'#EVO!(lQWO,5;yO`QYO,5>QOOQQ'#Ib'#IbOOQQ,5>R,5>ROOQQ-E;f-E;fO!*hQ!LdO,5:QOOQ!LQ'#Co'#CoO!+XQ#tO,5<nOOQO'#Ce'#CeO!+jQWO'#CpO!+rQ!LYO'#IcO5RQWO'#IcO9{QWO,59WO!,QQpO,59WO!,YQ#tO,59WO5jQ#tO,59WO!,eQWO,5:oO!,mQWO'#GpO!,uQWO'#JZO)uQYO,5;cOKeQ&jO,5;eO!,}QWO,5=ZO!-SQWO,5=ZO!-XQWO,5=ZO5]Q!LYO,5=ZO5eQWO,5<nO!-gQWO'#EWO!-xQ&jO'#EXOOQ!LQ'#Ix'#IxO!.ZQ!LYO'#JWO5]Q!LYO,5<rO7_QWO,5<xOOQO'#Cq'#CqO!.fQpO,5<uO!.nQ#tO,5<vO!.yQWO,5<xO!/OQ`O,5<{O9{QWO'#GfO5eQWO'#GhO!/WQWO'#GhO5jQ#tO'#GkO!/]QWO'#GkOOQQ,5=O,5=OO!/bQWO'#GlO!/jQWO'#ClO!/oQWO,58}O!/yQWO,58}O!1xQYO,58}OOQQ,58},58}O!2VQ!LYO,58}O)uQYO,58}O!2bQYO'#GsOOQQ'#Gt'#GtOOQQ'#Gu'#GuO`QYO,5=]O!2rQWO,5=]O)uQYO'#DtO`QYO,5=cO`QYO,5=eO!2wQWO,5=gO`QYO,5=iO!2|QWO,5=lO!3RQYO,5=rOOQQ,5=v,5=vO)uQYO,5=vO5]Q!LYO,5=xOOQQ,5=z,5=zO!7PQWO,5=zOOQQ,5=|,5=|O!7PQWO,5=|OOQQ,5>O,5>OO!7UQ`O,5?ZOOOS-E;h-E;hOOQ!LS1G/Y1G/YO!7ZQbO,5>VO)uQYO,5>VOOQO-E;i-E;iO!7eQWO,5?[O!7mQbO,5?[O!7tQWO,5?eOOQ!LS1G/_1G/_O!7|QpO'#DQOOQO'#Ir'#IrO)uQYO'#IrO!8kQpO'#IrO!9YQpO'#D_O!9kQ&jO'#D_O!;sQYO'#D_O!;zQWO'#IqO!<SQWO,59xO!<XQWO'#EYO!<gQWO'#I{O!<oQWO,5:sO!=VQ&jO'#D_O)uQYO,5?fO!=aQWO'#HpO!7tQWO,5?eOOQ!LQ1G0^1G0^O!>gQ&jO'#DxOOQ!LS,5:a,5:aO)uQYO,5:aOHiQWO,5:aO!>nQWO,5:aO9{QWO,5:nO!,QQpO,5:nO!,YQ#tO,5:nO5jQ#tO,5:nOOQ!LS1G/j1G/jOOQ!LS1G/z1G/zOOQ!LQ'#EP'#EPO)uQYO,5?cO!>yQ!LYO,5?cO!?[Q!LYO,5?cO!?cQWO,5?bO!?kQWO'#HrO!?cQWO,5?bOOQ!LQ1G0]1G0]O6tQWO,5?bOOQ!LS1G0Z1G0ZO!@VQ!LdO1G0ZO!@vQ!LbO,5:lOOQ!LS'#Fi'#FiO!AdQ!LdO'#IhOFlQYO1G0ZO!CcQ#tO'#IsO!CmQWO,5:SO!CrQbO'#ItO)uQYO'#ItO!C|QWO,5:XOOQ!LS'#DQ'#DQOOQ!LS1G0d1G0dO!DRQWO1G0dO!FdQ!LdO1G0eO!FkQ!LdO1G0eO!IOQ!LdO1G0eO!IVQ!LdO1G0eO!K^Q!LdO1G0eO!KqQ!LdO1G0eO!NbQ!LdO1G0eO!NiQ!LdO1G0eO#!|Q!LdO1G0eO##TQ!LdO1G0eO#$xQ!LdO1G0eO#'rQ7^O'#CgO#)mQ7^O1G0uO#+hQ7^O'#InOOQ!LS1G0{1G0{O#+{Q!LdO,5>aOOQ!LQ-E;s-E;sO#,lQ!LdO1G0eOOQ!LS1G0e1G0eO#.nQ!LdO1G0xO#/_QpO,5;kO#/dQpO,5;lO#/iQpO'#FSO#/}QWO'#FROOQO'#JP'#JPOOQO'#Hs'#HsO#0SQpO1G1TOOQ!LS1G1T1G1TOOQO1G1^1G1^O#0bQ7^O'#ImO#0lQWO,5;uOKjQYO,5;uOOOO-E;r-E;rOOQ!LS1G1Q1G1QOOQ!LS,5;w,5;wO#0qQpO,5;wOOQ!LS,59`,59`OHiQWO'#IjOOOS'#Hi'#HiO#0vOSO,59dOOQ!LS,59d,59dO)uQYO1G1dOKeQ&jO'#HwO#1RQWO,5<]OOQ!LS,5<Y,5<YOOQO'#F}'#F}OIxQWO,5<hOOQO'#GP'#GPOIxQWO,5<jOIxQWO,5<lOOQO1G1f1G1fO#1^Q`O'#CoO#1qQ`O,5<UO#1xQWO'#JSO5eQWO'#JSO#2WQWO,5<WOIxQWO,5<VO#2]Q`O'#FiO#2jQ`O'#JTO#2tQWO'#JTOHiQWO'#JTO#2yQWO,5<ZOOQ!LQ'#Dc'#DcO#3OQWO'#FlO#3ZQpO'#FtO!&VQ&jO'#FtO!&VQ&jO'#FvO#3lQWO'#FwO!(OQWO'#FzOOQO'#Hy'#HyO#3qQ&jO,5<_OOQ!LS,5<_,5<_O#3xQ&jO'#FtO#4WQ&jO'#FuO#4`Q&jO'#FuOOQ!LS,5<m,5<mOIxQWO,5?ROIxQWO,5?RO#4eQWO'#HzO#4pQWO,5?QOOQ!LS'#Cg'#CgO#5dQ#tO,59gOOQ!LS,59g,59gO#6VQ#tO,5;|O#6xQ#tO,5<OO#7SQWO,5<QOOQ!LS,5<R,5<RO#7XQWO,5<XO#7^Q#tO,5<^OFlQYO1G1eO#7nQWO1G1eOOQQ1G3l1G3lOOQ!LS1G/l1G/lOMgQWO1G/lOOQQ1G2Y1G2YOHiQWO1G2YO)uQYO1G2YOHiQWO1G2YO#7sQWO1G2YO#8RQWO,59[O#9[QWO'#EQOOQ!LQ,5>},5>}O#9fQ!LYO,5>}OOQQ1G.r1G.rO9{QWO1G.rO!,QQpO1G.rO!,YQ#tO1G.rO#9tQWO1G0ZO#9yQWO'#CgO#:UQWO'#J[O#:^QWO,5=[O#:cQWO'#J[O#:hQWO'#ISO#:vQWO,5?uO#;OQbO1G0}OOQ!LS1G1P1G1PO5eQWO1G2uO#;VQWO1G2uO#;[QWO1G2uO#;aQWO1G2uOOQQ1G2u1G2uO#;fQ#tO1G2YO6tQWO'#IyO6tQWO'#EYO6tQWO'#H|O#;wQ!LYO,5?rOOQQ1G2^1G2^O!.yQWO1G2dOHiQWO1G2aO#<SQWO1G2aOOQQ1G2b1G2bOHiQWO1G2bO#<XQWO1G2bO#<aQ&jO'#G`OOQQ1G2d1G2dO!&VQ&jO'#IOO!/OQ`O1G2gOOQQ1G2g1G2gOOQQ,5=Q,5=QO#<iQ#tO,5=SO5eQWO,5=SO#3lQWO,5=VO5RQWO,5=VO!,QQpO,5=VO!,YQ#tO,5=VO5jQ#tO,5=VO#<zQWO'#JYO#=VQWO,5=WOOQQ1G.i1G.iO#=[Q!LYO1G.iO#=gQWO1G.iO!'oQWO1G.iO5]Q!LYO1G.iO#=lQbO,5?wO#=vQWO,5?wO#>RQYO,5=_O#>YQWO,5=_O6tQWO,5?wOOQQ1G2w1G2wO`QYO1G2wOOQQ1G2}1G2}OOQQ1G3P1G3PO9vQWO1G3RO#>_QYO1G3TO#BVQYO'#HSOOQQ1G3W1G3WO9{QWO1G3^O#BdQWO1G3^O5]Q!LYO1G3bOOQQ1G3d1G3dOOQ!LQ'#Fp'#FpO5]Q!LYO1G3fO5]Q!LYO1G3hOOOS1G4u1G4uO#BlQ`O,5;{O#BtQbO1G3qO#COQWO1G4vO#CWQWO1G5PO#C`QWO,5?^OKjQYO,5:tO6tQWO,5:tO9{QWO,59yOKjQYO,59yO!,QQpO,59yO#CeQ7^O,59yOOQO,5:t,5:tO#CoQ&jO'#HlO#DVQWO,5?]OOQ!LS1G/d1G/dO#D_Q&jO'#HqO#DsQWO,5?gOOQ!LQ1G0_1G0_O!9kQ&jO,59yO#D{QbO1G5QOOQO,5>[,5>[O6tQWO,5>[OOQO-E;n-E;nO#EVQ!LrO'#D}O!&VQ&jO'#DyOOQO'#Ho'#HoO#EqQ&jO,5:dOOQ!LS,5:d,5:dO#ExQ&jO'#DyO#FWQ&jO'#D}O#FlQ&jO'#D}O!&VQ&jO'#D}O#FvQWO1G/{O#F{Q`O1G/{OOQ!LS1G/{1G/{O)uQYO1G/{OHiQWO1G/{OOQ!LS1G0Y1G0YO9{QWO1G0YO!,QQpO1G0YO!,YQ#tO1G0YO#GSQ!LdO1G4}O)uQYO1G4}O#GdQ!LYO1G4}O#GuQWO1G4|O6tQWO,5>^OOQO,5>^,5>^O#G}QWO,5>^OOQO-E;p-E;pO#GuQWO1G4|O#H]Q!LdO,59gO#J[Q!LdO,5;|O#L^Q!LdO,5<OO#N`Q!LdO,5<^OOQ!LS7+%u7+%uO$!hQ!LdO7+%uO$#XQWO'#HmO$#cQWO,5?_OOQ!LS1G/n1G/nO$#kQYO'#HnO$#xQWO,5?`O$$QQbO,5?`OOQ!LS1G/s1G/sOOQ!LS7+&O7+&OO$$[Q7^O,5:YO)uQYO7+&aO$$fQ7^O,5:QOOQO1G1V1G1VOOQO1G1W1G1WO$$sQMhO,5;nOKjQYO,5;mOOQO-E;q-E;qOOQ!LS7+&o7+&oOOQO7+&x7+&xOOOO1G1a1G1aO$%OQWO1G1aOOQ!LS1G1c1G1cO$%TQ`O,5?UOOOS-E;g-E;gOOQ!LS1G/O1G/OO$%[Q!LdO7+'OOOQ!LS,5>c,5>cO$%{QWO,5>cOOQ!LS1G1w1G1wP$&QQWO'#HwPOQ!LS-E;u-E;uO$&qQ#tO1G2SO$'dQ#tO1G2UO$'nQ#tO1G2WOOQ!LS1G1p1G1pO$'uQWO'#HvO$(TQWO,5?nO$(TQWO,5?nO$(]QWO,5?nO$(hQWO,5?nOOQO1G1r1G1rO$(vQ#tO1G1qO$)WQWO'#HxO$)hQWO,5?oOHiQWO,5?oO$)pQ`O,5?oOOQ!LS1G1u1G1uO5]Q!LYO,5<`O5]Q!LYO,5<aO$)zQWO,5<aO#3gQWO,5<aO!,QQpO,5<`O$*PQWO,5<bO5]Q!LYO,5<cO$)zQWO,5<fOOQO-E;w-E;wOOQ!LS1G1y1G1yO!&VQ&jO,5<`O$*XQWO,5<aO!&VQ&jO,5<bO!&VQ&jO,5<aO$*dQ#tO1G4mO$*nQ#tO1G4mOOQO,5>f,5>fOOQO-E;x-E;xOKeQ&jO,59iO)uQYO,59iO$*{QWO1G1lOIxQWO1G1sO$+QQ!LdO7+'POOQ!LS7+'P7+'POFlQYO7+'POOQ!LS7+%W7+%WO$+qQ`O'#JUO#FvQWO7+'tO$+{QWO7+'tO$,TQ`O7+'tOOQQ7+'t7+'tOHiQWO7+'tO)uQYO7+'tOHiQWO7+'tOOQO1G.v1G.vO$,_Q!LbO'#CgO$,oQ!LbO,5<dO$-^QWO,5<dOOQ!LQ1G4i1G4iOOQQ7+$^7+$^O9{QWO7+$^O!,QQpO7+$^OFlQYO7+%uO$-cQWO'#IRO$-nQWO,5?vOOQO1G2v1G2vO5eQWO,5?vOOQO,5>n,5>nOOQO-E<Q-E<QOOQ!LS7+&i7+&iO$-vQWO7+(aO5]Q!LYO7+(aO5eQWO7+(aO$-{QWO7+(aO$.QQWO7+'tOOQ!LQ,5>h,5>hOOQ!LQ-E;z-E;zOOQQ7+(O7+(OO$.`Q!LbO7+'{OHiQWO7+'{O$.jQ`O7+'|OOQQ7+'|7+'|OHiQWO7+'|O$.qQWO'#JXO$.|QWO,5<zOOQO,5>j,5>jOOQO-E;|-E;|OOQQ7+(R7+(RO$/sQ&jO'#GiOOQQ1G2n1G2nOHiQWO1G2nO)uQYO1G2nOHiQWO1G2nO$/zQWO1G2nO$0YQ#tO1G2nO5]Q!LYO1G2qO#3lQWO1G2qO5RQWO1G2qO!,QQpO1G2qO!,YQ#tO1G2qO$0kQWO'#IQO$0vQWO,5?tO$1OQ&jO,5?tOOQ!LQ1G2r1G2rOOQQ7+$T7+$TO$1TQWO7+$TO5]Q!LYO7+$TO$1YQWO7+$TO)uQYO1G5cO)uQYO1G5dO$1_QYO1G2yO$1fQWO1G2yO$1kQYO1G2yO$1rQ!LYO1G5cOOQQ7+(c7+(cO5]Q!LYO7+(mO`QYO7+(oOOQQ'#J_'#J_OOQQ'#IT'#ITO$1|QYO,5=nOOQQ,5=n,5=nO)uQYO'#HTO$2ZQWO'#HVOOQQ7+(x7+(xO$2`QYO7+(xO6tQWO7+(xOOQQ7+(|7+(|OOQQ7+)Q7+)QOOQQ7+)S7+)SOOQO1G4x1G4xO$6ZQ7^O1G0`O$6eQWO1G0`OOQO1G/e1G/eO$6pQ7^O1G/eO9{QWO1G/eOKjQYO'#D_OOQO,5>W,5>WOOQO-E;j-E;jOOQO,5>],5>]OOQO-E;o-E;oO!,QQpO1G/eOOQO1G3v1G3vO9{QWO,5:eOOQO,5:i,5:iO)uQYO,5:iO$6zQ!LYO,5:iO$7VQ!LYO,5:iO!,QQpO,5:eOOQO-E;m-E;mOOQ!LS1G0O1G0OO!&VQ&jO,5:eO$7eQ!LrO,5:iO$8PQ&jO,5:eO!&VQ&jO,5:iO$8_Q&jO,5:iO$8sQ!LYO,5:iOOQ!LS7+%g7+%gO#FvQWO7+%gO#F{Q`O7+%gOOQ!LS7+%t7+%tO9{QWO7+%tO!,QQpO7+%tO$9XQ!LdO7+*iO)uQYO7+*iOOQO1G3x1G3xO6tQWO1G3xO$9iQWO7+*hO$9qQ!LdO1G2SO$;sQ!LdO1G2UO$=uQ!LdO1G1qO$?}Q#tO,5>XOOQO-E;k-E;kO$@XQbO,5>YO)uQYO,5>YOOQO-E;l-E;lO$@cQWO1G4zO$@kQ7^O1G0ZO$BrQ7^O1G0eO$ByQ7^O1G0eO$DzQ7^O1G0eO$ERQ7^O1G0eO$FvQ7^O1G0eO$GZQ7^O1G0eO$IhQ7^O1G0eO$IoQ7^O1G0eO$KpQ7^O1G0eO$KwQ7^O1G0eO$MlQ7^O1G0eO$NPQ!LdO<<I{O$NpQ7^O1G0eO%!`Q7^O'#IhO%$]Q7^O1G0xOKjQYO'#FUOOQO'#JQ'#JQOOQO1G1Y1G1YO%$jQWO1G1XO%$oQ7^O,5>aOOOO7+&{7+&{OOOS1G4p1G4pOOQ!LS1G3}1G3}OIxQWO7+'rO%$yQWO,5>bO5eQWO,5>bOOQO-E;t-E;tO%%XQWO1G5YO%%XQWO1G5YO%%aQWO1G5YO%%lQ`O,5>dO%%vQWO,5>dOHiQWO,5>dOOQO-E;v-E;vO%%{Q`O1G5ZO%&VQWO1G5ZOOQO1G1z1G1zOOQO1G1{1G1{O5]Q!LYO1G1{O$)zQWO1G1{O5]Q!LYO1G1zO%&_QWO1G1|OHiQWO1G1|OOQO1G1}1G1}O5]Q!LYO1G2QO!,QQpO1G1zO#3gQWO1G1{O%&dQWO1G1|O%&lQWO1G1{OIxQWO7+*XOOQ!LS1G/T1G/TO%&wQWO1G/TOOQ!LS7+'W7+'WO%&|Q#tO7+'_O%'^Q!LdO<<JkOOQ!LS<<Jk<<JkOHiQWO'#H{O%'}QWO,5?pOOQQ<<K`<<K`OHiQWO<<K`O#FvQWO<<K`O%(VQWO<<K`O%(_Q`O<<K`OHiQWO1G2OOOQQ<<Gx<<GxO9{QWO<<GxO%(iQ!LdO<<IaOOQ!LS<<Ia<<IaOOQO,5>m,5>mO%)YQWO,5>mOOQO-E<P-E<PO%)_QWO1G5bO%)gQWO<<K{OOQQ<<K{<<K{O%)lQWO<<K{O5]Q!LYO<<K{O)uQYO<<K`OHiQWO<<K`OOQQ<<Kg<<KgO$.`Q!LbO<<KgOOQQ<<Kh<<KhO$.jQ`O<<KhO%)qQ&jO'#H}O%)|QWO,5?sOKjQYO,5?sOOQQ1G2f1G2fO#EVQ!LrO'#D}O!&VQ&jO'#GjOOQO'#IP'#IPO%*UQ&jO,5=TOOQQ,5=T,5=TO#4WQ&jO'#D}O%*]Q&jO'#D}O%*qQ&jO'#D}O%*{Q&jO'#GjO%+ZQWO7+(YO%+`QWO7+(YO%+hQ`O7+(YOOQQ7+(Y7+(YOHiQWO7+(YO)uQYO7+(YOHiQWO7+(YO%+rQWO7+(YOOQQ7+(]7+(]O5]Q!LYO7+(]O#3lQWO7+(]O5RQWO7+(]O!,QQpO7+(]O%,QQWO,5>lOOQO-E<O-E<OOOQO'#Gm'#GmO%,]QWO1G5`O5]Q!LYO<<GoOOQQ<<Go<<GoO%,eQWO<<GoO%,jQWO7+*}O%,oQWO7++OOOQQ7+(e7+(eO%,tQWO7+(eO%,yQYO7+(eO%-QQWO7+(eO)uQYO7+*}O)uQYO7++OOOQQ<<LX<<LXOOQQ<<LZ<<LZOOQQ-E<R-E<ROOQQ1G3Y1G3YO%-VQWO,5=oOOQQ,5=q,5=qO9{QWO<<LdO%-[QWO<<LdOKjQYO7+%zOOQO7+%P7+%PO%-aQ7^O1G5QO9{QWO7+%POOQO1G0P1G0PO%-kQ!LdO1G0TOOQO1G0T1G0TO)uQYO1G0TO%-uQ!LYO1G0TO9{QWO1G0PO!,QQpO1G0PO%.QQ!LYO1G0TO!&VQ&jO1G0PO%.`Q!LYO1G0TO%.tQ!LrO1G0TO%/OQ&jO1G0PO!&VQ&jO1G0TOOQ!LS<<IR<<IROOQ!LS<<I`<<I`O9{QWO<<I`O%/^Q!LdO<<NTOOQO7+)d7+)dO%/nQ!LdO7+'_O%1vQbO1G3tO%2QQ7^O7+%uO%2_Q7^O,59gO%4[Q7^O,5;|O%6XQ7^O,5<OO%8UQ7^O,5<^O%9tQ7^O7+'OO%:RQ7^O7+'PO%:`QWO,5;pOOQO7+&s7+&sO%:eQ#tO<<K^OOQO1G3|1G3|O%:uQWO1G3|O%;QQWO1G3|O%;`QWO7+*tO%;`QWO7+*tOHiQWO1G4OO%;hQ`O1G4OO%;rQWO7+*uOOQO7+'g7+'gO5]Q!LYO7+'gOOQO7+'f7+'fO$)zQWO7+'hO%;zQ`O7+'hOOQO7+'l7+'lO5]Q!LYO7+'fO$)zQWO7+'gO%<RQWO7+'hOHiQWO7+'hO#3gQWO7+'gO%<WQ#tO<<MsOOQ!LS7+$o7+$oO%<bQ`O,5>gOOQO-E;y-E;yO#FvQWOAN@zOOQQAN@zAN@zOHiQWOAN@zO%<lQ!LbO7+'jOOQQAN=dAN=dO5eQWO1G4XO%<yQWO7+*|O5]Q!LYOANAgO%=RQWOANAgOOQQANAgANAgO%=WQWOAN@zO%=`Q`OAN@zOOQQANARANAROOQQANASANASO%=jQWO,5>iOOQO-E;{-E;{O%=uQ7^O1G5_O#3lQWO,5=UO5RQWO,5=UO!,QQpO,5=UOOQO-E;}-E;}OOQQ1G2o1G2oO$7eQ!LrO,5:iO!&VQ&jO,5=UO%>PQ&jO,5=UO%>_Q&jO,5:iOOQQ<<Kt<<KtOHiQWO<<KtO%+ZQWO<<KtO%>sQWO<<KtO%>{Q`O<<KtO)uQYO<<KtOHiQWO<<KtOOQQ<<Kw<<KwO5]Q!LYO<<KwO#3lQWO<<KwO5RQWO<<KwO%?VQ&jO1G4WO%?[QWO7+*zOOQQAN=ZAN=ZO5]Q!LYOAN=ZOOQQ<<Ni<<NiOOQQ<<Nj<<NjOOQQ<<LP<<LPO%?dQWO<<LPO%?iQYO<<LPO%?pQWO<<NiO%?uQWO<<NjOOQQ1G3Z1G3ZOOQQANBOANBOO9{QWOANBOO%?zQ7^O<<IfOOQO<<Hk<<HkOOQO7+%o7+%oO%-kQ!LdO7+%oO)uQYO7+%oOOQO7+%k7+%kO9{QWO7+%kO%@UQ!LYO7+%oO!,QQpO7+%kO%@aQ!LYO7+%oO!&VQ&jO7+%kO%@oQ!LYO7+%oOOQ!LSAN>zAN>zO%ATQ!LdO<<K^O%C]Q7^O<<I{O%CjQ7^O1G1qO%EYQ7^O1G2SO%GVQ7^O1G2UO%ISQ7^O<<JkO%IaQ7^O<<IaOOQO1G1[1G1[OOQO7+)h7+)hO%InQWO7+)hO%IyQWO<<N`O%JRQ`O7+)jOOQO<<KR<<KRO5]Q!LYO<<KSO$)zQWO<<KSOOQO<<KQ<<KQO5]Q!LYO<<KRO%J]Q`O<<KSO$)zQWO<<KROOQQG26fG26fO#FvQWOG26fOOQO7+)s7+)sOOQQG27RG27RO5]Q!LYOG27ROHiQWOG26fOKjQYO1G4TO%JdQWO7+*yO5]Q!LYO1G2pO#3lQWO1G2pO5RQWO1G2pO!,QQpO1G2pO!&VQ&jO1G2pO%.tQ!LrO1G0TO%JlQ&jO1G2pO%+ZQWOANA`OOQQANA`ANA`OHiQWOANA`O%JzQWOANA`O%KSQ`OANA`OOQQANAcANAcO5]Q!LYOANAcO#3lQWOANAcOOQO'#Gn'#GnOOQO7+)r7+)rOOQQG22uG22uOOQQANAkANAkO%K^QWOANAkOOQQANDTANDTOOQQANDUANDUO%KcQYOG27jOOQO<<IZ<<IZO%-kQ!LdO<<IZOOQO<<IV<<IVO)uQYO<<IZO9{QWO<<IVO& ^Q!LYO<<IZO!,QQpO<<IVO& iQ!LYO<<IZO& wQ7^O7+'_OOQO<<MS<<MSOOQOAN@nAN@nO5]Q!LYOAN@nOOQOAN@mAN@mO$)zQWOAN@nO5]Q!LYOAN@mOOQQLD,QLD,QOOQQLD,mLD,mO#FvQWOLD,QO&#gQ7^O7+)oOOQO7+([7+([O5]Q!LYO7+([O#3lQWO7+([O5RQWO7+([O!,QQpO7+([O!&VQ&jO7+([OOQQG26zG26zO%+ZQWOG26zOHiQWOG26zOOQQG26}G26}O5]Q!LYOG26}OOQQG27VG27VO9{QWOLD-UOOQOAN>uAN>uO%-kQ!LdOAN>uOOQOAN>qAN>qO)uQYOAN>uO9{QWOAN>qO&#qQ!LYOAN>uO&#|Q7^O<<K^OOQOG26YG26YO5]Q!LYOG26YOOQOG26XG26XOOQQ!$( l!$( lOOQO<<Kv<<KvO5]Q!LYO<<KvO#3lQWO<<KvO5RQWO<<KvO!,QQpO<<KvOOQQLD,fLD,fO%+ZQWOLD,fOOQQLD,iLD,iOOQQ!$(!p!$(!pOOQOG24aG24aO%-kQ!LdOG24aOOQOG24]G24]O)uQYOG24aOOQOLD+tLD+tOOQOANAbANAbO5]Q!LYOANAbO#3lQWOANAbO5RQWOANAbOOQQ!$(!Q!$(!QOOQOLD){LD){O%-kQ!LdOLD){OOQOG26|G26|O5]Q!LYOG26|O#3lQWOG26|OOQO!$'Mg!$'MgOOQOLD,hLD,hO5]Q!LYOLD,hOOQO!$(!S!$(!SOKjQYO'#DnO&%lQbO'#ImOKjQYO'#DfO&%sQ!LdO'#CgO&&^QbO'#CgO&&nQYO,5:oOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO'#HuO&(kQWO,5;{O&)}QWO,5:yOKjQYO,5;^O!'oQWO'#C{O!'oQWO'#C{OHiQWO'#FbO&(sQWO'#FbOHiQWO'#FdO&(sQWO'#FdOHiQWO'#FrO&(sQWO'#FrOKjQYO,5?fO&&nQYO1G0ZO&*UQ7^O'#CgOKjQYO1G1dOHiQWO,5<hO&(sQWO,5<hOHiQWO,5<jO&(sQWO,5<jOHiQWO,5<VO&(sQWO,5<VO&&nQYO1G1eOKjQYO7+&aOHiQWO1G1sO&(sQWO1G1sO&&nQYO7+'PO&&nQYO7+%uOHiQWO7+'rO&(sQWO7+'rO&*`QWO'#ETO&*eQWO'#ETO&*mQWO'#ErO&*rQWO'#IzO&*}QWO'#IxO&+YQWO,5:oO&+_Q#tO,5;xO&+fQWO'#FkO&+kQWO'#FkO&+pQWO,5;yO&+xQWO,5:oO&,QQ7^O1G0uO&,XQWO,5<XO&,^QWO,5<XO&,cQWO1G1eO&,hQWO1G0ZO&,mQ#tO1G2WO&,tQ#tO1G2WO3tQWO'#F`O5RQWO'#F_OB`QWO'#ESOKjQYO,5;ZO!(OQWO'#FmO!(OQWO'#FmOIxQWO,5<lOIxQWO,5<l\",\n  stateData: \"&-p~O'POS'QOSSOSTOS~OPTOQTOWwO]bO^gOamOblOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!PSO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!jkO#[qO#lnO#p]O$woO$yrO${pO$|pO%PsO%RtO%UuO%VuO%XvO%fxO%lyO%nzO%p{O%r|O%u}O%{!OO&P!PO&R!QO&T!RO&V!SO&X!TO'SPO']QO'u`O~OPZXYZX^ZXiZXrZXsZXuZX}ZX!]ZX!^ZX!`ZX!fZX!uZX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX&}ZX']ZX'iZX'pZX'qZX~O!X$dX~P$wO&z!VO&{!UO&|!XO~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S!YO']QO'u`O~O|!^O}!ZOz'dPz'mP~P'aO!O!jO~P`OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S8lO']QO'u`O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O']QO'u`O~O|!oO!}!rO#O!oO'S8mO!_'jP~P+rO#P!sO~O!X!tO#P!sO~OP#ZOY#aOi#OOr!xOs!xOu!yO}#_O!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~O^'aX&}'aX!_'aXz'aX!P'aX$x'aX!X'aX~P.^O!u#bO#g#bOP'bXY'bX^'bXi'bXr'bXs'bXu'bX}'bX!]'bX!^'bX!`'bX!f'bX#S'bX#T'bX#U'bX#V'bX#W'bX#X'bX#Z'bX#]'bX#_'bX#a'bX#b'bX']'bX'i'bX'p'bX'q'bX~O#Y'bX&}'bXz'bX!_'bX'_'bX!P'bX$x'bX!X'bX~P0nO!u#bO~O#r#cO#y#gO~O!P#hO#p]O#|#iO$O#kO~O]#nOg#{Oi#oOj#nOk#nOn#|Op#}Ou#uO!P#vO!Z$SO!`#sO#O$TO#l$QO$V$OO$X$PO$[$RO'S#mO']#pO'W'YP~O!`$UO~O!X$WO~O^$XO&}$XO~O'S$]O~O!`$UO'S$]O'T$_O'X$`O~Ob$fO!`$UO'S$]O~O]$oOr$kO!P$hO!`$jO$y$nO'S$]O'T$_O['}P~O!j$pO~Ou$qO!P$rO'S$]O~Ou$qO!P$rO%R$vO'S$]O~O'S$wO~O#[qO$yrO${pO$|pO%PsO%RtO%UuO%VuO~Oa%QOb%PO!j$}O$w%OO%Z$|O~P7dOa%TOblO!P%SO!jkO#[qO$woO${pO$|pO%PsO%RtO%UuO%VuO%XvO~O_%WO!u%ZO$y%UO'T$_O~P8cO!`%[O!c%`O~O!`%aO~O!PSO~O^$XO&y%iO&}$XO~O^$XO&y%lO&}$XO~O^$XO&y%nO&}$XO~O&z!VO&{!UO&|%rO~OPZXYZXiZXrZXsZXuZX}ZX}cX!]ZX!^ZX!`ZX!fZX!uZX!ucX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX']ZX'iZX'pZX'qZX~OzZXzcX~P;OO|%tOz&_X}&_X~P)uO}!ZOz'dX~OP#ZOY#aOi#OOr!xOs!xOu!yO}!ZO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~Oz'dX~P=uOz%yO~Ou%|O!S&WO!T&PO!U&PO'T$_O~O]%}Oj%}O|&QO'`%zO!O'eP!O'oP~P?xOz'lX}'lX!X'lX!_'lX'i'lX~O!u'lX#P!xX!O'lX~P@qO!u&XOz'nX}'nX~O}&YOz'mX~Oz&[O~O!u#bO~P@qOR&`O!P&]O!k&_O'S$]O~Ob&eO!`$UO'S$]O~Or$kO!`$jO~O!O&fO~P`Or!xOs!xOu!yO!^!vO!`!wO']QOP!baY!bai!ba}!ba!]!ba!f!ba#S!ba#T!ba#U!ba#V!ba#W!ba#X!ba#Y!ba#Z!ba#]!ba#_!ba#a!ba#b!ba'i!ba'p!ba'q!ba~O^!ba&}!baz!ba!_!ba'_!ba!P!ba$x!ba!X!ba~PBzO!_&gO~O!X!tO!u&iO'i&hO}'kX^'kX&}'kX~O!_'kX~PEdO}&mO!_'jX~O!_&oO~Ou$qO!P$rO#O&pO'S$]O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!PSO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S8lO']QO'u`O~O]#nOg#{Oi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO'S&tO']#pO~O#P&vO~O]#nOg#{Oi#oOj#nOk#nOn#|Op#}Ou#uO!P#vO!Z$SO!`#sO#O$TO#l$QO$V$OO$X$PO$[$RO'S&tO']#pO~O'W'gP~PIxO|&zO!_'hP~P)uO'`&|O~OP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!P!`O!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O'S'[O']QO'u9|O~O!`!wO~O}#_O^$Ta&}$Ta!_$Taz$Ta!P$Ta$x$Ta!X$Ta~O#['cO~PHiO!X'eO!P'rX#o'rX#r'rX#y'rX~Or'fO~PN_Or'fO!P'rX#o'rX#r'rX#y'rX~O!P'hO#o'lO#r'gO#y'mO~O|'pO~PKjO#r#cO#y'sO~Or$]Xu$]X!^$]X'i$]X'p$]X'q$]X~OReX}eX!ueX'WeX'W$]X~P! wOj'uO~O&z'wO&{'vO&|'yO~Or'{Ou'|O'i#XO'p(OO'q(QO~O'W'zO~P!#QO'W(TO~O]#nOg#{Oi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO']#pO~O|(XO'S(UO!_'vP~P!#oO#P(ZO~O|(_O'S([Oz'wP~P!#oO^(hOi(mOu(eO!S(kO!T(dO!U(dO!`(bO!r(lO$o(gO'T$_O'`(aO~O!O(jO~P!%gO!^!vOr'[Xu'[X'i'[X'p'[X'q'[X}'[X!u'[X~O'W'[X#e'[X~P!&cOR(pO!u(oO}'ZX'W'ZX~O}(qO'W'YX~O'S(sO~O!`(xO~O'S&tO~O!`(bO~Ou$qO|!oO!P$rO!}!rO#O!oO'S$]O!_'jP~O!X!tO#P(|O~OP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~O^!Ya}!Ya&}!Yaz!Ya!_!Ya'_!Ya!P!Ya$x!Ya!X!Ya~P!(tOR)UO!P&]O!k)TO$x)SO'X$`O~O'S$wO'W'YP~O!X)XO!P'VX^'VX&}'VX~O!`$UO'X$`O~O!`$UO'S$]O'X$`O~O!X!tO#P&vO~O'S)aO!O(OP~O})eO['}X~OY)iO~O[)jO~O!P$hO'S$]O'T$_O['}P~Ou$qO|)oO!P$rO'S$]Oz'mP~O]&TOj&TO|)pO'`&|O!O'oP~O})qO^'zX&}'zX~O!u)uO'X$`O~OR)xO!P#vO'X$`O~O!P)zO~Or)|O!PSO~O!j*RO~Ob*WO~O'S(sO!O'|P~Ob$fO~O$yrO'S$wO~P8cOY*^O[*]O~OPTOQTO]bOamOblOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!jkO#p]O$woO']QO'u`O~O!P!`O#l!iO'S8lO~P!0RO[*]O^$XO&}$XO~O^*bO#[*dO${*dO$|*dO~P)uO!`%[O~O%l*iO~O!P*kO~O%|*nO%}*mOP%zaQ%zaW%za]%za^%zaa%zab%zag%zai%zaj%zak%zan%zap%zau%zaw%zax%zay%za!P%za!Z%za!`%za!c%za!d%za!e%za!f%za!g%za!j%za#[%za#l%za#p%za$w%za$y%za${%za$|%za%P%za%R%za%U%za%V%za%X%za%f%za%l%za%n%za%p%za%r%za%u%za%{%za&P%za&R%za&T%za&V%za&X%za&x%za'S%za']%za'u%za!O%za%s%za_%za%x%za~O'S*qO~O'_*tO~Oz&_a}&_a~P!(tO}!ZOz'da~Oz'da~P=uO}&YOz'ma~O}tX}!VX!OtX!O!VX!XtX!X!VX!`!VX!utX'X!VX~O!X*{O!u*zO}!|X}'fX!O!|X!O'fX!X'fX!`'fX'X'fX~O!X*}O!`$UO'X$`O}!RX!O!RX~O]%{Oj%{Ou%|O'`(aO~OP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!P!`O!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O']QO'u9|O~O'S9YO~P!9yO}+RO!O'eX~O!O+TO~O!X*{O!u*zO}!|X!O!|X~O}+UO!O'oX~O!O+WO~O]%{Oj%{Ou%|O'T$_O'`(aO~O!T+XO!U+XO~P!<tOu$qO|+[O!P$rO'S$]Oz&dX}&dX~O^+`O!S+cO!T+_O!U+_O!n+eO!o+dO!p+dO!r+fO'T$_O'`(aO~O!O+bO~P!=uOR+kO!P&]O!k+jO~O!u+qO}'ka!_'ka^'ka&}'ka~O!X!tO~P!>yO}&mO!_'ja~Ou$qO|+tO!P$rO!}+vO#O+tO'S$]O}&fX!_&fX~O^!wi}!wi&}!wiz!wi!_!wi'_!wi!P!wi$x!wi!X!wi~P!(tO#P!ta}!ta!_!ta!u!ta!P!ta^!ta&}!taz!ta~P!#QO#P'[XP'[XY'[X^'[Xi'[Xs'[X!]'[X!`'[X!f'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#a'[X#b'[X&}'[X']'[X!_'[Xz'[X!P'[X'_'[X$x'[X!X'[X~P!&cO},PO'W'gX~P!#QO'W,RO~O},SO!_'hX~P!(tO!_,VO~Oz,WO~OP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO']QOY#Ri^#Rii#Ri}#Ri!]#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O#S#Ri~P!DWO#S!|O~P!DWOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O']QOY#Ri^#Ri}#Ri!]#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~Oi#Ri~P!FrOi#OO~P!FrOP#ZOi#OOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO']QO^#Ri}#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~OY#Ri!]#Ri#X#Ri#Y#Ri#Z#Ri~P!I^OY#aO!]#QO#X#QO#Y#QO#Z#QO~P!I^OP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO']QO^#Ri}#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O'p#Ri~P!LUO'p!zO~P!LUOP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO']QO'p!zO^#Ri}#Ri#a#Ri#b#Ri&}#Ri'i#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O'q#Ri~P!NpO'q!{O~P!NpOP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO']QO'p!zO'q!{O~O^#Ri}#Ri#b#Ri&}#Ri'i#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~P##[OPZXYZXiZXrZXsZXuZX!]ZX!^ZX!`ZX!fZX!uZX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX']ZX'iZX'pZX'qZX}ZX!OZX~O#eZX~P#%oOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO#a8xO#b8yO']QO'i#XO'p!zO'q!{O~O#e,YO~P#'yOP'bXY'bXi'bXr'bXs'bXu'bX!]'bX!^'bX!`'bX!f'bX#S'bX#T'bX#U'bX#V'bX#W'bX#X'bX#Z'bX#]'bX#_'bX#a'bX#b'bX']'bX'i'bX'p'bX'q'bX}'bX~O!u8}O#g8}O#Y'bX#e'bX!O'bX~P#)tO^&ia}&ia&}&ia!_&ia'_&iaz&ia!P&ia$x&ia!X&ia~P!(tOP#RiY#Ri^#Rii#Ris#Ri}#Ri!]#Ri!^#Ri!`#Ri!f#Ri#S#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri']#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~P!#QO^#fi}#fi&}#fiz#fi!_#fi'_#fi!P#fi$x#fi!X#fi~P!(tO#r,[O~O#r,]O~O!X'eO!u,^O!P#vX#o#vX#r#vX#y#vX~O|,_O~O!P'hO#o,aO#r'gO#y,bO~O}8zO!O'aX~P#'yO!O,cO~O#y,eO~O&z'wO&{'vO&|,hO~O],kOj,kOz,lO~O}cX!XcX!_cX!_$]X'icX~P! wO!_,rO~P!#QO},sO!X!tO'i&hO!_'vX~O!_,xO~Oz$]X}$]X!X$dX~P! wO},zOz'wX~P!#QO!X,|O~Oz-OO~O|(XO'S$]O!_'vP~Oi-SO!X!tO!`$UO'X$`O'i&hO~O!X)XO~O!O-YO~P!%gO!T-ZO!U-ZO'T$_O'`(aO~Ou-]O'`(aO~O!r-^O~O'S$wO}&nX'W&nX~O}(qO'W'Ya~Or-cOs-cOu-dO'ioa'poa'qoa}oa!uoa~O'Woa#eoa~P#4xOr'{Ou'|O'i$Ua'p$Ua'q$Ua}$Ua!u$Ua~O'W$Ua#e$Ua~P#5nOr'{Ou'|O'i$Wa'p$Wa'q$Wa}$Wa!u$Wa~O'W$Wa#e$Wa~P#6aO]-eO~O#P-fO~O'W$fa}$fa#e$fa!u$fa~P!#QO#P-iO~OR-rO!P&]O!k-qO$x-pO~O'W-sO~O]#nOi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO']#pO~Og-uO'S-tO~P#8WO!X)XO!P'Va^'Va&}'Va~O#P-{O~OYZX}cX!OcX~O}-|O!O(OX~O!O.OO~OY.PO~O!P$hO'S$]O[&vX}&vX~O})eO['}a~O!_.SO~P!(tO].UO~OY.VO~O[.WO~OR-rO!P&]O!k-qO$x-pO'X$`O~O})qO^'za&}'za~O!u.^O~OR.aO!P#vO~O'`&|O!O'{P~OR.kO!P.gO!k.jO$x.iO'X$`O~OY.uO}.sO!O'|X~O!O.vO~O[.xO^$XO&}$XO~O].yO~O#Y.{O%j.|O~P0nO!u#bO#Y.{O%j.|O~O^.}O~P)uO^/PO~O%s/TOP%qiQ%qiW%qi]%qi^%qia%qib%qig%qii%qij%qik%qin%qip%qiu%qiw%qix%qiy%qi!P%qi!Z%qi!`%qi!c%qi!d%qi!e%qi!f%qi!g%qi!j%qi#[%qi#l%qi#p%qi$w%qi$y%qi${%qi$|%qi%P%qi%R%qi%U%qi%V%qi%X%qi%f%qi%l%qi%n%qi%p%qi%r%qi%u%qi%{%qi&P%qi&R%qi&T%qi&V%qi&X%qi&x%qi'S%qi']%qi'u%qi!O%qi_%qi%x%qi~O_/ZO!O/XO%x/YO~P`O!PSO!`/^O~O}#_O'_$Ta~Oz&_i}&_i~P!(tO}!ZOz'di~O}&YOz'mi~Oz/bO~O}!Ra!O!Ra~P#'yO]%{Oj%{O|/hO'`(aO}&`X!O&`X~P?xO}+RO!O'ea~O]&TOj&TO|)pO'`&|O}&eX!O&eX~O}+UO!O'oa~Oz'ni}'ni~P!(tO^$XO!X!tO!`$UO!f/sO!u/qO&}$XO'X$`O'i&hO~O!O/vO~P!=uO!T/wO!U/wO'T$_O'`(aO~O!S/yO!T/wO!U/wO!r/zO'T$_O'`(aO~O!o/{O!p/{O~P#FWO!P&]O~O!P&]O~P!#QO}'ki!_'ki^'ki&}'ki~P!(tO!u0UO}'ki!_'ki^'ki&}'ki~O}&mO!_'ji~Ou$qO!P$rO#O0WO'S$]O~O#PoaPoaYoa^oaioa!]oa!^oa!`oa!foa#Soa#Toa#Uoa#Voa#Woa#Xoa#Yoa#Zoa#]oa#_oa#aoa#boa&}oa']oa!_oazoa!Poa'_oa$xoa!Xoa~P#4xO#P$UaP$UaY$Ua^$Uai$Uas$Ua!]$Ua!^$Ua!`$Ua!f$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#a$Ua#b$Ua&}$Ua']$Ua!_$Uaz$Ua!P$Ua'_$Ua$x$Ua!X$Ua~P#5nO#P$WaP$WaY$Wa^$Wai$Was$Wa!]$Wa!^$Wa!`$Wa!f$Wa#S$Wa#T$Wa#U$Wa#V$Wa#W$Wa#X$Wa#Y$Wa#Z$Wa#]$Wa#_$Wa#a$Wa#b$Wa&}$Wa']$Wa!_$Waz$Wa!P$Wa'_$Wa$x$Wa!X$Wa~P#6aO#P$faP$faY$fa^$fai$fas$fa}$fa!]$fa!^$fa!`$fa!f$fa#S$fa#T$fa#U$fa#V$fa#W$fa#X$fa#Y$fa#Z$fa#]$fa#_$fa#a$fa#b$fa&}$fa']$fa!_$faz$fa!P$fa!u$fa'_$fa$x$fa!X$fa~P!#QO^!wq}!wq&}!wqz!wq!_!wq'_!wq!P!wq$x!wq!X!wq~P!(tO}&aX'W&aX~PIxO},PO'W'ga~O|0`O}&bX!_&bX~P)uO},SO!_'ha~O},SO!_'ha~P!(tO#e!ba!O!ba~PBzO#e!Ya}!Ya!O!Ya~P#'yO!P0sO#p]O#w0tO~O!O0xO~O'_0yO~P!#QO^$Qq}$Qq&}$Qqz$Qq!_$Qq'_$Qq!P$Qq$x$Qq!X$Qq~P!(tOz0zO~O],kOj,kO~Or'{Ou'|O'q(QO'i$pi'p$pi}$pi!u$pi~O'W$pi#e$pi~P$&YOr'{Ou'|O'i$ri'p$ri'q$ri}$ri!u$ri~O'W$ri#e$ri~P$&{O#e0{O~P!#QO|0}O'S$]O}&jX!_&jX~O},sO!_'va~O},sO!X!tO!_'va~O},sO!X!tO'i&hO!_'va~O'W$_i}$_i#e$_i!u$_i~P!#QO|1UO'S([Oz&lX}&lX~P!#oO},zOz'wa~O},zOz'wa~P!#QO!X!tO~O!X!tO#Y1`O~Oi1dO!X!tO'i&hO~O}'Zi'W'Zi~P!#QO!u1gO}'Zi'W'Zi~P!#QO!_1jO~O^$Rq}$Rq&}$Rqz$Rq!_$Rq'_$Rq!P$Rq$x$Rq!X$Rq~P!(tO}1nO!P'xX~P!#QO!P&]O$x1qO~O!P&]O$x1qO~P!#QO!P$]X$mZX^$]X&}$]X~P! wO$m1uOrfXufX!PfX'ifX'pfX'qfX^fX&}fX~O$m1uO~O'S)aO}&uX!O&uX~O}-|O!O(Oa~O[2OO~O]2RO~OR2TO!P&]O!k2SO$x1qO~O^$XO&}$XO~P!#QO!P#vO~P!#QO}2YO!u2[O!O'{X~O!O2]O~Ou(eO!S2fO!T2_O!U2_O!n2eO!o2dO!p2dO!r2cO'T$_O'`(aO~O!O2bO~P$/ROR2mO!P.gO!k2lO$x2kO~OR2mO!P.gO!k2lO$x2kO'X$`O~O'S(sO}&tX!O&tX~O}.sO!O'|a~O'`2vO~O]2xO~O[2zO~O!_2}O~P)uO^3PO~O^3PO~P)uO#Y3RO%j3SO~PEdO_/ZO!O3WO%x/YO~P`O!X3YO~O%}3ZOP%zqQ%zqW%zq]%zq^%zqa%zqb%zqg%zqi%zqj%zqk%zqn%zqp%zqu%zqw%zqx%zqy%zq!P%zq!Z%zq!`%zq!c%zq!d%zq!e%zq!f%zq!g%zq!j%zq#[%zq#l%zq#p%zq$w%zq$y%zq${%zq$|%zq%P%zq%R%zq%U%zq%V%zq%X%zq%f%zq%l%zq%n%zq%p%zq%r%zq%u%zq%{%zq&P%zq&R%zq&T%zq&V%zq&X%zq&x%zq'S%zq']%zq'u%zq!O%zq%s%zq_%zq%x%zq~O}!|i!O!|i~P#'yO!u3]O}!|i!O!|i~O}!Ri!O!Ri~P#'yO^$XO!u3dO&}$XO~O^$XO!X!tO!u3dO&}$XO~O^$XO!X!tO!`$UO!f3hO!u3dO&}$XO'X$`O'i&hO~O!T3iO!U3iO'T$_O'`(aO~O!S3lO!T3iO!U3iO!r3mO'T$_O'`(aO~O^$XO!X!tO!f3hO!u3dO&}$XO'i&hO~O}'kq!_'kq^'kq&}'kq~P!(tO}&mO!_'jq~O#P$piP$piY$pi^$pii$pis$pi!]$pi!^$pi!`$pi!f$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#a$pi#b$pi&}$pi']$pi!_$piz$pi!P$pi'_$pi$x$pi!X$pi~P$&YO#P$riP$riY$ri^$rii$ris$ri!]$ri!^$ri!`$ri!f$ri#S$ri#T$ri#U$ri#V$ri#W$ri#X$ri#Y$ri#Z$ri#]$ri#_$ri#a$ri#b$ri&}$ri']$ri!_$riz$ri!P$ri'_$ri$x$ri!X$ri~P$&{O#P$_iP$_iY$_i^$_ii$_is$_i}$_i!]$_i!^$_i!`$_i!f$_i#S$_i#T$_i#U$_i#V$_i#W$_i#X$_i#Y$_i#Z$_i#]$_i#_$_i#a$_i#b$_i&}$_i']$_i!_$_iz$_i!P$_i!u$_i'_$_i$x$_i!X$_i~P!#QO}&aa'W&aa~P!#QO}&ba!_&ba~P!(tO},SO!_'hi~O#e!wi}!wi!O!wi~P#'yOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO']QOY#Rii#Ri!]#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~O#S#Ri~P$@xO#S8oO~P$@xOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO']QOY#Ri!]#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~Oi#Ri~P$CQOi8qO~P$CQOP#ZOi8qOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO']QO#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~OY#Ri!]#Ri#X#Ri#Y#Ri#Z#Ri~P$EYOY8|O!]8sO#X8sO#Y8sO#Z8sO~P$EYOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO']QO#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'q#Ri}#Ri!O#Ri~O'p#Ri~P$GnO'p!zO~P$GnOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO']QO'p!zO#a#Ri#b#Ri#e#Ri'i#Ri}#Ri!O#Ri~O'q#Ri~P$IvO'q!{O~P$IvOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO#a8xO']QO'p!zO'q!{O~O#b#Ri#e#Ri'i#Ri}#Ri!O#Ri~P$LOO^#cy}#cy&}#cyz#cy!_#cy'_#cy!P#cy$x#cy!X#cy~P!(tOP#RiY#Rii#Ris#Ri!]#Ri!^#Ri!`#Ri!f#Ri#S#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri']#Ri}#Ri!O#Ri~P!#QO!^!vOP'[XY'[Xi'[Xr'[Xs'[Xu'[X!]'[X!`'[X!f'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#a'[X#b'[X#e'[X']'[X'i'[X'p'[X'q'[X}'[X!O'[X~O#e#fi}#fi!O#fi~P#'yO!O3}O~O}&ia!O&ia~P#'yO!X!tO'i&hO}&ja!_&ja~O},sO!_'vi~O},sO!X!tO!_'vi~Oz&la}&la~P!#QO!X4UO~O},zOz'wi~P!#QO},zOz'wi~Oz4[O~O!X!tO#Y4bO~Oi4cO!X!tO'i&hO~Oz4eO~O'W$aq}$aq#e$aq!u$aq~P!#QO^$Ry}$Ry&}$Ryz$Ry!_$Ry'_$Ry!P$Ry$x$Ry!X$Ry~P!(tO}1nO!P'xa~O!P&]O$x4jO~O!P&]O$x4jO~P!#QO^!wy}!wy&}!wyz!wy!_!wy'_!wy!P!wy$x!wy!X!wy~P!(tOY4mO~O}-|O!O(Oi~O]4oO~O[4pO~O'`&|O}&qX!O&qX~O}2YO!O'{a~O!O4}O~P$/RO!S5QO!T5PO!U5PO!r/zO'T$_O'`(aO~O!o5RO!p5RO~P%*]O!T5PO!U5PO'T$_O'`(aO~O!P.gO~O!P.gO$x5TO~O!P.gO$x5TO~P!#QOR5YO!P.gO!k5XO$x5TO~OY5_O}&ta!O&ta~O}.sO!O'|i~O]5bO~O!_5cO~O!_5dO~O!_5eO~O!_5eO~P)uO^5gO~O!X5jO~O!_5lO~O}'ni!O'ni~P#'yO^$XO&}$XO~P!(tO^$XO!u5qO&}$XO~O^$XO!X!tO!u5qO&}$XO~O^$XO!X!tO!f5vO!u5qO&}$XO'i&hO~O!`$UO'X$`O~P%.`O!T5wO!U5wO'T$_O'`(aO~O}'ky!_'ky^'ky&}'ky~P!(tO#P$aqP$aqY$aq^$aqi$aqs$aq}$aq!]$aq!^$aq!`$aq!f$aq#S$aq#T$aq#U$aq#V$aq#W$aq#X$aq#Y$aq#Z$aq#]$aq#_$aq#a$aq#b$aq&}$aq']$aq!_$aqz$aq!P$aq!u$aq'_$aq$x$aq!X$aq~P!#QO}&bi!_&bi~P!(tO#e!wq}!wq!O!wq~P#'yOr-cOs-cOu-dOPoaYoaioa!]oa!^oa!`oa!foa#Soa#Toa#Uoa#Voa#Woa#Xoa#Yoa#Zoa#]oa#_oa#aoa#boa#eoa']oa'ioa'poa'qoa}oa!Ooa~Or'{Ou'|OP$UaY$Uai$Uas$Ua!]$Ua!^$Ua!`$Ua!f$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#a$Ua#b$Ua#e$Ua']$Ua'i$Ua'p$Ua'q$Ua}$Ua!O$Ua~Or'{Ou'|OP$WaY$Wai$Was$Wa!]$Wa!^$Wa!`$Wa!f$Wa#S$Wa#T$Wa#U$Wa#V$Wa#W$Wa#X$Wa#Y$Wa#Z$Wa#]$Wa#_$Wa#a$Wa#b$Wa#e$Wa']$Wa'i$Wa'p$Wa'q$Wa}$Wa!O$Wa~OP$faY$fai$fas$fa!]$fa!^$fa!`$fa!f$fa#S$fa#T$fa#U$fa#V$fa#W$fa#X$fa#Y$fa#Z$fa#]$fa#_$fa#a$fa#b$fa#e$fa']$fa}$fa!O$fa~P!#QO#e$Qq}$Qq!O$Qq~P#'yO#e$Rq}$Rq!O$Rq~P#'yO!O6RO~O'W$ty}$ty#e$ty!u$ty~P!#QO!X!tO}&ji!_&ji~O!X!tO'i&hO}&ji!_&ji~O},sO!_'vq~Oz&li}&li~P!#QO},zOz'wq~Oz6YO~P!#QOz6YO~O}'Zy'W'Zy~P!#QO}&oa!P&oa~P!#QO!P$lq^$lq&}$lq~P!#QO}-|O!O(Oq~O]6cO~O!P&]O$x6dO~O!P&]O$x6dO~P!#QO!u6eO}&qa!O&qa~O}2YO!O'{i~P#'yO!T6kO!U6kO'T$_O'`(aO~O!S6mO!T6kO!U6kO!r3mO'T$_O'`(aO~O!P.gO$x6pO~O!P.gO$x6pO~P!#QO'`6vO~O}.sO!O'|q~O!_6yO~O!_6yO~P)uO!_6{O~O!_6|O~O}!|y!O!|y~P#'yO^$XO!u7RO&}$XO~O^$XO!X!tO!u7RO&}$XO~O^$XO!X!tO!f7VO!u7RO&}$XO'i&hO~O#P$tyP$tyY$ty^$tyi$tys$ty}$ty!]$ty!^$ty!`$ty!f$ty#S$ty#T$ty#U$ty#V$ty#W$ty#X$ty#Y$ty#Z$ty#]$ty#_$ty#a$ty#b$ty&}$ty']$ty!_$tyz$ty!P$ty!u$ty'_$ty$x$ty!X$ty~P!#QO#e#cy}#cy!O#cy~P#'yOP$_iY$_ii$_is$_i!]$_i!^$_i!`$_i!f$_i#S$_i#T$_i#U$_i#V$_i#W$_i#X$_i#Y$_i#Z$_i#]$_i#_$_i#a$_i#b$_i#e$_i']$_i}$_i!O$_i~P!#QOr'{Ou'|O'q(QOP$piY$pii$pis$pi!]$pi!^$pi!`$pi!f$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#a$pi#b$pi#e$pi']$pi'i$pi'p$pi}$pi!O$pi~Or'{Ou'|OP$riY$rii$ris$ri!]$ri!^$ri!`$ri!f$ri#S$ri#T$ri#U$ri#V$ri#W$ri#X$ri#Y$ri#Z$ri#]$ri#_$ri#a$ri#b$ri#e$ri']$ri'i$ri'p$ri'q$ri}$ri!O$ri~O#e$Ry}$Ry!O$Ry~P#'yO#e!wy}!wy!O!wy~P#'yO!X!tO}&jq!_&jq~O},sO!_'vy~Oz&lq}&lq~P!#QOz7]O~P!#QO}2YO!O'{q~O!T7hO!U7hO'T$_O'`(aO~O!P.gO$x7kO~O!P.gO$x7kO~P!#QO!_7nO~O%}7oOP%z!ZQ%z!ZW%z!Z]%z!Z^%z!Za%z!Zb%z!Zg%z!Zi%z!Zj%z!Zk%z!Zn%z!Zp%z!Zu%z!Zw%z!Zx%z!Zy%z!Z!P%z!Z!Z%z!Z!`%z!Z!c%z!Z!d%z!Z!e%z!Z!f%z!Z!g%z!Z!j%z!Z#[%z!Z#l%z!Z#p%z!Z$w%z!Z$y%z!Z${%z!Z$|%z!Z%P%z!Z%R%z!Z%U%z!Z%V%z!Z%X%z!Z%f%z!Z%l%z!Z%n%z!Z%p%z!Z%r%z!Z%u%z!Z%{%z!Z&P%z!Z&R%z!Z&T%z!Z&V%z!Z&X%z!Z&x%z!Z'S%z!Z']%z!Z'u%z!Z!O%z!Z%s%z!Z_%z!Z%x%z!Z~O^$XO!u7sO&}$XO~O^$XO!X!tO!u7sO&}$XO~OP$aqY$aqi$aqs$aq!]$aq!^$aq!`$aq!f$aq#S$aq#T$aq#U$aq#V$aq#W$aq#X$aq#Y$aq#Z$aq#]$aq#_$aq#a$aq#b$aq#e$aq']$aq}$aq!O$aq~P!#QO}&qq!O&qq~P#'yO^$XO!u8XO&}$XO~OP$tyY$tyi$tys$ty!]$ty!^$ty!`$ty!f$ty#S$ty#T$ty#U$ty#V$ty#W$ty#X$ty#Y$ty#Z$ty#]$ty#_$ty#a$ty#b$ty#e$ty']$ty}$ty!O$ty~P!#QO'_'aX~P.^O'_ZXzZX!_ZX%jZX!PZX$xZX!XZX~P$wO!XcX!_ZX!_cX'icX~P;OOP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!PSO!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O'S'[O']QO'u9|O~O}8zO!O$Ta~O]#nOg#{Oi#oOj#nOk#nOn#|Op9POu#uO!P#vO!Z:RO!`#sO#O9VO#l$QO$V9RO$X9TO$[$RO'S&tO']#pO~O#['cO~P&(sO!OZX!OcX~P;OO#P8nO~O!X!tO#P8nO~O!u8}O~O!u9WO}'nX!O'nX~O!u8}O}'lX!O'lX~O#P9XO~O'W9ZO~P!#QO#P9`O~O#P9aO~O!X!tO#P9bO~O!X!tO#P9XO~O#e9cO~P#'yO#P9dO~O#P9eO~O#P9fO~O#P9gO~O#e9hO~P!#QO#e9iO~P!#QO#p~!^!n!p!}#O'u$V$X$[$m$w$x$y%P%R%U%V%X%Z~TS#p'u#Ty'P'Q#r'P'S'`~\",\n  goto: \"#=a(SPPPPPPP(TP(eP*QPPPP-aPP-v2z4m5QP5QPPP5Q5QP5QP6nPP6sP7[PPPP;kPPPP;k>ZPPP>a@dP;kPBwPPPPDo;kPPPPPFh;kPPIgJdPPPJhPJpKqP;k;kNx!#q!(a!(a!+nPPP!+u;kPPPPPPPPPP!.iP!/zPP;k!1XP;kP;k;k;k;kP;k!3lPP!6cP!9U!9^!9b!9bP!6`P!9f!9fP!<XP!<];k;k!<c!?T5QP5QP5Q5QP!@W5Q5Q!A{5Q5Q5Q!C}5Q5Q!Dk!Fe!Fe!Fi!Fe!FqP!FeP5Q!Gm5Q!Hw5Q5Q-aPPP!JUPP!Jn!JnP!JnP!KT!JnPP!KZP!KQP!KQ!KmJl!KQ!L[!Lb!Le(T!Lh(TP!Lo!Lo!LoP(TP(TP(TP(TPP(TP!Lu!LxP!Lx(TPPP(TP(TP(TP(TP(TP(T(T!L|!MW!M^!Md!Mr!Mx!NO!NY!N`!Nj!Np# O# U# [# j#!P##c##q##w##}#$T#$Z#$e#$k#$q#${#%V#%]PPPPPPPPP#%cPP#&V#*TPP#+h#+o#+wP#0TPP#0X#2l#8f#8j#8m#8p#8{#9OP#9R#9V#9t#:i#:m#;PPP#;T#;Z#;_P#;b#;f#;i#<X#<o#<t#<w#<z#=Q#=T#=X#=]mgOSi{!k$W%_%b%c%e*f*k/T/WQ$elQ$lnQ%VwS&P!`+RQ&d!gS(d#v(iQ)_$fQ)k$nQ*V%PQ+X&WS+_&]+aQ+o&eQ-Z(kQ.r*WU/w+c+d+eS2_.g2aS3i/y/{U5P2d2e2fQ5w3lS6k5Q5RR7h6m$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!j'^#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ(t#}Q)d$hQ*X%SQ*`%[Q+y9OQ-v)XQ.z*^Q1{-|Q2t.sR3v9PpdOSiw{!k$W%U%_%b%c%e*f*k/T/WR*Z%W&WVOSTijm{!Q!U!Z!h!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:O:PW!aRU!^&QQ$^kQ$dlS$in$nv$spq!o!r$U$q&Y&m&p)o)p)q*d*{+[+t+v/^0WQ${uQ&a!fQ&c!gS(W#s(bS)^$e$fQ)b$hQ)n$pQ*Q$}Q*U%PS+n&d&eQ,w(XQ-z)_Q.Q)eQ.T)iQ.m*RS.q*V*WQ0S+oQ0|,sQ1z-|Q1}.PQ2Q.VQ2s.rQ4R0}R6a4m!W$bl!g$d$e$f&O&c&d&e(c)^)_+O+^+n+o-T-z/m/t/x0S1c3g3k5u7UQ)V$^Q)v$xQ)y$yQ*T%PQ.X)nQ.l*QU.p*U*V*WQ2n.mS2r.q.rQ4z2^Q5^2sS6i4{5OS7f6j6lQ8O7gR8^8PW#y`$`(q9|S$xr%UQ$ysQ$ztR)t$v$V#x`!t!v#a#s#u$O$P$T&`'v(P(R(S(Z(_(o(p)S)U)X)u)x+k,P,z,|-f-p-r.^.a.i.k0{1U1`1g1n1q1u2T2k2m4U4b4j5T5Y6d6p7k8|9Q9R9S9T9U9V9[9]9^9_9`9a9d9e9h9i9|:S:TV(u#}9O9PU&T!`$r+UQ&}!xQ)h$kQ,j'{Q.b)zQ1h-cR4v2Y&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:P$]#^Y!]!l$[%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,Z,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9u&ZbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ&R!`R/i+RY%{!`&P&W+R+XS(c#v(iS+^&]+aS-T(d(kQ-U(eQ-[(lQ.d)|S/t+_+cS/x+d+eS/|+f2cQ1c-ZQ1e-]Q1f-^S2^.g2aS3g/w/yQ3j/zQ3k/{S4{2_2fS5O2d2eS5u3i3lQ5x3mS6j5P5QQ6l5RQ7U5wS7g6k6mR8P7hlgOSi{!k$W%_%b%c%e*f*k/T/WQ%g!OS&q!s8nQ)[$cQ*O${Q*P$|Q+l&bS+}&v9XS-h(|9bQ-x)]Q.f)}Q/[*mQ/]*nQ/e*|Q0Q+mS1m-i9fQ1v-yS1y-{9gQ3^/gQ3a/oQ3o0RQ4l1wQ5k3ZQ5n3`Q5r3fQ5y3pQ6}5lQ7Q5sQ7r7SQ8T7oR8W7t$W#]Y!]!l%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9uU(n#w&u0qT)Q$[,Z$W#[Y!]!l%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9uQ'_#]S)P$[,ZR-j)Q&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ%byQ%czQ%e|Q%f}R/S*iQ&^!fQ)R$^Q+i&aS-o)V)nS/}+g+hW1p-l-m-n.XS3n0O0PU4i1r1s1tU6_4h4r4sQ7_6`R7z7aT+`&]+aS+`&]+aT2`.g2aS&k!n/QQ,v(WQ-R(cS/s+^2^Q1R,wS1]-S-[U3h/x/|5OQ4Q0|S4`1d1fU5v3j3k6lQ6T4RQ6^4cR7V5xQ!uXS&j!n/QQ(}$VQ)Y$aQ)`$gQ+r&kQ,u(WQ-Q(cQ-V(fQ-w)ZQ.n*SS/r+^2^S1Q,v,wS1[-R-[Q1_-UQ1b-WQ2p.oW3e/s/x/|5OQ4P0|Q4T1RS4Y1]1fQ4a1eQ5[2qW5t3h3j3k6lS6S4Q4RQ6X4[Q6[4`Q6g4yQ6t5]S7T5v5xQ7X6TQ7Z6YQ7^6^Q7d6hQ7m6uQ7u7VQ7x7]Q7|7eQ8[7}Q8c8]Q8g8dQ9o9kQ9x9sR9y9t$nWORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XS!um!h!j9j#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR9o:O$nXORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XQ$Va!W$al!g$d$e$f&O&c&d&e(c)^)_+O+^+n+o-T-z/m/t/x0S1c3g3k5u7US$gm!hQ)Z$bQ*S%PW.o*T*U*V*WU2q.p.q.rQ4y2^S5]2r2sU6h4z4{5OQ6u5^U7e6i6j6lS7}7f7gS8]8O8PQ8d8^!j9k#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ9s9}R9t:O$f[OSTij{!Q!U!Z!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XU!eRU!^v$spq!o!r$U$q&Y&m&p)o)p)q*d*{+[+t+v/^0WQ*a%[!h9l#Y#h'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR9n&QS&U!`$rR/k+U$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!j'^#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR*`%[!h#SY!]$[%s%w&r&y'W'X'Y'Z'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8j!R8u']'n+P,Z/c/f0c0k0l0m0n0r0w3_3u3z3{4x5m5{6P6Q7b9u!d#UY!]$[%s%w&r&y'Y'Z'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8j}8w']'n+P,Z/c/f0c0m0n0r0w3_3u3z3{4x5m5{6P6Q7b9u!`#YY!]$[%s%w&r&y'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8jl(S#q&w({,q,y-_-`0]1k4O4d9p9z9{x:P']'n+P,Z/c/f0c0r0w3_3u3z3{4x5m5{6P6Q7b9u!`:S&s'b(V(]+h+|,f,}-k-n.]._0P0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6rZ:T0p3y5|7W7v&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PS#i_#jR0t,^&a^ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,^,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PS#d]#kT'g#f'kT#e]#kT'i#f'k&a_ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,^,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PT#i_#jQ#l_R'r#j$naORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!k9}#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:P#RcOSUi{!Q!U!k!y#h$W%W%Z%[%_%a%b%c%e%i%|&_'p)T*b*f*k+j,_-d-q.j.{.|.}/P/T/W/Y0s2S2l3P3R3S5X5gt#w`!v$O$P$T(P(R(S(Z(o(p,P-f0{1g9|:S:T!|&u!t#a#s#u&`'v(_)S)U)X)u)x+k,z,|-p-r.^.a.i.k1U1`1n1q1u2T2k2m4U4b4j5T5Y6d6p7k9Q9S9U9[9^9`9d9hQ(y$Rc0q8|9R9T9V9]9_9a9e9it#t`!v$O$P$T(P(R(S(Z(o(p,P-f0{1g9|:S:TS(f#v(iQ(z$SQ-W(g!|9q!t#a#s#u&`'v(_)S)U)X)u)x+k,z,|-p-r.^.a.i.k1U1`1n1q1u2T2k2m4U4b4j5T5Y6d6p7k9Q9S9U9[9^9`9d9hb9r8|9R9T9V9]9_9a9e9iQ9v:QR9w:RleOSi{!k$W%_%b%c%e*f*k/T/WQ(^#uQ*r%lQ*s%nR1T,z$U#x`!t!v#a#s#u$O$P$T&`'v(P(R(S(Z(_(o(p)S)U)X)u)x+k,P,z,|-f-p-r.^.a.i.k0{1U1`1g1n1q1u2T2k2m4U4b4j5T5Y6d6p7k8|9Q9R9S9T9U9V9[9]9^9_9`9a9d9e9h9i9|:S:TQ)w$yQ.`)yQ2W._R4u2XT(h#v(iS(h#v(iT2`.g2aQ)Y$aQ-V(fQ-w)ZQ.n*SQ2p.oQ5[2qQ6g4yQ6t5]Q7d6hQ7m6uQ7|7eQ8[7}Q8c8]R8g8dl(P#q&w({,q,y-_-`0]1k4O4d9p9z9{!`9[&s'b(V(]+h+|,f,}-k-n.]._0P0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6rZ9]0p3y5|7W7vn(R#q&w({,o,q,y-_-`0]1k4O4d9p9z9{!b9^&s'b(V(]+h+|,f,}-k-n.]._0P0Y0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6r]9_0p3y5|5}7W7vpdOSiw{!k$W%U%_%b%c%e*f*k/T/WQ%RvR*b%[pdOSiw{!k$W%U%_%b%c%e*f*k/T/WR%RvQ){$zR.[)tqdOSiw{!k$W%U%_%b%c%e*f*k/T/WQ.h*QS2j.l.mW5S2g2h2i2nU6o5U5V5WU7i6n6q6rQ8Q7jR8_8RQ%YwR*[%UR2w.uR6w5_S$in$nR.Q)eQ%_xR*f%`R*l%fT/U*k/WQiOQ!kST$Zi!kQ'x#pR,g'xQ!WQR%q!WQ![RU%u![%v*wQ%v!]R*w%wQ+S&RR/j+SQ,Q&wR0^,QQ,T&yS0a,T0bR0b,UQ+a&]R/u+aQ&Z!cQ*x%xT+]&Z*xQ+V&UR/l+VQ&n!pQ+s&lU+w&n+s0XR0X+xQ'k#fR,`'kQ#j_R'q#jQ#`YU'a#`*u8{Q*u8jR8{'nQ,t(WW1O,t1P4S6UU1P,u,v,wS4S1Q1RR6U4T#q'}#q&s&w'b(V(](v(w({+h+z+{+|,f,o,p,q,y,}-_-`-k-n.]._0P0Y0Z0[0]0p1S1W1k1t2V2X2i3s3w3x3y4O4V4]4d4f4k4s5W5z5|5}6O6V6]6r7W7v9p9z9{Q,{(]U1V,{1X4WQ1X,}R4W1WQ(i#vR-X(iQ(r#zR-b(rQ1o-kR4g1oQ)r$tR.Z)rQ2Z.bS4w2Z6fR6f4xQ)}${R.e)}Q2a.gR4|2aQ.t*XS2u.t5`R5`2wQ-})bS1|-}4nR4n1}Q)f$iR.R)fQ/W*kR3V/WWhOSi!kQ%d{Q)O$WQ*e%_Q*g%bQ*h%cQ*j%eQ/R*fS/U*k/WR3U/TQ$YfQ%h!PQ%k!RQ%m!SQ%o!TQ)m$oQ)s$uQ*Z%YQ*p%jS.w*[*_Q/_*oQ/`*rQ/a*sS/p+^2^Q1Y-PQ1Z-QQ1a-VQ2P.UQ2U.]Q2o.nQ2y.yQ3T/SY3c/r/s/x/|5OQ4X1[Q4Z1^Q4^1bQ4q2RQ4t2VQ5Z2pQ5a2x[5o3b3e3h3j3k6lQ6W4YQ6Z4_Q6b4oQ6s5[Q6x5bW7O5p5t5v5xQ7Y6XQ7[6[Q7`6cQ7c6gQ7l6tU7p7P7T7VQ7w7ZQ7y7^Q7{7dQ8S7mS8U7q7uQ8Y7xQ8Z7|Q8`8VQ8b8[Q8e8aQ8f8cR8h8gQ$clQ&b!gU)]$d$e$fQ*|&OU+m&c&d&eQ-P(cS-y)^)_Q/g+OQ/o+^S0R+n+oQ1^-TQ1w-zQ3`/mS3f/t/xQ3p0SQ4_1cS5s3g3kQ7S5uR7t7US#r`9|R)W$`U#z`$`9|R-a(qQ#q`S&s!t)XQ&w!vQ'b#aQ(V#sQ(]#uQ(v$OQ(w$PQ({$TQ+h&`Q+z9QQ+{9SQ+|9UQ,f'vQ,o(PQ,p(RQ,q(SQ,y(ZQ,}(_Q-_(oQ-`(pd-k)S-p.i1q2k4j5T6d6p7kQ-n)UQ.])uQ._)xQ0P+kQ0Y9[Q0Z9^Q0[9`Q0],PQ0p8|Q1S,zQ1W,|Q1k-fQ1t-rQ2V.^Q2X.aQ2i.kQ3s9dQ3w9RQ3x9TQ3y9VQ4O0{Q4V1UQ4]1`Q4d1gQ4f1nQ4k1uQ4s2TQ5W2mQ5z9hQ5|9aQ5}9]Q6O9_Q6V4UQ6]4bQ6r5YQ7W9eQ7v9iQ9p9|Q9z:SR9{:TT'w#p'xlfOSi{!k$W%_%b%c%e*f*k/T/WS!mU%aQ%j!QQ%p!UQ'O!yQ'o#hS*_%W%ZQ*c%[Q*o%iQ*y%|Q+g&_Q,d'pQ-m)TQ/O*bQ0O+jQ0v,_Q1i-dQ1s-qQ2h.jQ2{.{Q2|.|Q3O.}Q3Q/PQ3X/YQ3|0sQ4r2SQ5V2lQ5f3PQ5h3RQ5i3SQ6q5XR6z5g!vYOSUi{!Q!k!y$W%W%Z%[%_%a%b%c%e%i%|&_)T*b*f*k+j-d-q.j.{.|.}/P/T/W/Y2S2l3P3R3S5X5gQ!]RQ!lTQ$[jQ%s!ZQ%w!^Q&r!sQ&y!wQ'P!|Q'Q!}Q'R#OQ'S#PQ'T#QQ'U#RQ'V#SQ'W#TQ'X#UQ'Y#VQ'Z#WQ']#YQ'`#_Q'd#bW'n#h'p,_0sQ)g$jQ*v%tS+P&Q/hQ+Y&XQ+p&iQ,O&vQ,U&zQ,X8iQ,Z8kQ,i'zQ-g(|Q/c*zQ/f*}Q0T+qQ0_,SQ0c8nQ0d8oQ0e8pQ0f8qQ0g8rQ0h8sQ0i8tQ0j8uQ0k8vQ0l8wQ0m8xQ0n8yQ0o,YQ0r8}Q0w8zQ1l-iQ1x-{Q3_9WQ3b/qQ3q0UQ3t0`Q3u9XQ3z9ZQ3{9bQ4x2[Q5m3]Q5p3dQ5{9cQ6P9fQ6Q9gQ7P5qQ7b6eQ7q7RQ8V7sQ8a8XQ8j!UR9u:PT!VQ!WR!_RR&S!`S&O!`+RS+O&P&WR/m+XR&x!vR&{!wT!qU$US!pU$UU$tpq*dS&l!o!rQ+u&mQ+x&pQ.Y)qS0V+t+vR3r0W[!bR!^$q&Y)o+[h!nUpq!o!r$U&m&p)q+t+v0WQ/Q*dQ/d*{Q3[/^T9m&Q)pT!dR$qS!cR$qS%x!^)oS+Q&Q)pQ+Z&YR/n+[T&V!`$rQ#f]R't#kT'j#f'kR0u,^T(Y#s(bR(`#uQ-l)SQ1r-pQ2g.iQ4h1qQ5U2kQ6`4jQ6n5TQ7a6dQ7j6pR8R7klgOSi{!k$W%_%b%c%e*f*k/T/WQ%XwR*Z%UV$upq*dR.c)zR*Y%SQ$mnR)l$nR)c$hT%]x%`T%^x%`T/V*k/W\",\n  nodeNames: \" ArithOp ArithOp extends LineComment BlockComment Script ExportDeclaration export Star as VariableName from String ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyNameDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract PropertyDeclaration readonly Optional TypeAnnotation Equals FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp in instanceof const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplatExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement\",\n  maxTerm: 325,\n  context: trackNewline,\n  nodeProps: [\n    [NodeProp.group, -26,7,14,16,54,176,180,183,184,186,189,192,203,205,211,213,215,217,220,226,230,232,234,236,238,240,241,\"Statement\",-30,11,13,23,26,27,38,39,40,41,43,48,56,64,70,71,84,85,94,95,111,114,116,117,118,119,121,122,140,141,143,\"Expression\",-22,22,24,28,29,31,144,146,148,149,151,152,153,155,156,157,159,160,161,170,172,174,175,\"Type\",-2,75,79,\"ClassItem\"],\n    [NodeProp.closedBy, 37,\"]\",47,\"}\",62,\")\",124,\"JSXSelfCloseEndTag JSXEndTag\",138,\"JSXEndTag\"],\n    [NodeProp.openedBy, 42,\"[\",46,\"{\",61,\"(\",123,\"JSXStartTag\",133,\"JSXStartTag JSXStartCloseTag\"]\n  ],\n  skippedNodes: [0,4,5],\n  repeatNodeCount: 28,\n  tokenData: \"!As~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst%Ttu0huv2xvw3mwx4kxy;Ryz;cz{;s{|<s|}=W}!O<s!O!P=h!P!QAt!Q!R!.d!R![!/y![!]!5i!]!^!5{!^!_!6]!_!`!7Y!`!a!8Q!a!b!9w!b!c%T!c!}0h!}#O!;Y#O#P%T#P#Q!;j#Q#R!;z#R#S0h#S#T!<_#T#o0h#o#p!<o#p#q!<t#q#r!=[#r#s!=n#s$f%T$f$g%c$g#BY0h#BY#BZ!>O#BZ$IS0h$IS$I_!>O$I_$I|0h$I|$I}!@g$I}$JO!@g$JO$JT0h$JT$JU!>O$JU$KV0h$KV$KW!>O$KW&FU0h&FU&FV!>O&FV?HT0h?HT?HU!>O?HU~0hW%YR#|WO!^%T!_#o%T#p~%T,T%jg#|W'P+{OX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T,T'YR#|W'Q+{O!^%T!_#o%T#p~%T$T'jS#|W!f#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#]#v#|WO!^%T!_!`(Z!`#o%T#p~%T$O(bR#]#v#|WO!^%T!_#o%T#p~%T'u(rZ#|W]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV#|WOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR#w&j#|WO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO#w&j'u*{R#w&j#|W]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO#w&j]!R'm+zROr+Urs,Ts~+U'm,[U#w&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV#|WOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ#w&j#|W]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ#|W]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR#|W]!RO!^%T!_#o%T#p~%T!Z0XT#|WO!^.x!^!_,n!_#o.x#o#p,n#p~.x&i0s_#|W#rS'S%k'`pOt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$g%T$g~0h[1y_#|W#rSOt%Ttu1ru}%T}!O1r!O!Q%T!Q![1r![!^%T!_!c%T!c!}1r!}#R%T#R#S1r#S#T%T#T#o1r#p$g%T$g~1r$O3PS#U#v#|WO!^%T!_!`3]!`#o%T#p~%T$O3dR#|W#g#vO!^%T!_#o%T#p~%T%r3tU'q%j#|WOv%Tvw4Ww!^%T!_!`3]!`#o%T#p~%T$O4_S#|W#a#vO!^%T!_!`3]!`#o%T#p~%T'u4rZ#|W]!ROY4kYZ5eZw4kwx*rx!^4k!^!_6]!_#O4k#O#P8]#P#o4k#o#p6]#p~4k&r5jV#|WOw5ewx*Px!^5e!^!_6P!_#o5e#o#p6P#p~5e&j6SROw6Pwx*mx~6P'm6bV]!ROY6]YZ6PZw6]wx+px#O6]#O#P6w#P~6]'m6zROw6]wx7Tx~6]'m7[U#w&j]!ROY7nZw7nwx-Vx#O7n#O#P8V#P~7n!R7sU]!ROY7nZw7nwx-Vx#O7n#O#P8V#P~7n!R8YPO~7n'u8bV#|WOw4kwx8wx!^4k!^!_6]!_#o4k#o#p6]#p~4k'u9QZ#w&j#|W]!ROY9sYZ%TZw9swx/rx!^9s!^!_7n!_#O9s#O#P:m#P#o9s#o#p7n#p~9s!Z9zZ#|W]!ROY9sYZ%TZw9swx/rx!^9s!^!_7n!_#O9s#O#P:m#P#o9s#o#p7n#p~9s!Z:rT#|WO!^9s!^!_7n!_#o9s#o#p7n#p~9s%V;YR!`$}#|WO!^%T!_#o%T#p~%TZ;jR!_R#|WO!^%T!_#o%T#p~%T%R;|U'T!R#V#v#|WOz%Tz{<`{!^%T!_!`3]!`#o%T#p~%T$O<gS#S#v#|WO!^%T!_!`3]!`#o%T#p~%T$u<zSi$m#|WO!^%T!_!`3]!`#o%T#p~%T&i=_R}&a#|WO!^%T!_#o%T#p~%T&i=oVr%n#|WO!O%T!O!P>U!P!Q%T!Q![>z![!^%T!_#o%T#p~%Ty>ZT#|WO!O%T!O!P>j!P!^%T!_#o%T#p~%Ty>qR|q#|WO!^%T!_#o%T#p~%Ty?RZ#|WjqO!Q%T!Q![>z![!^%T!_!g%T!g!h?t!h#R%T#R#S>z#S#X%T#X#Y?t#Y#o%T#p~%Ty?yZ#|WO{%T{|@l|}%T}!O@l!O!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%Ty@qV#|WO!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%TyA_V#|WjqO!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%T,TA{`#|W#T#vOYB}YZ%TZzB}z{Ht{!PB}!P!Q!+m!Q!^B}!^!_EQ!_!`!,f!`!a!-e!a!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}XCU[#|WyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}XDR_#|WyPO!^%T!_#Z%T#Z#[Cz#[#]%T#]#^Cz#^#a%T#a#bCz#b#g%T#g#hCz#h#i%T#i#jCz#j#m%T#m#nCz#n#o%T#p~%TPEVVyPOYEQZ!PEQ!P!QEl!Q!}EQ!}#OFT#O#PFp#P~EQPEqUyP#Z#[El#]#^El#a#bEl#g#hEl#i#jEl#m#nElPFWTOYFTZ#OFT#O#PFg#P#QEQ#Q~FTPFjQOYFTZ~FTPFsQOYEQZ~EQXGOY#|WOYFyYZ%TZ!^Fy!^!_FT!_#OFy#O#PGn#P#QB}#Q#oFy#o#pFT#p~FyXGsV#|WOYFyYZ%TZ!^Fy!^!_FT!_#oFy#o#pFT#p~FyXH_V#|WOYB}YZ%TZ!^B}!^!_EQ!_#oB}#o#pEQ#p~B},TH{^#|WyPOYHtYZIwZzHtz{LY{!PHt!P!Q!*Z!Q!^Ht!^!_Ne!_!}Ht!}#O!&U#O#P!)i#P#oHt#o#pNe#p~Ht,TI|V#|WOzIwz{Jc{!^Iw!^!_Ke!_#oIw#o#pKe#p~Iw,TJhX#|WOzIwz{Jc{!PIw!P!QKT!Q!^Iw!^!_Ke!_#oIw#o#pKe#p~Iw,TK[R#|WT+{O!^%T!_#o%T#p~%T+{KhROzKez{Kq{~Ke+{KtTOzKez{Kq{!PKe!P!QLT!Q~Ke+{LYOT+{,TLa^#|WyPOYHtYZIwZzHtz{LY{!PHt!P!QM]!Q!^Ht!^!_Ne!_!}Ht!}#O!&U#O#P!)i#P#oHt#o#pNe#p~Ht,TMf_#|WT+{yPO!^%T!_#Z%T#Z#[Cz#[#]%T#]#^Cz#^#a%T#a#bCz#b#g%T#g#hCz#h#i%T#i#jCz#j#m%T#m#nCz#n#o%T#p~%T+{NjYyPOYNeYZKeZzNez{! Y{!PNe!P!Q!%Q!Q!}Ne!}#O!!h#O#P!$n#P~Ne+{! _YyPOYNeYZKeZzNez{! Y{!PNe!P!Q! }!Q!}Ne!}#O!!h#O#P!$n#P~Ne+{!!UUT+{yP#Z#[El#]#^El#a#bEl#g#hEl#i#jEl#m#nEl+{!!kWOY!!hYZKeZz!!hz{!#T{#O!!h#O#P!$[#P#QNe#Q~!!h+{!#WYOY!!hYZKeZz!!hz{!#T{!P!!h!P!Q!#v!Q#O!!h#O#P!$[#P#QNe#Q~!!h+{!#{TT+{OYFTZ#OFT#O#PFg#P#QEQ#Q~FT+{!$_TOY!!hYZKeZz!!hz{!#T{~!!h+{!$qTOYNeYZKeZzNez{! Y{~Ne+{!%V_yPOzKez{Kq{#ZKe#Z#[!%Q#[#]Ke#]#^!%Q#^#aKe#a#b!%Q#b#gKe#g#h!%Q#h#iKe#i#j!%Q#j#mKe#m#n!%Q#n~Ke,T!&Z[#|WOY!&UYZIwZz!&Uz{!'P{!^!&U!^!_!!h!_#O!&U#O#P!(w#P#QHt#Q#o!&U#o#p!!h#p~!&U,T!'U^#|WOY!&UYZIwZz!&Uz{!'P{!P!&U!P!Q!(Q!Q!^!&U!^!_!!h!_#O!&U#O#P!(w#P#QHt#Q#o!&U#o#p!!h#p~!&U,T!(XY#|WT+{OYFyYZ%TZ!^Fy!^!_FT!_#OFy#O#PGn#P#QB}#Q#oFy#o#pFT#p~Fy,T!(|X#|WOY!&UYZIwZz!&Uz{!'P{!^!&U!^!_!!h!_#o!&U#o#p!!h#p~!&U,T!)nX#|WOYHtYZIwZzHtz{LY{!^Ht!^!_Ne!_#oHt#o#pNe#p~Ht,T!*bc#|WyPOzIwz{Jc{!^Iw!^!_Ke!_#ZIw#Z#[!*Z#[#]Iw#]#^!*Z#^#aIw#a#b!*Z#b#gIw#g#h!*Z#h#iIw#i#j!*Z#j#mIw#m#n!*Z#n#oIw#o#pKe#p~Iw,T!+tV#|WS+{OY!+mYZ%TZ!^!+m!^!_!,Z!_#o!+m#o#p!,Z#p~!+m+{!,`QS+{OY!,ZZ~!,Z$P!,o[#|W#g#vyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}]!-n[#oS#|WyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}y!.kd#|WjqO!O%T!O!P>z!P!Q%T!Q![!/y![!^%T!_!g%T!g!h?t!h#R%T#R#S!/y#S#U%T#U#V!1a#V#X%T#X#Y?t#Y#b%T#b#c!1P#c#d!2o#d#l%T#l#m!3w#m#o%T#p~%Ty!0Q_#|WjqO!O%T!O!P>z!P!Q%T!Q![!/y![!^%T!_!g%T!g!h?t!h#R%T#R#S!/y#S#X%T#X#Y?t#Y#b%T#b#c!1P#c#o%T#p~%Ty!1WR#|WjqO!^%T!_#o%T#p~%Ty!1fW#|WO!Q%T!Q!R!2O!R!S!2O!S!^%T!_#R%T#R#S!2O#S#o%T#p~%Ty!2VW#|WjqO!Q%T!Q!R!2O!R!S!2O!S!^%T!_#R%T#R#S!2O#S#o%T#p~%Ty!2tV#|WO!Q%T!Q!Y!3Z!Y!^%T!_#R%T#R#S!3Z#S#o%T#p~%Ty!3bV#|WjqO!Q%T!Q!Y!3Z!Y!^%T!_#R%T#R#S!3Z#S#o%T#p~%Ty!3|Z#|WO!Q%T!Q![!4o![!^%T!_!c%T!c!i!4o!i#R%T#R#S!4o#S#T%T#T#Z!4o#Z#o%T#p~%Ty!4vZ#|WjqO!Q%T!Q![!4o![!^%T!_!c%T!c!i!4o!i#R%T#R#S!4o#S#T%T#T#Z!4o#Z#o%T#p~%T%w!5rR!XV#|W#e%hO!^%T!_#o%T#p~%T!P!6SR^w#|WO!^%T!_#o%T#p~%T+c!6hR'Xd!]%Y#p&s'uP!P!Q!6q!^!_!6v!_!`!7TW!6vO$OW#v!6{P#W#v!_!`!7O#v!7TO#g#v#v!7YO#X#v%w!7aT!u%o#|WO!^%T!_!`'v!`!a!7p!a#o%T#p~%T$P!7wR#P#w#|WO!^%T!_#o%T#p~%T%w!8]T'W!s#X#v#yS#|WO!^%T!_!`!8l!`!a!8|!a#o%T#p~%T$O!8sR#X#v#|WO!^%T!_#o%T#p~%T$O!9TT#W#v#|WO!^%T!_!`3]!`!a!9d!a#o%T#p~%T$O!9kS#W#v#|WO!^%T!_!`3]!`#o%T#p~%T%w!:OV'i%o#|WO!O%T!O!P!:e!P!^%T!_!a%T!a!b!:u!b#o%T#p~%T$`!:lRs$W#|WO!^%T!_#o%T#p~%T$O!:|S#|W#b#vO!^%T!_!`3]!`#o%T#p~%T&e!;aRu&]#|WO!^%T!_#o%T#p~%TZ!;qRzR#|WO!^%T!_#o%T#p~%T$O!<RS#_#v#|WO!^%T!_!`3]!`#o%T#p~%T$P!<fR#|W']#wO!^%T!_#o%T#p~%T~!<tO!P~%r!<{T'p%j#|WO!^%T!_!`3]!`#o%T#p#q!:u#q~%T$u!=eR!O$k#|W'_QO!^%T!_#o%T#p~%TX!=uR!gP#|WO!^%T!_#o%T#p~%T,T!>]r#|W'P+{#rS'S%k'`pOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$f%T$f$g%c$g#BY0h#BY#BZ!>O#BZ$IS0h$IS$I_!>O$I_$JT0h$JT$JU!>O$JU$KV0h$KV$KW!>O$KW&FU0h&FU&FV!>O&FV?HT0h?HT?HU!>O?HU~0h,T!@t_#|W'Q+{#rS'S%k'`pOt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$g%T$g~0h\",\n  tokenizers: [noSemicolon, incdecToken, template, 0, 1, 2, 3, 4, 5, 6, 7, 8, insertSemicolon],\n  topRules: {\"Script\":[0,6]},\n  dialects: {jsx: 11129, ts: 11131},\n  dynamicPrecedences: {\"141\":1,\"168\":1},\n  specialized: [{term: 280, get: (value, stack) => (tsExtends(value, stack) << 1) | 1},{term: 280, get: value => spec_identifier[value] || -1},{term: 292, get: value => spec_word[value] || -1},{term: 59, get: value => spec_LessThan[value] || -1}],\n  tokenPrec: 11151\n});\n\nexport { parser };\n","// Compressed representation of the Grapheme_Cluster_Break=Extend\n// information from\n// http://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakProperty.txt.\n// Each pair of elements represents a range, as an offet from the\n// previous range and a length. Numbers are in base-36, with the empty\n// string being a shorthand for 1.\nlet extend = /*@__PURE__*/\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(s => s ? parseInt(s, 36) : 1);\n// Convert offsets into absolute values\nfor (let i = 1; i < extend.length; i++)\n    extend[i] += extend[i - 1];\nfunction isExtendingChar(code) {\n    for (let i = 1; i < extend.length; i += 2)\n        if (extend[i] > code)\n            return extend[i - 1] <= code;\n    return false;\n}\nfunction isRegionalIndicator(code) {\n    return code >= 0x1F1E6 && code <= 0x1F1FF;\n}\nconst ZWJ = 0x200d;\n/**\nReturns a next grapheme cluster break _after_ (not equal to)\n`pos`, if `forward` is true, or before otherwise. Returns `pos`\nitself if no further cluster break is available in the string.\nMoves across surrogate pairs, extending characters, characters\njoined with zero-width joiners, and flag emoji.\n*/\nfunction findClusterBreak(str, pos, forward = true) {\n    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos);\n}\nfunction nextClusterBreak(str, pos) {\n    if (pos == str.length)\n        return pos;\n    // If pos is in the middle of a surrogate pair, move to its start\n    if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1)))\n        pos--;\n    let prev = codePointAt(str, pos);\n    pos += codePointSize(prev);\n    while (pos < str.length) {\n        let next = codePointAt(str, pos);\n        if (prev == ZWJ || next == ZWJ || isExtendingChar(next)) {\n            pos += codePointSize(next);\n            prev = next;\n        }\n        else if (isRegionalIndicator(next)) {\n            let countBefore = 0, i = pos - 2;\n            while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {\n                countBefore++;\n                i -= 2;\n            }\n            if (countBefore % 2 == 0)\n                break;\n            else\n                pos += 2;\n        }\n        else {\n            break;\n        }\n    }\n    return pos;\n}\nfunction prevClusterBreak(str, pos) {\n    while (pos > 0) {\n        let found = nextClusterBreak(str, pos - 2);\n        if (found < pos)\n            return found;\n        pos--;\n    }\n    return 0;\n}\nfunction surrogateLow(ch) { return ch >= 0xDC00 && ch < 0xE000; }\nfunction surrogateHigh(ch) { return ch >= 0xD800 && ch < 0xDC00; }\n/**\nFind the code point at the given position in a string (like the\n[`codePointAt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt)\nstring method).\n*/\nfunction codePointAt(str, pos) {\n    let code0 = str.charCodeAt(pos);\n    if (!surrogateHigh(code0) || pos + 1 == str.length)\n        return code0;\n    let code1 = str.charCodeAt(pos + 1);\n    if (!surrogateLow(code1))\n        return code0;\n    return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000;\n}\n/**\nGiven a Unicode codepoint, return the JavaScript string that\nrespresents it (like\n[`String.fromCodePoint`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)).\n*/\nfunction fromCodePoint(code) {\n    if (code <= 0xffff)\n        return String.fromCharCode(code);\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xd800, (code & 1023) + 0xdc00);\n}\n/**\nThe first character that takes up two positions in a JavaScript\nstring. It is often useful to compare with this after calling\n`codePointAt`, to figure out whether your character takes up 1 or\n2 index positions.\n*/\nfunction codePointSize(code) { return code < 0x10000 ? 1 : 2; }\n\n/**\nCount the column position at the given offset into the string,\ntaking extending characters and tab size into account.\n*/\nfunction countColumn(string, tabSize, to = string.length) {\n    let n = 0;\n    for (let i = 0; i < to;) {\n        if (string.charCodeAt(i) == 9) {\n            n += tabSize - (n % tabSize);\n            i++;\n        }\n        else {\n            n++;\n            i = findClusterBreak(string, i);\n        }\n    }\n    return n;\n}\n/**\nFind the offset that corresponds to the given column position in a\nstring, taking extending characters and tab size into account. By\ndefault, the string length is returned when it is too short to\nreach the column. Pass `strict` true to make it return -1 in that\nsituation.\n*/\nfunction findColumn(string, col, tabSize, strict) {\n    for (let i = 0, n = 0;;) {\n        if (n >= col)\n            return i;\n        if (i == string.length)\n            break;\n        n += string.charCodeAt(i) == 9 ? tabSize - (n % tabSize) : 1;\n        i = findClusterBreak(string, i);\n    }\n    return strict === true ? -1 : string.length;\n}\n\n/**\nThe data structure for documents.\n*/\nclass Text {\n    /**\n    @internal\n    */\n    constructor() { }\n    /**\n    Get the line description around the given position.\n    */\n    lineAt(pos) {\n        if (pos < 0 || pos > this.length)\n            throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);\n        return this.lineInner(pos, false, 1, 0);\n    }\n    /**\n    Get the description for the given (1-based) line number.\n    */\n    line(n) {\n        if (n < 1 || n > this.lines)\n            throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);\n        return this.lineInner(n, true, 1, 0);\n    }\n    /**\n    Replace a range of the text with the given content.\n    */\n    replace(from, to, text) {\n        let parts = [];\n        this.decompose(0, from, parts, 2 /* To */);\n        if (text.length)\n            text.decompose(0, text.length, parts, 1 /* From */ | 2 /* To */);\n        this.decompose(to, this.length, parts, 1 /* From */);\n        return TextNode.from(parts, this.length - (to - from) + text.length);\n    }\n    /**\n    Append another document to this one.\n    */\n    append(other) {\n        return this.replace(this.length, this.length, other);\n    }\n    /**\n    Retrieve the text between the given points.\n    */\n    slice(from, to = this.length) {\n        let parts = [];\n        this.decompose(from, to, parts, 0);\n        return TextNode.from(parts, to - from);\n    }\n    /**\n    Test whether this text is equal to another instance.\n    */\n    eq(other) {\n        if (other == this)\n            return true;\n        if (other.length != this.length || other.lines != this.lines)\n            return false;\n        let start = this.scanIdentical(other, 1), end = this.length - this.scanIdentical(other, -1);\n        let a = new RawTextCursor(this), b = new RawTextCursor(other);\n        for (let skip = start, pos = start;;) {\n            a.next(skip);\n            b.next(skip);\n            skip = 0;\n            if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)\n                return false;\n            pos += a.value.length;\n            if (a.done || pos >= end)\n                return true;\n        }\n    }\n    /**\n    Iterate over the text. When `dir` is `-1`, iteration happens\n    from end to start. This will return lines and the breaks between\n    them as separate strings, and for long lines, might split lines\n    themselves into multiple chunks as well.\n    */\n    iter(dir = 1) { return new RawTextCursor(this, dir); }\n    /**\n    Iterate over a range of the text. When `from` > `to`, the\n    iterator will run in reverse.\n    */\n    iterRange(from, to = this.length) { return new PartialTextCursor(this, from, to); }\n    /**\n    Return a cursor that iterates over the given range of lines,\n    _without_ returning the line breaks between, and yielding empty\n    strings for empty lines.\n    \n    When `from` and `to` are given, they should be 1-based line numbers.\n    */\n    iterLines(from, to) {\n        let inner;\n        if (from == null) {\n            inner = this.iter();\n        }\n        else {\n            if (to == null)\n                to = this.lines + 1;\n            let start = this.line(from).from;\n            inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));\n        }\n        return new LineCursor(inner);\n    }\n    /**\n    @internal\n    */\n    toString() { return this.sliceString(0); }\n    /**\n    Convert the document to an array of lines (which can be\n    deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#text.Text^of)).\n    */\n    toJSON() {\n        let lines = [];\n        this.flatten(lines);\n        return lines;\n    }\n    /**\n    Create a `Text` instance for the given array of lines.\n    */\n    static of(text) {\n        if (text.length == 0)\n            throw new RangeError(\"A document must have at least one line\");\n        if (text.length == 1 && !text[0])\n            return Text.empty;\n        return text.length <= 32 /* Branch */ ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));\n    }\n}\n// Leaves store an array of line strings. There are always line breaks\n// between these strings. Leaves are limited in size and have to be\n// contained in TextNode instances for bigger documents.\nclass TextLeaf extends Text {\n    constructor(text, length = textLength(text)) {\n        super();\n        this.text = text;\n        this.length = length;\n    }\n    get lines() { return this.text.length; }\n    get children() { return null; }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let string = this.text[i], end = offset + string.length;\n            if ((isLine ? line : end) >= target)\n                return new Line(offset, end, line, string);\n            offset = end + 1;\n            line++;\n        }\n    }\n    decompose(from, to, target, open) {\n        let text = from <= 0 && to >= this.length ? this\n            : new TextLeaf(sliceText(this.text, from, to), Math.min(to, this.length) - Math.max(0, from));\n        if (open & 1 /* From */) {\n            let prev = target.pop();\n            let joined = appendText(text.text, prev.text.slice(), 0, text.length);\n            if (joined.length <= 32 /* Branch */) {\n                target.push(new TextLeaf(joined, prev.length + text.length));\n            }\n            else {\n                let mid = joined.length >> 1;\n                target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));\n            }\n        }\n        else {\n            target.push(text);\n        }\n    }\n    replace(from, to, text) {\n        if (!(text instanceof TextLeaf))\n            return super.replace(from, to, text);\n        let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from)), to);\n        let newLen = this.length + text.length - (to - from);\n        if (lines.length <= 32 /* Branch */)\n            return new TextLeaf(lines, newLen);\n        return TextNode.from(TextLeaf.split(lines, []), newLen);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {\n            let line = this.text[i], end = pos + line.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += line.slice(Math.max(0, from - pos), to - pos);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let line of this.text)\n            target.push(line);\n    }\n    scanIdentical() { return 0; }\n    static split(text, target) {\n        let part = [], len = -1;\n        for (let line of text) {\n            part.push(line);\n            len += line.length + 1;\n            if (part.length == 32 /* Branch */) {\n                target.push(new TextLeaf(part, len));\n                part = [];\n                len = -1;\n            }\n        }\n        if (len > -1)\n            target.push(new TextLeaf(part, len));\n        return target;\n    }\n}\n// Nodes provide the tree structure of the `Text` type. They store a\n// number of other nodes or leaves, taking care to balance themselves\n// on changes. There are implied line breaks _between_ the children of\n// a node (but not before the first or after the last child).\nclass TextNode extends Text {\n    constructor(children, length) {\n        super();\n        this.children = children;\n        this.length = length;\n        this.lines = 0;\n        for (let child of children)\n            this.lines += child.lines;\n    }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n            if ((isLine ? endLine : end) >= target)\n                return child.lineInner(target, isLine, line, offset);\n            offset = end + 1;\n            line = endLine + 1;\n        }\n    }\n    decompose(from, to, target, open) {\n        for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (from <= end && to >= pos) {\n                let childOpen = open & ((pos <= from ? 1 /* From */ : 0) | (end >= to ? 2 /* To */ : 0));\n                if (pos >= from && end <= to && !childOpen)\n                    target.push(child);\n                else\n                    child.decompose(from - pos, to - pos, target, childOpen);\n            }\n            pos = end + 1;\n        }\n    }\n    replace(from, to, text) {\n        if (text.lines < this.lines)\n            for (let i = 0, pos = 0; i < this.children.length; i++) {\n                let child = this.children[i], end = pos + child.length;\n                // Fast path: if the change only affects one child and the\n                // child's size remains in the acceptable range, only update\n                // that child\n                if (from >= pos && to <= end) {\n                    let updated = child.replace(from - pos, to - pos, text);\n                    let totalLines = this.lines - child.lines + updated.lines;\n                    if (updated.lines < (totalLines >> (5 /* BranchShift */ - 1)) &&\n                        updated.lines > (totalLines >> (5 /* BranchShift */ + 1))) {\n                        let copy = this.children.slice();\n                        copy[i] = updated;\n                        return new TextNode(copy, this.length - (to - from) + text.length);\n                    }\n                    return super.replace(pos, end, updated);\n                }\n                pos = end + 1;\n            }\n        return super.replace(from, to, text);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += child.sliceString(from - pos, to - pos, lineSep);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let child of this.children)\n            child.flatten(target);\n    }\n    scanIdentical(other, dir) {\n        if (!(other instanceof TextNode))\n            return 0;\n        let length = 0;\n        let [iA, iB, eA, eB] = dir > 0 ? [0, 0, this.children.length, other.children.length]\n            : [this.children.length - 1, other.children.length - 1, -1, -1];\n        for (;; iA += dir, iB += dir) {\n            if (iA == eA || iB == eB)\n                return length;\n            let chA = this.children[iA], chB = other.children[iB];\n            if (chA != chB)\n                return length + chA.scanIdentical(chB, dir);\n            length += chA.length + 1;\n        }\n    }\n    static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {\n        let lines = 0;\n        for (let ch of children)\n            lines += ch.lines;\n        if (lines < 32 /* Branch */) {\n            let flat = [];\n            for (let ch of children)\n                ch.flatten(flat);\n            return new TextLeaf(flat, length);\n        }\n        let chunk = Math.max(32 /* Branch */, lines >> 5 /* BranchShift */), maxChunk = chunk << 1, minChunk = chunk >> 1;\n        let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];\n        function add(child) {\n            let last;\n            if (child.lines > maxChunk && child instanceof TextNode) {\n                for (let node of child.children)\n                    add(node);\n            }\n            else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {\n                flush();\n                chunked.push(child);\n            }\n            else if (child instanceof TextLeaf && currentLines &&\n                (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                child.lines + last.lines <= 32 /* Branch */) {\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);\n            }\n            else {\n                if (currentLines + child.lines > chunk)\n                    flush();\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk.push(child);\n            }\n        }\n        function flush() {\n            if (currentLines == 0)\n                return;\n            chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));\n            currentLen = -1;\n            currentLines = currentChunk.length = 0;\n        }\n        for (let child of children)\n            add(child);\n        flush();\n        return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n    }\n}\nText.empty = /*@__PURE__*/new TextLeaf([\"\"], 0);\nfunction textLength(text) {\n    let length = -1;\n    for (let line of text)\n        length += line.length + 1;\n    return length;\n}\nfunction appendText(text, target, from = 0, to = 1e9) {\n    for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n        let line = text[i], end = pos + line.length;\n        if (end >= from) {\n            if (end > to)\n                line = line.slice(0, to - pos);\n            if (pos < from)\n                line = line.slice(from - pos);\n            if (first) {\n                target[target.length - 1] += line;\n                first = false;\n            }\n            else\n                target.push(line);\n        }\n        pos = end + 1;\n    }\n    return target;\n}\nfunction sliceText(text, from, to) {\n    return appendText(text, [\"\"], from, to);\n}\nclass RawTextCursor {\n    constructor(text, dir = 1) {\n        this.dir = dir;\n        this.done = false;\n        this.lineBreak = false;\n        this.value = \"\";\n        this.nodes = [text];\n        this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];\n    }\n    nextInner(skip, dir) {\n        this.done = this.lineBreak = false;\n        for (;;) {\n            let last = this.nodes.length - 1;\n            let top = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;\n            let size = top instanceof TextLeaf ? top.text.length : top.children.length;\n            if (offset == (dir > 0 ? size : 0)) {\n                if (last == 0) {\n                    this.done = true;\n                    this.value = \"\";\n                    return this;\n                }\n                if (dir > 0)\n                    this.offsets[last - 1]++;\n                this.nodes.pop();\n                this.offsets.pop();\n            }\n            else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {\n                this.offsets[last] += dir;\n                if (skip == 0) {\n                    this.lineBreak = true;\n                    this.value = \"\\n\";\n                    return this;\n                }\n                skip--;\n            }\n            else if (top instanceof TextLeaf) {\n                // Move to the next string\n                let next = top.text[offset + (dir < 0 ? -1 : 0)];\n                this.offsets[last] += dir;\n                if (next.length > Math.max(0, skip)) {\n                    this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                    return this;\n                }\n                skip -= next.length;\n            }\n            else {\n                let next = top.children[offset + (dir < 0 ? -1 : 0)];\n                if (skip > next.length) {\n                    skip -= next.length;\n                    this.offsets[last] += dir;\n                }\n                else {\n                    if (dir < 0)\n                        this.offsets[last]--;\n                    this.nodes.push(next);\n                    this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);\n                }\n            }\n        }\n    }\n    next(skip = 0) {\n        if (skip < 0) {\n            this.nextInner(-skip, (-this.dir));\n            skip = this.value.length;\n        }\n        return this.nextInner(skip, this.dir);\n    }\n}\nclass PartialTextCursor {\n    constructor(text, start, end) {\n        this.value = \"\";\n        this.done = false;\n        this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n        this.pos = start > end ? text.length : 0;\n        this.from = Math.min(start, end);\n        this.to = Math.max(start, end);\n    }\n    nextInner(skip, dir) {\n        if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {\n            this.value = \"\";\n            this.done = true;\n            return this;\n        }\n        skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);\n        let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;\n        if (skip > limit)\n            skip = limit;\n        limit -= skip;\n        let { value } = this.cursor.next(skip);\n        this.pos += (value.length + skip) * dir;\n        this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);\n        this.done = !this.value;\n        return this;\n    }\n    next(skip = 0) {\n        if (skip < 0)\n            skip = Math.max(skip, this.from - this.pos);\n        else if (skip > 0)\n            skip = Math.min(skip, this.to - this.pos);\n        return this.nextInner(skip, this.cursor.dir);\n    }\n    get lineBreak() { return this.cursor.lineBreak && this.value != \"\"; }\n}\nclass LineCursor {\n    constructor(inner) {\n        this.inner = inner;\n        this.afterBreak = true;\n        this.value = \"\";\n        this.done = false;\n    }\n    next(skip = 0) {\n        let { done, lineBreak, value } = this.inner.next(skip);\n        if (done) {\n            this.done = true;\n            this.value = \"\";\n        }\n        else if (lineBreak) {\n            if (this.afterBreak) {\n                this.value = \"\";\n            }\n            else {\n                this.afterBreak = true;\n                this.next();\n            }\n        }\n        else {\n            this.value = value;\n            this.afterBreak = false;\n        }\n        return this;\n    }\n    get lineBreak() { return false; }\n}\nif (typeof Symbol != \"undefined\") {\n    Text.prototype[Symbol.iterator] = function () { return this.iter(); };\n    RawTextCursor.prototype[Symbol.iterator] = PartialTextCursor.prototype[Symbol.iterator] =\n        LineCursor.prototype[Symbol.iterator] = function () { return this; };\n}\n/**\nThis type describes a line in the document. It is created\non-demand when lines are [queried](https://codemirror.net/6/docs/ref/#text.Text.lineAt).\n*/\nclass Line {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position of the start of the line.\n    */\n    from, \n    /**\n    The position at the end of the line (_before_ the line break,\n    or at the end of document for the last line).\n    */\n    to, \n    /**\n    This line's line number (1-based).\n    */\n    number, \n    /**\n    The line's content.\n    */\n    text) {\n        this.from = from;\n        this.to = to;\n        this.number = number;\n        this.text = text;\n    }\n    /**\n    The length of the line (not including any line break after it).\n    */\n    get length() { return this.to - this.from; }\n}\n\nexport { Line, Text, codePointAt, codePointSize, countColumn, findClusterBreak, findColumn, fromCodePoint };\n","import { Text, findClusterBreak } from '@codemirror/text';\nexport { Text } from '@codemirror/text';\n\nconst DefaultSplit = /\\r\\n?|\\n/;\n/**\nDistinguishes different ways in which positions can be mapped.\n*/\nvar MapMode = /*@__PURE__*/(function (MapMode) {\n    /**\n    Map a position to a valid new position, even when its context\n    was deleted.\n    */\n    MapMode[MapMode[\"Simple\"] = 0] = \"Simple\";\n    /**\n    Return null if deletion happens across the position.\n    */\n    MapMode[MapMode[\"TrackDel\"] = 1] = \"TrackDel\";\n    /**\n    Return null if the character _before_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackBefore\"] = 2] = \"TrackBefore\";\n    /**\n    Return null if the character _after_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackAfter\"] = 3] = \"TrackAfter\";\nreturn MapMode})(MapMode || (MapMode = {}));\n/**\nA change description is a variant of [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet)\nthat doesn't store the inserted text. As such, it can't be\napplied, but is cheaper to store and manipulate.\n*/\nclass ChangeDesc {\n    // Sections are encoded as pairs of integers. The first is the\n    // length in the current document, and the second is -1 for\n    // unaffected sections, and the length of the replacement content\n    // otherwise. So an insertion would be (0, n>0), a deletion (n>0,\n    // 0), and a replacement two positive numbers.\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    sections) {\n        this.sections = sections;\n    }\n    /**\n    The length of the document before the change.\n    */\n    get length() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2)\n            result += this.sections[i];\n        return result;\n    }\n    /**\n    The length of the document after the change.\n    */\n    get newLength() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let ins = this.sections[i + 1];\n            result += ins < 0 ? this.sections[i] : ins;\n        }\n        return result;\n    }\n    /**\n    False when there are actual changes in this set.\n    */\n    get empty() { return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0; }\n    /**\n    Iterate over the unchanged parts left by these changes.\n    */\n    iterGaps(f) {\n        for (let i = 0, posA = 0, posB = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0) {\n                f(posA, posB, len);\n                posB += len;\n            }\n            else {\n                posB += ins;\n            }\n            posA += len;\n        }\n    }\n    /**\n    Iterate over the ranges changed by these changes. (See\n    [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a\n    variant that also provides you with the inserted text.)\n    \n    When `individual` is true, adjacent changes (which are kept\n    separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are\n    reported separately.\n    */\n    iterChangedRanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a description of the inverted form of these changes.\n    */\n    get invertedDesc() {\n        let sections = [];\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0)\n                sections.push(len, ins);\n            else\n                sections.push(ins, len);\n        }\n        return new ChangeDesc(sections);\n    }\n    /**\n    Compute the combined effect of applying another set of changes\n    after this one. The length of the document after this set should\n    match the length before `other`.\n    */\n    composeDesc(other) { return this.empty ? other : other.empty ? this : composeSets(this, other); }\n    /**\n    Map this description, which should start with the same document\n    as `other`, over another set of changes, so that it can be\n    applied after it. When `before` is true, map as if the changes\n    in `other` happened before the ones in `this`.\n    */\n    mapDesc(other, before = false) { return other.empty ? this : mapSet(this, other, before); }\n    mapPos(pos, assoc = -1, mode = MapMode.Simple) {\n        let posA = 0, posB = 0;\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;\n            if (ins < 0) {\n                if (endA > pos)\n                    return posB + (pos - posA);\n                posB += len;\n            }\n            else {\n                if (mode != MapMode.Simple && endA >= pos &&\n                    (mode == MapMode.TrackDel && posA < pos && endA > pos ||\n                        mode == MapMode.TrackBefore && posA < pos ||\n                        mode == MapMode.TrackAfter && endA > pos))\n                    return null;\n                if (endA > pos || endA == pos && assoc < 0 && !len)\n                    return pos == posA || assoc < 0 ? posB : posB + ins;\n                posB += ins;\n            }\n            posA = endA;\n        }\n        if (pos > posA)\n            throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);\n        return posB;\n    }\n    /**\n    Check whether these changes touch a given range. When one of the\n    changes entirely covers the range, the string `\"cover\"` is\n    returned.\n    */\n    touchesRange(from, to = from) {\n        for (let i = 0, pos = 0; i < this.sections.length && pos <= to;) {\n            let len = this.sections[i++], ins = this.sections[i++], end = pos + len;\n            if (ins >= 0 && pos <= to && end >= from)\n                return pos < from && end > to ? \"cover\" : true;\n            pos = end;\n        }\n        return false;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let result = \"\";\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            result += (result ? \" \" : \"\") + len + (ins >= 0 ? \":\" + ins : \"\");\n        }\n        return result;\n    }\n    /**\n    Serialize this change desc to a JSON-representable value.\n    */\n    toJSON() { return this.sections; }\n    /**\n    Create a change desc from its JSON representation (as produced\n    by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json) || json.length % 2 || json.some(a => typeof a != \"number\"))\n            throw new RangeError(\"Invalid JSON representation of ChangeDesc\");\n        return new ChangeDesc(json);\n    }\n}\n/**\nA change set represents a group of modifications to a document. It\nstores the document length, and can only be applied to documents\nwith exactly that length.\n*/\nclass ChangeSet extends ChangeDesc {\n    /**\n    @internal\n    */\n    constructor(sections, \n    /**\n    @internal\n    */\n    inserted) {\n        super(sections);\n        this.inserted = inserted;\n    }\n    /**\n    Apply the changes to a document, returning the modified\n    document.\n    */\n    apply(doc) {\n        if (this.length != doc.length)\n            throw new RangeError(\"Applying change set to a document with the wrong length\");\n        iterChanges(this, (fromA, toA, fromB, _toB, text) => doc = doc.replace(fromB, fromB + (toA - fromA), text), false);\n        return doc;\n    }\n    mapDesc(other, before = false) { return mapSet(this, other, before, true); }\n    /**\n    Given the document as it existed _before_ the changes, return a\n    change set that represents the inverse of this set, which could\n    be used to go from the document created by the changes back to\n    the document as it existed before the changes.\n    */\n    invert(doc) {\n        let sections = this.sections.slice(), inserted = [];\n        for (let i = 0, pos = 0; i < sections.length; i += 2) {\n            let len = sections[i], ins = sections[i + 1];\n            if (ins >= 0) {\n                sections[i] = ins;\n                sections[i + 1] = len;\n                let index = i >> 1;\n                while (inserted.length < index)\n                    inserted.push(Text.empty);\n                inserted.push(len ? doc.slice(pos, pos + len) : Text.empty);\n            }\n            pos += len;\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    Combine two subsequent change sets into a single set. `other`\n    must start in the document produced by `this`. If `this` goes\n    `docA`  `docB` and `other` represents `docB`  `docC`, the\n    returned value will represent the change `docA`  `docC`.\n    */\n    compose(other) { return this.empty ? other : other.empty ? this : composeSets(this, other, true); }\n    /**\n    Given another change set starting in the same document, maps this\n    change set over the other, producing a new change set that can be\n    applied to the document produced by applying `other`. When\n    `before` is `true`, order changes as if `this` comes before\n    `other`, otherwise (the default) treat `other` as coming first.\n    \n    Given two changes `A` and `B`, `A.compose(B.map(A))` and\n    `B.compose(A.map(B, true))` will produce the same document. This\n    provides a basic form of [operational\n    transformation](https://en.wikipedia.org/wiki/Operational_transformation),\n    and can be used for collaborative editing.\n    */\n    map(other, before = false) { return other.empty ? this : mapSet(this, other, before, true); }\n    /**\n    Iterate over the changed ranges in the document, calling `f` for\n    each.\n    \n    When `individual` is true, adjacent changes are reported\n    separately.\n    */\n    iterChanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change\n    set.\n    */\n    get desc() { return new ChangeDesc(this.sections); }\n    /**\n    @internal\n    */\n    filter(ranges) {\n        let resultSections = [], resultInserted = [], filteredSections = [];\n        let iter = new SectionIter(this);\n        done: for (let i = 0, pos = 0;;) {\n            let next = i == ranges.length ? 1e9 : ranges[i++];\n            while (pos < next || pos == next && iter.len == 0) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, next - pos);\n                addSection(filteredSections, len, -1);\n                let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;\n                addSection(resultSections, len, ins);\n                if (ins > 0)\n                    addInsert(resultInserted, resultSections, iter.text);\n                iter.forward(len);\n                pos += len;\n            }\n            let end = ranges[i++];\n            while (pos < end) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, end - pos);\n                addSection(resultSections, len, -1);\n                addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);\n                iter.forward(len);\n                pos += len;\n            }\n        }\n        return { changes: new ChangeSet(resultSections, resultInserted),\n            filtered: new ChangeDesc(filteredSections) };\n    }\n    /**\n    Serialize this change set to a JSON-representable value.\n    */\n    toJSON() {\n        let parts = [];\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let len = this.sections[i], ins = this.sections[i + 1];\n            if (ins < 0)\n                parts.push(len);\n            else if (ins == 0)\n                parts.push([len]);\n            else\n                parts.push([len].concat(this.inserted[i >> 1].toJSON()));\n        }\n        return parts;\n    }\n    /**\n    Create a change set for the given changes, for a document of the\n    given length, using `lineSep` as line separator.\n    */\n    static of(changes, length, lineSep) {\n        let sections = [], inserted = [], pos = 0;\n        let total = null;\n        function flush(force = false) {\n            if (!force && !sections.length)\n                return;\n            if (pos < length)\n                addSection(sections, length - pos, -1);\n            let set = new ChangeSet(sections, inserted);\n            total = total ? total.compose(set.map(total)) : set;\n            sections = [];\n            inserted = [];\n            pos = 0;\n        }\n        function process(spec) {\n            if (Array.isArray(spec)) {\n                for (let sub of spec)\n                    process(sub);\n            }\n            else if (spec instanceof ChangeSet) {\n                if (spec.length != length)\n                    throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);\n                flush();\n                total = total ? total.compose(spec.map(total)) : spec;\n            }\n            else {\n                let { from, to = from, insert } = spec;\n                if (from > to || from < 0 || to > length)\n                    throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);\n                let insText = !insert ? Text.empty : typeof insert == \"string\" ? Text.of(insert.split(lineSep || DefaultSplit)) : insert;\n                let insLen = insText.length;\n                if (from == to && insLen == 0)\n                    return;\n                if (from < pos)\n                    flush();\n                if (from > pos)\n                    addSection(sections, from - pos, -1);\n                addSection(sections, to - from, insLen);\n                addInsert(inserted, sections, insText);\n                pos = to;\n            }\n        }\n        process(changes);\n        flush(!total);\n        return total;\n    }\n    /**\n    Create an empty changeset of the given length.\n    */\n    static empty(length) {\n        return new ChangeSet(length ? [length, -1] : [], []);\n    }\n    /**\n    Create a changeset from its JSON representation (as produced by\n    [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json))\n            throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n        let sections = [], inserted = [];\n        for (let i = 0; i < json.length; i++) {\n            let part = json[i];\n            if (typeof part == \"number\") {\n                sections.push(part, -1);\n            }\n            else if (!Array.isArray(part) || typeof part[0] != \"number\" || part.some((e, i) => i && typeof e != \"string\")) {\n                throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n            }\n            else if (part.length == 1) {\n                sections.push(part[0], 0);\n            }\n            else {\n                while (inserted.length < i)\n                    inserted.push(Text.empty);\n                inserted[i] = Text.of(part.slice(1));\n                sections.push(part[0], inserted[i].length);\n            }\n        }\n        return new ChangeSet(sections, inserted);\n    }\n}\nfunction addSection(sections, len, ins, forceJoin = false) {\n    if (len == 0 && ins <= 0)\n        return;\n    let last = sections.length - 2;\n    if (last >= 0 && ins <= 0 && ins == sections[last + 1])\n        sections[last] += len;\n    else if (len == 0 && sections[last] == 0)\n        sections[last + 1] += ins;\n    else if (forceJoin) {\n        sections[last] += len;\n        sections[last + 1] += ins;\n    }\n    else\n        sections.push(len, ins);\n}\nfunction addInsert(values, sections, value) {\n    if (value.length == 0)\n        return;\n    let index = (sections.length - 2) >> 1;\n    if (index < values.length) {\n        values[values.length - 1] = values[values.length - 1].append(value);\n    }\n    else {\n        while (values.length < index)\n            values.push(Text.empty);\n        values.push(value);\n    }\n}\nfunction iterChanges(desc, f, individual) {\n    let inserted = desc.inserted;\n    for (let posA = 0, posB = 0, i = 0; i < desc.sections.length;) {\n        let len = desc.sections[i++], ins = desc.sections[i++];\n        if (ins < 0) {\n            posA += len;\n            posB += len;\n        }\n        else {\n            let endA = posA, endB = posB, text = Text.empty;\n            for (;;) {\n                endA += len;\n                endB += ins;\n                if (ins && inserted)\n                    text = text.append(inserted[(i - 2) >> 1]);\n                if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)\n                    break;\n                len = desc.sections[i++];\n                ins = desc.sections[i++];\n            }\n            f(posA, endA, posB, endB, text);\n            posA = endA;\n            posB = endB;\n        }\n    }\n}\nfunction mapSet(setA, setB, before, mkSet = false) {\n    let sections = [], insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let posA = 0, posB = 0;;) {\n        if (a.ins == -1) {\n            posA += a.len;\n            a.next();\n        }\n        else if (b.ins == -1 && posB < posA) {\n            let skip = Math.min(b.len, posA - posB);\n            b.forward(skip);\n            addSection(sections, skip, -1);\n            posB += skip;\n        }\n        else if (b.ins >= 0 && (a.done || posB < posA || posB == posA && (b.len < a.len || b.len == a.len && !before))) {\n            addSection(sections, b.ins, -1);\n            while (posA > posB && !a.done && posA + a.len < posB + b.len) {\n                posA += a.len;\n                a.next();\n            }\n            posB += b.len;\n            b.next();\n        }\n        else if (a.ins >= 0) {\n            let len = 0, end = posA + a.len;\n            for (;;) {\n                if (b.ins >= 0 && posB > posA && posB + b.len < end) {\n                    len += b.ins;\n                    posB += b.len;\n                    b.next();\n                }\n                else if (b.ins == -1 && posB < end) {\n                    let skip = Math.min(b.len, end - posB);\n                    len += skip;\n                    b.forward(skip);\n                    posB += skip;\n                }\n                else {\n                    break;\n                }\n            }\n            addSection(sections, len, a.ins);\n            if (insert)\n                addInsert(insert, sections, a.text);\n            posA = end;\n            a.next();\n        }\n        else if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n    }\n}\nfunction composeSets(setA, setB, mkSet = false) {\n    let sections = [];\n    let insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let open = false;;) {\n        if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else if (a.ins == 0) { // Deletion in A\n            addSection(sections, a.len, 0, open);\n            a.next();\n        }\n        else if (b.len == 0 && !b.done) { // Insertion in B\n            addSection(sections, 0, b.ins, open);\n            if (insert)\n                addInsert(insert, sections, b.text);\n            b.next();\n        }\n        else if (a.done || b.done) {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n        else {\n            let len = Math.min(a.len2, b.len), sectionLen = sections.length;\n            if (a.ins == -1) {\n                let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;\n                addSection(sections, len, insB, open);\n                if (insert && insB)\n                    addInsert(insert, sections, b.text);\n            }\n            else if (b.ins == -1) {\n                addSection(sections, a.off ? 0 : a.len, len, open);\n                if (insert)\n                    addInsert(insert, sections, a.textBit(len));\n            }\n            else {\n                addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);\n                if (insert && !b.off)\n                    addInsert(insert, sections, b.text);\n            }\n            open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);\n            a.forward2(len);\n            b.forward(len);\n        }\n    }\n}\nclass SectionIter {\n    constructor(set) {\n        this.set = set;\n        this.i = 0;\n        this.next();\n    }\n    next() {\n        let { sections } = this.set;\n        if (this.i < sections.length) {\n            this.len = sections[this.i++];\n            this.ins = sections[this.i++];\n        }\n        else {\n            this.len = 0;\n            this.ins = -2;\n        }\n        this.off = 0;\n    }\n    get done() { return this.ins == -2; }\n    get len2() { return this.ins < 0 ? this.len : this.ins; }\n    get text() {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length ? Text.empty : inserted[index];\n    }\n    textBit(len) {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length && !len ? Text.empty\n            : inserted[index].slice(this.off, len == null ? undefined : this.off + len);\n    }\n    forward(len) {\n        if (len == this.len)\n            this.next();\n        else {\n            this.len -= len;\n            this.off += len;\n        }\n    }\n    forward2(len) {\n        if (this.ins == -1)\n            this.forward(len);\n        else if (len == this.ins)\n            this.next();\n        else {\n            this.ins -= len;\n            this.off += len;\n        }\n    }\n}\n\n/**\nA single selection range. When\n[`allowMultipleSelections`](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\nis enabled, a [selection](https://codemirror.net/6/docs/ref/#state.EditorSelection) may hold\nmultiple ranges. By default, selections hold exactly one range.\n*/\nclass SelectionRange {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The lower boundary of the range.\n    */\n    from, \n    /**\n    The upper boundary of the range.\n    */\n    to, flags) {\n        this.from = from;\n        this.to = to;\n        this.flags = flags;\n    }\n    /**\n    The anchor of the rangethe side that doesn't move when you\n    extend it.\n    */\n    get anchor() { return this.flags & 16 /* Inverted */ ? this.to : this.from; }\n    /**\n    The head of the range, which is moved when the range is\n    [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).\n    */\n    get head() { return this.flags & 16 /* Inverted */ ? this.from : this.to; }\n    /**\n    True when `anchor` and `head` are at the same position.\n    */\n    get empty() { return this.from == this.to; }\n    /**\n    If this is a cursor that is explicitly associated with the\n    character on one of its sides, this returns the side. -1 means\n    the character before its position, 1 the character after, and 0\n    means no association.\n    */\n    get assoc() { return this.flags & 4 /* AssocBefore */ ? -1 : this.flags & 8 /* AssocAfter */ ? 1 : 0; }\n    /**\n    The bidirectional text level associated with this cursor, if\n    any.\n    */\n    get bidiLevel() {\n        let level = this.flags & 3 /* BidiLevelMask */;\n        return level == 3 ? null : level;\n    }\n    /**\n    The goal column (stored vertical offset) associated with a\n    cursor. This is used to preserve the vertical position when\n    [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across\n    lines of different length.\n    */\n    get goalColumn() {\n        let value = this.flags >> 5 /* GoalColumnOffset */;\n        return value == 33554431 /* NoGoalColumn */ ? undefined : value;\n    }\n    /**\n    Map this range through a change, producing a valid range in the\n    updated document.\n    */\n    map(change, assoc = -1) {\n        let from = change.mapPos(this.from, assoc), to = change.mapPos(this.to, assoc);\n        return from == this.from && to == this.to ? this : new SelectionRange(from, to, this.flags);\n    }\n    /**\n    Extend this range to cover at least `from` to `to`.\n    */\n    extend(from, to = from) {\n        if (from <= this.anchor && to >= this.anchor)\n            return EditorSelection.range(from, to);\n        let head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n        return EditorSelection.range(this.anchor, head);\n    }\n    /**\n    Compare this range to another range.\n    */\n    eq(other) {\n        return this.anchor == other.anchor && this.head == other.head;\n    }\n    /**\n    Return a JSON-serializable object representing the range.\n    */\n    toJSON() { return { anchor: this.anchor, head: this.head }; }\n    /**\n    Convert a JSON representation of a range to a `SelectionRange`\n    instance.\n    */\n    static fromJSON(json) {\n        if (!json || typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid JSON representation for SelectionRange\");\n        return EditorSelection.range(json.anchor, json.head);\n    }\n}\n/**\nAn editor selection holds one or more selection ranges.\n*/\nclass EditorSelection {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The ranges in the selection, sorted by position. Ranges cannot\n    overlap (but they may touch, if they aren't empty).\n    */\n    ranges, \n    /**\n    The index of the _main_ range in the selection (which is\n    usually the range that was added last).\n    */\n    mainIndex = 0) {\n        this.ranges = ranges;\n        this.mainIndex = mainIndex;\n    }\n    /**\n    Map a selection through a change. Used to adjust the selection\n    position for changes.\n    */\n    map(change, assoc = -1) {\n        if (change.empty)\n            return this;\n        return EditorSelection.create(this.ranges.map(r => r.map(change, assoc)), this.mainIndex);\n    }\n    /**\n    Compare this selection to another selection.\n    */\n    eq(other) {\n        if (this.ranges.length != other.ranges.length ||\n            this.mainIndex != other.mainIndex)\n            return false;\n        for (let i = 0; i < this.ranges.length; i++)\n            if (!this.ranges[i].eq(other.ranges[i]))\n                return false;\n        return true;\n    }\n    /**\n    Get the primary selection range. Usually, you should make sure\n    your code applies to _all_ ranges, by using methods like\n    [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).\n    */\n    get main() { return this.ranges[this.mainIndex]; }\n    /**\n    Make sure the selection only has one range. Returns a selection\n    holding only the main range from this selection.\n    */\n    asSingle() {\n        return this.ranges.length == 1 ? this : new EditorSelection([this.main]);\n    }\n    /**\n    Extend this selection with an extra range.\n    */\n    addRange(range, main = true) {\n        return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);\n    }\n    /**\n    Replace a given range with another range, and then normalize the\n    selection to merge and sort ranges if necessary.\n    */\n    replaceRange(range, which = this.mainIndex) {\n        let ranges = this.ranges.slice();\n        ranges[which] = range;\n        return EditorSelection.create(ranges, this.mainIndex);\n    }\n    /**\n    Convert this selection to an object that can be serialized to\n    JSON.\n    */\n    toJSON() {\n        return { ranges: this.ranges.map(r => r.toJSON()), main: this.mainIndex };\n    }\n    /**\n    Create a selection from a JSON representation.\n    */\n    static fromJSON(json) {\n        if (!json || !Array.isArray(json.ranges) || typeof json.main != \"number\" || json.main >= json.ranges.length)\n            throw new RangeError(\"Invalid JSON representation for EditorSelection\");\n        return new EditorSelection(json.ranges.map((r) => SelectionRange.fromJSON(r)), json.main);\n    }\n    /**\n    Create a selection holding a single range.\n    */\n    static single(anchor, head = anchor) {\n        return new EditorSelection([EditorSelection.range(anchor, head)], 0);\n    }\n    /**\n    Sort and merge the given set of ranges, creating a valid\n    selection.\n    */\n    static create(ranges, mainIndex = 0) {\n        if (ranges.length == 0)\n            throw new RangeError(\"A selection needs at least one range\");\n        for (let pos = 0, i = 0; i < ranges.length; i++) {\n            let range = ranges[i];\n            if (range.empty ? range.from <= pos : range.from < pos)\n                return normalized(ranges.slice(), mainIndex);\n            pos = range.to;\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n    /**\n    Create a cursor selection range at the given position. You can\n    safely ignore the optional arguments in most situations.\n    */\n    static cursor(pos, assoc = 0, bidiLevel, goalColumn) {\n        return new SelectionRange(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 4 /* AssocBefore */ : 8 /* AssocAfter */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel)) |\n            ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */));\n    }\n    /**\n    Create a selection range.\n    */\n    static range(anchor, head, goalColumn) {\n        let goal = (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */;\n        return head < anchor ? new SelectionRange(head, anchor, 16 /* Inverted */ | goal) : new SelectionRange(anchor, head, goal);\n    }\n}\nfunction normalized(ranges, mainIndex = 0) {\n    let main = ranges[mainIndex];\n    ranges.sort((a, b) => a.from - b.from);\n    mainIndex = ranges.indexOf(main);\n    for (let i = 1; i < ranges.length; i++) {\n        let range = ranges[i], prev = ranges[i - 1];\n        if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n            let from = prev.from, to = Math.max(range.to, prev.to);\n            if (i <= mainIndex)\n                mainIndex--;\n            ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from) : EditorSelection.range(from, to));\n        }\n    }\n    return new EditorSelection(ranges, mainIndex);\n}\nfunction checkSelection(selection, docLength) {\n    for (let range of selection.ranges)\n        if (range.to > docLength)\n            throw new RangeError(\"Selection points outside of document\");\n}\n\nlet nextID = 0;\n/**\nA facet is a labeled value that is associated with an editor\nstate. It takes inputs from any number of extensions, and combines\nthose into a single output value.\n\nExamples of facets are the [theme](https://codemirror.net/6/docs/ref/#view.EditorView^theme) styles\nassociated with an editor or the [tab\nsize](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) (which is reduced to a single\nvalue, using the input with the hightest precedence).\n*/\nclass Facet {\n    constructor(\n    /**\n    @internal\n    */\n    combine, \n    /**\n    @internal\n    */\n    compareInput, \n    /**\n    @internal\n    */\n    compare, isStatic, \n    /**\n    @internal\n    */\n    extensions) {\n        this.combine = combine;\n        this.compareInput = compareInput;\n        this.compare = compare;\n        this.isStatic = isStatic;\n        this.extensions = extensions;\n        /**\n        @internal\n        */\n        this.id = nextID++;\n        this.default = combine([]);\n    }\n    /**\n    Define a new facet.\n    */\n    static define(config = {}) {\n        return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray : (a, b) => a === b), !!config.static, config.enables);\n    }\n    /**\n    Returns an extension that adds the given value for this facet.\n    */\n    of(value) {\n        return new FacetProvider([], this, 0 /* Static */, value);\n    }\n    /**\n    Create an extension that computes a value for the facet from a\n    state. You must take care to declare the parts of the state that\n    this value depends on, since your function is only called again\n    for a new state when one of those parts changed.\n    \n    In most cases, you'll want to use the\n    [`provide`](https://codemirror.net/6/docs/ref/#state.StateField^define^config.provide) option when\n    defining a field instead.\n    */\n    compute(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 1 /* Single */, get);\n    }\n    /**\n    Create an extension that computes zero or more values for this\n    facet from a state.\n    */\n    computeN(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 2 /* Multi */, get);\n    }\n    from(field, get) {\n        if (!get)\n            get = x => x;\n        return this.compute([field], state => get(state.field(field)));\n    }\n}\nfunction sameArray(a, b) {\n    return a == b || a.length == b.length && a.every((e, i) => e === b[i]);\n}\nclass FacetProvider {\n    constructor(dependencies, facet, type, value) {\n        this.dependencies = dependencies;\n        this.facet = facet;\n        this.type = type;\n        this.value = value;\n        this.id = nextID++;\n    }\n    dynamicSlot(addresses) {\n        var _a;\n        let getter = this.value;\n        let compare = this.facet.compareInput;\n        let idx = addresses[this.id] >> 1, multi = this.type == 2 /* Multi */;\n        let depDoc = false, depSel = false, depAddrs = [];\n        for (let dep of this.dependencies) {\n            if (dep == \"doc\")\n                depDoc = true;\n            else if (dep == \"selection\")\n                depSel = true;\n            else if ((((_a = addresses[dep.id]) !== null && _a !== void 0 ? _a : 1) & 1) == 0)\n                depAddrs.push(addresses[dep.id]);\n        }\n        return (state, tr) => {\n            if (!tr || tr.reconfigured) {\n                state.values[idx] = getter(state);\n                return 1 /* Changed */;\n            }\n            else {\n                let depChanged = (depDoc && tr.docChanged) || (depSel && (tr.docChanged || tr.selection)) ||\n                    depAddrs.some(addr => (ensureAddr(state, addr) & 1 /* Changed */) > 0);\n                if (!depChanged)\n                    return 0;\n                let newVal = getter(state), oldVal = tr.startState.values[idx];\n                if (multi ? compareArray(newVal, oldVal, compare) : compare(newVal, oldVal))\n                    return 0;\n                state.values[idx] = newVal;\n                return 1 /* Changed */;\n            }\n        };\n    }\n}\nfunction compareArray(a, b, compare) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!compare(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction dynamicFacetSlot(addresses, facet, providers) {\n    let providerAddrs = providers.map(p => addresses[p.id]);\n    let providerTypes = providers.map(p => p.type);\n    let dynamic = providerAddrs.filter(p => !(p & 1));\n    let idx = addresses[facet.id] >> 1;\n    return (state, tr) => {\n        let oldAddr = !tr ? null : tr.reconfigured ? tr.startState.config.address[facet.id] : idx << 1;\n        let changed = oldAddr == null;\n        for (let dynAddr of dynamic) {\n            if (ensureAddr(state, dynAddr) & 1 /* Changed */)\n                changed = true;\n        }\n        if (!changed)\n            return 0;\n        let values = [];\n        for (let i = 0; i < providerAddrs.length; i++) {\n            let value = getAddr(state, providerAddrs[i]);\n            if (providerTypes[i] == 2 /* Multi */)\n                for (let val of value)\n                    values.push(val);\n            else\n                values.push(value);\n        }\n        let newVal = facet.combine(values);\n        if (oldAddr != null && facet.compare(newVal, getAddr(tr.startState, oldAddr)))\n            return 0;\n        state.values[idx] = newVal;\n        return 1 /* Changed */;\n    };\n}\nfunction maybeIndex(state, id) {\n    let found = state.config.address[id];\n    return found == null ? null : found >> 1;\n}\nconst initField = /*@__PURE__*/Facet.define({ static: true });\n/**\nFields can store additional information in an editor state, and\nkeep it in sync with the rest of the state.\n*/\nclass StateField {\n    constructor(\n    /**\n    @internal\n    */\n    id, createF, updateF, compareF, \n    /**\n    @internal\n    */\n    spec) {\n        this.id = id;\n        this.createF = createF;\n        this.updateF = updateF;\n        this.compareF = compareF;\n        this.spec = spec;\n        /**\n        @internal\n        */\n        this.provides = undefined;\n    }\n    /**\n    Define a state field.\n    */\n    static define(config) {\n        let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);\n        if (config.provide)\n            field.provides = config.provide(field);\n        return field;\n    }\n    create(state) {\n        let init = state.facet(initField).find(i => i.field == this);\n        return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);\n    }\n    /**\n    @internal\n    */\n    slot(addresses) {\n        let idx = addresses[this.id] >> 1;\n        return (state, tr) => {\n            if (!tr || (tr.reconfigured && maybeIndex(tr.startState, this.id) == null)) {\n                state.values[idx] = this.create(state);\n                return 1 /* Changed */;\n            }\n            let oldVal, changed = 0;\n            if (tr.reconfigured) {\n                oldVal = tr.startState.values[maybeIndex(tr.startState, this.id)];\n                changed = 1 /* Changed */;\n            }\n            else {\n                oldVal = tr.startState.values[idx];\n            }\n            let value = this.updateF(oldVal, tr);\n            if (!changed && !this.compareF(oldVal, value))\n                changed = 1 /* Changed */;\n            if (changed)\n                state.values[idx] = value;\n            return changed;\n        };\n    }\n    /**\n    Returns an extension that enables this field and overrides the\n    way it is initialized. Can be useful when you need to provide a\n    non-default starting value for the field.\n    */\n    init(create) {\n        return [this, initField.of({ field: this, create })];\n    }\n    /**\n    State field instances can be used as\n    [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a\n    given state.\n    */\n    get extension() { return this; }\n}\nconst Prec_ = { fallback: 3, default: 2, extend: 1, override: 0 };\nfunction prec(value) {\n    return (ext) => new PrecExtension(ext, value);\n}\n/**\nBy default extensions are registered in the order they are found\nin the flattened form of nested array that was provided.\nIndividual extension values can be assigned a precedence to\noverride this. Extensions that do not have a precedence set get\nthe precedence of the nearest parent with a precedence, or\n[`default`](https://codemirror.net/6/docs/ref/#state.Prec.default) if there is no such parent. The\nfinal ordering of extensions is determined by first sorting by\nprecedence and then by order within each precedence.\n*/\nconst Prec = {\n    /**\n    A precedence below the default precedence, which will cause\n    default-precedence extensions to override it even if they are\n    specified later in the extension ordering.\n    */\n    fallback: /*@__PURE__*/prec(Prec_.fallback),\n    /**\n    The regular default precedence.\n    */\n    default: /*@__PURE__*/prec(Prec_.default),\n    /**\n    A higher-than-default precedence.\n    */\n    extend: /*@__PURE__*/prec(Prec_.extend),\n    /**\n    Precedence above the `default` and `extend` precedences.\n    */\n    override: /*@__PURE__*/prec(Prec_.override)\n};\nclass PrecExtension {\n    constructor(inner, prec) {\n        this.inner = inner;\n        this.prec = prec;\n    }\n}\n/**\nExtension compartments can be used to make a configuration\ndynamic. By [wrapping](https://codemirror.net/6/docs/ref/#state.Compartment.of) part of your\nconfiguration in a compartment, you can later\n[replace](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure) that part through a\ntransaction.\n*/\nclass Compartment {\n    /**\n    Create an instance of this compartment to add to your [state\n    configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).\n    */\n    of(ext) { return new CompartmentInstance(this, ext); }\n    /**\n    Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that\n    reconfigures this compartment.\n    */\n    reconfigure(content) {\n        return Compartment.reconfigure.of({ compartment: this, extension: content });\n    }\n    /**\n    Get the current content of the compartment in the state, or\n    `undefined` if it isn't present.\n    */\n    get(state) {\n        return state.config.compartments.get(this);\n    }\n}\nclass CompartmentInstance {\n    constructor(compartment, inner) {\n        this.compartment = compartment;\n        this.inner = inner;\n    }\n}\nclass Configuration {\n    constructor(base, compartments, dynamicSlots, address, staticValues) {\n        this.base = base;\n        this.compartments = compartments;\n        this.dynamicSlots = dynamicSlots;\n        this.address = address;\n        this.staticValues = staticValues;\n        this.statusTemplate = [];\n        while (this.statusTemplate.length < dynamicSlots.length)\n            this.statusTemplate.push(0 /* Uninitialized */);\n    }\n    staticFacet(facet) {\n        let addr = this.address[facet.id];\n        return addr == null ? facet.default : this.staticValues[addr >> 1];\n    }\n    static resolve(base, compartments, oldState) {\n        let fields = [];\n        let facets = Object.create(null);\n        let newCompartments = new Map();\n        for (let ext of flatten(base, compartments, newCompartments)) {\n            if (ext instanceof StateField)\n                fields.push(ext);\n            else\n                (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);\n        }\n        let address = Object.create(null);\n        let staticValues = [];\n        let dynamicSlots = [];\n        for (let field of fields) {\n            address[field.id] = dynamicSlots.length << 1;\n            dynamicSlots.push(a => field.slot(a));\n        }\n        for (let id in facets) {\n            let providers = facets[id], facet = providers[0].facet;\n            if (providers.every(p => p.type == 0 /* Static */)) {\n                address[facet.id] = (staticValues.length << 1) | 1;\n                let value = facet.combine(providers.map(p => p.value));\n                let oldAddr = oldState ? oldState.config.address[facet.id] : null;\n                if (oldAddr != null) {\n                    let oldVal = getAddr(oldState, oldAddr);\n                    if (facet.compare(value, oldVal))\n                        value = oldVal;\n                }\n                staticValues.push(value);\n            }\n            else {\n                for (let p of providers) {\n                    if (p.type == 0 /* Static */) {\n                        address[p.id] = (staticValues.length << 1) | 1;\n                        staticValues.push(p.value);\n                    }\n                    else {\n                        address[p.id] = dynamicSlots.length << 1;\n                        dynamicSlots.push(a => p.dynamicSlot(a));\n                    }\n                }\n                address[facet.id] = dynamicSlots.length << 1;\n                dynamicSlots.push(a => dynamicFacetSlot(a, facet, providers));\n            }\n        }\n        return new Configuration(base, newCompartments, dynamicSlots.map(f => f(address)), address, staticValues);\n    }\n}\nfunction flatten(extension, compartments, newCompartments) {\n    let result = [[], [], [], []];\n    let seen = new Map();\n    function inner(ext, prec) {\n        let known = seen.get(ext);\n        if (known != null) {\n            if (known >= prec)\n                return;\n            let found = result[known].indexOf(ext);\n            if (found > -1)\n                result[known].splice(found, 1);\n            if (ext instanceof CompartmentInstance)\n                newCompartments.delete(ext.compartment);\n        }\n        seen.set(ext, prec);\n        if (Array.isArray(ext)) {\n            for (let e of ext)\n                inner(e, prec);\n        }\n        else if (ext instanceof CompartmentInstance) {\n            if (newCompartments.has(ext.compartment))\n                throw new RangeError(`Duplicate use of compartment in extensions`);\n            let content = compartments.get(ext.compartment) || ext.inner;\n            newCompartments.set(ext.compartment, content);\n            inner(content, prec);\n        }\n        else if (ext instanceof PrecExtension) {\n            inner(ext.inner, ext.prec);\n        }\n        else if (ext instanceof StateField) {\n            result[prec].push(ext);\n            if (ext.provides)\n                inner(ext.provides, prec);\n        }\n        else if (ext instanceof FacetProvider) {\n            result[prec].push(ext);\n            if (ext.facet.extensions)\n                inner(ext.facet.extensions, prec);\n        }\n        else {\n            let content = ext.extension;\n            if (!content)\n                throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);\n            inner(content, prec);\n        }\n    }\n    inner(extension, Prec_.default);\n    return result.reduce((a, b) => a.concat(b));\n}\nfunction ensureAddr(state, addr) {\n    if (addr & 1)\n        return 2 /* Computed */;\n    let idx = addr >> 1;\n    let status = state.status[idx];\n    if (status == 4 /* Computing */)\n        throw new Error(\"Cyclic dependency between fields and/or facets\");\n    if (status & 2 /* Computed */)\n        return status;\n    state.status[idx] = 4 /* Computing */;\n    let changed = state.config.dynamicSlots[idx](state, state.applying);\n    return state.status[idx] = 2 /* Computed */ | changed;\n}\nfunction getAddr(state, addr) {\n    return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];\n}\n\nconst languageData = /*@__PURE__*/Facet.define();\nconst allowMultipleSelections = /*@__PURE__*/Facet.define({\n    combine: values => values.some(v => v),\n    static: true\n});\nconst lineSeparator = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : undefined,\n    static: true\n});\nconst changeFilter = /*@__PURE__*/Facet.define();\nconst transactionFilter = /*@__PURE__*/Facet.define();\nconst transactionExtender = /*@__PURE__*/Facet.define();\nconst readOnly = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : false\n});\n\n/**\nAnnotations are tagged values that are used to add metadata to\ntransactions in an extensible way. They should be used to model\nthings that effect the entire transaction (such as its [time\nstamp](https://codemirror.net/6/docs/ref/#state.Transaction^time) or information about its\n[origin](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent)). For effects that happen\n_alongside_ the other changes made by the transaction, [state\neffects](https://codemirror.net/6/docs/ref/#state.StateEffect) are more appropriate.\n*/\nclass Annotation {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The annotation type.\n    */\n    type, \n    /**\n    The value of this annotation.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Define a new type of annotation.\n    */\n    static define() { return new AnnotationType(); }\n}\n/**\nMarker that identifies a type of [annotation](https://codemirror.net/6/docs/ref/#state.Annotation).\n*/\nclass AnnotationType {\n    /**\n    Create an instance of this annotation.\n    */\n    of(value) { return new Annotation(this, value); }\n}\n/**\nRepresentation of a type of state effect. Defined with\n[`StateEffect.define`](https://codemirror.net/6/docs/ref/#state.StateEffect^define).\n*/\nclass StateEffectType {\n    /**\n    @internal\n    */\n    constructor(\n    // The `any` types in these function types are there to work\n    // around TypeScript issue #37631, where the type guard on\n    // `StateEffect.is` mysteriously stops working when these properly\n    // have type `Value`.\n    /**\n    @internal\n    */\n    map) {\n        this.map = map;\n    }\n    /**\n    Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this\n    type.\n    */\n    of(value) { return new StateEffect(this, value); }\n}\n/**\nState effects can be used to represent additional effects\nassociated with a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction.effects). They\nare often useful to model changes to custom [state\nfields](https://codemirror.net/6/docs/ref/#state.StateField), when those changes aren't implicit in\ndocument or selection changes.\n*/\nclass StateEffect {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    type, \n    /**\n    The value of this effect.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Map this effect through a position mapping. Will return\n    `undefined` when that ends up deleting the effect.\n    */\n    map(mapping) {\n        let mapped = this.type.map(this.value, mapping);\n        return mapped === undefined ? undefined : mapped == this.value ? this : new StateEffect(this.type, mapped);\n    }\n    /**\n    Tells you whether this effect object is of a given\n    [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).\n    */\n    is(type) { return this.type == type; }\n    /**\n    Define a new effect type. The type parameter indicates the type\n    of values that his effect holds.\n    */\n    static define(spec = {}) {\n        return new StateEffectType(spec.map || (v => v));\n    }\n    /**\n    Map an array of effects through a change set.\n    */\n    static mapEffects(effects, mapping) {\n        if (!effects.length)\n            return effects;\n        let result = [];\n        for (let effect of effects) {\n            let mapped = effect.map(mapping);\n            if (mapped)\n                result.push(mapped);\n        }\n        return result;\n    }\n}\n/**\nThis effect can be used to reconfigure the root extensions of\nthe editor. Doing this will discard any extensions\n[appended](https://codemirror.net/6/docs/ref/#state.StateEffect^appendConfig), but does not reset\nthe content of [reconfigured](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure)\ncompartments.\n*/\nStateEffect.reconfigure = /*@__PURE__*/StateEffect.define();\n/**\nAppend extensions to the top-level configuration of the editor.\n*/\nStateEffect.appendConfig = /*@__PURE__*/StateEffect.define();\n/**\nChanges to the editor state are grouped into transactions.\nTypically, a user action creates a single transaction, which may\ncontain any number of document changes, may change the selection,\nor have other effects. Create a transaction by calling\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n*/\nclass Transaction {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The state from which the transaction starts.\n    */\n    startState, \n    /**\n    The document changes made by this transaction.\n    */\n    changes, \n    /**\n    The selection set by this transaction, or undefined if it\n    doesn't explicitly set a selection.\n    */\n    selection, \n    /**\n    The effects added to the transaction.\n    */\n    effects, \n    /**\n    @internal\n    */\n    annotations, \n    /**\n    Whether the selection should be scrolled into view after this\n    transaction is dispatched.\n    */\n    scrollIntoView) {\n        this.startState = startState;\n        this.changes = changes;\n        this.selection = selection;\n        this.effects = effects;\n        this.annotations = annotations;\n        this.scrollIntoView = scrollIntoView;\n        /**\n        @internal\n        */\n        this._doc = null;\n        /**\n        @internal\n        */\n        this._state = null;\n        if (selection)\n            checkSelection(selection, changes.newLength);\n        if (!annotations.some((a) => a.type == Transaction.time))\n            this.annotations = annotations.concat(Transaction.time.of(Date.now()));\n    }\n    /**\n    The new document produced by the transaction. Contrary to\n    [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't\n    force the entire new state to be computed right away, so it is\n    recommended that [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter\n    when they need to look at the new document.\n    */\n    get newDoc() {\n        return this._doc || (this._doc = this.changes.apply(this.startState.doc));\n    }\n    /**\n    The new selection produced by the transaction. If\n    [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,\n    this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's\n    current selection through the changes made by the transaction.\n    */\n    get newSelection() {\n        return this.selection || this.startState.selection.map(this.changes);\n    }\n    /**\n    The new state created by the transaction. Computed on demand\n    (but retained for subsequent access), so itis recommended not to\n    access it in [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.\n    */\n    get state() {\n        if (!this._state)\n            this.startState.applyTransaction(this);\n        return this._state;\n    }\n    /**\n    Get the value of the given annotation type, if any.\n    */\n    annotation(type) {\n        for (let ann of this.annotations)\n            if (ann.type == type)\n                return ann.value;\n        return undefined;\n    }\n    /**\n    Indicates whether the transaction changed the document.\n    */\n    get docChanged() { return !this.changes.empty; }\n    /**\n    Indicates whether this transaction reconfigures the state\n    (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or\n    with a top-level configuration\n    [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).\n    */\n    get reconfigured() { return this.startState.config != this.state.config; }\n    /**\n    Returns true if the transaction has a [user\n    event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to\n    or more specific than `event`. For example, if the transaction\n    has `\"select.pointer\"` as user event, `\"select\"` and\n    `\"select.pointer\"` will match it.\n    */\n    isUserEvent(event) {\n        let e = this.annotation(Transaction.userEvent);\n        return e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == \".\");\n    }\n}\n/**\nAnnotation used to store transaction timestamps.\n*/\nTransaction.time = /*@__PURE__*/Annotation.define();\n/**\nAnnotation used to associate a transaction with a user interface\nevent. Holds a string identifying the event, using a\ndot-separated format to support attaching more specific\ninformation. The events used by the core libraries are:\n\n - `\"input\"` when content is entered\n   - `\"input.type\"` for typed input\n     - `\"input.type.compose\"` for composition\n   - `\"input.paste\"` for pasted input\n   - `\"input.drop\"` when adding content with drag-and-drop\n   - `\"input.complete\"` when autocompleting\n - `\"delete\"` when the user deletes content\n   - `\"delete.selection\"` when deleting the selection\n   - `\"delete.forward\"` when deleting forward from the selection\n   - `\"delete.backward\"` when deleting backward from the selection\n   - `\"delete.cut\"` when cutting to the clipboard\n - `\"move\"` when content is moved\n   - `\"move.drop\"` when content is moved within the editor through drag-and-drop\n - `\"select\"` when explicitly changing the selection\n   - `\"select.pointer\"` when selecting with a mouse or other pointing device\n - `\"undo\"` and `\"redo\"` for history actions\n\nUse [`isUserEvent`](https://codemirror.net/6/docs/ref/#state.Transaction.isUserEvent) to check\nwhether the annotation matches a given event.\n*/\nTransaction.userEvent = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating whether a transaction should be added to\nthe undo history or not.\n*/\nTransaction.addToHistory = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating (when present and true) that a transaction\nrepresents a change made by some other actor, not the user. This\nis used, for example, to tag other people's changes in\ncollaborative editing.\n*/\nTransaction.remote = /*@__PURE__*/Annotation.define();\nfunction joinRanges(a, b) {\n    let result = [];\n    for (let iA = 0, iB = 0;;) {\n        let from, to;\n        if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {\n            from = a[iA++];\n            to = a[iA++];\n        }\n        else if (iB < b.length) {\n            from = b[iB++];\n            to = b[iB++];\n        }\n        else\n            return result;\n        if (!result.length || result[result.length - 1] < from)\n            result.push(from, to);\n        else if (result[result.length - 1] < to)\n            result[result.length - 1] = to;\n    }\n}\nfunction mergeTransaction(a, b, sequential) {\n    var _a;\n    let mapForA, mapForB, changes;\n    if (sequential) {\n        mapForA = b.changes;\n        mapForB = ChangeSet.empty(b.changes.length);\n        changes = a.changes.compose(b.changes);\n    }\n    else {\n        mapForA = b.changes.map(a.changes);\n        mapForB = a.changes.mapDesc(b.changes, true);\n        changes = a.changes.compose(mapForA);\n    }\n    return {\n        changes,\n        selection: b.selection ? b.selection.map(mapForB) : (_a = a.selection) === null || _a === void 0 ? void 0 : _a.map(mapForA),\n        effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),\n        annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,\n        scrollIntoView: a.scrollIntoView || b.scrollIntoView\n    };\n}\nfunction resolveTransactionInner(state, spec, docSize) {\n    let sel = spec.selection, annotations = asArray(spec.annotations);\n    if (spec.userEvent)\n        annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));\n    return {\n        changes: spec.changes instanceof ChangeSet ? spec.changes\n            : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),\n        selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),\n        effects: asArray(spec.effects),\n        annotations,\n        scrollIntoView: !!spec.scrollIntoView\n    };\n}\nfunction resolveTransaction(state, specs, filter) {\n    let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);\n    if (specs.length && specs[0].filter === false)\n        filter = false;\n    for (let i = 1; i < specs.length; i++) {\n        if (specs[i].filter === false)\n            filter = false;\n        let seq = !!specs[i].sequential;\n        s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);\n    }\n    let tr = new Transaction(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);\n    return extendTransaction(filter ? filterTransaction(tr) : tr);\n}\n// Finish a transaction by applying filters if necessary.\nfunction filterTransaction(tr) {\n    let state = tr.startState;\n    // Change filters\n    let result = true;\n    for (let filter of state.facet(changeFilter)) {\n        let value = filter(tr);\n        if (value === false) {\n            result = false;\n            break;\n        }\n        if (Array.isArray(value))\n            result = result === true ? value : joinRanges(result, value);\n    }\n    if (result !== true) {\n        let changes, back;\n        if (result === false) {\n            back = tr.changes.invertedDesc;\n            changes = ChangeSet.empty(state.doc.length);\n        }\n        else {\n            let filtered = tr.changes.filter(result);\n            changes = filtered.changes;\n            back = filtered.filtered.invertedDesc;\n        }\n        tr = new Transaction(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);\n    }\n    // Transaction filters\n    let filters = state.facet(transactionFilter);\n    for (let i = filters.length - 1; i >= 0; i--) {\n        let filtered = filters[i](tr);\n        if (filtered instanceof Transaction)\n            tr = filtered;\n        else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)\n            tr = filtered[0];\n        else\n            tr = resolveTransaction(state, asArray(filtered), false);\n    }\n    return tr;\n}\nfunction extendTransaction(tr) {\n    let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;\n    for (let i = extenders.length - 1; i >= 0; i--) {\n        let extension = extenders[i](tr);\n        if (extension && Object.keys(extension).length)\n            spec = mergeTransaction(tr, resolveTransactionInner(state, extension, tr.changes.newLength), true);\n    }\n    return spec == tr ? tr : new Transaction(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);\n}\nconst none = [];\nfunction asArray(value) {\n    return value == null ? none : Array.isArray(value) ? value : [value];\n}\n\n/**\nThe categories produced by a [character\ncategorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer). These are used\ndo things like selecting by word.\n*/\nvar CharCategory = /*@__PURE__*/(function (CharCategory) {\n    /**\n    Word characters.\n    */\n    CharCategory[CharCategory[\"Word\"] = 0] = \"Word\";\n    /**\n    Whitespace.\n    */\n    CharCategory[CharCategory[\"Space\"] = 1] = \"Space\";\n    /**\n    Anything else.\n    */\n    CharCategory[CharCategory[\"Other\"] = 2] = \"Other\";\nreturn CharCategory})(CharCategory || (CharCategory = {}));\nconst nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) { }\nfunction hasWordChar(str) {\n    if (wordChar)\n        return wordChar.test(str);\n    for (let i = 0; i < str.length; i++) {\n        let ch = str[i];\n        if (/\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))\n            return true;\n    }\n    return false;\n}\nfunction makeCategorizer(wordChars) {\n    return (char) => {\n        if (!/\\S/.test(char))\n            return CharCategory.Space;\n        if (hasWordChar(char))\n            return CharCategory.Word;\n        for (let i = 0; i < wordChars.length; i++)\n            if (char.indexOf(wordChars[i]) > -1)\n                return CharCategory.Word;\n        return CharCategory.Other;\n    };\n}\n\n/**\nThe editor state class is a persistent (immutable) data structure.\nTo update a state, you [create](https://codemirror.net/6/docs/ref/#state.EditorState.update) a\n[transaction](https://codemirror.net/6/docs/ref/#state.Transaction), which produces a _new_ state\ninstance, without modifying the original object.\n\nAs such, _never_ mutate properties of a state directly. That'll\njust break things.\n*/\nclass EditorState {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    config, \n    /**\n    The current document.\n    */\n    doc, \n    /**\n    The current selection.\n    */\n    selection, tr = null) {\n        this.config = config;\n        this.doc = doc;\n        this.selection = selection;\n        /**\n        @internal\n        */\n        this.applying = null;\n        this.status = config.statusTemplate.slice();\n        if (tr && tr.startState.config == config) {\n            this.values = tr.startState.values.slice();\n        }\n        else {\n            this.values = config.dynamicSlots.map(_ => null);\n            // Copy over old values for shared facets/fields if this is a reconfigure\n            if (tr)\n                for (let id in config.address) {\n                    let cur = config.address[id], prev = tr.startState.config.address[id];\n                    if (prev != null && (cur & 1) == 0)\n                        this.values[cur >> 1] = getAddr(tr.startState, prev);\n                }\n        }\n        this.applying = tr;\n        // Fill in the computed state immediately, so that further queries\n        // for it made during the update return this state\n        if (tr)\n            tr._state = this;\n        for (let i = 0; i < this.config.dynamicSlots.length; i++)\n            ensureAddr(this, i << 1);\n        this.applying = null;\n    }\n    field(field, require = true) {\n        let addr = this.config.address[field.id];\n        if (addr == null) {\n            if (require)\n                throw new RangeError(\"Field is not present in this state\");\n            return undefined;\n        }\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this\n    state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)\n    can be passed. Unless\n    [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the\n    [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec\n    are assumed to start in the _current_ document (not the document\n    produced by previous specs), and its\n    [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and\n    [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer\n    to the document created by its _own_ changes. The resulting\n    transaction contains the combined effect of all the different\n    specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later\n    specs take precedence over earlier ones.\n    */\n    update(...specs) {\n        return resolveTransaction(this, specs, true);\n    }\n    /**\n    @internal\n    */\n    applyTransaction(tr) {\n        let conf = this.config, { base, compartments } = conf;\n        for (let effect of tr.effects) {\n            if (effect.is(Compartment.reconfigure)) {\n                if (conf) {\n                    compartments = new Map;\n                    conf.compartments.forEach((val, key) => compartments.set(key, val));\n                    conf = null;\n                }\n                compartments.set(effect.value.compartment, effect.value.extension);\n            }\n            else if (effect.is(StateEffect.reconfigure)) {\n                conf = null;\n                base = effect.value;\n            }\n            else if (effect.is(StateEffect.appendConfig)) {\n                conf = null;\n                base = asArray(base).concat(effect.value);\n            }\n        }\n        new EditorState(conf || Configuration.resolve(base, compartments, this), tr.newDoc, tr.newSelection, tr);\n    }\n    /**\n    Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that\n    replaces every selection range with the given content.\n    */\n    replaceSelection(text) {\n        if (typeof text == \"string\")\n            text = this.toText(text);\n        return this.changeByRange(range => ({ changes: { from: range.from, to: range.to, insert: text },\n            range: EditorSelection.cursor(range.from + text.length) }));\n    }\n    /**\n    Create a set of changes and a new selection by running the given\n    function for each range in the active selection. The function\n    can return an optional set of changes (in the coordinate space\n    of the start document), plus an updated range (in the coordinate\n    space of the document produced by the call's own changes). This\n    method will merge all the changes and ranges into a single\n    changeset and selection, and return it as a [transaction\n    spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to\n    [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n    */\n    changeByRange(f) {\n        let sel = this.selection;\n        let result1 = f(sel.ranges[0]);\n        let changes = this.changes(result1.changes), ranges = [result1.range];\n        let effects = asArray(result1.effects);\n        for (let i = 1; i < sel.ranges.length; i++) {\n            let result = f(sel.ranges[i]);\n            let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);\n            for (let j = 0; j < i; j++)\n                ranges[j] = ranges[j].map(newMapped);\n            let mapBy = changes.mapDesc(newChanges, true);\n            ranges.push(result.range.map(mapBy));\n            changes = changes.compose(newMapped);\n            effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));\n        }\n        return {\n            changes,\n            selection: EditorSelection.create(ranges, sel.mainIndex),\n            effects\n        };\n    }\n    /**\n    Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change\n    description, taking the state's document length and line\n    separator into account.\n    */\n    changes(spec = []) {\n        if (spec instanceof ChangeSet)\n            return spec;\n        return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));\n    }\n    /**\n    Using the state's [line\n    separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a\n    [`Text`](https://codemirror.net/6/docs/ref/#text.Text) instance from the given string.\n    */\n    toText(string) {\n        return Text.of(string.split(this.facet(EditorState.lineSeparator) || DefaultSplit));\n    }\n    /**\n    Return the given range of the document as a string.\n    */\n    sliceDoc(from = 0, to = this.doc.length) {\n        return this.doc.sliceString(from, to, this.lineBreak);\n    }\n    /**\n    Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).\n    */\n    facet(facet) {\n        let addr = this.config.address[facet.id];\n        if (addr == null)\n            return facet.default;\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Convert this state to a JSON-serializable object. When custom\n    fields should be serialized, you can pass them in as an object\n    mapping property names (in the resulting object, which should\n    not use `doc` or `selection`) to fields.\n    */\n    toJSON(fields) {\n        let result = {\n            doc: this.sliceDoc(),\n            selection: this.selection.toJSON()\n        };\n        if (fields)\n            for (let prop in fields) {\n                let value = fields[prop];\n                if (value instanceof StateField)\n                    result[prop] = value.spec.toJSON(this.field(fields[prop]), this);\n            }\n        return result;\n    }\n    /**\n    Deserialize a state from its JSON representation. When custom\n    fields should be deserialized, pass the same object you passed\n    to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as\n    third argument.\n    */\n    static fromJSON(json, config = {}, fields) {\n        if (!json || typeof json.doc != \"string\")\n            throw new RangeError(\"Invalid JSON representation for EditorState\");\n        let fieldInit = [];\n        if (fields)\n            for (let prop in fields) {\n                let field = fields[prop], value = json[prop];\n                fieldInit.push(field.init(state => field.spec.fromJSON(value, state)));\n            }\n        return EditorState.create({\n            doc: json.doc,\n            selection: EditorSelection.fromJSON(json.selection),\n            extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit\n        });\n    }\n    /**\n    Create a new state. You'll usually only need this when\n    initializing an editorupdated states are created by applying\n    transactions.\n    */\n    static create(config = {}) {\n        let configuration = Configuration.resolve(config.extensions || [], new Map);\n        let doc = config.doc instanceof Text ? config.doc\n            : Text.of((config.doc || \"\").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));\n        let selection = !config.selection ? EditorSelection.single(0)\n            : config.selection instanceof EditorSelection ? config.selection\n                : EditorSelection.single(config.selection.anchor, config.selection.head);\n        checkSelection(selection, doc.length);\n        if (!configuration.staticFacet(allowMultipleSelections))\n            selection = selection.asSingle();\n        return new EditorState(configuration, doc, selection);\n    }\n    /**\n    The size (in columns) of a tab in the document, determined by\n    the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.\n    */\n    get tabSize() { return this.facet(EditorState.tabSize); }\n    /**\n    Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)\n    string for this state.\n    */\n    get lineBreak() { return this.facet(EditorState.lineSeparator) || \"\\n\"; }\n    /**\n    Returns true when the editor is\n    [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.\n    */\n    get readOnly() { return this.facet(readOnly); }\n    /**\n    Look up a translation for the given phrase (via the\n    [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the\n    original string if no translation is found.\n    */\n    phrase(phrase) {\n        for (let map of this.facet(EditorState.phrases))\n            if (Object.prototype.hasOwnProperty.call(map, phrase))\n                return map[phrase];\n        return phrase;\n    }\n    /**\n    Find the values for a given language data field, provided by the\n    the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.\n    */\n    languageDataAt(name, pos, side = -1) {\n        let values = [];\n        for (let provider of this.facet(languageData)) {\n            for (let result of provider(this, pos, side)) {\n                if (Object.prototype.hasOwnProperty.call(result, name))\n                    values.push(result[name]);\n            }\n        }\n        return values;\n    }\n    /**\n    Return a function that can categorize strings (expected to\n    represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak))\n    into one of:\n    \n     - Word (contains an alphanumeric character or a character\n       explicitly listed in the local language's `\"wordChars\"`\n       language data, which should be a string)\n     - Space (contains only whitespace)\n     - Other (anything else)\n    */\n    charCategorizer(at) {\n        return makeCategorizer(this.languageDataAt(\"wordChars\", at).join(\"\"));\n    }\n    /**\n    Find the word at the given position, meaning the range\n    containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters\n    around it. If no word characters are adjacent to the position,\n    this returns null.\n    */\n    wordAt(pos) {\n        let { text, from, length } = this.doc.lineAt(pos);\n        let cat = this.charCategorizer(pos);\n        let start = pos - from, end = pos - from;\n        while (start > 0) {\n            let prev = findClusterBreak(text, start, false);\n            if (cat(text.slice(prev, start)) != CharCategory.Word)\n                break;\n            start = prev;\n        }\n        while (end < length) {\n            let next = findClusterBreak(text, end);\n            if (cat(text.slice(end, next)) != CharCategory.Word)\n                break;\n            end = next;\n        }\n        return start == end ? null : EditorSelection.range(start + from, end + from);\n    }\n}\n/**\nA facet that, when enabled, causes the editor to allow multiple\nranges to be selected. Be careful though, because by default the\neditor relies on the native DOM selection, which cannot handle\nmultiple selections. An extension like\n[`drawSelection`](https://codemirror.net/6/docs/ref/#view.drawSelection) can be used to make\nsecondary selections visible to the user.\n*/\nEditorState.allowMultipleSelections = allowMultipleSelections;\n/**\nConfigures the tab size to use in this state. The first\n(highest-precedence) value of the facet is used. If no value is\ngiven, this defaults to 4.\n*/\nEditorState.tabSize = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : 4\n});\n/**\nThe line separator to use. By default, any of `\"\\n\"`, `\"\\r\\n\"`\nand `\"\\r\"` is treated as a separator when splitting lines, and\nlines are joined with `\"\\n\"`.\n\nWhen you configure a value here, only that precise separator\nwill be used, allowing you to round-trip documents through the\neditor without normalizing line separators.\n*/\nEditorState.lineSeparator = lineSeparator;\n/**\nThis facet controls the value of the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) getter, which is\nconsulted by commands and extensions that implement editing\nfunctionality to determine whether they should apply. It\ndefaults to false, but when its highest-precedence value is\n`true`, such functionality disables itself.\n\nNot to be confused with\n[`EditorView.editable`](https://codemirror.net/6/docs/ref/#view.EditorView^editable), which\ncontrols whether the editor's DOM is set to be editable (and\nthus focusable).\n*/\nEditorState.readOnly = readOnly;\n/**\nRegisters translation phrases. The\n[`phrase`](https://codemirror.net/6/docs/ref/#state.EditorState.phrase) method will look through\nall objects registered with this facet to find translations for\nits argument.\n*/\nEditorState.phrases = /*@__PURE__*/Facet.define();\n/**\nA facet used to register [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) providers.\n*/\nEditorState.languageData = languageData;\n/**\nFacet used to register change filters, which are called for each\ntransaction (unless explicitly\n[disabled](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter)), and can suppress\npart of the transaction's changes.\n\nSuch a function can return `true` to indicate that it doesn't\nwant to do anything, `false` to completely stop the changes in\nthe transaction, or a set of ranges in which changes should be\nsuppressed. Such ranges are represented as an array of numbers,\nwith each pair of two number indicating the start and end of a\nrange. So for example `[10, 20, 100, 110]` suppresses changes\nbetween 10 and 20, and between 100 and 110.\n*/\nEditorState.changeFilter = changeFilter;\n/**\nFacet used to register a hook that gets a chance to update or\nreplace transaction specs before they are applied. This will\nonly be applied for transactions that don't have\n[`filter`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter) set to `false`. You\ncan either return a single transaction spec (possibly the input\ntransaction), or an array of specs (which will be combined in\nthe same way as the arguments to\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update)).\n\nWhen possible, it is recommended to avoid accessing\n[`Transaction.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state) in a filter,\nsince it will force creation of a state that will then be\ndiscarded again, if the transaction is actually filtered.\n\n(This functionality should be used with care. Indiscriminately\nmodifying transaction is likely to break something or degrade\nthe user experience.)\n*/\nEditorState.transactionFilter = transactionFilter;\n/**\nThis is a more limited form of\n[`transactionFilter`](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter),\nwhich can only add\n[annotations](https://codemirror.net/6/docs/ref/#state.TransactionSpec.annotations) and\n[effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects). _But_, this type\nof filter runs even the transaction has disabled regular\n[filtering](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter), making it suitable\nfor effects that don't need to touch the changes or selection,\nbut do want to process every transaction.\n\nExtenders run _after_ filters, when both are applied.\n*/\nEditorState.transactionExtender = transactionExtender;\nCompartment.reconfigure = /*@__PURE__*/StateEffect.define();\n\n/**\nUtility function for combining behaviors to fill in a config\nobject from an array of provided configs. Will, by default, error\nwhen a field gets two values that aren't `===`-equal, but you can\nprovide combine functions per field to do something else.\n*/\nfunction combineConfig(configs, defaults, // Should hold only the optional properties of Config, but I haven't managed to express that\ncombine = {}) {\n    let result = {};\n    for (let config of configs)\n        for (let key of Object.keys(config)) {\n            let value = config[key], current = result[key];\n            if (current === undefined)\n                result[key] = value;\n            else if (current === value || value === undefined) ; // No conflict\n            else if (Object.hasOwnProperty.call(combine, key))\n                result[key] = combine[key](current, value);\n            else\n                throw new Error(\"Config merge conflict for field \" + key);\n        }\n    for (let key in defaults)\n        if (result[key] === undefined)\n            result[key] = defaults[key];\n    return result;\n}\n\nexport { Annotation, AnnotationType, ChangeDesc, ChangeSet, CharCategory, Compartment, EditorSelection, EditorState, Facet, MapMode, Prec, SelectionRange, StateEffect, StateEffectType, StateField, Transaction, combineConfig };\n","const C = \"\\u037c\"\nconst COUNT = typeof Symbol == \"undefined\" ? \"__\" + C : Symbol.for(C)\nconst SET = typeof Symbol == \"undefined\" ? \"__styleSet\" + Math.floor(Math.random() * 1e8) : Symbol(\"styleSet\")\nconst top = typeof globalThis != \"undefined\" ? globalThis : typeof window != \"undefined\" ? window : {}\n\n// :: - Style modules encapsulate a set of CSS rules defined from\n// JavaScript. Their definitions are only available in a given DOM\n// root after it has been _mounted_ there with `StyleModule.mount`.\n//\n// Style modules should be created once and stored somewhere, as\n// opposed to re-creating them every time you need them. The amount of\n// CSS rules generated for a given DOM root is bounded by the amount\n// of style modules that were used. So to avoid leaking rules, don't\n// create these dynamically, but treat them as one-time allocations.\nexport class StyleModule {\n  // :: (Object<Style>, ?{finish: ?(string)  string})\n  // Create a style module from the given spec.\n  //\n  // When `finish` is given, it is called on regular (non-`@`)\n  // selectors (after `&` expansion) to compute the final selector.\n  constructor(spec, options) {\n    this.rules = []\n    let {finish} = options || {}\n\n    function splitSelector(selector) {\n      return /^@/.test(selector) ? [selector] : selector.split(/,\\s*/)\n    }\n\n    function render(selectors, spec, target, isKeyframes) {\n      let local = [], isAt = /^@(\\w+)\\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == \"keyframes\"\n      if (isAt && spec == null) return target.push(selectors[0] + \";\")\n      for (let prop in spec) {\n        let value = spec[prop]\n        if (/&/.test(prop)) {\n          render(prop.split(/,\\s*/).map(part => selectors.map(sel => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),\n                 value, target)\n        } else if (value && typeof value == \"object\") {\n          if (!isAt) throw new RangeError(\"The value of a property (\" + prop + \") should be a primitive value.\")\n          render(splitSelector(prop), value, local, keyframes)\n        } else if (value != null) {\n          local.push(prop.replace(/_.*/, \"\").replace(/[A-Z]/g, l => \"-\" + l.toLowerCase()) + \": \" + value + \";\")\n        }\n      }\n      if (local.length || keyframes) {\n        target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(\", \") +\n                    \" {\" + local.join(\" \") + \"}\")\n      }\n    }\n\n    for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules)\n  }\n\n  // :: ()  string\n  // Returns a string containing the module's CSS rules.\n  getRules() { return this.rules.join(\"\\n\") }\n\n  // :: ()  string\n  // Generate a new unique CSS class name.\n  static newName() {\n    let id = top[COUNT] || 1\n    top[COUNT] = id + 1\n    return C + id.toString(36)\n  }\n\n  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>)\n  //\n  // Mount the given set of modules in the given DOM root, which ensures\n  // that the CSS rules defined by the module are available in that\n  // context.\n  //\n  // Rules are only added to the document once per root.\n  //\n  // Rule order will follow the order of the modules, so that rules from\n  // modules later in the array take precedence of those from earlier\n  // modules. If you call this function multiple times for the same root\n  // in a way that changes the order of already mounted modules, the old\n  // order will be changed.\n  static mount(root, modules) {\n    (root[SET] || new StyleSet(root)).mount(Array.isArray(modules) ? modules : [modules])\n  }\n}\n\nlet adoptedSet = null\n\nclass StyleSet {\n  constructor(root) {\n    if (!root.head && root.adoptedStyleSheets && typeof CSSStyleSheet != \"undefined\") {\n      if (adoptedSet) {\n        root.adoptedStyleSheets = [adoptedSet.sheet].concat(root.adoptedStyleSheets)\n        return root[SET] = adoptedSet\n      }\n      this.sheet = new CSSStyleSheet\n      root.adoptedStyleSheets = [this.sheet].concat(root.adoptedStyleSheets)\n      adoptedSet = this\n    } else {\n      this.styleTag = (root.ownerDocument || root).createElement(\"style\")\n      let target = root.head || root\n      target.insertBefore(this.styleTag, target.firstChild)\n    }\n    this.modules = []\n    root[SET] = this\n  }\n\n  mount(modules) {\n    let sheet = this.sheet\n    let pos = 0 /* Current rule offset */, j = 0 /* Index into this.modules */\n    for (let i = 0; i < modules.length; i++) {\n      let mod = modules[i], index = this.modules.indexOf(mod)\n      if (index < j && index > -1) { // Ordering conflict\n        this.modules.splice(index, 1)\n        j--\n        index = -1\n      }\n      if (index == -1) {\n        this.modules.splice(j++, 0, mod)\n        if (sheet) for (let k = 0; k < mod.rules.length; k++)\n          sheet.insertRule(mod.rules[k], pos++)\n      } else {\n        while (j < index) pos += this.modules[j++].rules.length\n        pos += mod.rules.length\n        j++\n      }\n    }\n\n    if (!sheet) {\n      let text = \"\"\n      for (let i = 0; i < this.modules.length; i++)\n        text += this.modules[i].getRules() + \"\\n\"\n      this.styleTag.textContent = text\n    }\n  }\n}\n\n// Style::Object<union<Style,string>>\n//\n// A style is an object that, in the simple case, maps CSS property\n// names to strings holding their values, as in `{color: \"red\",\n// fontWeight: \"bold\"}`. The property names can be given in\n// camel-casethe library will insert a dash before capital letters\n// when converting them to CSS.\n//\n// If you include an underscore in a property name, it and everything\n// after it will be removed from the output, which can be useful when\n// providing a property multiple times, for browser compatibility\n// reasons.\n//\n// A property in a style object can also be a sub-selector, which\n// extends the current context to add a pseudo-selector or a child\n// selector. Such a property should contain a `&` character, which\n// will be replaced by the current selector. For example `{\"&:before\":\n// {content: '\"hi\"'}}`. Sub-selectors and regular properties can\n// freely be mixed in a given object. Any property containing a `&` is\n// assumed to be a sub-selector.\n//\n// Finally, a property can specify an @-block to be wrapped around the\n// styles defined inside the object that's the property's value. For\n// example to create a media query you can do `{\"@media screen and\n// (min-width: 400px)\": {...}}`.\n","import { MapMode } from '@codemirror/state';\n\n/**\nEach range is associated with a value, which must inherit from\nthis class.\n*/\nclass RangeValue {\n    /**\n    Compare this value with another value. The default\n    implementation compares by identity.\n    */\n    eq(other) { return this == other; }\n    /**\n    Create a [range](https://codemirror.net/6/docs/ref/#rangeset.Range) with this value.\n    */\n    range(from, to = from) { return new Range(from, to, this); }\n}\nRangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;\nRangeValue.prototype.point = false;\nRangeValue.prototype.mapMode = MapMode.TrackDel;\n/**\nA range associates a value with a range of positions.\n*/\nclass Range {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The range's start position.\n    */\n    from, \n    /**\n    Its end position.\n    */\n    to, \n    /**\n    The value associated with this range.\n    */\n    value) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n}\nfunction cmpRange(a, b) {\n    return a.from - b.from || a.value.startSide - b.value.startSide;\n}\nclass Chunk {\n    constructor(from, to, value, \n    // Chunks are marked with the largest point that occurs\n    // in them (or -1 for no points), so that scans that are\n    // only interested in points (such as the\n    // heightmap-related logic) can skip range-only chunks.\n    maxPoint) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n        this.maxPoint = maxPoint;\n    }\n    get length() { return this.to[this.to.length - 1]; }\n    // Find the index of the given position and side. Use the ranges'\n    // `from` pos when `end == false`, `to` when `end == true`.\n    findIndex(pos, side, end, startAt = 0) {\n        let arr = end ? this.to : this.from;\n        for (let lo = startAt, hi = arr.length;;) {\n            if (lo == hi)\n                return lo;\n            let mid = (lo + hi) >> 1;\n            let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;\n            if (mid == lo)\n                return diff >= 0 ? lo : hi;\n            if (diff >= 0)\n                hi = mid;\n            else\n                lo = mid + 1;\n        }\n    }\n    between(offset, from, to, f) {\n        for (let i = this.findIndex(from, -1000000000 /* Far */, true), e = this.findIndex(to, 1000000000 /* Far */, false, i); i < e; i++)\n            if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)\n                return false;\n    }\n    map(offset, changes) {\n        let value = [], from = [], to = [], newPos = -1, maxPoint = -1;\n        for (let i = 0; i < this.value.length; i++) {\n            let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;\n            if (curFrom == curTo) {\n                let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);\n                if (mapped == null)\n                    continue;\n                newFrom = newTo = mapped;\n            }\n            else {\n                newFrom = changes.mapPos(curFrom, val.startSide);\n                newTo = changes.mapPos(curTo, val.endSide);\n                if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)\n                    continue;\n            }\n            if ((newTo - newFrom || val.endSide - val.startSide) < 0)\n                continue;\n            if (newPos < 0)\n                newPos = newFrom;\n            if (val.point)\n                maxPoint = Math.max(maxPoint, newTo - newFrom);\n            value.push(val);\n            from.push(newFrom - newPos);\n            to.push(newTo - newPos);\n        }\n        return { mapped: value.length ? new Chunk(from, to, value, maxPoint) : null, pos: newPos };\n    }\n}\n/**\nA range set stores a collection of [ranges](https://codemirror.net/6/docs/ref/#rangeset.Range) in a\nway that makes them efficient to [map](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.map) and\n[update](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.update). This is an immutable data\nstructure.\n*/\nclass RangeSet {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    chunkPos, \n    /**\n    @internal\n    */\n    chunk, \n    /**\n    @internal\n    */\n    nextLayer = RangeSet.empty, \n    /**\n    @internal\n    */\n    maxPoint) {\n        this.chunkPos = chunkPos;\n        this.chunk = chunk;\n        this.nextLayer = nextLayer;\n        this.maxPoint = maxPoint;\n    }\n    /**\n    @internal\n    */\n    get length() {\n        let last = this.chunk.length - 1;\n        return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);\n    }\n    /**\n    The number of ranges in the set.\n    */\n    get size() {\n        if (this.isEmpty)\n            return 0;\n        let size = this.nextLayer.size;\n        for (let chunk of this.chunk)\n            size += chunk.value.length;\n        return size;\n    }\n    /**\n    @internal\n    */\n    chunkEnd(index) {\n        return this.chunkPos[index] + this.chunk[index].length;\n    }\n    /**\n    Update the range set, optionally adding new ranges or filtering\n    out existing ones.\n    \n    (The extra type parameter is just there as a kludge to work\n    around TypeScript variance issues that prevented `RangeSet<X>`\n    from being a subtype of `RangeSet<Y>` when `X` is a subtype of\n    `Y`.)\n    */\n    update(updateSpec) {\n        let { add = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;\n        let filter = updateSpec.filter;\n        if (add.length == 0 && !filter)\n            return this;\n        if (sort)\n            add.slice().sort(cmpRange);\n        if (this.isEmpty)\n            return add.length ? RangeSet.of(add) : this;\n        let cur = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];\n        let builder = new RangeSetBuilder();\n        while (cur.value || i < add.length) {\n            if (i < add.length && (cur.from - add[i].from || cur.startSide - add[i].value.startSide) >= 0) {\n                let range = add[i++];\n                if (!builder.addInner(range.from, range.to, range.value))\n                    spill.push(range);\n            }\n            else if (cur.rangeIndex == 1 && cur.chunkIndex < this.chunk.length &&\n                (i == add.length || this.chunkEnd(cur.chunkIndex) < add[i].from) &&\n                (!filter || filterFrom > this.chunkEnd(cur.chunkIndex) || filterTo < this.chunkPos[cur.chunkIndex]) &&\n                builder.addChunk(this.chunkPos[cur.chunkIndex], this.chunk[cur.chunkIndex])) {\n                cur.nextChunk();\n            }\n            else {\n                if (!filter || filterFrom > cur.to || filterTo < cur.from || filter(cur.from, cur.to, cur.value)) {\n                    if (!builder.addInner(cur.from, cur.to, cur.value))\n                        spill.push(new Range(cur.from, cur.to, cur.value));\n                }\n                cur.next();\n            }\n        }\n        return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty\n            : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));\n    }\n    /**\n    Map this range set through a set of changes, return the new set.\n    */\n    map(changes) {\n        if (changes.length == 0 || this.isEmpty)\n            return this;\n        let chunks = [], chunkPos = [], maxPoint = -1;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            let touch = changes.touchesRange(start, start + chunk.length);\n            if (touch === false) {\n                maxPoint = Math.max(maxPoint, chunk.maxPoint);\n                chunks.push(chunk);\n                chunkPos.push(changes.mapPos(start));\n            }\n            else if (touch === true) {\n                let { mapped, pos } = chunk.map(start, changes);\n                if (mapped) {\n                    maxPoint = Math.max(maxPoint, mapped.maxPoint);\n                    chunks.push(mapped);\n                    chunkPos.push(pos);\n                }\n            }\n        }\n        let next = this.nextLayer.map(changes);\n        return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next, maxPoint);\n    }\n    /**\n    Iterate over the ranges that touch the region `from` to `to`,\n    calling `f` for each. There is no guarantee that the ranges will\n    be reported in any specific order. When the callback returns\n    `false`, iteration stops.\n    */\n    between(from, to, f) {\n        if (this.isEmpty)\n            return;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            if (to >= start && from <= start + chunk.length &&\n                chunk.between(start, from - start, to - start, f) === false)\n                return;\n        }\n        this.nextLayer.between(from, to, f);\n    }\n    /**\n    Iterate over the ranges in this set, in order, including all\n    ranges that end at or after `from`.\n    */\n    iter(from = 0) {\n        return HeapCursor.from([this]).goto(from);\n    }\n    /**\n    @internal\n    */\n    get isEmpty() { return this.nextLayer == this; }\n    /**\n    Iterate over the ranges in a collection of sets, in order,\n    starting from `from`.\n    */\n    static iter(sets, from = 0) {\n        return HeapCursor.from(sets).goto(from);\n    }\n    /**\n    Iterate over two groups of sets, calling methods on `comparator`\n    to notify it of possible differences.\n    */\n    static compare(oldSets, newSets, \n    /**\n    This indicates how the underlying data changed between these\n    ranges, and is needed to synchronize the iteration. `from` and\n    `to` are coordinates in the _new_ space, after these changes.\n    */\n    textDiff, comparator, \n    /**\n    Can be used to ignore all non-point ranges, and points below\n    the given size. When -1, all ranges are compared.\n    */\n    minPointSize = -1) {\n        let a = oldSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && newSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let b = newSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && oldSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, minPointSize);\n        let sideB = new SpanCursor(b, sharedChunks, minPointSize);\n        textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));\n        if (textDiff.empty && textDiff.length == 0)\n            compare(sideA, 0, sideB, 0, 0, comparator);\n    }\n    /**\n    Compare the contents of two groups of range sets, returning true\n    if they are equivalent in the given range.\n    */\n    static eq(oldSets, newSets, from = 0, to) {\n        if (to == null)\n            to = 1000000000 /* Far */;\n        let a = oldSets.filter(set => !set.isEmpty && newSets.indexOf(set) < 0);\n        let b = newSets.filter(set => !set.isEmpty && oldSets.indexOf(set) < 0);\n        if (a.length != b.length)\n            return false;\n        if (!a.length)\n            return true;\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, 0).goto(from), sideB = new SpanCursor(b, sharedChunks, 0).goto(from);\n        for (;;) {\n            if (sideA.to != sideB.to ||\n                !sameValues(sideA.active, sideB.active) ||\n                sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))\n                return false;\n            if (sideA.to >= to)\n                return true;\n            sideA.next();\n            sideB.next();\n        }\n    }\n    /**\n    Iterate over a group of range sets at the same time, notifying\n    the iterator about the ranges covering every given piece of\n    content. Returns the open count (see\n    [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#rangeset.SpanIterator.span)) at the end\n    of the iteration.\n    */\n    static spans(sets, from, to, iterator, \n    /**\n    When given and greater than -1, only points of at least this\n    size are taken into account.\n    */\n    minPointSize = -1) {\n        let cursor = new SpanCursor(sets, null, minPointSize).goto(from), pos = from;\n        let open = cursor.openStart;\n        for (;;) {\n            let curTo = Math.min(cursor.to, to);\n            if (cursor.point) {\n                iterator.point(pos, curTo, cursor.point, cursor.activeForPoint(cursor.to), open);\n                open = cursor.openEnd(curTo) + (cursor.to > curTo ? 1 : 0);\n            }\n            else if (curTo > pos) {\n                iterator.span(pos, curTo, cursor.active, open);\n                open = cursor.openEnd(curTo);\n            }\n            if (cursor.to > to)\n                break;\n            pos = cursor.to;\n            cursor.next();\n        }\n        return open;\n    }\n    /**\n    Create a range set for the given range or array of ranges. By\n    default, this expects the ranges to be _sorted_ (by start\n    position and, if two start at the same position,\n    `value.startSide`). You can pass `true` as second argument to\n    cause the method to sort them.\n    */\n    static of(ranges, sort = false) {\n        let build = new RangeSetBuilder();\n        for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)\n            build.add(range.from, range.to, range.value);\n        return build.finish();\n    }\n}\n/**\nThe empty set of ranges.\n*/\nRangeSet.empty = /*@__PURE__*/new RangeSet([], [], null, -1);\nfunction lazySort(ranges) {\n    if (ranges.length > 1)\n        for (let prev = ranges[0], i = 1; i < ranges.length; i++) {\n            let cur = ranges[i];\n            if (cmpRange(prev, cur) > 0)\n                return ranges.slice().sort(cmpRange);\n            prev = cur;\n        }\n    return ranges;\n}\nRangeSet.empty.nextLayer = RangeSet.empty;\n/**\nA range set builder is a data structure that helps build up a\n[range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) directly, without first allocating\nan array of [`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range) objects.\n*/\nclass RangeSetBuilder {\n    /**\n    Create an empty builder.\n    */\n    constructor() {\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunkStart = -1;\n        this.last = null;\n        this.lastFrom = -1000000000 /* Far */;\n        this.lastTo = -1000000000 /* Far */;\n        this.from = [];\n        this.to = [];\n        this.value = [];\n        this.maxPoint = -1;\n        this.setMaxPoint = -1;\n        this.nextLayer = null;\n    }\n    finishChunk(newArrays) {\n        this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));\n        this.chunkPos.push(this.chunkStart);\n        this.chunkStart = -1;\n        this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);\n        this.maxPoint = -1;\n        if (newArrays) {\n            this.from = [];\n            this.to = [];\n            this.value = [];\n        }\n    }\n    /**\n    Add a range. Ranges should be added in sorted (by `from` and\n    `value.startSide`) order.\n    */\n    add(from, to, value) {\n        if (!this.addInner(from, to, value))\n            (this.nextLayer || (this.nextLayer = new RangeSetBuilder)).add(from, to, value);\n    }\n    /**\n    @internal\n    */\n    addInner(from, to, value) {\n        let diff = from - this.lastTo || value.startSide - this.last.endSide;\n        if (diff <= 0 && (from - this.lastFrom || value.startSide - this.last.startSide) < 0)\n            throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");\n        if (diff < 0)\n            return false;\n        if (this.from.length == 250 /* ChunkSize */)\n            this.finishChunk(true);\n        if (this.chunkStart < 0)\n            this.chunkStart = from;\n        this.from.push(from - this.chunkStart);\n        this.to.push(to - this.chunkStart);\n        this.last = value;\n        this.lastFrom = from;\n        this.lastTo = to;\n        this.value.push(value);\n        if (value.point)\n            this.maxPoint = Math.max(this.maxPoint, to - from);\n        return true;\n    }\n    /**\n    @internal\n    */\n    addChunk(from, chunk) {\n        if ((from - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)\n            return false;\n        if (this.from.length)\n            this.finishChunk(true);\n        this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);\n        this.chunks.push(chunk);\n        this.chunkPos.push(from);\n        let last = chunk.value.length - 1;\n        this.last = chunk.value[last];\n        this.lastFrom = chunk.from[last] + from;\n        this.lastTo = chunk.to[last] + from;\n        return true;\n    }\n    /**\n    Finish the range set. Returns the new set. The builder can't be\n    used anymore after this has been called.\n    */\n    finish() { return this.finishInner(RangeSet.empty); }\n    /**\n    @internal\n    */\n    finishInner(next) {\n        if (this.from.length)\n            this.finishChunk(false);\n        if (this.chunks.length == 0)\n            return next;\n        let result = new RangeSet(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);\n        this.from = null; // Make sure further `add` calls produce errors\n        return result;\n    }\n}\nfunction findSharedChunks(a, b) {\n    let inA = new Map();\n    for (let set of a)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (set.chunk[i].maxPoint < 500 /* BigPointSize */)\n                inA.set(set.chunk[i], set.chunkPos[i]);\n    let shared = new Set();\n    for (let set of b)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (inA.get(set.chunk[i]) == set.chunkPos[i])\n                shared.add(set.chunk[i]);\n    return shared;\n}\nclass LayerCursor {\n    constructor(layer, skip, minPoint, rank = 0) {\n        this.layer = layer;\n        this.skip = skip;\n        this.minPoint = minPoint;\n        this.rank = rank;\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    get endSide() { return this.value ? this.value.endSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.chunkIndex = this.rangeIndex = 0;\n        this.gotoInner(pos, side, false);\n        return this;\n    }\n    gotoInner(pos, side, forward) {\n        while (this.chunkIndex < this.layer.chunk.length) {\n            let next = this.layer.chunk[this.chunkIndex];\n            if (!(this.skip && this.skip.has(next) ||\n                this.layer.chunkEnd(this.chunkIndex) < pos ||\n                next.maxPoint < this.minPoint))\n                break;\n            this.chunkIndex++;\n            forward = false;\n        }\n        if (this.chunkIndex < this.layer.chunk.length) {\n            let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);\n            if (!forward || this.rangeIndex < rangeIndex)\n                this.setRangeIndex(rangeIndex);\n        }\n        this.next();\n    }\n    forward(pos, side) {\n        if ((this.to - pos || this.endSide - side) < 0)\n            this.gotoInner(pos, side, true);\n    }\n    next() {\n        for (;;) {\n            if (this.chunkIndex == this.layer.chunk.length) {\n                this.from = this.to = 1000000000 /* Far */;\n                this.value = null;\n                break;\n            }\n            else {\n                let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];\n                let from = chunkPos + chunk.from[this.rangeIndex];\n                this.from = from;\n                this.to = chunkPos + chunk.to[this.rangeIndex];\n                this.value = chunk.value[this.rangeIndex];\n                this.setRangeIndex(this.rangeIndex + 1);\n                if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)\n                    break;\n            }\n        }\n    }\n    setRangeIndex(index) {\n        if (index == this.layer.chunk[this.chunkIndex].value.length) {\n            this.chunkIndex++;\n            if (this.skip) {\n                while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))\n                    this.chunkIndex++;\n            }\n            this.rangeIndex = 0;\n        }\n        else {\n            this.rangeIndex = index;\n        }\n    }\n    nextChunk() {\n        this.chunkIndex++;\n        this.rangeIndex = 0;\n        this.next();\n    }\n    compare(other) {\n        return this.from - other.from || this.startSide - other.startSide || this.to - other.to || this.endSide - other.endSide;\n    }\n}\nclass HeapCursor {\n    constructor(heap) {\n        this.heap = heap;\n    }\n    static from(sets, skip = null, minPoint = -1) {\n        let heap = [];\n        for (let i = 0; i < sets.length; i++) {\n            for (let cur = sets[i]; !cur.isEmpty; cur = cur.nextLayer) {\n                if (cur.maxPoint >= minPoint)\n                    heap.push(new LayerCursor(cur, skip, minPoint, i));\n            }\n        }\n        return heap.length == 1 ? heap[0] : new HeapCursor(heap);\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        for (let cur of this.heap)\n            cur.goto(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        for (let cur of this.heap)\n            cur.forward(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        if ((this.to - pos || this.value.endSide - side) < 0)\n            this.next();\n    }\n    next() {\n        if (this.heap.length == 0) {\n            this.from = this.to = 1000000000 /* Far */;\n            this.value = null;\n            this.rank = -1;\n        }\n        else {\n            let top = this.heap[0];\n            this.from = top.from;\n            this.to = top.to;\n            this.value = top.value;\n            this.rank = top.rank;\n            if (top.value)\n                top.next();\n            heapBubble(this.heap, 0);\n        }\n    }\n}\nfunction heapBubble(heap, index) {\n    for (let cur = heap[index];;) {\n        let childIndex = (index << 1) + 1;\n        if (childIndex >= heap.length)\n            break;\n        let child = heap[childIndex];\n        if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {\n            child = heap[childIndex + 1];\n            childIndex++;\n        }\n        if (cur.compare(child) < 0)\n            break;\n        heap[childIndex] = cur;\n        heap[index] = child;\n        index = childIndex;\n    }\n}\nclass SpanCursor {\n    constructor(sets, skip, minPoint) {\n        this.minPoint = minPoint;\n        this.active = [];\n        this.activeTo = [];\n        this.activeRank = [];\n        this.minActive = -1;\n        // A currently active point range, if any\n        this.point = null;\n        this.pointFrom = 0;\n        this.pointRank = 0;\n        this.to = -1000000000 /* Far */;\n        this.endSide = 0;\n        this.openStart = -1;\n        this.cursor = HeapCursor.from(sets, skip, minPoint);\n    }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.cursor.goto(pos, side);\n        this.active.length = this.activeTo.length = this.activeRank.length = 0;\n        this.minActive = -1;\n        this.to = pos;\n        this.endSide = side;\n        this.openStart = -1;\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)\n            this.removeActive(this.minActive);\n        this.cursor.forward(pos, side);\n    }\n    removeActive(index) {\n        remove(this.active, index);\n        remove(this.activeTo, index);\n        remove(this.activeRank, index);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    addActive(trackOpen) {\n        let i = 0, { value, to, rank } = this.cursor;\n        while (i < this.activeRank.length && this.activeRank[i] <= rank)\n            i++;\n        insert(this.active, i, value);\n        insert(this.activeTo, i, to);\n        insert(this.activeRank, i, rank);\n        if (trackOpen)\n            insert(trackOpen, i, this.cursor.from);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    // After calling this, if `this.point` != null, the next range is a\n    // point. Otherwise, it's a regular range, covered by `this.active`.\n    next() {\n        let from = this.to, wasPoint = this.point;\n        this.point = null;\n        let trackOpen = this.openStart < 0 ? [] : null, trackExtra = 0;\n        for (;;) {\n            let a = this.minActive;\n            if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {\n                if (this.activeTo[a] > from) {\n                    this.to = this.activeTo[a];\n                    this.endSide = this.active[a].endSide;\n                    break;\n                }\n                this.removeActive(a);\n                if (trackOpen)\n                    remove(trackOpen, a);\n            }\n            else if (!this.cursor.value) {\n                this.to = this.endSide = 1000000000 /* Far */;\n                break;\n            }\n            else if (this.cursor.from > from) {\n                this.to = this.cursor.from;\n                this.endSide = this.cursor.startSide;\n                break;\n            }\n            else {\n                let nextVal = this.cursor.value;\n                if (!nextVal.point) { // Opening a range\n                    this.addActive(trackOpen);\n                    this.cursor.next();\n                }\n                else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to && nextVal.endSide == this.endSide) {\n                    // Ignore any non-empty points that end precisely at the end of the prev point\n                    this.cursor.next();\n                }\n                else { // New point\n                    this.point = nextVal;\n                    this.pointFrom = this.cursor.from;\n                    this.pointRank = this.cursor.rank;\n                    this.to = this.cursor.to;\n                    this.endSide = nextVal.endSide;\n                    if (this.cursor.from < from)\n                        trackExtra = 1;\n                    this.cursor.next();\n                    if (this.to > from)\n                        this.forward(this.to, this.endSide);\n                    break;\n                }\n            }\n        }\n        if (trackOpen) {\n            let openStart = 0;\n            while (openStart < trackOpen.length && trackOpen[openStart] < from)\n                openStart++;\n            this.openStart = openStart + trackExtra;\n        }\n    }\n    activeForPoint(to) {\n        if (!this.active.length)\n            return this.active;\n        let active = [];\n        for (let i = this.active.length - 1; i >= 0; i--) {\n            if (this.activeRank[i] < this.pointRank)\n                break;\n            if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)\n                active.push(this.active[i]);\n        }\n        return active.reverse();\n    }\n    openEnd(to) {\n        let open = 0;\n        for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)\n            open++;\n        return open;\n    }\n}\nfunction compare(a, startA, b, startB, length, comparator) {\n    a.goto(startA);\n    b.goto(startB);\n    let endB = startB + length;\n    let pos = startB, dPos = startB - startA;\n    for (;;) {\n        let diff = (a.to + dPos) - b.to || a.endSide - b.endSide;\n        let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);\n        if (a.point || b.point) {\n            if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) &&\n                sameValues(a.activeForPoint(a.to + dPos), b.activeForPoint(b.to))))\n                comparator.comparePoint(pos, clipEnd, a.point, b.point);\n        }\n        else {\n            if (clipEnd > pos && !sameValues(a.active, b.active))\n                comparator.compareRange(pos, clipEnd, a.active, b.active);\n        }\n        if (end > endB)\n            break;\n        pos = end;\n        if (diff <= 0)\n            a.next();\n        if (diff >= 0)\n            b.next();\n    }\n}\nfunction sameValues(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (a[i] != b[i] && !a[i].eq(b[i]))\n            return false;\n    return true;\n}\nfunction remove(array, index) {\n    for (let i = index, e = array.length - 1; i < e; i++)\n        array[i] = array[i + 1];\n    array.pop();\n}\nfunction insert(array, index, value) {\n    for (let i = array.length - 1; i >= index; i--)\n        array[i + 1] = array[i];\n    array[index] = value;\n}\nfunction findMinIndex(value, array) {\n    let found = -1, foundPos = 1000000000 /* Far */;\n    for (let i = 0; i < array.length; i++)\n        if ((array[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {\n            found = i;\n            foundPos = array[i];\n        }\n    return found;\n}\n\nexport { Range, RangeSet, RangeSetBuilder, RangeValue };\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\",\n  229: \"q\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\",\n  229: \"Q\"\n}\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar safari = typeof navigator != \"undefined\" && /Apple Computer/.test(navigator.vendor)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nvar brokenModifierNames = chrome && (mac || +chrome[1] < 57) || gecko && mac\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // Don't trust event.key in Chrome when there are modifiers until\n  // they fix https://bugs.chromium.org/p/chromium/issues/detail?id=633838\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    (safari || ie) && event.shiftKey && event.key && event.key.length == 1\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","import { MapMode, Text as Text$1, Facet, StateEffect, ChangeSet, EditorSelection, CharCategory, EditorState, Transaction, Prec, combineConfig } from '@codemirror/state';\nimport { StyleModule } from 'style-mod';\nimport { RangeSet, RangeValue, RangeSetBuilder } from '@codemirror/rangeset';\nexport { Range } from '@codemirror/rangeset';\nimport { Text, findClusterBreak, findColumn, codePointAt, countColumn } from '@codemirror/text';\nimport { keyName, base } from 'w3c-keyname';\n\nfunction getSelection(root) {\n    let target;\n    // Browsers differ on whether shadow roots have a getSelection\n    // method. If it exists, use that, otherwise, call it on the\n    // document.\n    if (root.nodeType == 11) { // Shadow root\n        target = root.getSelection ? root : root.ownerDocument;\n    }\n    else {\n        target = root;\n    }\n    return target.getSelection();\n}\nfunction contains(dom, node) {\n    return node ? dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement() {\n    let elt = document.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nconst ScrollSpace = 5;\nfunction scrollRectIntoView(dom, rect, side, center) {\n    let doc = dom.ownerDocument, win = doc.defaultView;\n    for (let cur = dom; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (center) {\n                let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                let targetTop;\n                if (rectHeight <= boundingHeight)\n                    targetTop = rect.top + rectHeight / 2 - boundingHeight / 2;\n                else if (side < 0)\n                    targetTop = rect.top - ScrollSpace;\n                else\n                    targetTop = rect.bottom + ScrollSpace - boundingHeight;\n                moveY = targetTop - bounding.top;\n                if (Math.abs(moveY) <= 1)\n                    moveY = 0;\n            }\n            else if (rect.top < bounding.top) {\n                moveY = -(bounding.top - rect.top + ScrollSpace);\n                if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                    moveY = rect.bottom - bounding.bottom + moveY + ScrollSpace;\n            }\n            else if (rect.bottom > bounding.bottom) {\n                moveY = rect.bottom - bounding.bottom + ScrollSpace;\n                if (side < 0 && (rect.top - moveY) < bounding.top)\n                    moveY = -(bounding.top + moveY - rect.top + ScrollSpace);\n            }\n            if (rect.left < bounding.left) {\n                moveX = -(bounding.left - rect.left + ScrollSpace);\n                if (side > 0 && rect.right > bounding.right + moveX)\n                    moveX = rect.right - bounding.right + moveX + ScrollSpace;\n            }\n            else if (rect.right > bounding.right) {\n                moveX = rect.right - bounding.right + ScrollSpace;\n                if (side < 0 && rect.left < bounding.left + moveX)\n                    moveX = -(bounding.left + moveX - rect.left + ScrollSpace);\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        moveY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        moveX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - moveX, top: rect.top - moveY,\n                        right: rect.right - moveX, bottom: rect.bottom - moveY };\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n            center = false;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nclass DOMSelection {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    set(domSel) {\n        this.anchorNode = domSel.anchorNode;\n        this.anchorOffset = domSel.anchorOffset;\n        this.focusNode = domSel.focusNode;\n        this.focusOffset = domSel.focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nlet _plainTextSupported = null;\nfunction contentEditablePlainTextSupported() {\n    if (_plainTextSupported == null) {\n        _plainTextSupported = false;\n        let dummy = document.createElement(\"div\");\n        try {\n            dummy.contentEditable = \"plaintext-only\";\n            _plainTextSupported = dummy.contentEditable == \"plaintext-only\";\n        }\n        catch (_) { }\n    }\n    return _plainTextSupported;\n}\nfunction getRoot(node) {\n    while (node) {\n        node = node.assignedSlot || node.parentNode;\n        if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n            return node;\n    }\n    return null;\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst none$3 = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        var _a;\n        if (this.dirty & 2 /* Node */) {\n            let parent = this.dom, pos = null;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    let next = pos ? pos.nextSibling : parent.firstChild;\n                    if (!child.dom && next && !((_a = ContentView.get(next)) === null || _a === void 0 ? void 0 : _a.parent))\n                        child.reuseDOM(next);\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n                if (track && track.node == parent && pos != child.dom)\n                    track.written = true;\n                syncNodeInto(parent, pos, child.dom);\n                pos = child.dom;\n            }\n            let next = pos ? pos.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm(next);\n        }\n        else if (this.dirty & 1 /* Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { return false; }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.dirty |= 2 /* Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Node */;\n            if (parent.dirty & 1 /* Child */)\n                return;\n            parent.dirty |= 1 /* Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = none$3) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.parent = null;\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n    get isEditable() { return true; }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nfunction syncNodeInto(parent, after, dom) {\n    let next = after ? after.nextSibling : parent.firstChild;\n    if (dom.parentNode == parent)\n        while (next != dom)\n            next = rm(next);\n    else\n        parent.insertBefore(dom, next);\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\n\nlet [nav, doc] = typeof navigator != \"undefined\"\n    ? [navigator, document]\n    : [{ userAgent: \"\", vendor: \"\", platform: \"\" }, { documentElement: { style: {} } }];\nconst ie_edge = /*@__PURE__*//Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /*@__PURE__*//MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /*@__PURE__*//Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /*@__PURE__*//gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /*@__PURE__*//Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /*@__PURE__*//Apple Computer/.test(nav.vendor);\nconst ios = safari && (/*@__PURE__*//Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\nvar browser = {\n    mac: ios || /*@__PURE__*//Mac/.test(nav.platform),\n    windows: /*@__PURE__*//Win/.test(nav.platform),\n    linux: /*@__PURE__*//Linux|X11/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/*@__PURE__*//Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios,\n    android: /*@__PURE__*//Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/*@__PURE__*//\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst none$2 = [];\nclass InlineView extends ContentView {\n    /**\n    Return true when this view is equivalent to `other` and can take\n    on its role.\n    */\n    become(_other) { return false; }\n    // When this is a zero-length view with a side, this should return a\n    // negative number to indicate it is before its position, or a\n    // positive number when after its position.\n    getSide() { return 0; }\n}\nInlineView.prototype.children = none$2;\nconst MaxJoinLen = 256;\nclass TextView extends InlineView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType != 3)\n            return false;\n        this.createDOM(dom);\n        return true;\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends InlineView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    createDOM() {\n        let dom = document.createElement(this.mark.tagName);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        this.setDOM(dom);\n    }\n    sync(track) {\n        if (!this.dom || (this.dirty & 4 /* Attrs */))\n            this.createDOM();\n        super.sync(track);\n    }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeInlineChildren(this, from, to, source ? source.children : none$2, openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.slice(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1)\n            this.replaceChildren(detachFrom, this.children.length);\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends InlineView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    slice(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return (pos == 0 && side > 0 || pos == this.length && side <= 0) ? rect : flattenRect(rect, pos == 0);\n    }\n    get isEditable() { return false; }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) { return new DOMPos(this.widget.text, pos); }\n    sync() { if (!this.dom)\n        this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        return !offset ? 0 : node.nodeType == 3 ? Math.min(offset, this.length) : this.length;\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) { return textCoords(this.widget.text, pos, side); }\n    get isEditable() { return true; }\n}\n// These are drawn around uneditable widgets to avoid a number of\n// browser bugs that show up when the cursor is directly next to\n// uneditable inline content.\nclass WidgetBufferView extends InlineView {\n    constructor(side) {\n        super();\n        this.side = side;\n    }\n    get length() { return 0; }\n    merge() { return false; }\n    become(other) {\n        return other instanceof WidgetBufferView && other.side == this.side;\n    }\n    slice() { return new WidgetBufferView(this.side); }\n    sync() {\n        if (!this.dom)\n            this.setDOM(document.createTextNode(\"\\u200b\"));\n        else if (this.dirty && this.dom.nodeValue != \"\\u200b\")\n            this.dom.nodeValue = \"\\u200b\";\n    }\n    getSide() { return this.side; }\n    domAtPos(pos) { return DOMPos.before(this.dom); }\n    domBoundsAround() { return null; }\n    coordsAt(pos) {\n        let rects = clientRectsFor(this.dom);\n        return rects[rects.length - 1];\n    }\n    get overrideDOMText() {\n        return Text.of([this.dom.nodeValue.replace(/\\u200b/g, \"\")]);\n    }\n}\nfunction mergeInlineChildren(parent, from, to, elts, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of elts)\n        dLen += view.length;\n    parent.length += dLen;\n    let { children } = parent;\n    // Both from and to point into the same child view\n    if (fromI == toI && fromOff) {\n        let start = children[fromI];\n        // Maybe just update that view and be done\n        if (elts.length == 1 && start.merge(fromOff, toOff, elts[0], openStart, openEnd))\n            return;\n        if (elts.length == 0) {\n            start.merge(fromOff, toOff, null, openStart, openEnd);\n            return;\n        }\n        // Otherwise split it, so that we don't have to worry about aliasing front/end afterwards\n        let after = start.slice(toOff);\n        if (after.merge(0, 0, elts[elts.length - 1], 0, openEnd))\n            elts[elts.length - 1] = after;\n        else\n            elts.push(after);\n        toI++;\n        openEnd = toOff = 0;\n    }\n    // Make sure start and end positions fall on node boundaries\n    // (fromOff/toOff are no longer used after this), and that if the\n    // start or end of the elts can be merged with adjacent nodes,\n    // this is done\n    if (toOff) {\n        let end = children[toI];\n        if (elts.length && end.merge(0, toOff, elts[elts.length - 1], 0, openEnd)) {\n            elts.pop();\n            openEnd = elts.length ? 0 : openStart;\n        }\n        else {\n            end.merge(0, toOff, null, 0, 0);\n        }\n    }\n    else if (toI < children.length && elts.length &&\n        children[toI].merge(0, 0, elts[elts.length - 1], 0, openEnd)) {\n        elts.pop();\n        openEnd = elts.length ? 0 : openStart;\n    }\n    if (fromOff) {\n        let start = children[fromI];\n        if (elts.length && start.merge(fromOff, start.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n        else {\n            start.merge(fromOff, start.length, null, 0, 0);\n        }\n        fromI++;\n    }\n    else if (fromI && elts.length) {\n        let end = children[fromI - 1];\n        if (end.merge(end.length, end.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n    }\n    // Then try to merge any mergeable nodes at the start and end of\n    // the changed range\n    while (fromI < toI && elts.length && children[toI - 1].become(elts[elts.length - 1])) {\n        elts.pop();\n        toI--;\n        openEnd = elts.length ? 0 : openStart;\n    }\n    while (fromI < toI && elts.length && children[fromI].become(elts[0])) {\n        elts.shift();\n        fromI++;\n        openStart = elts.length ? 0 : openEnd;\n    }\n    if (!elts.length && fromI && toI < children.length &&\n        children[toI].merge(0, 0, children[fromI - 1], openStart, openEnd))\n        fromI--;\n    // And if anything remains, splice the child array to insert the new elts\n    if (elts.length || fromI != toI)\n        parent.replaceChildren(fromI, toI, elts);\n}\nfunction inlineDOMAtPos(dom, children, pos) {\n    let i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (; i > 0; i--) {\n        let before = children[i - 1].dom;\n        if (before.parentNode == dom)\n            return DOMPos.after(before);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    for (let off = 0, i = 0; i < view.children.length; i++) {\n        let child = view.children[i], end = off + child.length, next;\n        if ((side <= 0 || end == view.length || child.getSide() > 0 ? end >= pos : end > pos) &&\n            (pos < end || i + 1 == view.children.length || (next = view.children[i + 1]).length || next.getSide() > 0)) {\n            let flatten = 0;\n            if (end == off) {\n                if (child.getSide() <= 0)\n                    continue;\n                flatten = side = -child.getSide();\n            }\n            let rect = child.coordsAt(pos - off, side);\n            return flatten && rect ? flattenRect(rect, side < 0) : rect;\n        }\n        off = end;\n    }\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1];\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(name, attrs[name]);\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even when the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(_widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(_dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(_event) { return true; }\n    /**\n    @internal\n    */\n    get customView() { return null; }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nvar BlockType = /*@__PURE__*/(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\nreturn BlockType})(BlockType || (BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range), which adds a start and end position.\n*/\nclass Decoration extends RangeValue {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations) or\n    (below the facet-provided decorations) [view\n    plugin](https://codemirror.net/6/docs/ref/#view.PluginSpec.decorations). Such elements are split\n    on line boundaries and on the boundaries of higher-precedence\n    decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which adds an element at the given\n    position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0;\n        if (spec.block)\n            side += (200000000 /* BigBlock */ + 1) * (side > 0 ? 1 : -1);\n        return new PointDecoration(spec, side, side, !!spec.block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block;\n        let { start, end } = getInclusive(spec);\n        let startSide = block ? -200000000 /* BigBlock */ * (start ? 2 : 1) : 100000000 /* BigInline */ * (start ? -1 : 1);\n        let endSide = block ? 200000000 /* BigBlock */ * (end ? 2 : 1) : 100000000 /* BigInline */ * (end ? 1 : -1);\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(100000000 /* BigInline */ * (start ? -1 : 1), 100000000 /* BigInline */ * (end ? 1 : -1), null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-100000000 /* BigInline */, -100000000 /* BigInline */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? MapMode.TrackDel : startSide < 0 ? MapMode.TrackBefore : MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? BlockType.WidgetRange\n            : this.startSide < 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide < 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start || false, end: end || false };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin > from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, takeDeco, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (takeDeco)\n            this.setDeco(source ? source.attrs : null);\n        mergeInlineChildren(this, from, to, source ? source.children : none$1, openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].slice(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0) {\n            this.children[i - 1].parent = null;\n            i--;\n        }\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    // Only called when building a line view in ContentBuilder\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes, cls = deco.spec.class;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n        if (cls)\n            this.attrs = combineAttrs(attrs, { class: cls });\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    sync(track) {\n        var _a;\n        if (!this.dom || (this.dirty & 4 /* Attrs */)) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last ||\n            last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return { lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    match(_other) { return false; }\n    get type() { return BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0;; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (block.length)\n                    return null;\n            }\n            off = end + block.breakAfter;\n        }\n    }\n}\nconst none$1 = [];\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        return new BlockWidgetView(this.widget, len, this.type);\n    }\n    get children() { return none$1; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text$1.empty;\n    }\n    domBoundsAround() { return null; }\n    match(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.pendingBuffer = 0 /* No */;\n        // Set to false directly after a widget that covers the position after it\n        this.atCursorPos = true;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine) {\n            this.content.push(this.curLine = new LineView);\n            this.atCursorPos = true;\n        }\n        return this.curLine;\n    }\n    flushBuffer(active) {\n        if (this.pendingBuffer) {\n            this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n            this.pendingBuffer = 0 /* No */;\n        }\n    }\n    addBlockWidget(view) {\n        this.flushBuffer([]);\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish(openEnd) {\n        if (!openEnd)\n            this.flushBuffer([]);\n        else\n            this.pendingBuffer = 0 /* No */;\n        if (!this.posCovered())\n            this.getLine();\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.flushBuffer([]);\n                    this.curLine = null;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* Chunk */);\n            this.flushBuffer(active);\n            this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.atCursorPos = true;\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart) {\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let view = WidgetView.create(deco.widget || new NullWidget(\"span\"), len, deco.startSide);\n                let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from < to || deco.startSide > 0);\n                let cursorAfter = !view.isEditable && (from < to || deco.startSide <= 0);\n                let line = this.getLine();\n                if (this.pendingBuffer == 2 /* IfCursor */ && !cursorBefore)\n                    this.pendingBuffer = 0 /* No */;\n                this.flushBuffer(active);\n                if (cursorBefore) {\n                    line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                    openStart = active.length + Math.max(0, openStart - active.length);\n                }\n                line.append(wrapMarks(view, active), openStart);\n                this.atCursorPos = cursorAfter;\n                this.pendingBuffer = !cursorAfter ? 0 /* No */ : from < to ? 1 /* Yes */ : 2 /* IfCursor */;\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations) {\n        let builder = new ContentBuilder(text, from, to);\n        builder.openEnd = RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish(builder.openEnd);\n        return builder;\n    }\n}\nfunction wrapMarks(view, active) {\n    for (let mark of active)\n        view = new MarkView(mark, [view], view.length);\n    return view;\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst none = [];\nconst clickAddsSelectionRange = /*@__PURE__*/Facet.define();\nconst dragMovesSelection$1 = /*@__PURE__*/Facet.define();\nconst mouseSelectionStyle = /*@__PURE__*/Facet.define();\nconst exceptionSink = /*@__PURE__*/Facet.define();\nconst updateListener = /*@__PURE__*/Facet.define();\nconst inputHandler = /*@__PURE__*/Facet.define();\nconst scrollTo = /*@__PURE__*/StateEffect.define({\n    map: (range, changes) => range.map(changes)\n});\nconst centerOn = /*@__PURE__*/StateEffect.define({\n    map: (range, changes) => range.map(changes)\n});\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : true });\n/**\nUsed to [declare](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide) which\n[fields](https://codemirror.net/6/docs/ref/#view.PluginValue) a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin)\nprovides.\n*/\nclass PluginFieldProvider {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    field, \n    /**\n    @internal\n    */\n    get) {\n        this.field = field;\n        this.get = get;\n    }\n}\n/**\nPlugin fields are a mechanism for allowing plugins to provide\nvalues that can be retrieved through the\n[`pluginField`](https://codemirror.net/6/docs/ref/#view.EditorView.pluginField) view method.\n*/\nclass PluginField {\n    /**\n    Create a [provider](https://codemirror.net/6/docs/ref/#view.PluginFieldProvider) for this field,\n    to use with a plugin's [provide](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide)\n    option.\n    */\n    from(get) {\n        return new PluginFieldProvider(this, get);\n    }\n    /**\n    Define a new plugin field.\n    */\n    static define() { return new PluginField(); }\n}\n/**\nThis field can be used by plugins to provide\n[decorations](https://codemirror.net/6/docs/ref/#view.Decoration).\n\n**Note**: For reasons of data flow (plugins are only updated\nafter the viewport is computed), decorations produced by plugins\nare _not_ taken into account when predicting the vertical layout\nstructure of the editor. Thus, things like large widgets or big\nreplacements (i.e. code folding) should be provided through the\nstate-level [`decorations` facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations),\nnot this plugin field. Specifically, replacing decorations that\ncross line boundaries will break if provided through a plugin.\n*/\nPluginField.decorations = /*@__PURE__*/PluginField.define();\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nPluginField.atomicRanges = /*@__PURE__*/PluginField.define();\n/**\nPlugins can provide additional scroll margins (space around the\nsides of the scrolling element that should be considered\ninvisible) through this field. This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nPluginField.scrollMargins = /*@__PURE__*/PluginField.define();\nlet nextPluginID = 0;\nconst viewPlugin = /*@__PURE__*/Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    fields) {\n        this.id = id;\n        this.create = create;\n        this.fields = fields;\n        this.extension = viewPlugin.of(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        let { eventHandlers, provide, decorations } = spec || {};\n        let fields = [];\n        if (provide)\n            for (let provider of Array.isArray(provide) ? provide : [provide])\n                fields.push(provider);\n        if (eventHandlers)\n            fields.push(domEventHandlers.from((value) => ({ plugin: value, handlers: eventHandlers })));\n        if (decorations)\n            fields.push(PluginField.decorations.from(decorations));\n        return new ViewPlugin(nextPluginID++, create, fields);\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nconst domEventHandlers = /*@__PURE__*/PluginField.define();\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    takeField(type, target) {\n        for (let { field, get } of this.spec.fields)\n            if (field == type)\n                target.push(get(this.value));\n    }\n    update(view) {\n        if (!this.value) {\n            try {\n                this.value = this.spec.create(view);\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n                return PluginInstance.dummy;\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (!this.value.update)\n                return this;\n            try {\n                this.value.update(update);\n            }\n            catch (e) {\n                logException(update.state, e, \"CodeMirror plugin crashed\");\n                if (this.value.destroy)\n                    try {\n                        this.value.destroy();\n                    }\n                    catch (_) { }\n                return PluginInstance.dummy;\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n}\nPluginInstance.dummy = /*@__PURE__*/new PluginInstance(/*@__PURE__*/ViewPlugin.define(() => ({})));\nconst editorAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\nconst contentAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\n// Provide decorations\nconst decorations = /*@__PURE__*/Facet.define();\nconst styleModule = /*@__PURE__*/Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions = none) {\n        this.view = view;\n        this.state = state;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* Focus */;\n        }\n        if (this.docChanged)\n            this.flags |= 2 /* Height */;\n    }\n    /**\n    Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n    [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n    update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* Viewport */) > 0;\n    }\n    /**\n    Indicates whether the line height in the editor changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* Height */) > 0;\n    }\n    /**\n    Returns true when the document changed or the size of the editor\n    or the lines or characters within it has changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (8 /* Geometry */ | 2 /* Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return this.transactions.some(tr => tr.docChanged);\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // checkLayout, this is updated to point at the width of a given\n        // element and its extent in the document. When a change happens in\n        // that range, these are reset. That way, once we've seen a\n        // line/element of a given length, we keep the editor wide enough to\n        // fit at least that element, until it is changed, at which point we\n        // forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], this.updateDeco(), 0);\n    }\n    get root() { return this.view.root; }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        let forceSelection = (browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        let pointerSel = update.transactions.some(tr => tr.isUserEvent(\"select.pointer\"));\n        if (this.dirty == 0 /* Not */ && changedRanges.length == 0 &&\n            !(update.flags & 4 /* Viewport */) &&\n            update.state.selection.main.from >= this.view.viewport.from &&\n            update.state.selection.main.to <= this.view.viewport.to) {\n            this.updateSelection(forceSelection, pointerSel);\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, deco, update.startState.doc.length, forceSelection, pointerSel);\n            return true;\n        }\n    }\n    reset(sel) {\n        if (this.dirty) {\n            this.view.observer.ignore(() => this.view.docView.sync());\n            this.dirty = 0 /* Not */;\n        }\n        if (sel)\n            this.updateSelection();\n    }\n    // Used both by update and checkLayout do perform the actual DOM\n    // update\n    updateInner(changes, deco, oldLength, forceSelection = false, pointerSel = false) {\n        this.updateChildren(changes, deco, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.domHeight + \"px\";\n            this.dom.style.minWidth = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                forceSelection = true;\n            this.updateSelection(forceSelection, pointerSel);\n            this.dom.style.height = \"\";\n        });\n        let gaps = [];\n        if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n            for (let child of this.children)\n                if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                    gaps.push(child.dom);\n        observer.updateGaps(gaps);\n    }\n    updateChildren(changes, deco, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, deco);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            this.replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd) {\n        let before = this.children[fromI], last = content.length ? content[content.length - 1] : null;\n        let breakAtEnd = last ? last.breakAfter : breakAtStart;\n        // Change within a single line\n        if (fromI == toI && !breakAtStart && !breakAtEnd && content.length < 2 &&\n            before.merge(fromOff, toOff, content.length ? last : null, fromOff == 0, openStart, openEnd))\n            return;\n        let after = this.children[toI];\n        // Make sure the end of the line after the update is preserved in `after`\n        if (toOff < after.length) {\n            // If we're splitting a line, separate part of the start line to\n            // avoid that being mangled when updating the start line.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                content[content.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                content.push(after);\n            }\n        }\n        else if (after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && content.length && before.merge(fromOff, before.length, content[0], false, openStart, 0)) {\n                before.breakAfter = content.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n        // Try to merge widgets on the boundaries of the replacement\n        while (fromI < toI && content.length) {\n            if (this.children[toI - 1].match(content[content.length - 1]))\n                toI--, content.pop();\n            else if (this.children[fromI].match(content[0]))\n                fromI++, content.shift();\n            else\n                break;\n        }\n        if (fromI < toI || content.length)\n            this.replaceChildren(fromI, toI, content);\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(force = false, fromPointer = false) {\n        if (!(fromPointer || this.mayControlSelection()) ||\n            browser.ios && this.view.inputState.rapidCompositionStart)\n            return;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                // Chrome Android will hide the virtual keyboard when tapping\n                // inside an uneditable node, and not bring it back when we\n                // move the cursor to its proper position. This tries to\n                // restore the keyboard by cycling focus.\n                if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) && inUneditable(domSel.focusNode, this.dom)) {\n                    this.dom.blur();\n                    this.dom.focus({ preventScroll: true });\n                }\n                let rawSel = getSelection(this.root);\n                if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* Before */ | 2 /* After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    rawSel.extend(head.node, head.offset);\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.view.composing)\n            return;\n        let cursor = this.view.state.selection.main;\n        let sel = getSelection(this.root);\n        if (!cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n    }\n    mayControlSelection() {\n        return this.view.state.facet(editable) ? this.root.activeElement == this.dom\n            : hasSelection(this.dom, this.view.observer.selectionRange);\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != BlockType.WidgetBefore && child.type != BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights() {\n        let result = [], { from, to } = this.view.viewState.viewport;\n        let minWidth = Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                result.push(child.dom.getBoundingClientRect().height);\n                let width = child.dom.scrollWidth;\n                if (width > minWidth) {\n                    this.minWidth = minWidth = width;\n                    this.minWidthFrom = pos;\n                    this.minWidthTo = end;\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineAt(end, 0).bottom - vs.lineAt(pos, 0).top;\n                deco.push(Decoration.replace({ widget: new BlockGapWidget(height), block: true, inclusive: true }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        return this.decorations = [\n            ...this.view.pluginField(PluginField.decorations),\n            ...this.view.state.facet(decorations),\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollIntoView({ range, center }) {\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.pluginField(PluginField.scrollMargins))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        scrollRectIntoView(this.view.scrollDOM, {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        }, range.head < range.anchor ? -1 : 1, center);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction computeCompositionDeco(view, changes) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return Decoration.none;\n    let cView = view.docView.nearest(textNode);\n    let from, to, topNode = textNode;\n    if (cView instanceof InlineView) {\n        while (cView.parent instanceof InlineView)\n            cView = cView.parent;\n        from = cView.posAtStart;\n        to = from + cView.length;\n        topNode = cView.dom;\n    }\n    else if (cView instanceof LineView) {\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        from = to = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n    }\n    else {\n        return Decoration.none;\n    }\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let text = textNode.nodeValue, { state } = view;\n    if (newTo - newFrom < text.length) {\n        if (state.sliceDoc(newFrom, Math.min(state.doc.length, newFrom + text.length)) == text)\n            newTo = newFrom + text.length;\n        else if (state.sliceDoc(Math.max(0, newTo - text.length), newTo) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.sliceDoc(newFrom, newTo) != text) {\n        return Decoration.none;\n    }\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(topNode, textNode) }).range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text) {\n        super();\n        this.top = top;\n        this.text = text;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\nfunction inUneditable(node, inside) {\n    for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n        if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nvar Direction = /*@__PURE__*/(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\nreturn Direction})(Direction || (Direction = {}));\nconst LTR = Direction.LTR, RTL = Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = /*@__PURE__*/dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = /*@__PURE__*/dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = /*@__PURE__*/Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = /*@__PURE__*/p.charCodeAt(0), r = /*@__PURE__*/p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* NI */ :\n                        ch == 0x200c ? 256 /* NI */ : 1 /* L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* L */ : 2 /* R */, oppositeType = direction == LTR ? 2 /* R */ : 1 /* L */;\n    if (!line || outerType == 1 /* L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* NSM */)\n            type = prev;\n        else if (type == 8 /* EN */ && prevStrong == 4 /* AL */)\n            type = 16 /* AN */;\n        types[i] = type == 4 /* AL */ ? 2 /* R */ : type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* NI */;\n        }\n        else if (type == 64 /* ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* ET */)\n                end++;\n            let replace = (i && prev == 8 /* EN */) || (end < len && types[end] == 8 /* EN */) ? (prevStrong == 1 /* L */ ? 1 /* L */ : 8 /* EN */) : 256 /* NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* EN */ && prevStrong == 1 /* L */) {\n            types[i] = 1 /* L */;\n        }\n        prev = type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* EmbedInside */) ? outerType :\n                            !(flags & 4 /* OppositeInside */) ? 0 :\n                                (flags & 1 /* OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* R */ || type == 1 /* L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* L */ : 2 /* R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* L */;\n            while (i < len && rtl == (types[i] != 1 /* L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* R */;\n                    while (j > start && l == (types[j - 1] != 2 /* R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* R */;\n            while (i < len && rtl == (types[i] == 2 /* R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nfunction groupAt(state, pos, bias = 1) {\n    let categorize = state.charCategorizer(pos);\n    let line = state.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = findClusterBreak(line.text, linePos, false);\n    else\n        to = findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (!closestX && closest.contentEditable == \"true\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    var _a;\n    let content = view.contentDOM.getBoundingClientRect(), block;\n    let halfLine = view.defaultLineHeight / 2;\n    for (let bounced = false;;) {\n        block = view.blockAtHeight(y, content.top);\n        if (block.top > y || block.bottom < y) {\n            bias = block.top > y ? -1 : 1;\n            y = Math.min(block.bottom - halfLine, Math.max(block.top + halfLine, y));\n            if (bounced)\n                return precise ? null : 0;\n            else\n                bounced = true;\n        }\n        if (block.type == BlockType.Text)\n            break;\n        y = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n    }\n    let lineStart = block.from;\n    // Clip x to the viewport sides\n    x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length : posAtCoordsImprecise(view, content, block, x, y);\n    // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n    let doc = view.dom.ownerDocument;\n    let element = (view.root.elementFromPoint ? view.root : doc).elementFromPoint(x, y);\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && view.contentDOM.contains(element) && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n        if (doc.caretPositionFromPoint) {\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (doc.caretRangeFromPoint) {\n            let range = doc.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (browser.safari && isSuspiciousCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let pos = view.posAtCoords({ x: forward == (view.textDirection == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, view.textDirection, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return EditorSelection.cursor(startPos);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos);\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineAt(startPos, view.dom.getBoundingClientRect().top);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = dir < 0 ? line.top : line.bottom;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return EditorSelection.cursor(pos, undefined, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.pluginField(PluginField.atomicRanges);\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.from > pos.from ? EditorSelection.cursor(from, 1) : EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        // On iOS, some keys need to have their default behavior happen\n        // (after which we retroactively handle them and reset the DOM) to\n        // avoid messing up the virtual keyboard state.\n        //\n        // On Chrome Android, backspace near widgets is just completely\n        // broken, and there are no key events, so we need to handle the\n        // beforeinput event. Deleting stuff will often create a flurry of\n        // events, and interrupting it before it is done just makes\n        // subsequent events even more broken, so again, we hold off doing\n        // anything until the browser is finished with whatever it is trying\n        // to do.\n        //\n        // setPendingKey sets this, causing the DOM observer to pause for a\n        // bit, and setting an animation frame (which seems the most\n        // reliable way to detect 'browser is done flailing') to fire a fake\n        // key event and re-sync the view again.\n        this.pendingKey = undefined;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        this.compositionEndedAt = 0;\n        this.rapidCompositionStart = false;\n        this.mouseSelection = null;\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, (event) => {\n                if (type == \"keydown\" && this.keydown(view, event))\n                    return;\n                if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))\n                    return;\n                if (this.mustFlushObserver(event))\n                    view.observer.forceFlush();\n                if (this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            });\n            this.registeredEvents.push(type);\n        }\n        this.notifiedFocused = view.hasFocus;\n        this.ensureHandlers(view);\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view) {\n        let handlers = this.customHandlers = view.pluginField(domEventHandlers);\n        for (let set of handlers) {\n            for (let type in set.handlers)\n                if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                    this.registeredEvents.push(type);\n                    view.contentDOM.addEventListener(type, (event) => {\n                        if (!eventBelongsToEditor(view, event))\n                            return;\n                        if (this.runCustomHandlers(type, view, event))\n                            event.preventDefault();\n                    });\n                }\n        }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type], handled = false;\n            if (handler) {\n                try {\n                    handled = handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n                if (handled || event.defaultPrevented) {\n                    // Chrome for Android often applies a bunch of nonsensical\n                    // DOM changes after an enter press, even when\n                    // preventDefault-ed. This tries to ignore those.\n                    if (browser.android && type == \"keydown\" && event.keyCode == 13)\n                        view.observer.flushSoon();\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (this.screenKeyEvent(view, event))\n            return true;\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        let pending;\n        if (browser.ios && (pending = PendingKeys.find(key => key.keyCode == event.keyCode)) &&\n            !(event.ctrlKey || event.altKey || event.metaKey) && !event.synthetic) {\n            this.setPendingKey(view, pending);\n            return true;\n        }\n        return false;\n    }\n    setPendingKey(view, pending) {\n        this.pendingKey = pending;\n        requestAnimationFrame(() => {\n            if (!this.pendingKey)\n                return false;\n            let key = this.pendingKey;\n            this.pendingKey = undefined;\n            view.observer.processRecords();\n            let startState = view.state;\n            dispatchKey(view.contentDOM, key.key, key.keyCode);\n            if (view.state == startState)\n                view.docView.reset(true);\n        });\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && Date.now() - this.compositionEndedAt < 500) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    screenKeyEvent(view, event) {\n        let protectedTab = event.keyCode == 9 && Date.now() < this.lastEscPress + 2000;\n        if (event.keyCode == 27)\n            this.lastEscPress = Date.now();\n        else if (modifierCodes.indexOf(event.keyCode) < 0)\n            this.lastEscPress = 0;\n        return protectedTab;\n    }\n    mustFlushObserver(event) {\n        return (event.type == \"keydown\" && event.keyCode != 229) ||\n            event.type == \"compositionend\" && !browser.ios;\n    }\n    startMouseSelection(view, event, style) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = new MouseSelection(this, view, event, style);\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\nconst PendingKeys = [\n    { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n    { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n];\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nclass MouseSelection {\n    constructor(inputState, view, startEvent, style) {\n        this.inputState = inputState;\n        this.view = view;\n        this.style = style;\n        this.lastEvent = startEvent;\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.inputState.mouseSelection = null;\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (!selection.eq(this.view.state.selection) || selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\",\n                scrollIntoView: true\n            });\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = /*@__PURE__*/Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard APIall the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state } = view, changes, i = 1, text = state.toText(input);\n    let byLine = text.lines == state.selection.ranges.length;\n    let linewise = lastLinewiseCopy != null && state.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state.changeByRange(range => {\n            let line = state.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n};\nlet lastTouch = 0;\nhandlers.touchstart = (view, e) => {\n    lastTouch = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (lastTouch > Date.now() - 2000)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        if (view.root.activeElement != view.contentDOM)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(view, event, style);\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    let last = start, lastEvent = event;\n    return {\n        update(update) {\n            if (update.changes) {\n                if (start)\n                    start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n                lastEvent = null;\n            }\n        },\n        get(event, extend, multiple) {\n            let cur;\n            if (lastEvent && event.clientX == lastEvent.clientX && event.clientY == lastEvent.clientY)\n                cur = last;\n            else {\n                cur = last = queryPos(view, event);\n                lastEvent = event;\n            }\n            if (!cur || !start)\n                return startSel;\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? EditorSelection.range(from, to) : EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return EditorSelection.create([range]);\n        }\n    };\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY });\n    if (dropPos == null || !text)\n        return;\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return;\n    if (view.state.readOnly)\n        return event.preventDefault();\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return event.preventDefault();\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        doPaste(view, data.getData(\"text/plain\"));\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text && !linewise)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n};\nhandlers.focus = handlers.blur = view => {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n};\nhandlers.beforeprint = view => {\n    view.viewState.printing = true;\n    view.requestMeasure();\n    setTimeout(() => {\n        view.viewState.printing = false;\n        view.requestMeasure();\n    }, 2000);\n};\nfunction forceClearComposition(view, rapid) {\n    if (view.docView.compositionDeco.size) {\n        view.inputState.rapidCompositionStart = rapid;\n        try {\n            view.update([]);\n        }\n        finally {\n            view.inputState.rapidCompositionStart = false;\n        }\n    }\n}\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        if (view.docView.compositionDeco.size) {\n            view.observer.flush();\n            forceClearComposition(view, true);\n        }\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionFirstChange = null;\n    setTimeout(() => {\n        if (view.inputState.composing < 0)\n            forceClearComposition(view, false);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\nhandlers.beforeinput = (view, event) => {\n    var _a;\n    // Because Chrome Android doesn't fire useful key events, use\n    // beforeinput to detect backspace (and possibly enter and delete,\n    // but those usually don't even seem to fire beforeinput events at\n    // the moment) and fake a key event for it.\n    //\n    // (preventDefault on beforeinput, though supported in the spec,\n    // seems to do nothing at all on Chrome).\n    let pending;\n    if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n        view.inputState.setPendingKey(view, pending);\n        let startViewHeight = ((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0;\n        setTimeout(() => {\n            var _a;\n            // Backspacing near uneditable nodes on Chrome Android sometimes\n            // closes the virtual keyboard. This tries to crudely detect\n            // that and refocus to get it back.\n            if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                view.contentDOM.blur();\n                view.focus();\n            }\n        }, 50);\n    }\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\"];\nclass HeightOracle {\n    constructor() {\n        this.doc = Text.empty;\n        this.lineWrapping = false;\n        this.direction = Direction.LTR;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefresh(lineHeights, whiteSpace, direction) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight || (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping || this.direction != direction;\n    }\n    refresh(whiteSpace, direction, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) ||\n            this.lineWrapping != lineWrapping ||\n            this.direction != direction;\n        this.lineWrapping = lineWrapping;\n        this.direction = direction;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element.\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType = /*@__PURE__*/(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\nreturn QueryType})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-4;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Outdated */ : 0) | (this.flags & ~2 /* Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(_from, _to, doc, top, offset, f) {\n        f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from);\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let line = new HeightMapText(len, measured.heights[measured.index++]);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            oracle.heightChanged = true;\n            return HeightMap.of(nodes);\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid || this.right.height == 0 ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop || this.right.height == 0 : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? Math.max(0, deco.widget.estimatedHeight) : 0;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let left = Math.max(0, rect.left), right = Math.min(innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(innerHeight, rect.bottom);\n    for (let parent = dom.parentNode; parent;) { // (Cast to any because TypeScript is useless with Node types)\n        if (parent.nodeType == 1) {\n            let style = window.getComputedStyle(parent);\n            if ((parent.scrollHeight > parent.clientHeight || parent.scrollWidth > parent.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = parent.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? parent.offsetParent : parent.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: right - rect.left,\n        top: top - (rect.top + paddingTop), bottom: bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ScrollTarget {\n    constructor(range, center = false) {\n        this.range = range;\n        this.center = center;\n    }\n    map(changes) {\n        return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.center);\n    }\n}\nclass ViewState {\n    constructor(state) {\n        this.state = state;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentWidth = 0;\n        this.heightOracle = new HeightOracle;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTarget = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        this.heightMap = HeightMap.empty().applyChanges(state.facet(decorations), Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineAt(pos, 0);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    update(update, scrollTarget = null) {\n        let prev = this.state;\n        this.state = update.state;\n        let newDeco = this.state.facet(decorations);\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(update.startState.facet(decorations), newDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(newDeco, prev.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n            !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTarget);\n        this.viewport = viewport;\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 15000 /* MinViewPort */)\n            this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        update.flags |= this.computeVisibleRanges();\n        if (scrollTarget)\n            this.scrollTarget = scrollTarget;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc)\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(docView, repeated) {\n        let dom = docView.dom, whiteSpace = \"\", direction = Direction.LTR;\n        let result = 0;\n        if (!repeated) {\n            // Vertical padding\n            let style = window.getComputedStyle(dom);\n            whiteSpace = style.whiteSpace, direction = (style.direction == \"rtl\" ? Direction.RTL : Direction.LTR);\n            let paddingTop = parseInt(style.paddingTop) || 0, paddingBottom = parseInt(style.paddingBottom) || 0;\n            if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n                result |= 8 /* Geometry */;\n                this.paddingTop = paddingTop;\n                this.paddingBottom = paddingBottom;\n            }\n        }\n        // Pixel viewport\n        let pixelViewport = this.printing ? { top: -1e8, bottom: 1e8, left: -1e8, right: 1e8 } : visiblePixelRange(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        this.inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (!this.inView)\n            return 0;\n        let lineHeights = docView.measureVisibleLineHeights();\n        let refresh = false, bias = 0, oracle = this.heightOracle;\n        if (!repeated) {\n            let contentWidth = docView.dom.clientWidth;\n            if (oracle.mustRefresh(lineHeights, whiteSpace, direction) ||\n                oracle.lineWrapping && Math.abs(contentWidth - this.contentWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = docView.measureTextSize();\n                refresh = oracle.refresh(whiteSpace, direction, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    docView.minWidth = 0;\n                    result |= 8 /* Geometry */;\n                }\n            }\n            if (this.contentWidth != contentWidth) {\n                this.contentWidth = contentWidth;\n                result |= 8 /* Geometry */;\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n        }\n        oracle.heightChanged = false;\n        this.heightMap = this.heightMap.updateHeight(oracle, 0, refresh, new MeasuredHeights(this.viewport.from, lineHeights));\n        if (oracle.heightChanged)\n            result |= 2 /* Height */;\n        if (!this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to))\n            this.viewport = this.getViewport(bias, this.scrollTarget);\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 15000 /* MinViewPort */)\n            this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps));\n        result |= this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top, 0); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom, 0); }\n    getViewport(bias, scrollTarget) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTarget is given, make sure the viewport includes that position\n        if (scrollTarget) {\n            let { head } = scrollTarget.range, viewHeight = visibleBottom - visibleTop;\n            if (head < viewport.from || head > viewport.to) {\n                let block = map.lineAt(head, QueryType.ByPos, doc, 0, 0), topPos;\n                if (scrollTarget.center)\n                    topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                else if (head < viewport.from)\n                    topPos = block.top;\n                else\n                    topPos = block.bottom - viewHeight;\n                viewport = new Viewport(map.lineAt(topPos - 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* MinCoverMargin */, Math.min(-bias, 250 /* MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* MinCoverMargin */, Math.min(bias, 250 /* MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* Margin */ && bottom < visibleBottom + 2 * 1000 /* Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current) {\n        let gaps = [];\n        // This won't work at all in predominantly right-to-left text.\n        if (this.heightOracle.direction != Direction.LTR)\n            return gaps;\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, line => {\n            if (line.length < 10000 /* Margin */)\n                return;\n            let structure = lineStructure(line.from, line.to, this.state);\n            if (structure.total < 10000 /* Margin */)\n                return;\n            let viewFrom, viewTo;\n            if (this.heightOracle.lineWrapping) {\n                if (line.from != this.viewport.from)\n                    viewFrom = line.from;\n                else\n                    viewFrom = findPosition(structure, (this.visibleTop - line.top) / line.height);\n                if (line.to != this.viewport.to)\n                    viewTo = line.to;\n                else\n                    viewTo = findPosition(structure, (this.visibleBottom - line.top) / line.height);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                viewFrom = findPosition(structure, this.pixelViewport.left / totalWidth);\n                viewTo = findPosition(structure, this.pixelViewport.right / totalWidth);\n            }\n            let sel = this.state.selection.main;\n            // Make sure the gap doesn't cover a selection end\n            if (sel.from <= viewFrom && sel.to >= line.from)\n                viewFrom = sel.from;\n            if (sel.from <= line.to && sel.to >= viewTo)\n                viewTo = sel.to;\n            let gapTo = viewFrom - 10000 /* Margin */, gapFrom = viewTo + 10000 /* Margin */;\n            if (gapTo > line.from + 5000 /* HalfMargin */)\n                gaps.push(find(current, gap => gap.from == line.from && gap.to > gapTo - 5000 /* HalfMargin */ && gap.to < gapTo + 5000 /* HalfMargin */) ||\n                    new LineGap(line.from, gapTo, this.gapSize(line, gapTo, true, structure)));\n            if (gapFrom < line.to - 5000 /* HalfMargin */)\n                gaps.push(find(current, gap => gap.to == line.to && gap.from > gapFrom - 5000 /* HalfMargin */ &&\n                    gap.from < gapFrom + 5000 /* HalfMargin */) ||\n                    new LineGap(gapFrom, line.to, this.gapSize(line, gapFrom, false, structure)));\n        });\n        return gaps;\n    }\n    gapSize(line, pos, start, structure) {\n        if (this.heightOracle.lineWrapping) {\n            let height = line.height * findFraction(structure, pos);\n            return start ? height : line.height - height;\n        }\n        else {\n            let ratio = findFraction(structure, pos);\n            return structure.total * this.heightOracle.charWidth * (start ? ratio : 1 - ratio);\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n        }\n    }\n    computeVisibleRanges() {\n        let deco = this.state.facet(decorations);\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        let changed = ranges.length != this.visibleRanges.length ||\n            this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);\n        this.visibleRanges = ranges;\n        return changed ? 4 /* Viewport */ : 0;\n    }\n    lineAt(pos, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    lineAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height, editorTop), QueryType.ByHeight, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    blockAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height, editorTop), this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    forEachLine(from, to, f, editorTop) {\n        editorTop += this.paddingTop;\n        return this.heightMap.forEachLine(from, to, this.state.doc, editorTop, 0, this.scaler.scale == 1 ? f : b => f(scaleBlock(b, this.scaler, editorTop)));\n    }\n    get contentHeight() {\n        return this.domHeight + this.paddingTop + this.paddingBottom;\n    }\n    get domHeight() {\n        return this.scaler.toDOM(this.heightMap.height, this.paddingTop);\n    }\n}\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\nfunction lineStructure(from, to, state) {\n    let ranges = [], pos = from, total = 0;\n    RangeSet.spans(state.facet(decorations), from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale + top;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale + top;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler, top) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top, top), bBottom = scaler.toDOM(block.bottom, top);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler, top)) : block.type);\n}\n\nconst theme = /*@__PURE__*/Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = /*@__PURE__*/Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = /*@__PURE__*/StyleModule.newName(), baseLightID = /*@__PURE__*/StyleModule.newName(), baseDarkID = /*@__PURE__*/StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme = /*@__PURE__*/buildTheme(\".\" + baseThemeID, {\n    \"&.cm-editor\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        minHeight: \"100%\",\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\"\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\"\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 4px\"\n    },\n    \".cm-selectionLayer\": {\n        zIndex: -1,\n        contain: \"size style\"\n    },\n    \".cm-selectionBackground\": {\n        position: \"absolute\",\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        zIndex: 100,\n        contain: \"size style\",\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \".cm-cursor\": {\n        position: \"absolute\",\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#f3f9ff\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#223039\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\"\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"3px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view, onChange, onScrollChanged) {\n        this.view = view;\n        this.onChange = onChange;\n        this.onScrollChanged = onScrollChanged;\n        this.active = false;\n        this.ignoreSelection = new DOMSelection;\n        this.delayedFlush = -1;\n        this.queue = [];\n        this.lastFlush = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.intersecting = false;\n        this.gapIntersection = null;\n        this.gaps = [];\n        // Used to work around a Safari Selection/shadow DOM bug (#414)\n        this._selectionRange = null;\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            this._selectionRange = null;\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.start();\n        this.onScroll = this.onScroll.bind(this);\n        window.addEventListener(\"scroll\", this.onScroll);\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0 != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n            this.gapIntersection = new IntersectionObserver(entries => {\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                    this.onScrollChanged(document.createEvent(\"Event\"));\n            }, {});\n        }\n        this.listenForScroll();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush();\n        this.onScrollChanged(e);\n    }\n    updateGaps(gaps) {\n        if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n            this.gapIntersection.disconnect();\n            for (let gap of gaps)\n                this.gapIntersection.observe(gap);\n            this.gaps = gaps;\n        }\n    }\n    onSelectionChange(event) {\n        if (this.lastFlush < Date.now() - 50)\n            this._selectionRange = null;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event))\n            return;\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // (Selection.isCollapsed isn't reliable on IE)\n        if (browser.ie && browser.ie_version <= 11 && !view.state.selection.main.empty &&\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush();\n    }\n    get selectionRange() {\n        if (!this._selectionRange) {\n            let { root } = this.view, sel = getSelection(root);\n            // The Selection object is broken in shadow roots in Safari. See\n            // https://github.com/codemirror/codemirror.next/issues/414\n            if (browser.safari && root.nodeType == 11 && deepActiveElement() == this.view.contentDOM)\n                sel = safariSelectionRangeHack(this.view) || sel;\n            this._selectionRange = sel;\n        }\n        return this._selectionRange;\n    }\n    setSelectionRange(anchor, head) {\n        var _a;\n        if (!((_a = this._selectionRange) === null || _a === void 0 ? void 0 : _a.type))\n            this._selectionRange = { anchorNode: anchor.node, anchorOffset: anchor.offset,\n                focusNode: head.node, focusOffset: head.offset };\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        this.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        this.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    clearSelection() {\n        this.ignoreSelection.set(this.selectionRange);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.observer.takeRecords();\n        this.queue.length = 0;\n        this.clearSelection();\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = window.setTimeout(() => { this.delayedFlush = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            window.clearTimeout(this.delayedFlush);\n            this.delayedFlush = -1;\n            this.flush();\n        }\n    }\n    processRecords() {\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        return { from, to, typeOver };\n    }\n    // Apply pending changes, if any\n    flush() {\n        // Completely hold off flushing when pending keys are setthe code\n        // managing those will make sure processRecords is called and the\n        // view is resynchronized after\n        if (this.delayedFlush >= 0 || this.view.inputState.pendingKey)\n            return;\n        this.lastFlush = Date.now();\n        let { from, to, typeOver } = this.processRecords();\n        let selection = this.selectionRange;\n        let newSel = !this.ignoreSelection.eq(selection) && hasSelection(this.dom, selection);\n        if (from < 0 && !newSel)\n            return;\n        let startState = this.view.state;\n        this.onChange(from, to, typeOver);\n        // The view wasn't updated\n        if (this.view.state == startState)\n            this.view.docView.reset(newSel);\n        this.clearSelection();\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.dirty |= 4 /* Attrs */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this.intersection)\n            this.intersection.disconnect();\n        if (this.gapIntersection)\n            this.gapIntersection.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        window.removeEventListener(\"scroll\", this.onScroll);\n        clearTimeout(this.parentCheck);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at itusing `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    document.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\nfunction applyDOMChange(view, start, end, typeOver) {\n    let change, newSel;\n    let sel = view.state.selection.main, bounds;\n    if (start > -1 && !view.state.readOnly && (bounds = view.docView.domBoundsAround(start, end, 0))) {\n        let { from, to } = bounds;\n        let selPoints = view.docView.impreciseHead || view.docView.impreciseAnchor ? [] : selectionPoints(view);\n        let reader = new DOMReader(selPoints, view);\n        reader.readRange(bounds.startDOM, bounds.endDOM);\n        newSel = selectionFromPoints(selPoints, from);\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && reader.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.sliceDoc(from, to), reader.text, preferredPos - from, preferredSide);\n        if (diff)\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: view.state.toText(reader.text.slice(diff.from, diff.toB)) };\n    }\n    else if (view.hasFocus || !view.state.facet(editable)) {\n        let domSel = view.observer.selectionRange;\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n            !contains(view.contentDOM, domSel.focusNode)\n            ? view.state.selection.main.head\n            : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n        let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n            !contains(view.contentDOM, domSel.anchorNode)\n            ? view.state.selection.main.anchor\n            : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n        if (head != sel.head || anchor != sel.anchor)\n            newSel = EditorSelection.single(anchor, head);\n    }\n    if (!change && !newSel)\n        return;\n    // Heuristic to notice typing over a selected character\n    if (!change && typeOver && !sel.empty && newSel && newSel.main.empty)\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    // If the change is inside the selection and covers most of it,\n    // assume it is a selection replace (with identical characters at\n    // the start/end not included in the diff)\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    if (change) {\n        let startState = view.state;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events.\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46)))) {\n            return;\n        }\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length)) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) +\n                after));\n        }\n        else {\n            let changes = startState.changes(change);\n            tr = {\n                changes,\n                selection: newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                    ? startState.selection.replaceRange(newSel.main) : undefined\n            };\n        }\n        let userEvent = \"input.type\";\n        if (view.composing) {\n            userEvent += \".compose\";\n            if (view.inputState.compositionFirstChange) {\n                userEvent += \".start\";\n                view.inputState.compositionFirstChange = false;\n            }\n        }\n        view.dispatch(tr, { scrollIntoView: true, userEvent });\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nclass DOMReader {\n    constructor(points, view) {\n        this.points = points;\n        this.view = view;\n        this.text = \"\";\n        this.lineBreak = view.state.lineBreak;\n    }\n    readRange(start, end) {\n        if (!start)\n            return;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if (view && nextView ? view.breakAfter :\n                (view ? view.breakAfter : isBlockElement(cur)) ||\n                    (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore)))\n                this.text += this.lineBreak;\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        let text;\n        if (fromView != null)\n            text = fromView.sliceString(0, undefined, this.lineBreak);\n        else if (node.nodeType == 3)\n            text = node.nodeValue;\n        else if (node.nodeName == \"BR\")\n            text = node.nextSibling ? this.lineBreak : \"\";\n        else if (node.nodeType == 1)\n            this.readRange(node.firstChild, null);\n        if (text != null) {\n            this.findPointIn(node, text.length);\n            this.text += text;\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. This drops one of those.\n            if (browser.chrome && this.view.inputState.lastKeyCode == 13 && !node.nextSibling && /\\n\\n$/.test(this.text))\n                this.text = this.text.slice(0, -1);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointIn(node, maxLen) {\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, maxLen);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle  Updating  Idle (unchecked)  Measuring  Idle\n//                                               \n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll usually want to put `view.dom` into\n    your document after creating a view, so that the user can see\n    it.\n    */\n    constructor(\n    /**\n    Initialization options.\n    */\n    config = {}) {\n        this.plugins = [];\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        this.destroyed = false;\n        /**\n        @internal\n        */\n        this.updateState = 2 /* Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: absolute; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this.root = (config.root || getRoot(config.parent) || document);\n        this.viewState = new ViewState(config.state || EditorState.create());\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n        this.observer = new DOMObserver(this, (from, to, typeOver) => {\n            applyDOMChange(this, from, to, typeOver);\n        }, event => {\n            this.inputState.runScrollHandlers(this, event);\n            if (this.observer.intersecting)\n                this.measure();\n        });\n        this.inputState = new InputState(this);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* Idle */;\n        ensureGlobalHandler();\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method).\n    */\n    get composing() { return this.inputState.composing > 0; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, update;\n        let state = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state = tr.state;\n        }\n        if (this.destroyed) {\n            this.viewState.state = state;\n            return;\n        }\n        // When the phrases change, redraw the editor\n        if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))\n            return this.setState(state);\n        update = new ViewUpdate(this, state, transactions);\n        let scrollTarget = null;\n        try {\n            this.updateState = 2 /* Updating */;\n            for (let tr of transactions) {\n                if (scrollTarget)\n                    scrollTarget = scrollTarget.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollTarget = new ScrollTarget(main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                }\n                for (let e of tr.effects) {\n                    if (e.is(scrollTo))\n                        scrollTarget = new ScrollTarget(e.value);\n                    else if (e.is(centerOn))\n                        scrollTarget = new ScrollTarget(e.value, true);\n                }\n            }\n            this.viewState.update(update, scrollTarget);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            this.updateAttrs();\n            this.showAnnouncements(transactions);\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        if (redrawn || scrollTarget || this.viewState.mustEnforceCursorAssoc)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        if (this.destroyed) {\n            this.viewState.state = newState;\n            return;\n        }\n        this.updateState = 2 /* Updating */;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.inputState.ensureHandlers(this);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i] = this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.destroyed)\n            return;\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = -1; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.flush();\n        let updated = null;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* Measuring */;\n                let oldViewport = this.viewport;\n                let changed = this.viewState.measure(this.docView, i > 0);\n                if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                    break;\n                if (i > 5) {\n                    console.warn(\"Viewport failed to stabilize\");\n                    break;\n                }\n                let measuring = [];\n                // Only run measure requests in this cycle when the viewport didn't change\n                if (!(changed & 4 /* Viewport */))\n                    [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = new ViewUpdate(this, this.state);\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                }\n                this.updateAttrs();\n                if (changed)\n                    this.docView.update(update);\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            measuring[i].write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.scrollTarget) {\n                    this.docView.scrollIntoView(this.viewState.scrollTarget);\n                    this.viewState.scrollTarget = null;\n                }\n                if (this.viewport.from == oldViewport.from && this.viewport.to == oldViewport.to && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.measureScheduled = -1;\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = combineAttrs(this.state.facet(editorAttributes), {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n        this.editorAttrs = editorAttrs;\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            translate: \"no\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : contentEditablePlainTextSupported() ? \"plaintext-only\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        combineAttrs(this.state.facet(contentAttributes), contentAttrs);\n        updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n        this.contentAttrs = contentAttrs;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        StyleModule.mount(this.root, this.styleModules.concat(baseTheme).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Collect all values provided by the active plugins for a given\n    field.\n    */\n    pluginField(field) {\n        let result = [];\n        for (let plugin of this.plugins)\n            plugin.update(this).takeField(field, result);\n        return result;\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        for (let inst of this.plugins)\n            if (inst.spec == plugin)\n                return inst.update(this).value;\n        return null;\n    }\n    /**\n    Find the line or block widget at the given vertical position.\n    \n    By default, this position is interpreted as a screen position,\n    meaning `docTop` is set to the DOM top position of the editor\n    content (forcing a layout). You can pass a different `docTop`\n    valuefor example 0 to interpret `height` as a document-relative\n    position, or a precomputed document top\n    (`view.contentDOM.getBoundingClientRect().top`) to limit layout\n    queries.\n    */\n    blockAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.blockAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find information for the visual line (see\n    [`visualLineAt`](https://codemirror.net/6/docs/ref/#view.EditorView.visualLineAt)) at the given\n    vertical position. The resulting block info might hold another\n    array of block info structs in its `type` field if this line\n    consists of more than one block.\n    \n    Defaults to treating `height` as a screen position. See\n    [`blockAtHeight`](https://codemirror.net/6/docs/ref/#view.EditorView.blockAtHeight) for the\n    interpretation of the `docTop` parameter.\n    */\n    visualLineAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.lineAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Iterate over the height information of the visual lines in the\n    viewport. The heights of lines are reported relative to the\n    given document top, which defaults to the screen position of the\n    document (forcing a layout).\n    */\n    viewportLines(f, docTop) {\n        let { from, to } = this.viewport;\n        this.viewState.forEachLine(from, to, f, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find the extent and height of the visual line (a range delimited\n    on both sides by either non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^range)\n    line breaks, or the start/end of the document) at the given position.\n    \n    Vertical positions are computed relative to the `docTop`\n    argument, which defaults to 0 for this method. You can pass\n    `view.contentDOM.getBoundingClientRect().top` here to get screen\n    coordinates.\n    */\n    visualLineAt(pos, docTop = 0) {\n        return this.viewState.lineAt(pos, docTop);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. Motion in\n    bidirectional text is in visual order, in the editor's [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). When the start\n    position was the last one on the line, the returned position\n    will be across the line break. If there is no further line, the\n    original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    // FIXME remove on next major version\n    scrollPosIntoView(pos) {\n        this.dispatch({ effects: scrollTo.of(EditorSelection.cursor(pos)) });\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor.\n    */\n    get textDirection() { return this.viewState.heightOracle.direction; }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirection;\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, this.textDirection);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (document.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.plugins = [];\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.destroyed = true;\n    }\n    /**\n    Facet that can be used to add DOM event handlers. The value\n    should be an object mapping event names to handler functions. The\n    first such function to return true will be assumed to have handled\n    that event, and no other handlers or built-in behavior will be\n    activated for it.\n    These are registered on the [content\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except for `scroll`\n    handlers, which will be called any time the editor's [scroll\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of its parent nodes\n    is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)to which the scope class will be\n    addedneed to be explicitly differentiated by adding an `&` to\n    the selector for that elementfor example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return Prec.fallback(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n}\n/**\nEffect that can be [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a\ntransaction to make it scroll the given range into view.\n*/\nEditorView.scrollTo = scrollTo;\n/**\nEffect that makes the editor scroll the given range to the\ncenter of the visible view.\n*/\nEditorView.centerOn = centerOn;\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot longer have its `contenteditable` attribute set. (Note that\nthis doesn't affect API calls that change the editor content,\neven when those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds\na new range to the existing selection or replaces it entirely.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. See also [view\nplugins](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), which have a separate\nmechanism for providing decorations.\n*/\nEditorView.decorations = decorations;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = /*@__PURE__*/EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = /*@__PURE__*/StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nfunction ensureTop(given, dom) {\n    return given == null ? dom.getBoundingClientRect().top : given;\n}\nlet resizeDebounce = -1;\nfunction ensureGlobalHandler() {\n    window.addEventListener(\"resize\", () => {\n        if (resizeDebounce == -1)\n            resizeDebounce = setTimeout(handleResize, 50);\n    });\n}\nfunction handleResize() {\n    resizeDebounce = -1;\n    let found = document.querySelectorAll(\".cm-content\");\n    for (let i = 0; i < found.length; i++) {\n        let docView = ContentView.get(found[i]);\n        if (docView)\n            docView.editorView.requestMeasure();\n    }\n}\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\n\nconst currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = /*@__PURE__*/EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n});\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = /*@__PURE__*/Facet.define({ enables: handleKeyEvents });\nconst Keymaps = /*@__PURE__*/new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    commands: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, commands: [] });\n        binding.commands.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of b.scope ? b.scope.split(\" \") : [\"editor\"]) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = keyName(event), isChar = name.length == 1 && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.commands)\n                if (cmd(view))\n                    return true;\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n    }\n    return fallthrough;\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        drawSelectionPlugin,\n        hideNativeSelection\n    ];\n}\nclass Piece {\n    constructor(left, top, width, height, className) {\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n        this.className = className;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width >= 0)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nconst drawSelectionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.selectionLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.selectionLayer.className = \"cm-selectionLayer\";\n        this.selectionLayer.setAttribute(\"aria-hidden\", \"true\");\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = this.view.state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n    }\n    update(update) {\n        let confChanged = update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n        if (confChanged || update.selectionSet || update.geometryChanged || update.viewportChanged)\n            this.view.requestMeasure(this.measureReq);\n        if (update.transactions.some(tr => tr.scrollIntoView))\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        if (confChanged)\n            this.setBlinkRate();\n    }\n    readPos() {\n        let { state } = this.view, conf = state.facet(selectionConfig);\n        let rangePieces = state.selection.ranges.map(r => r.empty ? [] : measureRange(this.view, r)).reduce((a, b) => a.concat(b));\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let piece = measureCursor(this.view, r, prim);\n                if (piece)\n                    cursors.push(piece);\n            }\n        }\n        return { rangePieces, cursors };\n    }\n    drawSel({ rangePieces, cursors }) {\n        if (rangePieces.length != this.rangePieces.length || rangePieces.some((p, i) => !p.eq(this.rangePieces[i]))) {\n            this.selectionLayer.textContent = \"\";\n            for (let p of rangePieces)\n                this.selectionLayer.appendChild(p.draw());\n            this.rangePieces = rangePieces;\n        }\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.selectionLayer.remove();\n        this.cursorLayer.remove();\n    }\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = /*@__PURE__*/Prec.override(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.visualLineAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction measureRange(view, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft);\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && blockAt(view, (top.bottom + bottom.top) / 2).type == BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new Piece(left - base.left, top - base.top, right - left, bottom - top, \"cm-selectionBackground\");\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction measureCursor(view, cursor, primary) {\n    let pos = view.coordsAtPos(cursor.head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    return new Piece(pos.left - base.left, pos.top - base.top, -1, pos.bottom - pos.top, primary ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\");\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, pos + m.index + m[0].length, m);\n    }\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        let { regexp, decoration, boundary } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        this.getDeco = typeof decoration == \"function\" ? decoration : () => decoration;\n        this.boundary = boundary;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges)\n            iterMatches(view.state.doc, this.regexp, from, to, (a, b, m) => build.add(a, b, this.getDeco(m, view, a)));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from) {\n                        let pos = m.index + fromLine.from;\n                        ranges.push(this.getDeco(m, view, pos).range(pos, pos + m[0].length));\n                    }\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, to, m) => ranges.push(this.getDeco(m, view, from).range(from, to)));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = /*@__PURE__*/new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8237: \"left-to-right override\",\n    8238: \"right-to-left override\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let config = combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.height = -1;\n        this.measure = {\n            read: view => Math.max(0, view.scrollDOM.clientHeight - view.defaultLineHeight),\n            write: (value, view) => {\n                if (Math.abs(value - this.height) > 1) {\n                    this.height = value;\n                    view.contentDOM.style.paddingBottom = value + \"px\";\n                }\n            }\n        };\n        view.requestMeasure(this.measure);\n    }\n    update(update) {\n        if (update.geometryChanged)\n            update.view.requestMeasure(this.measure);\n    }\n});\n/**\nReturns a plugin that makes sure the content has a bottom margin\nequivalent to the height of the editor, minus one line height, so\nthat every line in the document can be scrolled to the top of the\neditor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return plugin;\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = /*@__PURE__*/Decoration.line({ class: \"cm-activeLine\" });\nconst activeLineHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            if (!r.empty)\n                return Decoration.none;\n            let line = view.visualLineAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholdera piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexport { BidiSpan, BlockInfo, BlockType, Decoration, Direction, EditorView, MatchDecorator, PluginField, PluginFieldProvider, ViewPlugin, ViewUpdate, WidgetType, __test, drawSelection, highlightActiveLine, highlightSpecialChars, keymap, logException, placeholder, runScopeHandlers, scrollPastEnd };\n","import { NodeProp, Tree, TreeFragment, Parser, NodeType } from '@lezer/common';\nimport { Facet, EditorState, StateEffect, StateField } from '@codemirror/state';\nimport { ViewPlugin } from '@codemirror/view';\nimport { countColumn } from '@codemirror/text';\n\n/**\nNode prop stored in a grammar's top syntax node to provide the\nfacet that stores language data for that language.\n*/\nconst languageDataProp = /*@__PURE__*/new NodeProp();\n/**\nHelper function to define a facet (to be added to the top syntax\nnode(s) for a language via\n[`languageDataProp`](https://codemirror.net/6/docs/ref/#language.languageDataProp)), that will be\nused to associate language data with the language. You\nprobably only need this when subclassing\n[`Language`](https://codemirror.net/6/docs/ref/#language.Language).\n*/\nfunction defineLanguageFacet(baseData) {\n    return Facet.define({\n        combine: baseData ? values => values.concat(baseData) : undefined\n    });\n}\n/**\nA language object manages parsing and per-language\n[metadata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt). Parse data is\nmanaged as a [Lezer](https://lezer.codemirror.net) tree. You'll\nwant to subclass this class for custom parsers, or use the\n[`LRLanguage`](https://codemirror.net/6/docs/ref/#language.LRLanguage) or\n[`StreamLanguage`](https://codemirror.net/6/docs/ref/#stream-parser.StreamLanguage) abstractions for\n[Lezer](https://lezer.codemirror.net/) or stream parsers.\n*/\nclass Language {\n    /**\n    Construct a language object. You usually don't need to invoke\n    this directly. But when you do, make sure you use\n    [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet) to create\n    the first argument.\n    */\n    constructor(\n    /**\n    The [language data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) data\n    facet used for this language.\n    */\n    data, parser, \n    /**\n    The node type of the top node of trees produced by this parser.\n    */\n    topNode, extraExtensions = []) {\n        this.data = data;\n        this.topNode = topNode;\n        // Kludge to define EditorState.tree as a debugging helper,\n        // without the EditorState package actually knowing about\n        // languages and lezer trees.\n        if (!EditorState.prototype.hasOwnProperty(\"tree\"))\n            Object.defineProperty(EditorState.prototype, \"tree\", { get() { return syntaxTree(this); } });\n        this.parser = parser;\n        this.extension = [\n            language.of(this),\n            EditorState.languageData.of((state, pos, side) => state.facet(languageDataFacetAt(state, pos, side)))\n        ].concat(extraExtensions);\n    }\n    /**\n    Query whether this language is active at the given position.\n    */\n    isActiveAt(state, pos, side = -1) {\n        return languageDataFacetAt(state, pos, side) == this.data;\n    }\n    /**\n    Find the document regions that were parsed using this language.\n    The returned regions will _include_ any nested languages rooted\n    in this language, when those exist.\n    */\n    findRegions(state) {\n        let lang = state.facet(language);\n        if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)\n            return [{ from: 0, to: state.doc.length }];\n        if (!lang || !lang.allowsNesting)\n            return [];\n        let result = [];\n        let explore = (tree, from) => {\n            if (tree.prop(languageDataProp) == this.data) {\n                result.push({ from, to: from + tree.length });\n                return;\n            }\n            let mount = tree.prop(NodeProp.mounted);\n            if (mount) {\n                if (mount.tree.prop(languageDataProp) == this.data) {\n                    if (mount.overlay)\n                        for (let r of mount.overlay)\n                            result.push({ from: r.from + from, to: r.to + from });\n                    else\n                        result.push({ from: from, to: from + tree.length });\n                    return;\n                }\n                else if (mount.overlay) {\n                    let size = result.length;\n                    explore(mount.tree, mount.overlay[0].from + from);\n                    if (result.length > size)\n                        return;\n                }\n            }\n            for (let i = 0; i < tree.children.length; i++) {\n                let ch = tree.children[i];\n                if (ch instanceof Tree)\n                    explore(ch, tree.positions[i] + from);\n            }\n        };\n        explore(syntaxTree(state), 0);\n        return result;\n    }\n    /**\n    Indicates whether this language allows nested languages. The\n    default implementation returns true.\n    */\n    get allowsNesting() { return true; }\n}\n/**\n@internal\n*/\nLanguage.setState = /*@__PURE__*/StateEffect.define();\nfunction languageDataFacetAt(state, pos, side) {\n    let topLang = state.facet(language);\n    if (!topLang)\n        return null;\n    let facet = topLang.data;\n    if (topLang.allowsNesting) {\n        for (let node = syntaxTree(state).topNode; node; node = node.enter(pos, side, true, false))\n            facet = node.type.prop(languageDataProp) || facet;\n    }\n    return facet;\n}\n/**\nA subclass of [`Language`](https://codemirror.net/6/docs/ref/#language.Language) for use with Lezer\n[LR parsers](https://lezer.codemirror.net/docs/ref#lr.LRParser)\nparsers.\n*/\nclass LRLanguage extends Language {\n    constructor(data, parser) {\n        super(data, parser, parser.topNode);\n        this.parser = parser;\n    }\n    /**\n    Define a language from a parser.\n    */\n    static define(spec) {\n        let data = defineLanguageFacet(spec.languageData);\n        return new LRLanguage(data, spec.parser.configure({\n            props: [languageDataProp.add(type => type.isTop ? data : undefined)]\n        }));\n    }\n    /**\n    Create a new instance of this language with a reconfigured\n    version of its parser.\n    */\n    configure(options) {\n        return new LRLanguage(this.data, this.parser.configure(options));\n    }\n    get allowsNesting() { return this.parser.wrappers.length > 0; } // FIXME\n}\n/**\nGet the syntax tree for a state, which is the current (possibly\nincomplete) parse tree of active [language](https://codemirror.net/6/docs/ref/#language.Language),\nor the empty tree if there is no language available.\n*/\nfunction syntaxTree(state) {\n    let field = state.field(Language.state, false);\n    return field ? field.tree : Tree.empty;\n}\n/**\nTry to get a parse tree that spans at least up to `upto`. The\nmethod will do at most `timeout` milliseconds of work to parse\nup to that point if the tree isn't already available.\n*/\nfunction ensureSyntaxTree(state, upto, timeout = 50) {\n    var _a;\n    let parse = (_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context;\n    return !parse ? null : parse.treeLen >= upto || parse.work(timeout, upto) ? parse.tree : null;\n}\n// Lezer-style Input object for a Text document.\nclass DocInput {\n    constructor(doc, length = doc.length) {\n        this.doc = doc;\n        this.length = length;\n        this.cursorPos = 0;\n        this.string = \"\";\n        this.cursor = doc.iter();\n    }\n    syncTo(pos) {\n        this.string = this.cursor.next(pos - this.cursorPos).value;\n        this.cursorPos = pos + this.string.length;\n        return this.cursorPos - this.string.length;\n    }\n    chunk(pos) {\n        this.syncTo(pos);\n        return this.string;\n    }\n    get lineChunks() { return true; }\n    read(from, to) {\n        let stringStart = this.cursorPos - this.string.length;\n        if (from < stringStart || to >= this.cursorPos)\n            return this.doc.sliceString(from, to);\n        else\n            return this.string.slice(from - stringStart, to - stringStart);\n    }\n}\nlet currentContext = null;\n/**\nA parse context provided to parsers working on the editor content.\n*/\nclass ParseContext {\n    /**\n    @internal\n    */\n    constructor(parser, \n    /**\n    The current editor state.\n    */\n    state, \n    /**\n    Tree fragments that can be reused by incremental re-parses.\n    */\n    fragments = [], \n    /**\n    @internal\n    */\n    tree, treeLen, \n    /**\n    The current editor viewport (or some overapproximation\n    thereof). Intended to be used for opportunistically avoiding\n    work (in which case\n    [`skipUntilInView`](https://codemirror.net/6/docs/ref/#language.ParseContext.skipUntilInView)\n    should be called to make sure the parser is restarted when the\n    skipped region becomes visible).\n    */\n    viewport, \n    /**\n    @internal\n    */\n    skipped, \n    /**\n    This is where skipping parsers can register a promise that,\n    when resolved, will schedule a new parse. It is cleared when\n    the parse worker picks up the promise. @internal\n    */\n    scheduleOn) {\n        this.parser = parser;\n        this.state = state;\n        this.fragments = fragments;\n        this.tree = tree;\n        this.treeLen = treeLen;\n        this.viewport = viewport;\n        this.skipped = skipped;\n        this.scheduleOn = scheduleOn;\n        this.parse = null;\n        /**\n        @internal\n        */\n        this.tempSkipped = [];\n    }\n    startParse() {\n        return this.parser.startParse(new DocInput(this.state.doc), this.fragments);\n    }\n    /**\n    @internal\n    */\n    work(time, upto) {\n        if (upto != null && upto >= this.state.doc.length)\n            upto = undefined;\n        if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {\n            this.takeTree();\n            return true;\n        }\n        return this.withContext(() => {\n            var _a;\n            if (!this.parse)\n                this.parse = this.startParse();\n            if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) &&\n                upto < this.state.doc.length)\n                this.parse.stopAt(upto);\n            let endTime = Date.now() + time;\n            for (;;) {\n                let done = this.parse.advance();\n                if (done) {\n                    this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));\n                    this.treeLen = (_a = this.parse.stoppedAt) !== null && _a !== void 0 ? _a : this.state.doc.length;\n                    this.tree = done;\n                    this.parse = null;\n                    if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))\n                        this.parse = this.startParse();\n                    else\n                        return true;\n                }\n                if (Date.now() > endTime)\n                    return false;\n            }\n        });\n    }\n    /**\n    @internal\n    */\n    takeTree() {\n        let pos, tree;\n        if (this.parse && (pos = this.parse.parsedPos) > this.treeLen) {\n            if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)\n                this.parse.stopAt(pos);\n            this.withContext(() => { while (!(tree = this.parse.advance())) { } });\n            this.tree = tree;\n            this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));\n            this.parse = null;\n        }\n    }\n    withContext(f) {\n        let prev = currentContext;\n        currentContext = this;\n        try {\n            return f();\n        }\n        finally {\n            currentContext = prev;\n        }\n    }\n    withoutTempSkipped(fragments) {\n        for (let r; r = this.tempSkipped.pop();)\n            fragments = cutFragments(fragments, r.from, r.to);\n        return fragments;\n    }\n    /**\n    @internal\n    */\n    changes(changes, newState) {\n        let { fragments, tree, treeLen, viewport, skipped } = this;\n        this.takeTree();\n        if (!changes.empty) {\n            let ranges = [];\n            changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));\n            fragments = TreeFragment.applyChanges(fragments, ranges);\n            tree = Tree.empty;\n            treeLen = 0;\n            viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };\n            if (this.skipped.length) {\n                skipped = [];\n                for (let r of this.skipped) {\n                    let from = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);\n                    if (from < to)\n                        skipped.push({ from, to });\n                }\n            }\n        }\n        return new ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);\n    }\n    /**\n    @internal\n    */\n    updateViewport(viewport) {\n        if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)\n            return false;\n        this.viewport = viewport;\n        let startLen = this.skipped.length;\n        for (let i = 0; i < this.skipped.length; i++) {\n            let { from, to } = this.skipped[i];\n            if (from < viewport.to && to > viewport.from) {\n                this.fragments = cutFragments(this.fragments, from, to);\n                this.skipped.splice(i--, 1);\n            }\n        }\n        if (this.skipped.length >= startLen)\n            return false;\n        this.reset();\n        return true;\n    }\n    /**\n    @internal\n    */\n    reset() {\n        if (this.parse) {\n            this.takeTree();\n            this.parse = null;\n        }\n    }\n    /**\n    Notify the parse scheduler that the given region was skipped\n    because it wasn't in view, and the parse should be restarted\n    when it comes into view.\n    */\n    skipUntilInView(from, to) {\n        this.skipped.push({ from, to });\n    }\n    /**\n    Returns a parser intended to be used as placeholder when\n    asynchronously loading a nested parser. It'll skip its input and\n    mark it as not-really-parsed, so that the next update will parse\n    it again.\n    \n    When `until` is given, a reparse will be scheduled when that\n    promise resolves.\n    */\n    static getSkippingParser(until) {\n        return new class extends Parser {\n            createParse(input, fragments, ranges) {\n                let from = ranges[0].from, to = ranges[ranges.length - 1].to;\n                let parser = {\n                    parsedPos: from,\n                    advance() {\n                        let cx = currentContext;\n                        if (cx) {\n                            for (let r of ranges)\n                                cx.tempSkipped.push(r);\n                            if (until)\n                                cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;\n                        }\n                        this.parsedPos = to;\n                        return new Tree(NodeType.none, [], [], to - from);\n                    },\n                    stoppedAt: null,\n                    stopAt() { }\n                };\n                return parser;\n            }\n        };\n    }\n    /**\n    @internal\n    */\n    movedPast(pos) {\n        return this.treeLen < pos && this.parse && this.parse.parsedPos >= pos;\n    }\n    /**\n    @internal\n    */\n    isDone(upto) {\n        let frags = this.fragments;\n        return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;\n    }\n    /**\n    Get the context for the current parse, or `null` if no editor\n    parse is in progress.\n    */\n    static get() { return currentContext; }\n}\nfunction cutFragments(fragments, from, to) {\n    return TreeFragment.applyChanges(fragments, [{ fromA: from, toA: to, fromB: from, toB: to }]);\n}\nclass LanguageState {\n    constructor(\n    // A mutable parse state that is used to preserve work done during\n    // the lifetime of a state when moving to the next state.\n    context) {\n        this.context = context;\n        this.tree = context.tree;\n    }\n    apply(tr) {\n        if (!tr.docChanged)\n            return this;\n        let newCx = this.context.changes(tr.changes, tr.state);\n        // If the previous parse wasn't done, go forward only up to its\n        // end position or the end of the viewport, to avoid slowing down\n        // state updates with parse work beyond the viewport.\n        let upto = this.context.treeLen == tr.startState.doc.length ? undefined\n            : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);\n        if (!newCx.work(25 /* Apply */, upto))\n            newCx.takeTree();\n        return new LanguageState(newCx);\n    }\n    static init(state) {\n        let parseState = new ParseContext(state.facet(language).parser, state, [], Tree.empty, 0, { from: 0, to: state.doc.length }, [], null);\n        if (!parseState.work(25 /* Apply */))\n            parseState.takeTree();\n        return new LanguageState(parseState);\n    }\n}\nLanguage.state = /*@__PURE__*/StateField.define({\n    create: LanguageState.init,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(Language.setState))\n                return e.value;\n        if (tr.startState.facet(language) != tr.state.facet(language))\n            return LanguageState.init(tr.state);\n        return value.apply(tr);\n    }\n});\nlet requestIdle = typeof window != \"undefined\" && window.requestIdleCallback ||\n    ((callback, { timeout }) => setTimeout(callback, timeout));\nlet cancelIdle = typeof window != \"undefined\" && window.cancelIdleCallback || clearTimeout;\nconst parseWorker = /*@__PURE__*/ViewPlugin.fromClass(class ParseWorker {\n    constructor(view) {\n        this.view = view;\n        this.working = -1;\n        // End of the current time chunk\n        this.chunkEnd = -1;\n        // Milliseconds of budget left for this chunk\n        this.chunkBudget = -1;\n        this.work = this.work.bind(this);\n        this.scheduleWork();\n    }\n    update(update) {\n        let cx = this.view.state.field(Language.state).context;\n        if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)\n            this.scheduleWork();\n        if (update.docChanged) {\n            if (this.view.hasFocus)\n                this.chunkBudget += 50 /* ChangeBonus */;\n            this.scheduleWork();\n        }\n        this.checkAsyncSchedule(cx);\n    }\n    scheduleWork() {\n        if (this.working > -1)\n            return;\n        let { state } = this.view, field = state.field(Language.state);\n        if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))\n            this.working = requestIdle(this.work, { timeout: 500 /* Pause */ });\n    }\n    work(deadline) {\n        this.working = -1;\n        let now = Date.now();\n        if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) { // Start a new chunk\n            this.chunkEnd = now + 30000 /* ChunkTime */;\n            this.chunkBudget = 3000 /* ChunkBudget */;\n        }\n        if (this.chunkBudget <= 0)\n            return; // No more budget\n        let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);\n        if (field.tree == field.context.tree && field.context.treeLen >= vpTo + 1000000 /* MaxParseAhead */)\n            return;\n        let time = Math.min(this.chunkBudget, deadline ? Math.max(25 /* MinSlice */, deadline.timeRemaining()) : 100 /* Slice */);\n        let done = field.context.work(time, vpTo + 1000000 /* MaxParseAhead */);\n        this.chunkBudget -= Date.now() - now;\n        if (done || this.chunkBudget <= 0 || field.context.movedPast(vpTo)) {\n            field.context.takeTree();\n            this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });\n        }\n        if (!done && this.chunkBudget > 0)\n            this.scheduleWork();\n        this.checkAsyncSchedule(field.context);\n    }\n    checkAsyncSchedule(cx) {\n        if (cx.scheduleOn) {\n            cx.scheduleOn.then(() => this.scheduleWork());\n            cx.scheduleOn = null;\n        }\n    }\n    destroy() {\n        if (this.working >= 0)\n            cancelIdle(this.working);\n    }\n}, {\n    eventHandlers: { focus() { this.scheduleWork(); } }\n});\n/**\nThe facet used to associate a language with an editor state.\n*/\nconst language = /*@__PURE__*/Facet.define({\n    combine(languages) { return languages.length ? languages[0] : null; },\n    enables: [Language.state, parseWorker]\n});\n/**\nThis class bundles a [language object](https://codemirror.net/6/docs/ref/#language.Language) with an\noptional set of supporting extensions. Language packages are\nencouraged to export a function that optionally takes a\nconfiguration object and returns a `LanguageSupport` instance, as\nthe main way for client code to use the package.\n*/\nclass LanguageSupport {\n    /**\n    Create a support object.\n    */\n    constructor(\n    /**\n    The language object.\n    */\n    language, \n    /**\n    An optional set of supporting extensions. When nesting a\n    language in another language, the outer language is encouraged\n    to include the supporting extensions for its inner languages\n    in its own set of support extensions.\n    */\n    support = []) {\n        this.language = language;\n        this.support = support;\n        this.extension = [language, support];\n    }\n}\n/**\nLanguage descriptions are used to store metadata about languages\nand to dynamically load them. Their main role is finding the\nappropriate language for a filename or dynamically loading nested\nparsers.\n*/\nclass LanguageDescription {\n    constructor(\n    /**\n    The name of this language.\n    */\n    name, \n    /**\n    Alternative names for the mode (lowercased, includes `this.name`).\n    */\n    alias, \n    /**\n    File extensions associated with this language.\n    */\n    extensions, \n    /**\n    Optional filename pattern that should be associated with this\n    language.\n    */\n    filename, loadFunc) {\n        this.name = name;\n        this.alias = alias;\n        this.extensions = extensions;\n        this.filename = filename;\n        this.loadFunc = loadFunc;\n        /**\n        If the language has been loaded, this will hold its value.\n        */\n        this.support = undefined;\n        this.loading = null;\n    }\n    /**\n    Start loading the the language. Will return a promise that\n    resolves to a [`LanguageSupport`](https://codemirror.net/6/docs/ref/#language.LanguageSupport)\n    object when the language successfully loads.\n    */\n    load() {\n        return this.loading || (this.loading = this.loadFunc().then(support => this.support = support, err => { this.loading = null; throw err; }));\n    }\n    /**\n    Create a language description.\n    */\n    static of(spec) {\n        return new LanguageDescription(spec.name, (spec.alias || []).concat(spec.name).map(s => s.toLowerCase()), spec.extensions || [], spec.filename, spec.load);\n    }\n    /**\n    Look for a language in the given array of descriptions that\n    matches the filename. Will first match\n    [`filename`](https://codemirror.net/6/docs/ref/#language.LanguageDescription.filename) patterns,\n    and then [extensions](https://codemirror.net/6/docs/ref/#language.LanguageDescription.extensions),\n    and return the first language that matches.\n    */\n    static matchFilename(descs, filename) {\n        for (let d of descs)\n            if (d.filename && d.filename.test(filename))\n                return d;\n        let ext = /\\.([^.]+)$/.exec(filename);\n        if (ext)\n            for (let d of descs)\n                if (d.extensions.indexOf(ext[1]) > -1)\n                    return d;\n        return null;\n    }\n    /**\n    Look for a language whose name or alias matches the the given\n    name (case-insensitively). If `fuzzy` is true, and no direct\n    matchs is found, this'll also search for a language whose name\n    or alias occurs in the string (for names shorter than three\n    characters, only when surrounded by non-word characters).\n    */\n    static matchLanguageName(descs, name, fuzzy = true) {\n        name = name.toLowerCase();\n        for (let d of descs)\n            if (d.alias.some(a => a == name))\n                return d;\n        if (fuzzy)\n            for (let d of descs)\n                for (let a of d.alias) {\n                    let found = name.indexOf(a);\n                    if (found > -1 && (a.length > 2 || !/\\w/.test(name[found - 1]) && !/\\w/.test(name[found + a.length])))\n                        return d;\n                }\n        return null;\n    }\n}\n\n/**\nFacet that defines a way to provide a function that computes the\nappropriate indentation depth at the start of a given line, or\n`null` to indicate no appropriate indentation could be determined.\n*/\nconst indentService = /*@__PURE__*/Facet.define();\n/**\nFacet for overriding the unit by which indentation happens.\nShould be a string consisting either entirely of spaces or\nentirely of tabs. When not set, this defaults to 2 spaces.\n*/\nconst indentUnit = /*@__PURE__*/Facet.define({\n    combine: values => {\n        if (!values.length)\n            return \"  \";\n        if (!/^(?: +|\\t+)$/.test(values[0]))\n            throw new Error(\"Invalid indent unit: \" + JSON.stringify(values[0]));\n        return values[0];\n    }\n});\n/**\nReturn the _column width_ of an indent unit in the state.\nDetermined by the [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit)\nfacet, and [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) when that\ncontains tabs.\n*/\nfunction getIndentUnit(state) {\n    let unit = state.facet(indentUnit);\n    return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;\n}\n/**\nCreate an indentation string that covers columns 0 to `cols`.\nWill use tabs for as much of the columns as possible when the\n[`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit) facet contains\ntabs.\n*/\nfunction indentString(state, cols) {\n    let result = \"\", ts = state.tabSize;\n    if (state.facet(indentUnit).charCodeAt(0) == 9)\n        while (cols >= ts) {\n            result += \"\\t\";\n            cols -= ts;\n        }\n    for (let i = 0; i < cols; i++)\n        result += \" \";\n    return result;\n}\n/**\nGet the indentation at the given position. Will first consult any\n[indent services](https://codemirror.net/6/docs/ref/#language.indentService) that are registered,\nand if none of those return an indentation, this will check the\nsyntax tree for the [indent node prop](https://codemirror.net/6/docs/ref/#language.indentNodeProp)\nand use that if found. Returns a number when an indentation could\nbe determined, and null otherwise.\n*/\nfunction getIndentation(context, pos) {\n    if (context instanceof EditorState)\n        context = new IndentContext(context);\n    for (let service of context.state.facet(indentService)) {\n        let result = service(context, pos);\n        if (result != null)\n            return result;\n    }\n    let tree = syntaxTree(context.state);\n    return tree ? syntaxIndentation(context, tree, pos) : null;\n}\n/**\nIndentation contexts are used when calling [indentation\nservices](https://codemirror.net/6/docs/ref/#language.indentService). They provide helper utilities\nuseful in indentation logic, and can selectively override the\nindentation reported for some lines.\n*/\nclass IndentContext {\n    /**\n    Create an indent context.\n    */\n    constructor(\n    /**\n    The editor state.\n    */\n    state, \n    /**\n    @internal\n    */\n    options = {}) {\n        this.state = state;\n        this.options = options;\n        this.unit = getIndentUnit(state);\n    }\n    /**\n    Get a description of the line at the given position, taking\n    [simulated line\n    breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    into account. If there is such a break at `pos`, the `bias`\n    argument determines whether the part of the line line before or\n    after the break is used.\n    */\n    lineAt(pos, bias = 1) {\n        let line = this.state.doc.lineAt(pos);\n        let { simulateBreak } = this.options;\n        if (simulateBreak != null && simulateBreak >= line.from && simulateBreak <= line.to) {\n            if (bias < 0 ? simulateBreak < pos : simulateBreak <= pos)\n                return { text: line.text.slice(simulateBreak - line.from), from: simulateBreak };\n            else\n                return { text: line.text.slice(0, simulateBreak - line.from), from: line.from };\n        }\n        return line;\n    }\n    /**\n    Get the text directly after `pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    textAfterPos(pos, bias = 1) {\n        if (this.options.simulateDoubleBreak && pos == this.options.simulateBreak)\n            return \"\";\n        let { text, from } = this.lineAt(pos, bias);\n        return text.slice(pos - from, Math.min(text.length, pos + 100 - from));\n    }\n    /**\n    Find the column for the given position.\n    */\n    column(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let result = this.countColumn(text, pos - from);\n        let override = this.options.overrideIndentation ? this.options.overrideIndentation(from) : -1;\n        if (override > -1)\n            result += override - this.countColumn(text, text.search(/\\S|$/));\n        return result;\n    }\n    /**\n    Find the column position (taking tabs into account) of the given\n    position in the given string.\n    */\n    countColumn(line, pos = line.length) {\n        return countColumn(line, this.state.tabSize, pos);\n    }\n    /**\n    Find the indentation column of the line at the given point.\n    */\n    lineIndent(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let override = this.options.overrideIndentation;\n        if (override) {\n            let overriden = override(from);\n            if (overriden > -1)\n                return overriden;\n        }\n        return this.countColumn(text, text.search(/\\S|$/));\n    }\n    /**\n    Returns the [simulated line\n    break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    for this context, if any.\n    */\n    get simulatedBreak() {\n        return this.options.simulateBreak || null;\n    }\n}\n/**\nA syntax tree node prop used to associate indentation strategies\nwith node types. Such a strategy is a function from an indentation\ncontext to a column number or null, where null indicates that no\ndefinitive indentation can be determined.\n*/\nconst indentNodeProp = /*@__PURE__*/new NodeProp();\n// Compute the indentation for a given position from the syntax tree.\nfunction syntaxIndentation(cx, ast, pos) {\n    return indentFrom(ast.resolveInner(pos).enterUnfinishedNodesBefore(pos), pos, cx);\n}\nfunction ignoreClosed(cx) {\n    return cx.pos == cx.options.simulateBreak && cx.options.simulateDoubleBreak;\n}\nfunction indentStrategy(tree) {\n    let strategy = tree.type.prop(indentNodeProp);\n    if (strategy)\n        return strategy;\n    let first = tree.firstChild, close;\n    if (first && (close = first.type.prop(NodeProp.closedBy))) {\n        let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;\n        return cx => delimitedStrategy(cx, true, 1, undefined, closed && !ignoreClosed(cx) ? last.from : undefined);\n    }\n    return tree.parent == null ? topIndent : null;\n}\nfunction indentFrom(node, pos, base) {\n    for (; node; node = node.parent) {\n        let strategy = indentStrategy(node);\n        if (strategy)\n            return strategy(new TreeIndentContext(base, pos, node));\n    }\n    return null;\n}\nfunction topIndent() { return 0; }\n/**\nObjects of this type provide context information and helper\nmethods to indentation functions.\n*/\nclass TreeIndentContext extends IndentContext {\n    /**\n    @internal\n    */\n    constructor(base, \n    /**\n    The position at which indentation is being computed.\n    */\n    pos, \n    /**\n    The syntax tree node to which the indentation strategy\n    applies.\n    */\n    node) {\n        super(base.state, base.options);\n        this.base = base;\n        this.pos = pos;\n        this.node = node;\n    }\n    /**\n    Get the text directly after `this.pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    get textAfter() {\n        return this.textAfterPos(this.pos);\n    }\n    /**\n    Get the indentation at the reference line for `this.node`, which\n    is the line on which it starts, unless there is a node that is\n    _not_ a parent of this node covering the start of that line. If\n    so, the line at the start of that node is tried, again skipping\n    on if it is covered by another such node.\n    */\n    get baseIndent() {\n        let line = this.state.doc.lineAt(this.node.from);\n        // Skip line starts that are covered by a sibling (or cousin, etc)\n        for (;;) {\n            let atBreak = this.node.resolve(line.from);\n            while (atBreak.parent && atBreak.parent.from == atBreak.from)\n                atBreak = atBreak.parent;\n            if (isParent(atBreak, this.node))\n                break;\n            line = this.state.doc.lineAt(atBreak.from);\n        }\n        return this.lineIndent(line.from);\n    }\n    /**\n    Continue looking for indentations in the node's parent nodes,\n    and return the result of that.\n    */\n    continue() {\n        let parent = this.node.parent;\n        return parent ? indentFrom(parent, this.pos, this.base) : 0;\n    }\n}\nfunction isParent(parent, of) {\n    for (let cur = of; cur; cur = cur.parent)\n        if (parent == cur)\n            return true;\n    return false;\n}\n// Check whether a delimited node is aligned (meaning there are\n// non-skipped nodes on the same line as the opening delimiter). And\n// if so, return the opening token.\nfunction bracketedAligned(context) {\n    let tree = context.node;\n    let openToken = tree.childAfter(tree.from), last = tree.lastChild;\n    if (!openToken)\n        return null;\n    let sim = context.options.simulateBreak;\n    let openLine = context.state.doc.lineAt(openToken.from);\n    let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);\n    for (let pos = openToken.to;;) {\n        let next = tree.childAfter(pos);\n        if (!next || next == last)\n            return null;\n        if (!next.type.isSkipped)\n            return next.from < lineEnd ? openToken : null;\n        pos = next.to;\n    }\n}\n/**\nAn indentation strategy for delimited (usually bracketed) nodes.\nWill, by default, indent one unit more than the parent's base\nindent unless the line starts with a closing token. When `align`\nis true and there are non-skipped nodes on the node's opening\nline, the content of the node will be aligned with the end of the\nopening node, like this:\n\n    foo(bar,\n        baz)\n*/\nfunction delimitedIndent({ closing, align = true, units = 1 }) {\n    return (context) => delimitedStrategy(context, align, units, closing);\n}\nfunction delimitedStrategy(context, align, units, closing, closedAt) {\n    let after = context.textAfter, space = after.match(/^\\s*/)[0].length;\n    let closed = closing && after.slice(space, space + closing.length) == closing || closedAt == context.pos + space;\n    let aligned = align ? bracketedAligned(context) : null;\n    if (aligned)\n        return closed ? context.column(aligned.from) : context.column(aligned.to);\n    return context.baseIndent + (closed ? 0 : context.unit * units);\n}\n/**\nAn indentation strategy that aligns a node's content to its base\nindentation.\n*/\nconst flatIndent = (context) => context.baseIndent;\n/**\nCreates an indentation strategy that, by default, indents\ncontinued lines one unit more than the node's base indentation.\nYou can provide `except` to prevent indentation of lines that\nmatch a pattern (for example `/^else\\b/` in `if`/`else`\nconstructs), and you can change the amount of units used with the\n`units` option.\n*/\nfunction continuedIndent({ except, units = 1 } = {}) {\n    return (context) => {\n        let matchExcept = except && except.test(context.textAfter);\n        return context.baseIndent + (matchExcept ? 0 : units * context.unit);\n    };\n}\nconst DontIndentBeyond = 200;\n/**\nEnables reindentation on input. When a language defines an\n`indentOnInput` field in its [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt), which must hold a regular\nexpression, the line at the cursor will be reindented whenever new\ntext is typed and the input from the start of the line up to the\ncursor matches that regexp.\n\nTo avoid unneccesary reindents, it is recommended to start the\nregexp with `^` (usually followed by `\\s*`), and end it with `$`.\nFor example, `/^\\s*\\}$/` will reindent when a closing brace is\nadded at the start of a line.\n*/\nfunction indentOnInput() {\n    return EditorState.transactionFilter.of(tr => {\n        if (!tr.docChanged || !tr.isUserEvent(\"input.type\"))\n            return tr;\n        let rules = tr.startState.languageDataAt(\"indentOnInput\", tr.startState.selection.main.head);\n        if (!rules.length)\n            return tr;\n        let doc = tr.newDoc, { head } = tr.newSelection.main, line = doc.lineAt(head);\n        if (head > line.from + DontIndentBeyond)\n            return tr;\n        let lineStart = doc.sliceString(line.from, head);\n        if (!rules.some(r => r.test(lineStart)))\n            return tr;\n        let { state } = tr, last = -1, changes = [];\n        for (let { head } of state.selection.ranges) {\n            let line = state.doc.lineAt(head);\n            if (line.from == last)\n                continue;\n            last = line.from;\n            let indent = getIndentation(state, line.from);\n            if (indent == null)\n                continue;\n            let cur = /^\\s*/.exec(line.text)[0];\n            let norm = indentString(state, indent);\n            if (cur != norm)\n                changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n        return changes.length ? [tr, { changes, sequential: true }] : tr;\n    });\n}\n\n/**\nA facet that registers a code folding service. When called with\nthe extent of a line, such a function should return a foldable\nrange that starts on that line (but continues beyond it), if one\ncan be found.\n*/\nconst foldService = /*@__PURE__*/Facet.define();\n/**\nThis node prop is used to associate folding information with\nsyntax node types. Given a syntax node, it should check whether\nthat tree is foldable and return the range that can be collapsed\nwhen it is.\n*/\nconst foldNodeProp = /*@__PURE__*/new NodeProp();\n/**\n[Fold](https://codemirror.net/6/docs/ref/#language.foldNodeProp) function that folds everything but\nthe first and the last child of a syntax node. Useful for nodes\nthat start and end with delimiters.\n*/\nfunction foldInside(node) {\n    let first = node.firstChild, last = node.lastChild;\n    return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;\n}\nfunction syntaxFolding(state, start, end) {\n    let tree = syntaxTree(state);\n    if (tree.length == 0)\n        return null;\n    let inner = tree.resolveInner(end);\n    let found = null;\n    for (let cur = inner; cur; cur = cur.parent) {\n        if (cur.to <= end || cur.from > end)\n            continue;\n        if (found && cur.from < start)\n            break;\n        let prop = cur.type.prop(foldNodeProp);\n        if (prop) {\n            let value = prop(cur, state);\n            if (value && value.from <= end && value.from >= start && value.to > end)\n                found = value;\n        }\n    }\n    return found;\n}\n/**\nCheck whether the given line is foldable. First asks any fold\nservices registered through\n[`foldService`](https://codemirror.net/6/docs/ref/#language.foldService), and if none of them return\na result, tries to query the [fold node\nprop](https://codemirror.net/6/docs/ref/#language.foldNodeProp) of syntax nodes that cover the end\nof the line.\n*/\nfunction foldable(state, lineStart, lineEnd) {\n    for (let service of state.facet(foldService)) {\n        let result = service(state, lineStart, lineEnd);\n        if (result)\n            return result;\n    }\n    return syntaxFolding(state, lineStart, lineEnd);\n}\n\nexport { IndentContext, LRLanguage, Language, LanguageDescription, LanguageSupport, ParseContext, TreeIndentContext, continuedIndent, defineLanguageFacet, delimitedIndent, ensureSyntaxTree, flatIndent, foldInside, foldNodeProp, foldService, foldable, getIndentUnit, getIndentation, indentNodeProp, indentOnInput, indentService, indentString, indentUnit, language, languageDataProp, syntaxTree };\n","import { NodeProp, NodeType } from '@lezer/common';\nimport { StyleModule } from 'style-mod';\nimport { EditorView, ViewPlugin, Decoration } from '@codemirror/view';\nimport { Facet, Prec } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\n\nlet nextTagID = 0;\n/**\nHighlighting tags are markers that denote a highlighting category.\nThey are [associated](https://codemirror.net/6/docs/ref/#highlight.styleTags) with parts of a syntax\ntree by a language mode, and then mapped to an actual CSS style by\na [highlight style](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle).\n\nBecause syntax tree node types and highlight styles have to be\nable to talk the same language, CodeMirror uses a mostly _closed_\n[vocabulary](https://codemirror.net/6/docs/ref/#highlight.tags) of syntax tags (as opposed to\ntraditional open string-based systems, which make it hard for\nhighlighting themes to cover all the tokens produced by the\nvarious languages).\n\nIt _is_ possible to [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) your own\nhighlighting tags for system-internal use (where you control both\nthe language package and the highlighter), but such tags will not\nbe picked up by regular highlighters (though you can derive them\nfrom standard tags to allow highlighters to fall back to those).\n*/\nclass Tag {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The set of tags that match this tag, starting with this one\n    itself, sorted in order of decreasing specificity. @internal\n    */\n    set, \n    /**\n    The base unmodified tag that this one is based on, if it's\n    modified @internal\n    */\n    base, \n    /**\n    The modifiers applied to this.base @internal\n    */\n    modified) {\n        this.set = set;\n        this.base = base;\n        this.modified = modified;\n        /**\n        @internal\n        */\n        this.id = nextTagID++;\n    }\n    /**\n    Define a new tag. If `parent` is given, the tag is treated as a\n    sub-tag of that parent, and [highlight\n    styles](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle) that don't mention this tag\n    will try to fall back to the parent tag (or grandparent tag,\n    etc).\n    */\n    static define(parent) {\n        if (parent === null || parent === void 0 ? void 0 : parent.base)\n            throw new Error(\"Can not derive from a modified tag\");\n        let tag = new Tag([], null, []);\n        tag.set.push(tag);\n        if (parent)\n            for (let t of parent.set)\n                tag.set.push(t);\n        return tag;\n    }\n    /**\n    Define a tag _modifier_, which is a function that, given a tag,\n    will return a tag that is a subtag of the original. Applying the\n    same modifier to a twice tag will return the same value (`m1(t1)\n    == m1(t1)`) and applying multiple modifiers will, regardless or\n    order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).\n    \n    When multiple modifiers are applied to a given base tag, each\n    smaller set of modifiers is registered as a parent, so that for\n    example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,\n    `m1(m3(t1)`, and so on.\n    */\n    static defineModifier() {\n        let mod = new Modifier;\n        return (tag) => {\n            if (tag.modified.indexOf(mod) > -1)\n                return tag;\n            return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));\n        };\n    }\n}\nlet nextModifierID = 0;\nclass Modifier {\n    constructor() {\n        this.instances = [];\n        this.id = nextModifierID++;\n    }\n    static get(base, mods) {\n        if (!mods.length)\n            return base;\n        let exists = mods[0].instances.find(t => t.base == base && sameArray(mods, t.modified));\n        if (exists)\n            return exists;\n        let set = [], tag = new Tag(set, base, mods);\n        for (let m of mods)\n            m.instances.push(tag);\n        let configs = permute(mods);\n        for (let parent of base.set)\n            for (let config of configs)\n                set.push(Modifier.get(parent, config));\n        return tag;\n    }\n}\nfunction sameArray(a, b) {\n    return a.length == b.length && a.every((x, i) => x == b[i]);\n}\nfunction permute(array) {\n    let result = [array];\n    for (let i = 0; i < array.length; i++) {\n        for (let a of permute(array.slice(0, i).concat(array.slice(i + 1))))\n            result.push(a);\n    }\n    return result;\n}\n/**\nThis function is used to add a set of tags to a language syntax\nvia\n[`LRParser.configure`](https://lezer.codemirror.net/docs/ref#lr.LRParser.configure).\n\nThe argument object maps node selectors to [highlighting\ntags](https://codemirror.net/6/docs/ref/#highlight.Tag) or arrays of tags.\n\nNode selectors may hold one or more (space-separated) node paths.\nSuch a path can be a [node\nname](https://lezer.codemirror.net/docs/ref#common.NodeType.name),\nor multiple node names (or `*` wildcards) separated by slash\ncharacters, as in `\"Block/Declaration/VariableName\"`. Such a path\nmatches the final node but only if its direct parent nodes are the\nother nodes mentioned. A `*` in such a path matches any parent,\nbut only a single levelwildcards that match multiple parents\naren't supported, both for efficiency reasons and because Lezer\ntrees make it rather hard to reason about what they would match.)\n\nA path can be ended with `/...` to indicate that the tag assigned\nto the node should also apply to all child nodes, even if they\nmatch their own style (by default, only the innermost style is\nused).\n\nWhen a path ends in `!`, as in `Attribute!`, no further matching\nhappens for the node's child nodes, and the entire node gets the\ngiven style.\n\nIn this notation, node names that contain `/`, `!`, `*`, or `...`\nmust be quoted as JSON strings.\n\nFor example:\n\n```javascript\nparser.withProps(\n  styleTags({\n    // Style Number and BigNumber nodes\n    \"Number BigNumber\": tags.number,\n    // Style Escape nodes whose parent is String\n    \"String/Escape\": tags.escape,\n    // Style anything inside Attributes nodes\n    \"Attributes!\": tags.meta,\n    // Add a style to all content inside Italic nodes\n    \"Italic/...\": tags.emphasis,\n    // Style InvalidString nodes as both `string` and `invalid`\n    \"InvalidString\": [tags.string, tags.invalid],\n    // Style the node named \"/\" as punctuation\n    '\"/\"': tags.punctuation\n  })\n)\n```\n*/\nfunction styleTags(spec) {\n    let byName = Object.create(null);\n    for (let prop in spec) {\n        let tags = spec[prop];\n        if (!Array.isArray(tags))\n            tags = [tags];\n        for (let part of prop.split(\" \"))\n            if (part) {\n                let pieces = [], mode = 2 /* Normal */, rest = part;\n                for (let pos = 0;;) {\n                    if (rest == \"...\" && pos > 0 && pos + 3 == part.length) {\n                        mode = 1 /* Inherit */;\n                        break;\n                    }\n                    let m = /^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(rest);\n                    if (!m)\n                        throw new RangeError(\"Invalid path: \" + part);\n                    pieces.push(m[0] == \"*\" ? null : m[0][0] == '\"' ? JSON.parse(m[0]) : m[0]);\n                    pos += m[0].length;\n                    if (pos == part.length)\n                        break;\n                    let next = part[pos++];\n                    if (pos == part.length && next == \"!\") {\n                        mode = 0 /* Opaque */;\n                        break;\n                    }\n                    if (next != \"/\")\n                        throw new RangeError(\"Invalid path: \" + part);\n                    rest = part.slice(pos);\n                }\n                let last = pieces.length - 1, inner = pieces[last];\n                if (!inner)\n                    throw new RangeError(\"Invalid path: \" + part);\n                let rule = new Rule(tags, mode, last > 0 ? pieces.slice(0, last) : null);\n                byName[inner] = rule.sort(byName[inner]);\n            }\n    }\n    return ruleNodeProp.add(byName);\n}\nconst ruleNodeProp = /*@__PURE__*/new NodeProp();\nconst highlightStyle = /*@__PURE__*/Facet.define({\n    combine(stylings) { return stylings.length ? HighlightStyle.combinedMatch(stylings) : null; }\n});\nconst fallbackHighlightStyle = /*@__PURE__*/Facet.define({\n    combine(values) { return values.length ? values[0].match : null; }\n});\nfunction getHighlightStyle(state) {\n    return state.facet(highlightStyle) || state.facet(fallbackHighlightStyle);\n}\nclass Rule {\n    constructor(tags, mode, context, next) {\n        this.tags = tags;\n        this.mode = mode;\n        this.context = context;\n        this.next = next;\n    }\n    sort(other) {\n        if (!other || other.depth < this.depth) {\n            this.next = other;\n            return this;\n        }\n        other.next = this.sort(other.next);\n        return other;\n    }\n    get depth() { return this.context ? this.context.length : 0; }\n}\n/**\nA highlight style associates CSS styles with higlighting\n[tags](https://codemirror.net/6/docs/ref/#highlight.Tag).\n*/\nclass HighlightStyle {\n    constructor(spec, options) {\n        this.map = Object.create(null);\n        let modSpec;\n        function def(spec) {\n            let cls = StyleModule.newName();\n            (modSpec || (modSpec = Object.create(null)))[\".\" + cls] = spec;\n            return cls;\n        }\n        this.all = typeof options.all == \"string\" ? options.all : options.all ? def(options.all) : null;\n        for (let style of spec) {\n            let cls = (style.class || def(Object.assign({}, style, { tag: null }))) +\n                (this.all ? \" \" + this.all : \"\");\n            let tags = style.tag;\n            if (!Array.isArray(tags))\n                this.map[tags.id] = cls;\n            else\n                for (let tag of tags)\n                    this.map[tag.id] = cls;\n        }\n        this.module = modSpec ? new StyleModule(modSpec) : null;\n        this.scope = options.scope || null;\n        this.match = this.match.bind(this);\n        let ext = [treeHighlighter];\n        if (this.module)\n            ext.push(EditorView.styleModule.of(this.module));\n        this.extension = ext.concat(highlightStyle.of(this));\n        this.fallback = ext.concat(fallbackHighlightStyle.of(this));\n    }\n    /**\n    Returns the CSS class associated with the given tag, if any.\n    This method is bound to the instance by the constructor.\n    */\n    match(tag, scope) {\n        if (this.scope && scope != this.scope)\n            return null;\n        for (let t of tag.set) {\n            let match = this.map[t.id];\n            if (match !== undefined) {\n                if (t != tag)\n                    this.map[tag.id] = match;\n                return match;\n            }\n        }\n        return this.map[tag.id] = this.all;\n    }\n    /**\n    Combines an array of highlight styles into a single match\n    function that returns all of the classes assigned by the styles\n    for a given tag.\n    */\n    static combinedMatch(styles) {\n        if (styles.length == 1)\n            return styles[0].match;\n        let cache = styles.some(s => s.scope) ? undefined : Object.create(null);\n        return (tag, scope) => {\n            let cached = cache && cache[tag.id];\n            if (cached !== undefined)\n                return cached;\n            let result = null;\n            for (let style of styles) {\n                let value = style.match(tag, scope);\n                if (value)\n                    result = result ? result + \" \" + value : value;\n            }\n            if (cache)\n                cache[tag.id] = result;\n            return result;\n        };\n    }\n    /**\n    Create a highlighter style that associates the given styles to\n    the given tags. The spec must be objects that hold a style tag\n    or array of tags in their `tag` property, and either a single\n    `class` property providing a static CSS class (for highlighters\n    like [`classHighlightStyle`](https://codemirror.net/6/docs/ref/#highlight.classHighlightStyle)\n    that rely on external styling), or a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style\n    set of CSS properties (which define the styling for those tags).\n    \n    The CSS rules created for a highlighter will be emitted in the\n    order of the spec's properties. That means that for elements that\n    have multiple tags associated with them, styles defined further\n    down in the list will have a higher CSS precedence than styles\n    defined earlier.\n    */\n    static define(specs, options) {\n        return new HighlightStyle(specs, options || {});\n    }\n    /**\n    Returns the CSS classes (if any) that the highlight styles\n    active in the given state would assign to the given a style\n    [tag](https://codemirror.net/6/docs/ref/#highlight.Tag) and (optional) language\n    [scope](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle^define^options.scope).\n    */\n    static get(state, tag, scope) {\n        let style = getHighlightStyle(state);\n        return style && style(tag, scope || NodeType.none);\n    }\n}\n/**\nRun the tree highlighter over the given tree.\n*/\nfunction highlightTree(tree, \n/**\nGet the CSS classes used to style a given [tag](https://codemirror.net/6/docs/ref/#highlight.Tag),\nor `null` if it isn't styled. (You'll often want to pass a\nhighlight style's [`match`](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle.match)\nmethod here.)\n*/\ngetStyle, \n/**\nAssign styling to a region of the text. Will be called, in order\nof position, for any ranges where more than zero classes apply.\n`classes` is a space separated string of CSS classes.\n*/\nputStyle, \n/**\nThe start of the range to highlight.\n*/\nfrom = 0, \n/**\nThe end of the range.\n*/\nto = tree.length) {\n    highlightTreeRange(tree, from, to, getStyle, putStyle);\n}\nclass TreeHighlighter {\n    constructor(view) {\n        this.markCache = Object.create(null);\n        this.tree = syntaxTree(view.state);\n        this.decorations = this.buildDeco(view, getHighlightStyle(view.state));\n    }\n    update(update) {\n        let tree = syntaxTree(update.state), style = getHighlightStyle(update.state);\n        let styleChange = style != update.startState.facet(highlightStyle);\n        if (tree.length < update.view.viewport.to && !styleChange && tree.type == this.tree.type) {\n            this.decorations = this.decorations.map(update.changes);\n        }\n        else if (tree != this.tree || update.viewportChanged || styleChange) {\n            this.tree = tree;\n            this.decorations = this.buildDeco(update.view, style);\n        }\n    }\n    buildDeco(view, match) {\n        if (!match || !this.tree.length)\n            return Decoration.none;\n        let builder = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges) {\n            highlightTreeRange(this.tree, from, to, match, (from, to, style) => {\n                builder.add(from, to, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));\n            });\n        }\n        return builder.finish();\n    }\n}\n// This extension installs a highlighter that highlights based on the\n// syntax tree and highlight style.\nconst treeHighlighter = /*@__PURE__*/Prec.extend(/*@__PURE__*/ViewPlugin.fromClass(TreeHighlighter, {\n    decorations: v => v.decorations\n}));\nconst nodeStack = [\"\"];\nclass HighlightBuilder {\n    constructor(at, style, span) {\n        this.at = at;\n        this.style = style;\n        this.span = span;\n        this.class = \"\";\n    }\n    startSpan(at, cls) {\n        if (cls != this.class) {\n            this.flush(at);\n            if (at > this.at)\n                this.at = at;\n            this.class = cls;\n        }\n    }\n    flush(to) {\n        if (to > this.at && this.class)\n            this.span(this.at, to, this.class);\n    }\n    highlightRange(cursor, from, to, inheritedClass, depth, scope) {\n        let { type, from: start, to: end } = cursor;\n        if (start >= to || end <= from)\n            return;\n        nodeStack[depth] = type.name;\n        if (type.isTop)\n            scope = type;\n        let cls = inheritedClass;\n        let rule = type.prop(ruleNodeProp), opaque = false;\n        while (rule) {\n            if (!rule.context || matchContext(rule.context, nodeStack, depth)) {\n                for (let tag of rule.tags) {\n                    let st = this.style(tag, scope);\n                    if (st) {\n                        if (cls)\n                            cls += \" \";\n                        cls += st;\n                        if (rule.mode == 1 /* Inherit */)\n                            inheritedClass += (inheritedClass ? \" \" : \"\") + st;\n                        else if (rule.mode == 0 /* Opaque */)\n                            opaque = true;\n                    }\n                }\n                break;\n            }\n            rule = rule.next;\n        }\n        this.startSpan(cursor.from, cls);\n        if (opaque)\n            return;\n        let mounted = cursor.tree && cursor.tree.prop(NodeProp.mounted);\n        if (mounted && mounted.overlay) {\n            let inner = cursor.node.enter(mounted.overlay[0].from + start, 1);\n            let hasChild = cursor.firstChild();\n            for (let i = 0, pos = start;; i++) {\n                let next = i < mounted.overlay.length ? mounted.overlay[i] : null;\n                let nextPos = next ? next.from + start : end;\n                let rangeFrom = Math.max(from, pos), rangeTo = Math.min(to, nextPos);\n                if (rangeFrom < rangeTo && hasChild) {\n                    while (cursor.from < rangeTo) {\n                        this.highlightRange(cursor, rangeFrom, rangeTo, inheritedClass, depth + 1, scope);\n                        this.startSpan(Math.min(to, cursor.to), cls);\n                        if (cursor.to >= nextPos || !cursor.nextSibling())\n                            break;\n                    }\n                }\n                if (!next || nextPos > to)\n                    break;\n                pos = next.to + start;\n                if (pos > from) {\n                    this.highlightRange(inner.cursor, Math.max(from, next.from + start), Math.min(to, pos), inheritedClass, depth, mounted.tree.type);\n                    this.startSpan(pos, cls);\n                }\n            }\n            if (hasChild)\n                cursor.parent();\n        }\n        else if (cursor.firstChild()) {\n            do {\n                if (cursor.to <= from)\n                    continue;\n                if (cursor.from >= to)\n                    break;\n                this.highlightRange(cursor, from, to, inheritedClass, depth + 1, scope);\n                this.startSpan(Math.min(to, cursor.to), cls);\n            } while (cursor.nextSibling());\n            cursor.parent();\n        }\n    }\n}\nfunction highlightTreeRange(tree, from, to, style, span) {\n    let builder = new HighlightBuilder(from, style, span);\n    builder.highlightRange(tree.cursor(), from, to, \"\", 0, tree.type);\n    builder.flush(to);\n}\nfunction matchContext(context, stack, depth) {\n    if (context.length > depth - 1)\n        return false;\n    for (let d = depth - 1, i = context.length - 1; i >= 0; i--, d--) {\n        let check = context[i];\n        if (check && check != stack[d])\n            return false;\n    }\n    return true;\n}\nconst t = Tag.define;\nconst comment = /*@__PURE__*/t(), name = /*@__PURE__*/t(), typeName = /*@__PURE__*/t(name), propertyName = /*@__PURE__*/t(name), literal = /*@__PURE__*/t(), string = /*@__PURE__*/t(literal), number = /*@__PURE__*/t(literal), content = /*@__PURE__*/t(), heading = /*@__PURE__*/t(content), keyword = /*@__PURE__*/t(), operator = /*@__PURE__*/t(), punctuation = /*@__PURE__*/t(), bracket = /*@__PURE__*/t(punctuation), meta = /*@__PURE__*/t();\n/**\nThe default set of highlighting [tags](https://codemirror.net/6/docs/ref/#highlight.Tag^define) used\nby regular language packages and themes.\n\nThis collection is heavily biased towards programming languages,\nand necessarily incomplete. A full ontology of syntactic\nconstructs would fill a stack of books, and be impractical to\nwrite themes for. So try to make do with this set. If all else\nfails, [open an\nissue](https://github.com/codemirror/codemirror.next) to propose a\nnew tag, or [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) a local custom tag for\nyour use case.\n\nNote that it is not obligatory to always attach the most specific\ntag possible to an elementif your grammar can't easily\ndistinguish a certain type of element (such as a local variable),\nit is okay to style it as its more general variant (a variable).\n\nFor tags that extend some parent tag, the documentation links to\nthe parent.\n*/\nconst tags = {\n    /**\n    A comment.\n    */\n    comment,\n    /**\n    A line [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    lineComment: /*@__PURE__*/t(comment),\n    /**\n    A block [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    blockComment: /*@__PURE__*/t(comment),\n    /**\n    A documentation [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    docComment: /*@__PURE__*/t(comment),\n    /**\n    Any kind of identifier.\n    */\n    name,\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a variable.\n    */\n    variableName: /*@__PURE__*/t(name),\n    /**\n    A type [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    typeName: typeName,\n    /**\n    A tag name (subtag of [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)).\n    */\n    tagName: /*@__PURE__*/t(typeName),\n    /**\n    A property or field [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    propertyName: propertyName,\n    /**\n    An attribute name (subtag of [`propertyName`](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName)).\n    */\n    attributeName: /*@__PURE__*/t(propertyName),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a class.\n    */\n    className: /*@__PURE__*/t(name),\n    /**\n    A label [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    labelName: /*@__PURE__*/t(name),\n    /**\n    A namespace [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    namespace: /*@__PURE__*/t(name),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a macro.\n    */\n    macroName: /*@__PURE__*/t(name),\n    /**\n    A literal value.\n    */\n    literal,\n    /**\n    A string [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    string,\n    /**\n    A documentation [string](https://codemirror.net/6/docs/ref/#highlight.tags.string).\n    */\n    docString: /*@__PURE__*/t(string),\n    /**\n    A character literal (subtag of [string](https://codemirror.net/6/docs/ref/#highlight.tags.string)).\n    */\n    character: /*@__PURE__*/t(string),\n    /**\n    An attribute value (subtag of [string](https://codemirror.net/6/docs/ref/#highlight.tags.string)).\n    */\n    attributeValue: /*@__PURE__*/t(string),\n    /**\n    A number [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    number,\n    /**\n    An integer [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    integer: /*@__PURE__*/t(number),\n    /**\n    A floating-point [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    float: /*@__PURE__*/t(number),\n    /**\n    A boolean [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    bool: /*@__PURE__*/t(literal),\n    /**\n    Regular expression [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    regexp: /*@__PURE__*/t(literal),\n    /**\n    An escape [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal), for example a\n    backslash escape in a string.\n    */\n    escape: /*@__PURE__*/t(literal),\n    /**\n    A color [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    color: /*@__PURE__*/t(literal),\n    /**\n    A URL [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    url: /*@__PURE__*/t(literal),\n    /**\n    A language keyword.\n    */\n    keyword,\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for the self or this\n    object.\n    */\n    self: /*@__PURE__*/t(keyword),\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for null.\n    */\n    null: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) denoting some atomic value.\n    */\n    atom: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that represents a unit.\n    */\n    unit: /*@__PURE__*/t(keyword),\n    /**\n    A modifier [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    modifier: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that acts as an operator.\n    */\n    operatorKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A control-flow related [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    controlKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that defines something.\n    */\n    definitionKeyword: /*@__PURE__*/t(keyword),\n    /**\n    An operator.\n    */\n    operator,\n    /**\n    An [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    derefOperator: /*@__PURE__*/t(operator),\n    /**\n    Arithmetic-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    arithmeticOperator: /*@__PURE__*/t(operator),\n    /**\n    Logical [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    logicOperator: /*@__PURE__*/t(operator),\n    /**\n    Bit [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    bitwiseOperator: /*@__PURE__*/t(operator),\n    /**\n    Comparison [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    compareOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that updates its operand.\n    */\n    updateOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    definitionOperator: /*@__PURE__*/t(operator),\n    /**\n    Type-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    typeOperator: /*@__PURE__*/t(operator),\n    /**\n    Control-flow [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    controlOperator: /*@__PURE__*/t(operator),\n    /**\n    Program or markup punctuation.\n    */\n    punctuation,\n    /**\n    [Punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation) that separates\n    things.\n    */\n    separator: /*@__PURE__*/t(punctuation),\n    /**\n    Bracket-style [punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation).\n    */\n    bracket,\n    /**\n    Angle [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `<` and `>`\n    tokens).\n    */\n    angleBracket: /*@__PURE__*/t(bracket),\n    /**\n    Square [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `[` and `]`\n    tokens).\n    */\n    squareBracket: /*@__PURE__*/t(bracket),\n    /**\n    Parentheses (usually `(` and `)` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    paren: /*@__PURE__*/t(bracket),\n    /**\n    Braces (usually `{` and `}` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    brace: /*@__PURE__*/t(bracket),\n    /**\n    Content, for example plain text in XML or markup documents.\n    */\n    content,\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a heading.\n    */\n    heading,\n    /**\n    A level 1 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading1: /*@__PURE__*/t(heading),\n    /**\n    A level 2 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading2: /*@__PURE__*/t(heading),\n    /**\n    A level 3 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading3: /*@__PURE__*/t(heading),\n    /**\n    A level 4 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading4: /*@__PURE__*/t(heading),\n    /**\n    A level 5 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading5: /*@__PURE__*/t(heading),\n    /**\n    A level 6 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading6: /*@__PURE__*/t(heading),\n    /**\n    A prose separator (such as a horizontal rule).\n    */\n    contentSeparator: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a list.\n    */\n    list: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a quote.\n    */\n    quote: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is emphasized.\n    */\n    emphasis: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled strong.\n    */\n    strong: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is part of a link.\n    */\n    link: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled as code or\n    monospace.\n    */\n    monospace: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that has a strike-through\n    style.\n    */\n    strikethrough: /*@__PURE__*/t(content),\n    /**\n    Inserted text in a change-tracking format.\n    */\n    inserted: /*@__PURE__*/t(),\n    /**\n    Deleted text.\n    */\n    deleted: /*@__PURE__*/t(),\n    /**\n    Changed text.\n    */\n    changed: /*@__PURE__*/t(),\n    /**\n    An invalid or unsyntactic element.\n    */\n    invalid: /*@__PURE__*/t(),\n    /**\n    Metadata or meta-instruction.\n    */\n    meta,\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that applies to the entire\n    document.\n    */\n    documentMeta: /*@__PURE__*/t(meta),\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that annotates or adds\n    attributes to a given syntactic element.\n    */\n    annotation: /*@__PURE__*/t(meta),\n    /**\n    Processing instruction or preprocessor directive. Subtag of\n    [meta](https://codemirror.net/6/docs/ref/#highlight.tags.meta).\n    */\n    processingInstruction: /*@__PURE__*/t(meta),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that a\n    given element is being defined. Expected to be used with the\n    various [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) tags.\n    */\n    definition: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that\n    something is constant. Mostly expected to be used with\n    [variable names](https://codemirror.net/6/docs/ref/#highlight.tags.variableName).\n    */\n    constant: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) used to indicate that\n    a [variable](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) or [property\n    name](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName) is being called or defined\n    as a function.\n    */\n    function: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that can be applied to\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) to indicate that they belong to\n    the language's standard environment.\n    */\n    standard: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates a given\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) is local to some scope.\n    */\n    local: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    A generic variant [modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that\n    can be used to tag language-specific alternative variants of\n    some common tag. It is recommended for themes to define special\n    forms of at least the [string](https://codemirror.net/6/docs/ref/#highlight.tags.string) and\n    [variable name](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) tags, since those\n    come up a lot.\n    */\n    special: /*@__PURE__*/Tag.defineModifier()\n};\n/**\nA default highlight style (works well with light themes).\n*/\nconst defaultHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        textDecoration: \"underline\",\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.keyword,\n        color: \"#708\" },\n    { tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],\n        color: \"#219\" },\n    { tag: [tags.literal, tags.inserted],\n        color: \"#164\" },\n    { tag: [tags.string, tags.deleted],\n        color: \"#a11\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)],\n        color: \"#e40\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName),\n        color: \"#00f\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName),\n        color: \"#30a\" },\n    { tag: [tags.typeName, tags.namespace],\n        color: \"#085\" },\n    { tag: tags.className,\n        color: \"#167\" },\n    { tag: [/*@__PURE__*/tags.special(tags.variableName), tags.macroName],\n        color: \"#256\" },\n    { tag: /*@__PURE__*/tags.definition(tags.propertyName),\n        color: \"#00c\" },\n    { tag: tags.comment,\n        color: \"#940\" },\n    { tag: tags.meta,\n        color: \"#7a757a\" },\n    { tag: tags.invalid,\n        color: \"#f00\" }\n]);\n/**\nThis is a highlight style that adds stable, predictable classes to\ntokens, for styling with external CSS.\n\nThese tags are mapped to their name prefixed with `\"cmt-\"` (for\nexample `\"cmt-comment\"`):\n\n* [`link`](https://codemirror.net/6/docs/ref/#highlight.tags.link)\n* [`heading`](https://codemirror.net/6/docs/ref/#highlight.tags.heading)\n* [`emphasis`](https://codemirror.net/6/docs/ref/#highlight.tags.emphasis)\n* [`strong`](https://codemirror.net/6/docs/ref/#highlight.tags.strong)\n* [`keyword`](https://codemirror.net/6/docs/ref/#highlight.tags.keyword)\n* [`atom`](https://codemirror.net/6/docs/ref/#highlight.tags.atom) [`bool`](https://codemirror.net/6/docs/ref/#highlight.tags.bool)\n* [`url`](https://codemirror.net/6/docs/ref/#highlight.tags.url)\n* [`labelName`](https://codemirror.net/6/docs/ref/#highlight.tags.labelName)\n* [`inserted`](https://codemirror.net/6/docs/ref/#highlight.tags.inserted)\n* [`deleted`](https://codemirror.net/6/docs/ref/#highlight.tags.deleted)\n* [`literal`](https://codemirror.net/6/docs/ref/#highlight.tags.literal)\n* [`string`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n* [`number`](https://codemirror.net/6/docs/ref/#highlight.tags.number)\n* [`variableName`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n* [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)\n* [`namespace`](https://codemirror.net/6/docs/ref/#highlight.tags.namespace)\n* [`macroName`](https://codemirror.net/6/docs/ref/#highlight.tags.macroName)\n* [`propertyName`](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName)\n* [`operator`](https://codemirror.net/6/docs/ref/#highlight.tags.operator)\n* [`comment`](https://codemirror.net/6/docs/ref/#highlight.tags.comment)\n* [`meta`](https://codemirror.net/6/docs/ref/#highlight.tags.meta)\n* [`punctuation`](https://codemirror.net/6/docs/ref/#highlight.tags.puncutation)\n* [`invalid`](https://codemirror.net/6/docs/ref/#highlight.tags.invalid)\n\nIn addition, these mappings are provided:\n\n* [`regexp`](https://codemirror.net/6/docs/ref/#highlight.tags.regexp),\n  [`escape`](https://codemirror.net/6/docs/ref/#highlight.tags.escape), and\n  [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(string)`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n  are mapped to `\"cmt-string2\"`\n* [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName2\"`\n* [`local`](https://codemirror.net/6/docs/ref/#highlight.tags.local)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-local\"`\n* [`definition`](https://codemirror.net/6/docs/ref/#highlight.tags.definition)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-definition\"`\n*/\nconst classHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link, class: \"cmt-link\" },\n    { tag: tags.heading, class: \"cmt-heading\" },\n    { tag: tags.emphasis, class: \"cmt-emphasis\" },\n    { tag: tags.strong, class: \"cmt-strong\" },\n    { tag: tags.keyword, class: \"cmt-keyword\" },\n    { tag: tags.atom, class: \"cmt-atom\" },\n    { tag: tags.bool, class: \"cmt-bool\" },\n    { tag: tags.url, class: \"cmt-url\" },\n    { tag: tags.labelName, class: \"cmt-labelName\" },\n    { tag: tags.inserted, class: \"cmt-inserted\" },\n    { tag: tags.deleted, class: \"cmt-deleted\" },\n    { tag: tags.literal, class: \"cmt-literal\" },\n    { tag: tags.string, class: \"cmt-string\" },\n    { tag: tags.number, class: \"cmt-number\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)], class: \"cmt-string2\" },\n    { tag: tags.variableName, class: \"cmt-variableName\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName), class: \"cmt-variableName cmt-local\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName), class: \"cmt-variableName cmt-definition\" },\n    { tag: /*@__PURE__*/tags.special(tags.variableName), class: \"cmt-variableName2\" },\n    { tag: tags.typeName, class: \"cmt-typeName\" },\n    { tag: tags.namespace, class: \"cmt-namespace\" },\n    { tag: tags.macroName, class: \"cmt-macroName\" },\n    { tag: tags.propertyName, class: \"cmt-propertyName\" },\n    { tag: tags.operator, class: \"cmt-operator\" },\n    { tag: tags.comment, class: \"cmt-comment\" },\n    { tag: tags.meta, class: \"cmt-meta\" },\n    { tag: tags.invalid, class: \"cmt-invalid\" },\n    { tag: tags.punctuation, class: \"cmt-punctuation\" }\n]);\n\nexport { HighlightStyle, Tag, classHighlightStyle, defaultHighlightStyle, highlightTree, styleTags, tags };\n","import { ViewPlugin, Direction, EditorView, logException } from '@codemirror/view';\nimport { Facet, StateEffect, StateField, MapMode } from '@codemirror/state';\n\nvar _a;\nconst ios = typeof navigator != \"undefined\" &&\n    !/*@__PURE__*//Edge\\/(\\d+)/.exec(navigator.userAgent) && /*@__PURE__*//Apple Computer/.test(navigator.vendor) &&\n    (/*@__PURE__*//Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2);\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return { shouldMeasure: false };\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0)\n                t.dom.remove();\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return { shouldMeasure: true };\n    }\n}\n/**\nReturn an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return tooltipConfig.of(config);\n}\nconst tooltipConfig = /*@__PURE__*/Facet.define({\n    combine: values => {\n        var _a, _b;\n        return ({\n            position: ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n            parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null\n        });\n    }\n});\nconst tooltipPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        let config = view.state.facet(tooltipConfig);\n        this.position = config.position;\n        this.parent = config.parent;\n        this.classes = view.themeClasses;\n        this.createContainer();\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n        this.maybeMeasure();\n    }\n    createContainer() {\n        if (this.parent) {\n            this.container = document.createElement(\"div\");\n            this.container.style.position = \"relative\";\n            this.container.className = this.view.themeClasses;\n            this.parent.appendChild(this.container);\n        }\n        else {\n            this.container = this.view.dom;\n        }\n    }\n    update(update) {\n        let { shouldMeasure } = this.manager.update(update);\n        let newConfig = update.state.facet(tooltipConfig);\n        if (newConfig.position != this.position) {\n            this.position = newConfig.position;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = this.position;\n            shouldMeasure = true;\n        }\n        if (newConfig.parent != this.parent) {\n            if (this.parent)\n                this.container.remove();\n            this.parent = newConfig.parent;\n            this.createContainer();\n            for (let t of this.manager.tooltipViews)\n                this.container.appendChild(t.dom);\n            shouldMeasure = true;\n        }\n        else if (this.parent && this.view.themeClasses != this.classes) {\n            this.classes = this.container.className = this.view.themeClasses;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        if (tooltip.arrow)\n            tooltipView.dom.classList.add(\"cm-tooltip-arrow\");\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.container.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        for (let { dom } of this.manager.tooltipViews)\n            dom.remove();\n    }\n    readMeasure() {\n        let editor = this.view.dom.getBoundingClientRect();\n        return {\n            editor,\n            parent: this.parent ? this.container.getBoundingClientRect() : editor,\n            pos: this.manager.tooltips.map(t => this.view.coordsAtPos(t.pos)),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            innerWidth: window.innerWidth,\n            innerHeight: window.innerHeight\n        };\n    }\n    writeMeasure(measured) {\n        let { editor } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= editor.top || pos.top >= editor.bottom || pos.right <= editor.left || pos.left >= editor.right) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let arrow = !!tooltip.arrow, above = !!tooltip.above;\n            let width = size.right - size.left, height = size.bottom - size.top + (arrow ? 7 /* Size */ : 0);\n            let left = this.view.textDirection == Direction.LTR\n                ? Math.min(pos.left - (arrow ? 14 /* Offset */ : 0), measured.innerWidth - width)\n                : Math.max(0, pos.left - width + (arrow ? 14 /* Offset */ : 0));\n            if (!tooltip.strictSide &&\n                (above ? pos.top - (size.bottom - size.top) < 0 : pos.bottom + (size.bottom - size.top) > measured.innerHeight))\n                above = !above;\n            let top = above ? pos.top - height : pos.bottom + (arrow ? 7 /* Size */ : 0), right = left + width;\n            for (let r of others)\n                if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                    top = above ? r.top - height : r.bottom;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - measured.parent.top) + \"px\";\n                dom.style.left = (left - measured.parent.left) + \"px\";\n            }\n            else {\n                dom.style.top = top + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned();\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst insetInlineStart = typeof document == 'undefined' || ((_a = document.body) === null || _a === void 0 ? void 0 : _a.style.insetInlineStart) != null\n    ? 'insetInlineStart' : 'left';\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #bbb\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #bbb\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tooltip.cm-tooltip-arrow:before, .cm-tooltip.cm-tooltip-arrow:after\": {\n        position: \"absolute\",\n        content: \"''\",\n        [insetInlineStart]: `${14 /* Offset */ - 7 /* Size */}px`,\n        width: 0,\n        height: 0,\n        borderLeft: `${7 /* Size */}px solid transparent`,\n        borderRight: `${7 /* Size */}px solid transparent`,\n        zIndex: -1\n    },\n    \".cm-tooltip-above.cm-tooltip-arrow:before\": {\n        borderTop: `${7 /* Size */}px solid #f5f5f5`,\n        bottom: `-${7 /* Size */ - 1}px`\n    },\n    \".cm-tooltip-below.cm-tooltip-arrow:before\": {\n        borderBottom: `${7 /* Size */}px solid #f5f5f5`,\n        top: `-${7 /* Size */ - 1}px`\n    },\n    \".cm-tooltip-above.cm-tooltip-arrow:after\": {\n        borderTop: `${7 /* Size */}px solid #bbb`,\n        bottom: `-${7 /* Size */}px`,\n        zIndex: -2\n    },\n    \".cm-tooltip-below.cm-tooltip-arrow:after\": {\n        borderBottom: `${7 /* Size */}px solid #bbb`,\n        top: `-${7 /* Size */}px`,\n        zIndex: -2\n    },\n    \"&dark .cm-tooltip.cm-tooltip-arrow:before\": {\n        borderTopColor: \"#333338\",\n        borderBottomColor: \"#333338\"\n    },\n    \"&dark .cm-tooltip.cm-tooltip-arrow:after\": {\n        borderTopColor: \"transparent\",\n        borderBottomColor: \"transparent\"\n    }\n});\n/**\nBehavior by which an extension can provide a tooltip to be shown.\n*/\nconst showTooltip = /*@__PURE__*/Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = /*@__PURE__*/Facet.define();\nclass HoverTooltipHost {\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned() {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned();\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n}\nconst showHoverTooltipHost = /*@__PURE__*/showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above,\n        arrow: tooltips.some(t => t.arrow),\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.lastMouseMove = null;\n        this.lastMoveTime = 0;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMoveTime;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        var _a;\n        clearTimeout(this.restartTimeout);\n        let lastMove = this.lastMouseMove;\n        let coords = { x: lastMove.clientX, y: lastMove.clientY };\n        let pos = this.view.contentDOM.contains(lastMove.target)\n            ? this.view.posAtCoords(coords) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || coords.y < posCoords.top || coords.y > posCoords.bottom ||\n            coords.x < posCoords.left - this.view.defaultCharacterWidth ||\n            coords.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (coords.x < posCoords.left ? -rtl : rtl));\n        if ((_a = open) === null || _a === void 0 ? void 0 : _a.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMouseMove = event;\n        this.lastMoveTime = Date.now();\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(event.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords({ x: event.clientX, y: event.clientY }) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, 6 /* MaxDist */))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave() {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active)\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nEnable a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos` return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer isit will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = StateEffect.define();\n    let hoverState = StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection)))\n                return null;\n            for (let effect of tr.effects)\n                if (effect.is(setHover))\n                    return effect.value;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                return copy;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    let hoverTime = options.hoverTime || 750 /* Time */;\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, hoverTime)),\n        showHoverTooltipHost\n    ];\n}\n\nexport { hoverTooltip, showTooltip, tooltips };\n","import { Facet, combineConfig, StateEffect, StateField, Prec, EditorSelection, Text } from '@codemirror/state';\nimport { EditorView, Direction, logException, ViewPlugin, Decoration, WidgetType, keymap } from '@codemirror/view';\nimport { showTooltip } from '@codemirror/tooltip';\nimport { syntaxTree, indentUnit } from '@codemirror/language';\nimport { codePointAt, codePointSize, fromCodePoint } from '@codemirror/text';\n\n/**\nAn instance of this is passed to completion source functions.\n*/\nclass CompletionContext {\n    /**\n    Create a new completion context. (Mostly useful for testing\n    completion sourcesin the editor, the extension will create\n    these for you.)\n    */\n    constructor(\n    /**\n    The editor state that the completion happens in.\n    */\n    state, \n    /**\n    The position at which the completion is happening.\n    */\n    pos, \n    /**\n    Indicates whether completion was activated explicitly, or\n    implicitly by typing. The usual way to respond to this is to\n    only return completions when either there is part of a\n    completable entity before the cursor, or `explicit` is true.\n    */\n    explicit) {\n        this.state = state;\n        this.pos = pos;\n        this.explicit = explicit;\n        /**\n        @internal\n        */\n        this.abortListeners = [];\n    }\n    /**\n    Get the extent, content, and (if there is a token) type of the\n    token before `this.pos`.\n    */\n    tokenBefore(types) {\n        let token = syntaxTree(this.state).resolveInner(this.pos, -1);\n        while (token && types.indexOf(token.name) < 0)\n            token = token.parent;\n        return token ? { from: token.from, to: this.pos,\n            text: this.state.sliceDoc(token.from, this.pos),\n            type: token.type } : null;\n    }\n    /**\n    Get the match of the given expression directly before the\n    cursor.\n    */\n    matchBefore(expr) {\n        let line = this.state.doc.lineAt(this.pos);\n        let start = Math.max(line.from, this.pos - 250);\n        let str = line.text.slice(start - line.from, this.pos - line.from);\n        let found = str.search(ensureAnchor(expr, false));\n        return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n    }\n    /**\n    Yields true when the query has been aborted. Can be useful in\n    asynchronous queries to avoid doing work that will be ignored.\n    */\n    get aborted() { return this.abortListeners == null; }\n    /**\n    Allows you to register abort handlers, which will be called when\n    the query is\n    [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n    */\n    addEventListener(type, listener) {\n        if (type == \"abort\" && this.abortListeners)\n            this.abortListeners.push(listener);\n    }\n}\nfunction toSet(chars) {\n    let flat = Object.keys(chars).join(\"\");\n    let words = /\\w/.test(flat);\n    if (words)\n        flat = flat.replace(/\\w/g, \"\");\n    return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n}\nfunction prefixMatch(options) {\n    let first = Object.create(null), rest = Object.create(null);\n    for (let { label } of options) {\n        first[label[0]] = true;\n        for (let i = 1; i < label.length; i++)\n            rest[label[i]] = true;\n    }\n    let source = toSet(first) + toSet(rest) + \"*$\";\n    return [new RegExp(\"^\" + source), new RegExp(source)];\n}\n/**\nGiven a a fixed array of options, return an autocompleter that\ncompletes them.\n*/\nfunction completeFromList(list) {\n    let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n    let [span, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n    return (context) => {\n        let token = context.matchBefore(match);\n        return token || context.explicit ? { from: token ? token.from : context.pos, options, span } : null;\n    };\n}\n/**\nWrap the given completion source so that it will only fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return source(context);\n        return null;\n    };\n}\n/**\nWrap the given completion source so that it will not fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifNotIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return null;\n        return source(context);\n    };\n}\nclass Option {\n    constructor(completion, source, match) {\n        this.completion = completion;\n        this.source = source;\n        this.match = match;\n    }\n}\nfunction cur(state) { return state.selection.main.head; }\n// Make sure the given regexp has a $ at its end and, if `start` is\n// true, a ^ at its start.\nfunction ensureAnchor(expr, start) {\n    var _a;\n    let { source } = expr;\n    let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n    if (!addStart && !addEnd)\n        return expr;\n    return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n}\nfunction applyCompletion(view, option) {\n    let apply = option.completion.apply || option.completion.label;\n    let result = option.source;\n    if (typeof apply == \"string\") {\n        view.dispatch({\n            changes: { from: result.from, to: result.to, insert: apply },\n            selection: { anchor: result.from + apply.length },\n            userEvent: \"input.complete\"\n        });\n    }\n    else {\n        apply(view, option.completion, result.from, result.to);\n    }\n}\nconst SourceCache = /*@__PURE__*/new WeakMap();\nfunction asSource(source) {\n    if (!Array.isArray(source))\n        return source;\n    let known = SourceCache.get(source);\n    if (!known)\n        SourceCache.set(source, known = completeFromList(source));\n    return known;\n}\n\n// A pattern matcher for fuzzy completion matching. Create an instance\n// once for a pattern, and then use that to match any number of\n// completions.\nclass FuzzyMatcher {\n    constructor(pattern) {\n        this.pattern = pattern;\n        this.chars = [];\n        this.folded = [];\n        // Buffers reused by calls to `match` to track matched character\n        // positions.\n        this.any = [];\n        this.precise = [];\n        this.byWord = [];\n        for (let p = 0; p < pattern.length;) {\n            let char = codePointAt(pattern, p), size = codePointSize(char);\n            this.chars.push(char);\n            let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n            this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n            p += size;\n        }\n        this.astral = pattern.length != this.chars.length;\n    }\n    // Matches a given word (completion) against the pattern (input).\n    // Will return null for no match, and otherwise an array that starts\n    // with the match score, followed by any number of `from, to` pairs\n    // indicating the matched parts of `word`.\n    //\n    // The score is a number that is more negative the worse the match\n    // is. See `Penalty` above.\n    match(word) {\n        if (this.pattern.length == 0)\n            return [0];\n        if (word.length < this.pattern.length)\n            return null;\n        let { chars, folded, any, precise, byWord } = this;\n        // For single-character queries, only match when they occur right\n        // at the start\n        if (chars.length == 1) {\n            let first = codePointAt(word, 0);\n            return first == chars[0] ? [0, 0, codePointSize(first)]\n                : first == folded[0] ? [-200 /* CaseFold */, 0, codePointSize(first)] : null;\n        }\n        let direct = word.indexOf(this.pattern);\n        if (direct == 0)\n            return [0, 0, this.pattern.length];\n        let len = chars.length, anyTo = 0;\n        if (direct < 0) {\n            for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                let next = codePointAt(word, i);\n                if (next == chars[anyTo] || next == folded[anyTo])\n                    any[anyTo++] = i;\n                i += codePointSize(next);\n            }\n            // No match, exit immediately\n            if (anyTo < len)\n                return null;\n        }\n        // This tracks the extent of the precise (non-folded, not\n        // necessarily adjacent) match\n        let preciseTo = 0;\n        // Tracks whether there is a match that hits only characters that\n        // appear to be starting words. `byWordFolded` is set to true when\n        // a case folded character is encountered in such a match\n        let byWordTo = 0, byWordFolded = false;\n        // If we've found a partial adjacent match, these track its state\n        let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n        let hasLower = /[a-z]/.test(word);\n        // Go over the option's text, scanning for the various kinds of matches\n        for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* NonWord */; i < e && byWordTo < len;) {\n            let next = codePointAt(word, i);\n            if (direct < 0) {\n                if (preciseTo < len && next == chars[preciseTo])\n                    precise[preciseTo++] = i;\n                if (adjacentTo < len) {\n                    if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                        if (adjacentTo == 0)\n                            adjacentStart = i;\n                        adjacentEnd = i + 1;\n                        adjacentTo++;\n                    }\n                    else {\n                        adjacentTo = 0;\n                    }\n                }\n            }\n            let ch, type = next < 0xff\n                ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Lower */ : next >= 65 && next <= 90 ? 1 /* Upper */ : 0 /* NonWord */)\n                : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Upper */ : ch != ch.toUpperCase() ? 2 /* Lower */ : 0 /* NonWord */);\n            if ((type == 1 /* Upper */ && hasLower || prevType == 0 /* NonWord */ && type != 0 /* NonWord */) &&\n                (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true))))\n                byWord[byWordTo++] = i;\n            prevType = type;\n            i += codePointSize(next);\n        }\n        if (byWordTo == len && byWord[0] == 0)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0), byWord, word);\n        if (adjacentTo == len && adjacentStart == 0)\n            return [-200 /* CaseFold */, 0, adjacentEnd];\n        if (direct > -1)\n            return [-700 /* NotStart */, direct, direct + this.pattern.length];\n        if (adjacentTo == len)\n            return [-200 /* CaseFold */ + -700 /* NotStart */, adjacentStart, adjacentEnd];\n        if (byWordTo == len)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0) + -700 /* NotStart */, byWord, word);\n        return chars.length == 2 ? null : this.result((any[0] ? -700 /* NotStart */ : 0) + -200 /* CaseFold */ + -1100 /* Gap */, any, word);\n    }\n    result(score, positions, word) {\n        let result = [score], i = 1;\n        for (let pos of positions) {\n            let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n            if (i > 1 && result[i - 1] == pos)\n                result[i - 1] = to;\n            else {\n                result[i++] = pos;\n                result[i++] = to;\n            }\n        }\n        return result;\n    }\n}\n\nconst completionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            activateOnTyping: true,\n            override: null,\n            maxRenderedOptions: 100,\n            defaultKeymap: true,\n            optionClass: () => \"\",\n            icons: true,\n            addToOptions: []\n        }, {\n            defaultKeymap: (a, b) => a && b,\n            icons: (a, b) => a && b,\n            optionClass: (a, b) => c => joinClass(a(c), b(c)),\n            addToOptions: (a, b) => a.concat(b)\n        });\n    }\n});\nfunction joinClass(a, b) {\n    return a ? b ? a + \" \" + b : a : b;\n}\n\nconst MaxInfoWidth = 300;\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip.cm-tooltip-autocomplete\": {\n        \"& > ul\": {\n            fontFamily: \"monospace\",\n            whiteSpace: \"nowrap\",\n            overflow: \"auto\",\n            maxWidth_fallback: \"700px\",\n            maxWidth: \"min(700px, 95vw)\",\n            maxHeight: \"10em\",\n            listStyle: \"none\",\n            margin: 0,\n            padding: 0,\n            \"& > li\": {\n                cursor: \"pointer\",\n                padding: \"1px 1em 1px 3px\",\n                lineHeight: 1.2\n            },\n        }\n    },\n    \"&light .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#39e\",\n        color: \"white\",\n    },\n    \"&dark .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#347\",\n        color: \"white\",\n    },\n    \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n        content: '\"\"',\n        opacity: 0.5,\n        display: \"block\",\n        textAlign: \"center\"\n    },\n    \".cm-tooltip.cm-completionInfo\": {\n        position: \"absolute\",\n        padding: \"3px 9px\",\n        width: \"max-content\",\n        maxWidth: MaxInfoWidth + \"px\",\n    },\n    \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n    \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n    \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n    \".cm-snippetFieldPosition\": {\n        verticalAlign: \"text-top\",\n        width: 0,\n        height: \"1.15em\",\n        margin: \"0 -0.7px -.7em\",\n        borderLeft: \"1.4px dotted #888\"\n    },\n    \".cm-completionMatchedText\": {\n        textDecoration: \"underline\"\n    },\n    \".cm-completionDetail\": {\n        marginLeft: \"0.5em\",\n        fontStyle: \"italic\"\n    },\n    \".cm-completionIcon\": {\n        fontSize: \"90%\",\n        width: \".8em\",\n        display: \"inline-block\",\n        textAlign: \"center\",\n        paddingRight: \".6em\",\n        opacity: \"0.6\"\n    },\n    \".cm-completionIcon-function, .cm-completionIcon-method\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-class\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-interface\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-variable\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-constant\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-type\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-enum\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-property\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-keyword\": {\n        \"&:after\": { content: \"'\\uFE0E'\" } // Disable emoji rendering\n    },\n    \".cm-completionIcon-namespace\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-text\": {\n        \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n    }\n});\n\nfunction optionContent(config) {\n    let content = config.addToOptions.slice();\n    if (config.icons)\n        content.push({\n            render(completion) {\n                let icon = document.createElement(\"div\");\n                icon.classList.add(\"cm-completionIcon\");\n                if (completion.type)\n                    icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n                icon.setAttribute(\"aria-hidden\", \"true\");\n                return icon;\n            },\n            position: 20\n        });\n    content.push({\n        render(completion, _s, match) {\n            let labelElt = document.createElement(\"span\");\n            labelElt.className = \"cm-completionLabel\";\n            let { label } = completion, off = 0;\n            for (let j = 1; j < match.length;) {\n                let from = match[j++], to = match[j++];\n                if (from > off)\n                    labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n                let span = labelElt.appendChild(document.createElement(\"span\"));\n                span.appendChild(document.createTextNode(label.slice(from, to)));\n                span.className = \"cm-completionMatchedText\";\n                off = to;\n            }\n            if (off < label.length)\n                labelElt.appendChild(document.createTextNode(label.slice(off)));\n            return labelElt;\n        },\n        position: 50\n    }, {\n        render(completion) {\n            if (!completion.detail)\n                return null;\n            let detailElt = document.createElement(\"span\");\n            detailElt.className = \"cm-completionDetail\";\n            detailElt.textContent = completion.detail;\n            return detailElt;\n        },\n        position: 80\n    });\n    return content.sort((a, b) => a.position - b.position).map(a => a.render);\n}\nfunction createInfoDialog(option, view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-tooltip cm-completionInfo\";\n    let { info } = option.completion;\n    if (typeof info == \"string\") {\n        dom.textContent = info;\n    }\n    else {\n        let content = info(option.completion);\n        if (content.then)\n            content.then(node => dom.appendChild(node), e => logException(view.state, e, \"completion info\"));\n        else\n            dom.appendChild(content);\n    }\n    return dom;\n}\nfunction rangeAroundSelected(total, selected, max) {\n    if (total <= max)\n        return { from: 0, to: total };\n    if (selected <= (total >> 1)) {\n        let off = Math.floor(selected / max);\n        return { from: off * max, to: (off + 1) * max };\n    }\n    let off = Math.floor((total - selected) / max);\n    return { from: total - (off + 1) * max, to: total - off * max };\n}\nclass CompletionTooltip {\n    constructor(view, stateField) {\n        this.view = view;\n        this.stateField = stateField;\n        this.info = null;\n        this.placeInfo = {\n            read: () => this.measureInfo(),\n            write: (pos) => this.positionInfo(pos),\n            key: this\n        };\n        let cState = view.state.field(stateField);\n        let { options, selected } = cState.open;\n        let config = view.state.facet(completionConfig);\n        this.optionContent = optionContent(config);\n        this.optionClass = config.optionClass;\n        this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-tooltip-autocomplete\";\n        this.dom.addEventListener(\"mousedown\", (e) => {\n            for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                    applyCompletion(view, options[+match[1]]);\n                    e.preventDefault();\n                    return;\n                }\n            }\n        });\n        this.list = this.dom.appendChild(this.createListBox(options, cState.id, this.range));\n        this.list.addEventListener(\"scroll\", () => {\n            if (this.info)\n                this.view.requestMeasure(this.placeInfo);\n        });\n    }\n    mount() { this.updateSel(); }\n    update(update) {\n        if (update.state.field(this.stateField) != update.startState.field(this.stateField))\n            this.updateSel();\n    }\n    positioned() {\n        if (this.info)\n            this.view.requestMeasure(this.placeInfo);\n    }\n    updateSel() {\n        let cState = this.view.state.field(this.stateField), open = cState.open;\n        if (open.selected < this.range.from || open.selected >= this.range.to) {\n            this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n            this.list.remove();\n            this.list = this.dom.appendChild(this.createListBox(open.options, cState.id, this.range));\n            this.list.addEventListener(\"scroll\", () => {\n                if (this.info)\n                    this.view.requestMeasure(this.placeInfo);\n            });\n        }\n        if (this.updateSelectedOption(open.selected)) {\n            if (this.info) {\n                this.info.remove();\n                this.info = null;\n            }\n            let option = open.options[open.selected];\n            if (option.completion.info) {\n                this.info = this.dom.appendChild(createInfoDialog(option, this.view));\n                this.view.requestMeasure(this.placeInfo);\n            }\n        }\n    }\n    updateSelectedOption(selected) {\n        let set = null;\n        for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n            if (i == selected) {\n                if (!opt.hasAttribute(\"aria-selected\")) {\n                    opt.setAttribute(\"aria-selected\", \"true\");\n                    set = opt;\n                }\n            }\n            else {\n                if (opt.hasAttribute(\"aria-selected\"))\n                    opt.removeAttribute(\"aria-selected\");\n            }\n        }\n        if (set)\n            scrollIntoView(this.list, set);\n        return set;\n    }\n    measureInfo() {\n        let sel = this.dom.querySelector(\"[aria-selected]\");\n        if (!sel)\n            return null;\n        let rect = this.dom.getBoundingClientRect();\n        let top = sel.getBoundingClientRect().top - rect.top;\n        if (top < 0 || top > this.list.clientHeight - 10)\n            return null;\n        let left = this.view.textDirection == Direction.RTL;\n        let spaceLeft = rect.left, spaceRight = innerWidth - rect.right;\n        if (left && spaceLeft < Math.min(MaxInfoWidth, spaceRight))\n            left = false;\n        else if (!left && spaceRight < Math.min(MaxInfoWidth, spaceLeft))\n            left = true;\n        return { top, left };\n    }\n    positionInfo(pos) {\n        if (this.info && pos) {\n            this.info.style.top = pos.top + \"px\";\n            this.info.classList.toggle(\"cm-completionInfo-left\", pos.left);\n            this.info.classList.toggle(\"cm-completionInfo-right\", !pos.left);\n        }\n    }\n    createListBox(options, id, range) {\n        const ul = document.createElement(\"ul\");\n        ul.id = id;\n        ul.setAttribute(\"role\", \"listbox\");\n        for (let i = range.from; i < range.to; i++) {\n            let { completion, match } = options[i];\n            const li = ul.appendChild(document.createElement(\"li\"));\n            li.id = id + \"-\" + i;\n            li.setAttribute(\"role\", \"option\");\n            let cls = this.optionClass(completion);\n            if (cls)\n                li.className = cls;\n            for (let source of this.optionContent) {\n                let node = source(completion, this.view.state, match);\n                if (node)\n                    li.appendChild(node);\n            }\n        }\n        if (range.from)\n            ul.classList.add(\"cm-completionListIncompleteTop\");\n        if (range.to < options.length)\n            ul.classList.add(\"cm-completionListIncompleteBottom\");\n        return ul;\n    }\n}\n// We allocate a new function instance every time the completion\n// changes to force redrawing/repositioning of the tooltip\nfunction completionTooltip(stateField) {\n    return (view) => new CompletionTooltip(view, stateField);\n}\nfunction scrollIntoView(container, element) {\n    let parent = container.getBoundingClientRect();\n    let self = element.getBoundingClientRect();\n    if (self.top < parent.top)\n        container.scrollTop -= parent.top - self.top;\n    else if (self.bottom > parent.bottom)\n        container.scrollTop += self.bottom - parent.bottom;\n}\n\nconst MaxOptions = 300;\n// Used to pick a preferred option when two options with the same\n// label occur in the result.\nfunction score(option) {\n    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n        (option.type ? 1 : 0);\n}\nfunction sortOptions(active, state) {\n    let options = [], i = 0;\n    for (let a of active)\n        if (a.hasResult()) {\n            if (a.result.filter === false) {\n                for (let option of a.result.options)\n                    options.push(new Option(option, a, [1e9 - i++]));\n            }\n            else {\n                let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to)), match;\n                for (let option of a.result.options)\n                    if (match = matcher.match(option.label)) {\n                        if (option.boost != null)\n                            match[0] += option.boost;\n                        options.push(new Option(option, a, match));\n                    }\n            }\n        }\n    options.sort(cmpOption);\n    let result = [], prev = null;\n    for (let opt of options.sort(cmpOption)) {\n        if (result.length == MaxOptions)\n            break;\n        if (!prev || prev.label != opt.completion.label || prev.detail != opt.completion.detail)\n            result.push(opt);\n        else if (score(opt.completion) > score(prev))\n            result[result.length - 1] = opt;\n        prev = opt.completion;\n    }\n    return result;\n}\nclass CompletionDialog {\n    constructor(options, attrs, tooltip, timestamp, selected) {\n        this.options = options;\n        this.attrs = attrs;\n        this.tooltip = tooltip;\n        this.timestamp = timestamp;\n        this.selected = selected;\n    }\n    setSelected(selected, id) {\n        return selected == this.selected || selected >= this.options.length ? this\n            : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected);\n    }\n    static build(active, state, id, prev) {\n        let options = sortOptions(active, state);\n        if (!options.length)\n            return null;\n        let selected = 0;\n        if (prev && prev.selected) {\n            let selectedValue = prev.options[prev.selected].completion;\n            for (let i = 0; i < options.length && !selected; i++) {\n                if (options[i].completion == selectedValue)\n                    selected = i;\n            }\n        }\n        return new CompletionDialog(options, makeAttrs(id, selected), {\n            pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n            create: completionTooltip(completionState)\n        }, prev ? prev.timestamp : Date.now(), selected);\n    }\n    map(changes) {\n        return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected);\n    }\n}\nclass CompletionState {\n    constructor(active, id, open) {\n        this.active = active;\n        this.id = id;\n        this.open = open;\n    }\n    static start() {\n        return new CompletionState(none, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n    }\n    update(tr) {\n        let { state } = tr, conf = state.facet(completionConfig);\n        let sources = conf.override ||\n            state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n        let active = sources.map(source => {\n            let value = this.active.find(s => s.source == source) ||\n                new ActiveSource(source, this.active.some(a => a.state != 0 /* Inactive */) ? 1 /* Pending */ : 0 /* Inactive */);\n            return value.update(tr, conf);\n        });\n        if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n            active = this.active;\n        let open = tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n            !sameResults(active, this.active) ? CompletionDialog.build(active, state, this.id, this.open)\n            : this.open && tr.docChanged ? this.open.map(tr.changes) : this.open;\n        if (!open && active.every(a => a.state != 1 /* Pending */) && active.some(a => a.hasResult()))\n            active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* Inactive */) : a);\n        for (let effect of tr.effects)\n            if (effect.is(setSelectedEffect))\n                open = open && open.setSelected(effect.value, this.id);\n        return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n    }\n    get tooltip() { return this.open ? this.open.tooltip : null; }\n    get attrs() { return this.open ? this.open.attrs : baseAttrs; }\n}\nfunction sameResults(a, b) {\n    if (a == b)\n        return true;\n    for (let iA = 0, iB = 0;;) {\n        while (iA < a.length && !a[iA].hasResult)\n            iA++;\n        while (iB < b.length && !b[iB].hasResult)\n            iB++;\n        let endA = iA == a.length, endB = iB == b.length;\n        if (endA || endB)\n            return endA == endB;\n        if (a[iA++].result != b[iB++].result)\n            return false;\n    }\n}\nconst baseAttrs = {\n    \"aria-autocomplete\": \"list\",\n    \"aria-expanded\": \"false\"\n};\nfunction makeAttrs(id, selected) {\n    return {\n        \"aria-autocomplete\": \"list\",\n        \"aria-expanded\": \"true\",\n        \"aria-activedescendant\": id + \"-\" + selected,\n        \"aria-controls\": id\n    };\n}\nconst none = [];\nfunction cmpOption(a, b) {\n    let dScore = b.match[0] - a.match[0];\n    if (dScore)\n        return dScore;\n    return a.completion.label.localeCompare(b.completion.label);\n}\nfunction getUserEvent(tr) {\n    return tr.isUserEvent(\"input.type\") ? \"input\" : tr.isUserEvent(\"delete.backward\") ? \"delete\" : null;\n}\nclass ActiveSource {\n    constructor(source, state, explicitPos = -1) {\n        this.source = source;\n        this.state = state;\n        this.explicitPos = explicitPos;\n    }\n    hasResult() { return false; }\n    update(tr, conf) {\n        let event = getUserEvent(tr), value = this;\n        if (event)\n            value = value.handleUserEvent(tr, event, conf);\n        else if (tr.docChanged)\n            value = value.handleChange(tr);\n        else if (tr.selection && value.state != 0 /* Inactive */)\n            value = new ActiveSource(value.source, 0 /* Inactive */);\n        for (let effect of tr.effects) {\n            if (effect.is(startCompletionEffect))\n                value = new ActiveSource(value.source, 1 /* Pending */, effect.value ? cur(tr.state) : -1);\n            else if (effect.is(closeCompletionEffect))\n                value = new ActiveSource(value.source, 0 /* Inactive */);\n            else if (effect.is(setActiveEffect))\n                for (let active of effect.value)\n                    if (active.source == value.source)\n                        value = active;\n        }\n        return value;\n    }\n    handleUserEvent(tr, type, conf) {\n        return type == \"delete\" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1 /* Pending */);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(changes) {\n        return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));\n    }\n}\nclass ActiveResult extends ActiveSource {\n    constructor(source, explicitPos, result, from, to, span) {\n        super(source, 2 /* Result */, explicitPos);\n        this.result = result;\n        this.from = from;\n        this.to = to;\n        this.span = span;\n    }\n    hasResult() { return true; }\n    handleUserEvent(tr, type, conf) {\n        let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n        let pos = cur(tr.state);\n        if ((this.explicitPos > -1 ? pos < from : pos <= from) || pos > to)\n            return new ActiveSource(this.source, type == \"input\" && conf.activateOnTyping ? 1 /* Pending */ : 0 /* Inactive */);\n        let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos);\n        if (this.span && (from == to || this.span.test(tr.state.sliceDoc(from, to))))\n            return new ActiveResult(this.source, explicitPos, this.result, from, to, this.span);\n        return new ActiveSource(this.source, 1 /* Pending */, explicitPos);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(mapping) {\n        return mapping.empty ? this :\n            new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1), this.span);\n    }\n}\nconst startCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst closeCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst setActiveEffect = /*@__PURE__*/StateEffect.define({\n    map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n});\nconst setSelectedEffect = /*@__PURE__*/StateEffect.define();\nconst completionState = /*@__PURE__*/StateField.define({\n    create() { return CompletionState.start(); },\n    update(value, tr) { return value.update(tr); },\n    provide: f => [\n        showTooltip.from(f, val => val.tooltip),\n        EditorView.contentAttributes.from(f, state => state.attrs)\n    ]\n});\n\nconst CompletionInteractMargin = 75;\n/**\nReturns a command that moves the completion selection forward or\nbackward by the given amount.\n*/\nfunction moveCompletionSelection(forward, by = \"option\") {\n    return (view) => {\n        let cState = view.state.field(completionState, false);\n        if (!cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n            return false;\n        let step = 1, tooltip;\n        if (by == \"page\" && (tooltip = view.dom.querySelector(\".cm-tooltip-autocomplete\")))\n            step = Math.max(2, Math.floor(tooltip.offsetHeight / tooltip.firstChild.offsetHeight));\n        let selected = cState.open.selected + step * (forward ? 1 : -1), { length } = cState.open.options;\n        if (selected < 0)\n            selected = by == \"page\" ? 0 : length - 1;\n        else if (selected >= length)\n            selected = by == \"page\" ? length - 1 : 0;\n        view.dispatch({ effects: setSelectedEffect.of(selected) });\n        return true;\n    };\n}\n/**\nAccept the current completion.\n*/\nconst acceptCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (view.state.readOnly || !cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n        return false;\n    applyCompletion(view, cState.open.options[cState.open.selected]);\n    return true;\n};\n/**\nExplicitly start autocompletion.\n*/\nconst startCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState)\n        return false;\n    view.dispatch({ effects: startCompletionEffect.of(true) });\n    return true;\n};\n/**\nClose the currently active completion.\n*/\nconst closeCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.active.some(a => a.state != 0 /* Inactive */))\n        return false;\n    view.dispatch({ effects: closeCompletionEffect.of(null) });\n    return true;\n};\nclass RunningQuery {\n    constructor(active, context) {\n        this.active = active;\n        this.context = context;\n        this.time = Date.now();\n        this.updates = [];\n        // Note that 'undefined' means 'not done yet', whereas 'null' means\n        // 'query returned null'.\n        this.done = undefined;\n    }\n}\nconst DebounceTime = 50, MaxUpdateCount = 50, MinAbortTime = 1000;\nconst completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.debounceUpdate = -1;\n        this.running = [];\n        this.debounceAccept = -1;\n        this.composing = 0 /* None */;\n        for (let active of view.state.field(completionState).active)\n            if (active.state == 1 /* Pending */)\n                this.startQuery(active);\n    }\n    update(update) {\n        let cState = update.state.field(completionState);\n        if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n            return;\n        let doesReset = update.transactions.some(tr => {\n            return (tr.selection || tr.docChanged) && !getUserEvent(tr);\n        });\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (doesReset ||\n                query.updates.length + update.transactions.length > MaxUpdateCount && query.time - Date.now() > MinAbortTime) {\n                for (let handler of query.context.abortListeners) {\n                    try {\n                        handler();\n                    }\n                    catch (e) {\n                        logException(this.view.state, e);\n                    }\n                }\n                query.context.abortListeners = null;\n                this.running.splice(i--, 1);\n            }\n            else {\n                query.updates.push(...update.transactions);\n            }\n        }\n        if (this.debounceUpdate > -1)\n            clearTimeout(this.debounceUpdate);\n        this.debounceUpdate = cState.active.some(a => a.state == 1 /* Pending */ && !this.running.some(q => q.active.source == a.source))\n            ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;\n        if (this.composing != 0 /* None */)\n            for (let tr of update.transactions) {\n                if (getUserEvent(tr) == \"input\")\n                    this.composing = 2 /* Changed */;\n                else if (this.composing == 2 /* Changed */ && tr.selection)\n                    this.composing = 3 /* ChangedAndMoved */;\n            }\n    }\n    startUpdate() {\n        this.debounceUpdate = -1;\n        let { state } = this.view, cState = state.field(completionState);\n        for (let active of cState.active) {\n            if (active.state == 1 /* Pending */ && !this.running.some(r => r.active.source == active.source))\n                this.startQuery(active);\n        }\n    }\n    startQuery(active) {\n        let { state } = this.view, pos = cur(state);\n        let context = new CompletionContext(state, pos, active.explicitPos == pos);\n        let pending = new RunningQuery(active, context);\n        this.running.push(pending);\n        Promise.resolve(active.source(context)).then(result => {\n            if (!pending.context.aborted) {\n                pending.done = result || null;\n                this.scheduleAccept();\n            }\n        }, err => {\n            this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            logException(this.view.state, err);\n        });\n    }\n    scheduleAccept() {\n        if (this.running.every(q => q.done !== undefined))\n            this.accept();\n        else if (this.debounceAccept < 0)\n            this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);\n    }\n    // For each finished query in this.running, try to create a result\n    // or, if appropriate, restart the query.\n    accept() {\n        var _a;\n        if (this.debounceAccept > -1)\n            clearTimeout(this.debounceAccept);\n        this.debounceAccept = -1;\n        let updated = [];\n        let conf = this.view.state.facet(completionConfig);\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (query.done === undefined)\n                continue;\n            this.running.splice(i--, 1);\n            if (query.done) {\n                let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : cur(query.updates.length ? query.updates[0].startState : this.view.state), query.done.span && query.done.filter !== false ? ensureAnchor(query.done.span, true) : null);\n                // Replay the transactions that happened since the start of\n                // the request and see if that preserves the result\n                for (let tr of query.updates)\n                    active = active.update(tr, conf);\n                if (active.hasResult()) {\n                    updated.push(active);\n                    continue;\n                }\n            }\n            let current = this.view.state.field(completionState).active.find(a => a.source == query.active.source);\n            if (current && current.state == 1 /* Pending */) {\n                if (query.done == null) {\n                    // Explicitly failed. Should clear the pending status if it\n                    // hasn't been re-set in the meantime.\n                    let active = new ActiveSource(query.active.source, 0 /* Inactive */);\n                    for (let tr of query.updates)\n                        active = active.update(tr, conf);\n                    if (active.state != 1 /* Pending */)\n                        updated.push(active);\n                }\n                else {\n                    // Cleared by subsequent transactions. Restart.\n                    this.startQuery(current);\n                }\n            }\n        }\n        if (updated.length)\n            this.view.dispatch({ effects: setActiveEffect.of(updated) });\n    }\n}, {\n    eventHandlers: {\n        compositionstart() {\n            this.composing = 1 /* Started */;\n        },\n        compositionend() {\n            if (this.composing == 3 /* ChangedAndMoved */) {\n                // Safari fires compositionend events synchronously, possibly\n                // from inside an update, so dispatch asynchronously to avoid reentrancy\n                setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n            }\n            this.composing = 0 /* None */;\n        }\n    }\n});\n\nclass FieldPos {\n    constructor(field, line, from, to) {\n        this.field = field;\n        this.line = line;\n        this.from = from;\n        this.to = to;\n    }\n}\nclass FieldRange {\n    constructor(field, from, to) {\n        this.field = field;\n        this.from = from;\n        this.to = to;\n    }\n    map(changes) {\n        return new FieldRange(this.field, changes.mapPos(this.from, -1), changes.mapPos(this.to, 1));\n    }\n}\nclass Snippet {\n    constructor(lines, fieldPositions) {\n        this.lines = lines;\n        this.fieldPositions = fieldPositions;\n    }\n    instantiate(state, pos) {\n        let text = [], lineStart = [pos];\n        let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n        for (let line of this.lines) {\n            if (text.length) {\n                let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                for (let i = 0; i < tabs; i++)\n                    indent += state.facet(indentUnit);\n                lineStart.push(pos + indent.length - tabs);\n                line = indent + line.slice(tabs);\n            }\n            text.push(line);\n            pos += line.length + 1;\n        }\n        let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n        return { text, ranges };\n    }\n    static parse(template) {\n        let fields = [];\n        let lines = [], positions = [], m;\n        for (let line of template.split(/\\r\\n?|\\n/)) {\n            while (m = /[#$]\\{(?:(\\d+)(?::([^}]*))?|([^}]*))\\}/.exec(line)) {\n                let seq = m[1] ? +m[1] : null, name = m[2] || m[3], found = -1;\n                for (let i = 0; i < fields.length; i++) {\n                    if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                        found = i;\n                }\n                if (found < 0) {\n                    let i = 0;\n                    while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                        i++;\n                    fields.splice(i, 0, { seq, name: name || null });\n                    found = i;\n                    for (let pos of positions)\n                        if (pos.field >= found)\n                            pos.field++;\n                }\n                positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                line = line.slice(0, m.index) + name + line.slice(m.index + m[0].length);\n            }\n            lines.push(line);\n        }\n        return new Snippet(lines, positions);\n    }\n}\nlet fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM() {\n            let span = document.createElement(\"span\");\n            span.className = \"cm-snippetFieldPosition\";\n            return span;\n        }\n        ignoreEvent() { return false; }\n    } });\nlet fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\nclass ActiveSnippet {\n    constructor(ranges, active) {\n        this.ranges = ranges;\n        this.active = active;\n        this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));\n    }\n    map(changes) {\n        return new ActiveSnippet(this.ranges.map(r => r.map(changes)), this.active);\n    }\n    selectionInsideField(sel) {\n        return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n    }\n}\nconst setActive = /*@__PURE__*/StateEffect.define({\n    map(value, changes) { return value && value.map(changes); }\n});\nconst moveToField = /*@__PURE__*/StateEffect.define();\nconst snippetState = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setActive))\n                return effect.value;\n            if (effect.is(moveToField) && value)\n                return new ActiveSnippet(value.ranges, effect.value);\n        }\n        if (value && tr.docChanged)\n            value = value.map(tr.changes);\n        if (value && tr.selection && !value.selectionInsideField(tr.selection))\n            value = null;\n        return value;\n    },\n    provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n});\nfunction fieldSelection(ranges, field) {\n    return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n}\n/**\nConvert a snippet template to a function that can apply it.\nSnippets are written using syntax like this:\n\n    \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\nEach `${}` placeholder (you may also use `#{}`) indicates a field\nthat the user can fill in. Its name, if any, will be the default\ncontent for the field.\n\nWhen the snippet is activated by calling the returned function,\nthe code is inserted at the given position. Newlines in the\ntemplate are indented by the indentation of the start line, plus\none [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\nthe newline.\n\nOn activation, (all instances of) the first field are selected.\nThe user can move between fields with Tab and Shift-Tab as long as\nthe fields are active. Moving to the last field or moving the\ncursor out of the current field deactivates the fields.\n\nThe order of fields defaults to textual order, but you can add\nnumbers to placeholders (`${1}` or `${1:defaultText}`) to provide\na custom order.\n*/\nfunction snippet(template) {\n    let snippet = Snippet.parse(template);\n    return (editor, _completion, from, to) => {\n        let { text, ranges } = snippet.instantiate(editor.state, from);\n        let spec = { changes: { from, to, insert: Text.of(text) } };\n        if (ranges.length)\n            spec.selection = fieldSelection(ranges, 0);\n        if (ranges.length > 1) {\n            let active = new ActiveSnippet(ranges, 0);\n            let effects = spec.effects = [setActive.of(active)];\n            if (editor.state.field(snippetState, false) === undefined)\n                effects.push(StateEffect.appendConfig.of([snippetState.init(() => active), addSnippetKeymap,\n                    snippetPointerHandler, baseTheme]));\n        }\n        editor.dispatch(editor.state.update(spec));\n    };\n}\nfunction moveField(dir) {\n    return ({ state, dispatch }) => {\n        let active = state.field(snippetState, false);\n        if (!active || dir < 0 && active.active == 0)\n            return false;\n        let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n        dispatch(state.update({\n            selection: fieldSelection(active.ranges, next),\n            effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next))\n        }));\n        return true;\n    };\n}\n/**\nA command that clears the active snippet, if any.\n*/\nconst clearSnippet = ({ state, dispatch }) => {\n    let active = state.field(snippetState, false);\n    if (!active)\n        return false;\n    dispatch(state.update({ effects: setActive.of(null) }));\n    return true;\n};\n/**\nMove to the next snippet field, if available.\n*/\nconst nextSnippetField = /*@__PURE__*/moveField(1);\n/**\nMove to the previous snippet field, if available.\n*/\nconst prevSnippetField = /*@__PURE__*/moveField(-1);\nconst defaultSnippetKeymap = [\n    { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n    { key: \"Escape\", run: clearSnippet }\n];\n/**\nA facet that can be used to configure the key bindings used by\nsnippets. The default binds Tab to\n[`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n[`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\nto [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n*/\nconst snippetKeymap = /*@__PURE__*/Facet.define({\n    combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n});\nconst addSnippetKeymap = /*@__PURE__*/Prec.override(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n/**\nCreate a completion from a snippet. Returns an object with the\nproperties from `completion`, plus an `apply` function that\napplies the snippet.\n*/\nfunction snippetCompletion(template, completion) {\n    return Object.assign(Object.assign({}, completion), { apply: snippet(template) });\n}\nconst snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n    mousedown(event, view) {\n        let active = view.state.field(snippetState, false), pos;\n        if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n            return false;\n        let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n        if (!match || match.field == active.active)\n            return false;\n        view.dispatch({\n            selection: fieldSelection(active.ranges, match.field),\n            effects: setActive.of(active.ranges.some(r => r.field > match.field) ? new ActiveSnippet(active.ranges, match.field) : null)\n        });\n        return true;\n    }\n});\n\nfunction wordRE(wordChars) {\n    let escaped = wordChars.replace(/[\\\\[.+*?(){|^$]/g, \"\\\\$&\");\n    try {\n        return new RegExp(`[\\\\p{Alphabetic}\\\\p{Number}_${escaped}]+`, \"ug\");\n    }\n    catch (_a) {\n        return new RegExp(`[\\w${escaped}]`, \"g\");\n    }\n}\nfunction mapRE(re, f) {\n    return new RegExp(f(re.source), re.unicode ? \"u\" : \"\");\n}\nconst wordCaches = /*@__PURE__*/Object.create(null);\nfunction wordCache(wordChars) {\n    return wordCaches[wordChars] || (wordCaches[wordChars] = new WeakMap);\n}\nfunction storeWords(doc, wordRE, result, seen, ignoreAt) {\n    for (let lines = doc.iterLines(), pos = 0; !lines.next().done;) {\n        let { value } = lines, m;\n        wordRE.lastIndex = 0;\n        while (m = wordRE.exec(value)) {\n            if (!seen[m[0]] && pos + m.index != ignoreAt) {\n                result.push({ type: \"text\", label: m[0] });\n                seen[m[0]] = true;\n                if (result.length >= 2000 /* MaxList */)\n                    return;\n            }\n        }\n        pos += value.length + 1;\n    }\n}\nfunction collectWords(doc, cache, wordRE, to, ignoreAt) {\n    let big = doc.length >= 1000 /* MinCacheLen */;\n    let cached = big && cache.get(doc);\n    if (cached)\n        return cached;\n    let result = [], seen = Object.create(null);\n    if (doc.children) {\n        let pos = 0;\n        for (let ch of doc.children) {\n            if (ch.length >= 1000 /* MinCacheLen */) {\n                for (let c of collectWords(ch, cache, wordRE, to - pos, ignoreAt - pos)) {\n                    if (!seen[c.label]) {\n                        seen[c.label] = true;\n                        result.push(c);\n                    }\n                }\n            }\n            else {\n                storeWords(ch, wordRE, result, seen, ignoreAt - pos);\n            }\n            pos += ch.length + 1;\n        }\n    }\n    else {\n        storeWords(doc, wordRE, result, seen, ignoreAt);\n    }\n    if (big && result.length < 2000 /* MaxList */)\n        cache.set(doc, result);\n    return result;\n}\n/**\nA completion source that will scan the document for words (using a\n[character categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer)), and\nreturn those as completions.\n*/\nconst completeAnyWord = context => {\n    let wordChars = context.state.languageDataAt(\"wordChars\", context.pos).join(\"\");\n    let re = wordRE(wordChars);\n    let token = context.matchBefore(mapRE(re, s => s + \"$\"));\n    if (!token && !context.explicit)\n        return null;\n    let from = token ? token.from : context.pos;\n    let options = collectWords(context.state.doc, wordCache(wordChars), re, 50000 /* Range */, from);\n    return { from, options, span: mapRE(re, s => \"^\" + s) };\n};\n\n/**\nReturns an extension that enables autocompletion.\n*/\nfunction autocompletion(config = {}) {\n    return [\n        completionState,\n        completionConfig.of(config),\n        completionPlugin,\n        completionKeymapExt,\n        baseTheme\n    ];\n}\n/**\nBasic keybindings for autocompletion.\n\n - Ctrl-Space: [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n*/\nconst completionKeymap = [\n    { key: \"Ctrl-Space\", run: startCompletion },\n    { key: \"Escape\", run: closeCompletion },\n    { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n    { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n    { key: \"Enter\", run: acceptCompletion }\n];\nconst completionKeymapExt = /*@__PURE__*/Prec.override(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n/**\nGet the current completion status. When completions are available,\nthis will return `\"active\"`. When completions are pending (in the\nprocess of being queried), this returns `\"pending\"`. Otherwise, it\nreturns `null`.\n*/\nfunction completionStatus(state) {\n    let cState = state.field(completionState, false);\n    return cState && cState.active.some(a => a.state == 1 /* Pending */) ? \"pending\"\n        : cState && cState.active.some(a => a.state != 0 /* Inactive */) ? \"active\" : null;\n}\n/**\nReturns the available completions as an array.\n*/\nfunction currentCompletions(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open ? open.options.map(o => o.completion) : [];\n}\n\nexport { CompletionContext, acceptCompletion, autocompletion, clearSnippet, closeCompletion, completeAnyWord, completeFromList, completionKeymap, completionStatus, currentCompletions, ifIn, ifNotIn, moveCompletionSelection, nextSnippetField, prevSnippetField, snippet, snippetCompletion, snippetKeymap, startCompletion };\n","import { parser } from '@lezer/javascript';\nimport { LRLanguage, indentNodeProp, continuedIndent, flatIndent, delimitedIndent, foldNodeProp, foldInside, LanguageSupport } from '@codemirror/language';\nimport { styleTags, tags } from '@codemirror/highlight';\nimport { snippetCompletion, ifNotIn, completeFromList } from '@codemirror/autocomplete';\n\n/**\nA collection of JavaScript-related\n[snippets](https://codemirror.net/6/docs/ref/#autocomplete.snippet).\n*/\nconst snippets = [\n    /*@__PURE__*/snippetCompletion(\"function ${name}(${params}) {\\n\\t${}\\n}\", {\n        label: \"function\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${name} of ${collection}) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"of loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"try {\\n\\t${}\\n} catch (${error}) {\\n\\t${}\\n}\", {\n        label: \"try\",\n        detail: \"block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"class ${name} {\\n\\tconstructor(${params}) {\\n\\t\\t${}\\n\\t}\\n}\", {\n        label: \"class\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import {${names}} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"named\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import ${name} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"default\",\n        type: \"keyword\"\n    })\n];\n\n/**\nA language provider based on the [Lezer JavaScript\nparser](https://github.com/lezer-parser/javascript), extended with\nhighlighting and indentation information.\n*/\nconst javascriptLanguage = /*@__PURE__*/LRLanguage.define({\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                IfStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|else\\b)/ }),\n                TryStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|catch\\b|finally\\b)/ }),\n                LabeledStatement: flatIndent,\n                SwitchBody: context => {\n                    let after = context.textAfter, closed = /^\\s*\\}/.test(after), isCase = /^\\s*(case|default)\\b/.test(after);\n                    return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;\n                },\n                Block: /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                ArrowFunction: cx => cx.baseIndent + cx.unit,\n                \"TemplateString BlockComment\": () => -1,\n                \"Statement Property\": /*@__PURE__*/continuedIndent({ except: /^{/ }),\n                JSXElement(context) {\n                    let closed = /^\\s*<\\//.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                JSXEscape(context) {\n                    let closed = /\\s*\\}/.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                \"JSXOpenTag JSXSelfClosingTag\"(context) {\n                    return context.column(context.node.from) + context.unit;\n                }\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression\": foldInside,\n                BlockComment(tree) { return { from: tree.from + 2, to: tree.to - 2 }; }\n            }),\n            /*@__PURE__*/styleTags({\n                \"get set async static\": tags.modifier,\n                \"for while do if else switch try catch finally return throw break continue default case\": tags.controlKeyword,\n                \"in of await yield void typeof delete instanceof\": tags.operatorKeyword,\n                \"export import let var const function class extends\": tags.definitionKeyword,\n                \"with debugger from as new\": tags.keyword,\n                TemplateString: /*@__PURE__*/tags.special(tags.string),\n                Super: tags.atom,\n                BooleanLiteral: tags.bool,\n                this: tags.self,\n                null: tags.null,\n                Star: tags.modifier,\n                VariableName: tags.variableName,\n                \"CallExpression/VariableName\": /*@__PURE__*/tags.function(tags.variableName),\n                VariableDefinition: /*@__PURE__*/tags.definition(tags.variableName),\n                Label: tags.labelName,\n                PropertyName: tags.propertyName,\n                \"CallExpression/MemberExpression/PropertyName\": /*@__PURE__*/tags.function(tags.propertyName),\n                \"FunctionDeclaration/VariableDefinition\": /*@__PURE__*/tags.function(/*@__PURE__*/tags.definition(tags.variableName)),\n                \"ClassDeclaration/VariableDefinition\": /*@__PURE__*/tags.definition(tags.className),\n                PropertyNameDefinition: /*@__PURE__*/tags.definition(tags.propertyName),\n                UpdateOp: tags.updateOperator,\n                LineComment: tags.lineComment,\n                BlockComment: tags.blockComment,\n                Number: tags.number,\n                String: tags.string,\n                ArithOp: tags.arithmeticOperator,\n                LogicOp: tags.logicOperator,\n                BitOp: tags.bitwiseOperator,\n                CompareOp: tags.compareOperator,\n                RegExp: tags.regexp,\n                Equals: tags.definitionOperator,\n                \"Arrow : Spread\": tags.punctuation,\n                \"( )\": tags.paren,\n                \"[ ]\": tags.squareBracket,\n                \"{ }\": tags.brace,\n                \".\": tags.derefOperator,\n                \", ;\": tags.separator,\n                TypeName: tags.typeName,\n                TypeDefinition: /*@__PURE__*/tags.definition(tags.typeName),\n                \"type enum interface implements namespace module declare\": tags.definitionKeyword,\n                \"abstract global privacy readonly override\": tags.modifier,\n                \"is keyof unique infer\": tags.operatorKeyword,\n                JSXAttributeValue: tags.attributeValue,\n                JSXText: tags.content,\n                \"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag\": tags.angleBracket,\n                \"JSXIdentifier JSXNameSpacedName\": tags.tagName,\n                \"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName\": tags.attributeName\n            })\n        ]\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"`\"] },\n        commentTokens: { line: \"//\", block: { open: \"/*\", close: \"*/\" } },\n        indentOnInput: /^\\s*(?:case |default:|\\{|\\}|<\\/)$/,\n        wordChars: \"$\"\n    }\n});\n/**\nA language provider for TypeScript.\n*/\nconst typescriptLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"ts\" });\n/**\nLanguage provider for JSX.\n*/\nconst jsxLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"jsx\" });\n/**\nLanguage provider for JSX + TypeScript.\n*/\nconst tsxLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"jsx ts\" });\n/**\nJavaScript support. Includes [snippet](https://codemirror.net/6/docs/ref/#lang-javascript.snippets)\ncompletion.\n*/\nfunction javascript(config = {}) {\n    let lang = config.jsx ? (config.typescript ? tsxLanguage : jsxLanguage)\n        : config.typescript ? typescriptLanguage : javascriptLanguage;\n    return new LanguageSupport(lang, javascriptLanguage.data.of({\n        autocomplete: ifNotIn([\"LineComment\", \"BlockComment\", \"String\"], completeFromList(snippets))\n    }));\n}\n\n/**\nConnects an [ESLint](https://eslint.org/) linter to CodeMirror's\n[lint](https://codemirror.net/6/docs/ref/#lint) integration. `eslint` should be an instance of the\n[`Linter`](https://eslint.org/docs/developer-guide/nodejs-api#linter)\nclass, and `config` an optional ESLint configuration. The return\nvalue of this function can be passed to [`linter`](https://codemirror.net/6/docs/ref/#lint.linter)\nto create a JavaScript linting extension.\n\nNote that ESLint targets node, and is tricky to run in the\nbrowser. The [eslint4b](https://github.com/mysticatea/eslint4b)\nand\n[eslint4b-prebuilt](https://github.com/marijnh/eslint4b-prebuilt/)\npackages may help with that.\n*/\nfunction esLint(eslint, config) {\n    if (!config) {\n        config = {\n            parserOptions: { ecmaVersion: 2019, sourceType: \"module\" },\n            env: { browser: true, node: true, es6: true, es2015: true, es2017: true, es2020: true },\n            rules: {}\n        };\n        eslint.getRules().forEach((desc, name) => {\n            if (desc.meta.docs.recommended)\n                config.rules[name] = 2;\n        });\n    }\n    return (view) => {\n        let { state } = view, found = [];\n        for (let { from, to } of javascriptLanguage.findRegions(state)) {\n            let fromLine = state.doc.lineAt(from), offset = { line: fromLine.number - 1, col: from - fromLine.from, pos: from };\n            for (let d of eslint.verify(state.sliceDoc(from, to), config))\n                found.push(translateDiagnostic(d, state.doc, offset));\n        }\n        return found;\n    };\n}\nfunction mapPos(line, col, doc, offset) {\n    return doc.line(line + offset.line).from + col + (line == 1 ? offset.col - 1 : -1);\n}\nfunction translateDiagnostic(input, doc, offset) {\n    let start = mapPos(input.line, input.column, doc, offset);\n    let result = {\n        from: start,\n        to: input.endLine != null && input.endColumn != 1 ? mapPos(input.endLine, input.endColumn, doc, offset) : start,\n        message: input.message,\n        source: input.ruleId ? \"jshint:\" + input.ruleId : \"jshint\",\n        severity: input.severity == 1 ? \"warning\" : \"error\",\n    };\n    if (input.fix) {\n        let { range, text } = input.fix, from = range[0] + offset.pos - start, to = range[1] + offset.pos - start;\n        result.actions = [{\n                name: \"fix\",\n                apply(view, start) {\n                    view.dispatch({ changes: { from: start + from, to: start + to, insert: text }, scrollIntoView: true });\n                }\n            }];\n    }\n    return result;\n}\n\nexport { esLint, javascript, javascriptLanguage, jsxLanguage, snippets, tsxLanguage, typescriptLanguage };\n","import { ExternalTokenizer, ContextTracker, LRParser } from '@lezer/lr';\nimport { NodeProp } from '@lezer/common';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst printKeyword = 1,\n  indent = 162,\n  dedent = 163,\n  newline$1 = 164,\n  newlineBracketed = 165,\n  newlineEmpty = 166,\n  eof = 167,\n  ParenthesizedExpression = 21,\n  ParenL = 22,\n  TupleExpression = 47,\n  ComprehensionExpression = 48,\n  ArrayExpression = 52,\n  BracketL = 53,\n  ArrayComprehensionExpression = 55,\n  DictionaryExpression = 56,\n  BraceL = 57,\n  DictionaryComprehensionExpression = 59,\n  SetExpression = 60,\n  SetComprehensionExpression = 61,\n  ArgList = 63,\n  subscript = 203,\n  FormatReplacement = 71,\n  importList = 228,\n  ParamList = 121;\n\nconst newline = 10, carriageReturn = 13, space = 32, tab = 9, hash = 35, parenOpen = 40, dot = 46;\n\nconst bracketed = [\n  ParenthesizedExpression, TupleExpression, ComprehensionExpression, importList, ArgList, ParamList,\n  ArrayExpression, ArrayComprehensionExpression, subscript,\n  SetExpression, SetComprehensionExpression,\n  DictionaryExpression, DictionaryComprehensionExpression, FormatReplacement\n];\n\nconst newlines = new ExternalTokenizer((input, stack) => {\n  if (input.next < 0) {\n    input.acceptToken(eof);\n  } else if (input.next != newline && input.next != carriageReturn) ; else if (stack.context.depth < 0) {\n    input.acceptToken(newlineBracketed, 1);\n  } else {\n    input.advance();\n    let spaces = 0;\n    while (input.next == space || input.next == tab) { input.advance(); spaces++; }\n    let empty = input.next == newline || input.next == carriageReturn || input.next == hash;\n    input.acceptToken(empty ? newlineEmpty : newline$1, -spaces);\n  }\n}, {contextual: true, fallback: true});\n\nconst indentation = new ExternalTokenizer((input, stack) => {\n  let cDepth = stack.context.depth;\n  if (cDepth < 0) return\n  let prev = input.peek(-1);\n  if ((prev == newline || prev == carriageReturn) && stack.context.depth >= 0) {\n    let depth = 0, chars = 0;\n    for (;;) {\n      if (input.next == space) depth++;\n      else if (input.next == tab) depth += 8 - (depth % 8);\n      else break\n      input.advance();\n      chars++;\n    }\n    if (depth != cDepth &&\n        input.next != newline && input.next != carriageReturn && input.next != hash) {\n      if (depth < cDepth) input.acceptToken(dedent, -chars);\n      else input.acceptToken(indent);\n    }\n  }\n});\n\nfunction IndentLevel(parent, depth) {\n  this.parent = parent;\n  // -1 means this is not an actual indent level but a set of brackets\n  this.depth = depth;\n  this.hash = (parent ? parent.hash + parent.hash << 8 : 0) + depth + (depth << 4);\n}\n\nconst topIndent = new IndentLevel(null, 0);\n\nconst trackIndent = new ContextTracker({\n  start: topIndent,\n  reduce(context, term) {\n    return context.depth < 0 && bracketed.indexOf(term) > -1 ? context.parent : context\n  },\n  shift(context, term, stack, input) {\n    if (term == indent) return new IndentLevel(context, stack.pos - input.pos)\n    if (term == dedent) return context.parent\n    if (term == ParenL || term == BracketL || term == BraceL) return new IndentLevel(context, -1)\n    return context\n  },\n  hash(context) { return context.hash }\n});\n\nconst legacyPrint = new ExternalTokenizer(input => {\n  for (let i = 0; i < 5; i++) {\n    if (input.next != \"print\".charCodeAt(i)) return\n    input.advance();\n  }\n  if (/\\w/.test(String.fromCharCode(input.next))) return\n  for (let off = 0;; off++) {\n    let next = input.peek(off);\n    if (next == space || next == tab) continue\n    if (next != parenOpen && next != dot && next != newline && next != carriageReturn && next != hash)\n      input.acceptToken(printKeyword);\n    return\n  }\n});\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,await:40, or:48, and:50, in:54, not:56, is:58, if:64, else:66, lambda:70, yield:88, from:90, async:98, for:100, None:152, True:154, False:154, del:168, pass:172, break:176, continue:180, return:184, raise:192, import:196, as:198, global:202, nonlocal:204, assert:208, elif:218, while:222, try:228, except:230, finally:232, with:236, def:240, class:250};\nconst parser = LRParser.deserialize({\n  version: 13,\n  states: \"!?pO`Q$IXOOO%cQ$I[O'#GaOOQ$IS'#Cm'#CmOOQ$IS'#Cn'#CnO'RQ$IWO'#ClO(tQ$I[O'#G`OOQ$IS'#Ga'#GaOOQ$IS'#DR'#DROOQ$IS'#G`'#G`O)bQ$IWO'#CqO)rQ$IWO'#DbO*SQ$IWO'#DfOOQ$IS'#Ds'#DsO*gO`O'#DsO*oOpO'#DsO*wO!bO'#DtO+SO#tO'#DtO+_O&jO'#DtO+jO,UO'#DtO-lQ$I[O'#GQOOQ$IS'#GQ'#GQO'RQ$IWO'#GPO/OQ$I[O'#GPOOQ$IS'#E]'#E]O/gQ$IWO'#E^OOQ$IS'#GO'#GOO/qQ$IWO'#F}OOQ$IV'#F}'#F}O/|Q$IWO'#FPOOQ$IS'#Fr'#FrO0RQ$IWO'#FOOOQ$IV'#H]'#H]OOQ$IV'#F|'#F|OOQ$IT'#FR'#FRQ`Q$IXOOO'RQ$IWO'#CoO0aQ$IWO'#CzO0hQ$IWO'#DOO0vQ$IWO'#GeO1WQ$I[O'#EQO'RQ$IWO'#EROOQ$IS'#ET'#ETOOQ$IS'#EV'#EVOOQ$IS'#EX'#EXO1lQ$IWO'#EZO2SQ$IWO'#E_O/|Q$IWO'#EaO2gQ$I[O'#EaO/|Q$IWO'#EdO/gQ$IWO'#EgO/gQ$IWO'#EkO/gQ$IWO'#EnO2rQ$IWO'#EpO2yQ$IWO'#EuO3UQ$IWO'#EqO/gQ$IWO'#EuO/|Q$IWO'#EwO/|Q$IWO'#E|OOQ$IS'#Cc'#CcOOQ$IS'#Cd'#CdOOQ$IS'#Ce'#CeOOQ$IS'#Cf'#CfOOQ$IS'#Cg'#CgOOQ$IS'#Ch'#ChOOQ$IS'#Cj'#CjO'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O3ZQ$IWO'#DmOOQ$IS,5:W,5:WO3nQ$IWO'#GoOOQ$IS,5:Z,5:ZO3{Q%1`O,5:ZO4QQ$I[O,59WO0aQ$IWO,59_O0aQ$IWO,59_O0aQ$IWO,59_O6pQ$IWO,59_O6uQ$IWO,59_O6|Q$IWO,59gO7TQ$IWO'#G`O8ZQ$IWO'#G_OOQ$IS'#G_'#G_OOQ$IS'#DX'#DXO8rQ$IWO,59]O'RQ$IWO,59]O9QQ$IWO,59]O9VQ$IWO,5:PO'RQ$IWO,5:POOQ$IS,59|,59|O9eQ$IWO,59|O9jQ$IWO,5:VO'RQ$IWO,5:VO'RQ$IWO,5:TOOQ$IS,5:Q,5:QO9{Q$IWO,5:QO:QQ$IWO,5:UOOOO'#FZ'#FZO:VO`O,5:_OOQ$IS,5:_,5:_OOOO'#F['#F[O:_OpO,5:_O:gQ$IWO'#DuOOOO'#F]'#F]O:wO!bO,5:`OOQ$IS,5:`,5:`OOOO'#F`'#F`O;SO#tO,5:`OOOO'#Fa'#FaO;_O&jO,5:`OOOO'#Fb'#FbO;jO,UO,5:`OOQ$IS'#Fc'#FcO;uQ$I[O,5:dO>gQ$I[O,5<kO?QQ%GlO,5<kO?qQ$I[O,5<kOOQ$IS,5:x,5:xO@YQ$IXO'#FkOAiQ$IWO,5;TOOQ$IV,5<i,5<iOAtQ$I[O'#HXOB]Q$IWO,5;kOOQ$IS-E9p-E9pOOQ$IV,5;j,5;jO3PQ$IWO'#EwOOQ$IT-E9P-E9POBeQ$I[O,59ZODlQ$I[O,59fOEVQ$IWO'#GbOEbQ$IWO'#GbO/|Q$IWO'#GbOEmQ$IWO'#DQOEuQ$IWO,59jOEzQ$IWO'#GfO'RQ$IWO'#GfO/gQ$IWO,5=POOQ$IS,5=P,5=PO/gQ$IWO'#D|OOQ$IS'#D}'#D}OFiQ$IWO'#FeOFyQ$IWO,58zOGXQ$IWO,58zO)eQ$IWO,5:jOG^Q$I[O'#GhOOQ$IS,5:m,5:mOOQ$IS,5:u,5:uOGqQ$IWO,5:yOHSQ$IWO,5:{OOQ$IS'#Fh'#FhOHbQ$I[O,5:{OHpQ$IWO,5:{OHuQ$IWO'#H[OOQ$IS,5;O,5;OOITQ$IWO'#HWOOQ$IS,5;R,5;RO3UQ$IWO,5;VO3UQ$IWO,5;YOIfQ$I[O'#H^O'RQ$IWO'#H^OIpQ$IWO,5;[O2rQ$IWO,5;[O/gQ$IWO,5;aO/|Q$IWO,5;cOIuQ$IXO'#ElOKOQ$IZO,5;]ONaQ$IWO'#H_O3UQ$IWO,5;aONlQ$IWO,5;cONqQ$IWO,5;hO!#fQ$I[O1G.hO!#mQ$I[O1G.hO!&^Q$I[O1G.hO!&hQ$I[O1G.hO!)RQ$I[O1G.hO!)fQ$I[O1G.hO!)yQ$IWO'#GnO!*XQ$I[O'#GQO/gQ$IWO'#GnO!*cQ$IWO'#GmOOQ$IS,5:X,5:XO!*kQ$IWO,5:XO!*pQ$IWO'#GpO!*{Q$IWO'#GpO!+`Q$IWO,5=ZOOQ$IS'#Dq'#DqOOQ$IS1G/u1G/uOOQ$IS1G.y1G.yO!,`Q$I[O1G.yO!,gQ$I[O1G.yO0aQ$IWO1G.yO!-SQ$IWO1G/ROOQ$IS'#DW'#DWO/gQ$IWO,59qOOQ$IS1G.w1G.wO!-ZQ$IWO1G/cO!-kQ$IWO1G/cO!-sQ$IWO1G/dO'RQ$IWO'#GgO!-xQ$IWO'#GgO!-}Q$I[O1G.wO!._Q$IWO,59fO!/eQ$IWO,5=VO!/uQ$IWO,5=VO!/}Q$IWO1G/kO!0SQ$I[O1G/kOOQ$IS1G/h1G/hO!0dQ$IWO,5=QO!1ZQ$IWO,5=QO/gQ$IWO1G/oO!1xQ$IWO1G/qO!1}Q$I[O1G/qO!2_Q$I[O1G/oOOQ$IS1G/l1G/lOOQ$IS1G/p1G/pOOOO-E9X-E9XOOQ$IS1G/y1G/yOOOO-E9Y-E9YO!2oQ$IWO'#G{O/gQ$IWO'#G{O!2}Q$IWO,5:aOOOO-E9Z-E9ZOOQ$IS1G/z1G/zOOOO-E9^-E9^OOOO-E9_-E9_OOOO-E9`-E9`OOQ$IS-E9a-E9aO!3YQ%GlO1G2VO!3yQ$I[O1G2VO'RQ$IWO,5<OOOQ$IS,5<O,5<OOOQ$IS-E9b-E9bOOQ$IS,5<V,5<VOOQ$IS-E9i-E9iOOQ$IV1G0o1G0oO/|Q$IWO'#FgO!4bQ$I[O,5=sOOQ$IS1G1V1G1VO!4yQ$IWO1G1VOOQ$IS'#DS'#DSO/gQ$IWO,5<|OOQ$IS,5<|,5<|O!5OQ$IWO'#FSO!5ZQ$IWO,59lO!5cQ$IWO1G/UO!5mQ$I[O,5=QOOQ$IS1G2k1G2kOOQ$IS,5:h,5:hO!6^Q$IWO'#GPOOQ$IS,5<P,5<POOQ$IS-E9c-E9cO!6oQ$IWO1G.fOOQ$IS1G0U1G0UO!6}Q$IWO,5=SO!7_Q$IWO,5=SO/gQ$IWO1G0eO/gQ$IWO1G0eO/|Q$IWO1G0gOOQ$IS-E9f-E9fO!7pQ$IWO1G0gO!7{Q$IWO1G0gO!8QQ$IWO,5=vO!8`Q$IWO,5=vO!8nQ$IWO,5=rO!9UQ$IWO,5=rO!9gQ$IZO1G0qO!<uQ$IZO1G0tO!@QQ$IWO,5=xO!@[Q$IWO,5=xO!@dQ$I[O,5=xO/gQ$IWO1G0vO!@nQ$IWO1G0vO3UQ$IWO1G0{ONlQ$IWO1G0}OOQ$IV,5;W,5;WO!@sQ$IYO,5;WO!@xQ$IZO1G0wO!DZQ$IWO'#FoO3UQ$IWO1G0wO3UQ$IWO1G0wO!DhQ$IWO,5=yO!DuQ$IWO,5=yO/|Q$IWO,5=yOOQ$IV1G0{1G0{O!D}Q$IWO'#EyO!E`Q%1`O1G0}OOQ$IV1G1S1G1SO3UQ$IWO1G1SOOQ$IS,5=Y,5=YOOQ$IS'#Dn'#DnO/gQ$IWO,5=YO!EhQ$IWO,5=XO!E{Q$IWO,5=XOOQ$IS1G/s1G/sO!FTQ$IWO,5=[O!FeQ$IWO,5=[O!FmQ$IWO,5=[O!GQQ$IWO,5=[O!GbQ$IWO,5=[OOQ$IS1G2u1G2uOOQ$IS7+$e7+$eO!5cQ$IWO7+$mO!ITQ$IWO1G.yO!I[Q$IWO1G.yOOQ$IS1G/]1G/]OOQ$IS,5;p,5;pO'RQ$IWO,5;pOOQ$IS7+$}7+$}O!IcQ$IWO7+$}OOQ$IS-E9S-E9SOOQ$IS7+%O7+%OO!IsQ$IWO,5=RO'RQ$IWO,5=ROOQ$IS7+$c7+$cO!IxQ$IWO7+$}O!JQQ$IWO7+%OO!JVQ$IWO1G2qOOQ$IS7+%V7+%VO!JgQ$IWO1G2qO!JoQ$IWO7+%VOOQ$IS,5;o,5;oO'RQ$IWO,5;oO!JtQ$IWO1G2lOOQ$IS-E9R-E9RO!KkQ$IWO7+%ZOOQ$IS7+%]7+%]O!KyQ$IWO1G2lO!LhQ$IWO7+%]O!LmQ$IWO1G2rO!L}Q$IWO1G2rO!MVQ$IWO7+%ZO!M[Q$IWO,5=gO!MrQ$IWO,5=gO!MrQ$IWO,5=gO!NQO!LQO'#DwO!N]OSO'#G|OOOO1G/{1G/{O!NbQ$IWO1G/{O!NjQ%GlO7+'qO# ZQ$I[O1G1jP# tQ$IWO'#FdOOQ$IS,5<R,5<ROOQ$IS-E9e-E9eOOQ$IS7+&q7+&qOOQ$IS1G2h1G2hOOQ$IS,5;n,5;nOOQ$IS-E9Q-E9QOOQ$IS7+$p7+$pO#!RQ$IWO,5<kO#!lQ$IWO,5<kO#!}Q$I[O,5;qO##bQ$IWO1G2nOOQ$IS-E9T-E9TOOQ$IS7+&P7+&PO##rQ$IWO7+&POOQ$IS7+&R7+&RO#$QQ$IWO'#HZO/|Q$IWO'#HYO#$fQ$IWO7+&ROOQ$IS,5<U,5<UO#$qQ$IWO1G3bOOQ$IS-E9h-E9hOOQ$IS,5<Q,5<QO#%PQ$IWO1G3^OOQ$IS-E9d-E9dO#%gQ$IZO7+&]O!DZQ$IWO'#FmO3UQ$IWO7+&]O3UQ$IWO7+&`O#(uQ$I[O,5<YO'RQ$IWO,5<YO#)PQ$IWO1G3dOOQ$IS-E9l-E9lO#)ZQ$IWO1G3dO3UQ$IWO7+&bO/gQ$IWO7+&bOOQ$IV7+&g7+&gO!E`Q%1`O7+&iO#)cQ$IXO1G0rOOQ$IV-E9m-E9mO3UQ$IWO7+&cO3UQ$IWO7+&cOOQ$IV,5<Z,5<ZO#+UQ$IWO,5<ZOOQ$IV7+&c7+&cO#+aQ$IZO7+&cO#.lQ$IWO,5<[O#.wQ$IWO1G3eOOQ$IS-E9n-E9nO#/UQ$IWO1G3eO#/^Q$IWO'#HaO#/lQ$IWO'#HaO/|Q$IWO'#HaOOQ$IS'#Ha'#HaO#/wQ$IWO'#H`OOQ$IS,5;e,5;eO#0PQ$IWO,5;eO/gQ$IWO'#E{OOQ$IV7+&i7+&iO3UQ$IWO7+&iOOQ$IV7+&n7+&nOOQ$IS1G2t1G2tOOQ$IS,5;s,5;sO#0UQ$IWO1G2sOOQ$IS-E9V-E9VO#0iQ$IWO,5;tO#0tQ$IWO,5;tO#1XQ$IWO1G2vOOQ$IS-E9W-E9WO#1iQ$IWO1G2vO#1qQ$IWO1G2vO#2RQ$IWO1G2vO#1iQ$IWO1G2vOOQ$IS<<HX<<HXO#2^Q$I[O1G1[OOQ$IS<<Hi<<HiP#2kQ$IWO'#FUO6|Q$IWO1G2mO#2xQ$IWO1G2mO#2}Q$IWO<<HiOOQ$IS<<Hj<<HjO#3_Q$IWO7+(]OOQ$IS<<Hq<<HqO#3oQ$I[O1G1ZP#4`Q$IWO'#FTO#4mQ$IWO7+(^O#4}Q$IWO7+(^O#5VQ$IWO<<HuO#5[Q$IWO7+(WOOQ$IS<<Hw<<HwO#6RQ$IWO,5;rO'RQ$IWO,5;rOOQ$IS-E9U-E9UOOQ$IS<<Hu<<HuOOQ$IS,5;x,5;xO/gQ$IWO,5;xO#6WQ$IWO1G3ROOQ$IS-E9[-E9[O#6nQ$IWO1G3ROOOO'#F_'#F_O#6|O!LQO,5:cOOOO,5=h,5=hOOOO7+%g7+%gO#7XQ$IWO1G2VO#7rQ$IWO1G2VP'RQ$IWO'#FVO/gQ$IWO<<IkO#8TQ$IWO,5=uO#8fQ$IWO,5=uO/|Q$IWO,5=uO#8wQ$IWO,5=tOOQ$IS<<Im<<ImP/|Q$IWO'#FjP/gQ$IWO'#FfOOQ$IV-E9k-E9kO3UQ$IWO<<IwOOQ$IV,5<X,5<XO3UQ$IWO,5<XOOQ$IV<<Iw<<IwOOQ$IV<<Iz<<IzO#8|Q$I[O1G1tP#9WQ$IWO'#FnO#9_Q$IWO7+)OO#9iQ$IZO<<I|O3UQ$IWO<<I|OOQ$IV<<JT<<JTO3UQ$IWO<<JTOOQ$IV'#Fl'#FlO#<tQ$IZO7+&^OOQ$IV<<I}<<I}O#>mQ$IZO<<I}OOQ$IV1G1u1G1uO/|Q$IWO1G1uO3UQ$IWO<<I}O/|Q$IWO1G1vP/gQ$IWO'#FpO#AxQ$IWO7+)PO#BVQ$IWO7+)POOQ$IS'#Ez'#EzO/gQ$IWO,5={O#B_Q$IWO,5={OOQ$IS,5={,5={O#BjQ$IWO,5=zO#B{Q$IWO,5=zOOQ$IS1G1P1G1POOQ$IS,5;g,5;gP#CTQ$IWO'#FXO#CeQ$IWO1G1`O#CxQ$IWO1G1`O#DYQ$IWO1G1`P#DeQ$IWO'#FYO#DrQ$IWO7+(bO#ESQ$IWO7+(bO#ESQ$IWO7+(bO#E[Q$IWO7+(bO#ElQ$IWO7+(XO6|Q$IWO7+(XOOQ$ISAN>TAN>TO#FVQ$IWO<<KxOOQ$ISAN>aAN>aO/gQ$IWO1G1^O#FgQ$I[O1G1^P#FqQ$IWO'#FWOOQ$IS1G1d1G1dP#GOQ$IWO'#F^O#G]Q$IWO7+(mOOOO-E9]-E9]O#GsQ$IWO7+'qOOQ$ISAN?VAN?VO#H^Q$IWO,5<TO#HrQ$IWO1G3aOOQ$IS-E9g-E9gO#ITQ$IWO1G3aOOQ$IS1G3`1G3`OOQ$IVAN?cAN?cOOQ$IV1G1s1G1sO3UQ$IWOAN?hO#IfQ$IZOAN?hOOQ$IVAN?oAN?oOOQ$IV-E9j-E9jOOQ$IV<<Ix<<IxO3UQ$IWOAN?iO3UQ$IWO7+'aOOQ$IVAN?iAN?iOOQ$IS7+'b7+'bO#LqQ$IWO<<LkOOQ$IS1G3g1G3gO/gQ$IWO1G3gOOQ$IS,5<],5<]O#MOQ$IWO1G3fOOQ$IS-E9o-E9oO#MaQ$IWO7+&zO#MqQ$IWO7+&zOOQ$IS7+&z7+&zO#M|Q$IWO<<K|O#N^Q$IWO<<K|O#N^Q$IWO<<K|O#NfQ$IWO'#GiOOQ$IS<<Ks<<KsO#NpQ$IWO<<KsOOQ$IS7+&x7+&xO/|Q$IWO1G1oP/|Q$IWO'#FiO$ ZQ$IWO7+({O$ lQ$IWO7+({OOQ$IVG25SG25SO3UQ$IWOG25SOOQ$IVG25TG25TOOQ$IV<<J{<<J{OOQ$IS7+)R7+)RP$ }Q$IWO'#FqOOQ$IS<<Jf<<JfO$!]Q$IWO<<JfO$!mQ$IWOANAhO$!}Q$IWOANAhO$#VQ$IWO'#GjOOQ$IS'#Gj'#GjO0hQ$IWO'#DaO$#pQ$IWO,5=TOOQ$ISANA_ANA_OOQ$IS7+'Z7+'ZO$$XQ$IWO<<LgOOQ$IVLD*nLD*nOOQ$ISAN@QAN@QO$$jQ$IWOG27SO$$zQ$IWO,59{OOQ$IS1G2o1G2oO#NfQ$IWO1G/gOOQ$IS7+%R7+%RO6|Q$IWO'#CzO6|Q$IWO,59_O6|Q$IWO,59_O6|Q$IWO,59_O$%PQ$I[O,5<kO6|Q$IWO1G.yO/gQ$IWO1G/UO/gQ$IWO7+$mP$%dQ$IWO'#FdO'RQ$IWO'#GPO$%qQ$IWO,59_O$%vQ$IWO,59_O$%}Q$IWO,59jO$&SQ$IWO1G/RO0hQ$IWO'#DOO6|Q$IWO,59g\",\n  stateData: \"$&j~O$oOS$lOS$kOSQOS~OPhOTeOdsOfXOltOp!SOsuO|vO}!PO!R!VO!S!UO!VYO!ZZO!fdO!mdO!ndO!odO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO$jqO$zQO${QO%PRO%QVO%f[O%g]O%j^O%m_O%s`O%vaO%xbO~OT!aO]!aO_!bOf!iO!V!kO!d!mO$u![O$v!]O$w!^O$x!_O$y!_O$z!`O${!`O$|!aO$}!aO%O!aO~Oh%TXi%TXj%TXk%TXl%TXm%TXp%TXw%TXx%TX!s%TX#^%TX$j%TX$m%TX%V%TX!O%TX!R%TX!S%TX%W%TX!W%TX![%TX}%TX#V%TXq%TX!j%TX~P$_OdsOfXO!VYO!ZZO!fdO!mdO!ndO!odO$zQO${QO%PRO%QVO%f[O%g]O%j^O%m_O%s`O%vaO%xbO~Ow%SXx%SX#^%SX$j%SX$m%SX%V%SX~Oh!pOi!qOj!oOk!oOl!rOm!sOp!tO!s%SX~P(`OT!zOl-dOs-rO|vO~P'ROT!}Ol-dOs-rO!W#OO~P'ROT#RO_#SOl-dOs-rO![#TO~P'RO%h#WO%i#YO~O%k#ZO%l#YO~O!Z#]O%n#^O%r#`O~O!Z#]O%t#aO%u#`O~O!Z#]O%i#`O%w#cO~O!Z#]O%l#`O%y#eO~OT$tX]$tX_$tXf$tXh$tXi$tXj$tXk$tXl$tXm$tXp$tXw$tX!V$tX!d$tX$u$tX$v$tX$w$tX$x$tX$y$tX$z$tX${$tX$|$tX$}$tX%O$tX!O$tX!R$tX!S$tX~O%f[O%g]O%j^O%m_O%s`O%vaO%xbOx$tX!s$tX#^$tX$j$tX$m$tX%V$tX%W$tX!W$tX![$tX}$tX#V$tXq$tX!j$tX~P+uOw#jOx$sX!s$sX#^$sX$j$sX$m$sX%V$sX~Ol-dOs-rO~P'RO#^#mO$j#oO$m#oO~O%QVO~O!R#tO#l!YO#q!ZO#tlO~OltO~P'ROT#yO_#zO%QVOxtP~OT$OOl-dOs-rO}$PO~P'ROx$RO!s$WO%V$SO#^!tX$j!tX$m!tX~OT$OOl-dOs-rO#^!}X$j!}X$m!}X~P'ROl-dOs-rO#^#RX$j#RX$m#RX~P'RO!d$^O!m$^O%QVO~OT$hO~P'RO!S$jO#j$kO#l$lO~Ox$mO~OT${O_${Ol-dOs-rO!O$}O~P'ROl-dOs-rOx%QO~P'RO%e%SO~O_!bOf!iO!V!kO!d!mOT`a]`ah`ai`aj`ak`al`am`ap`aw`ax`a!s`a#^`a$j`a$m`a$u`a$v`a$w`a$x`a$y`a$z`a${`a$|`a$}`a%O`a%V`a!O`a!R`a!S`a%W`a!W`a![`a}`a#V`aq`a!j`a~Ok%XO~Ol%XO~P'ROl-dO~P'ROh-fOi-gOj-eOk-eOl-nOm-oOp-sO!O%SX!R%SX!S%SX%W%SX!W%SX![%SX}%SX#V%SX!j%SX~P(`O%W%ZOw%RX!O%RX!R%RX!S%RX!W%RXx%RX~Ow%^O!O%]O!R%bO!S%aO~O!O%]O~Ow%eO!R%bO!S%aO!W%_X~O!W%iO~Ow%jOx%lO!R%bO!S%aO![%YX~O![%pO~O![%qO~O%h#WO%i%sO~O%k#ZO%l%sO~OT%vOl-dOs-rO|vO~P'RO!Z#]O%n#^O%r%yO~O!Z#]O%t#aO%u%yO~O!Z#]O%i%yO%w#cO~O!Z#]O%l%yO%y#eO~OT!la]!la_!laf!lah!lai!laj!lak!lal!lam!lap!law!lax!la!V!la!d!la!s!la#^!la$j!la$m!la$u!la$v!la$w!la$x!la$y!la$z!la${!la$|!la$}!la%O!la%V!la!O!la!R!la!S!la%W!la!W!la![!la}!la#V!laq!la!j!la~P#vOw&OOx$sa!s$sa#^$sa$j$sa$m$sa%V$sa~P$_OT&QOltOsuOx$sa!s$sa#^$sa$j$sa$m$sa%V$sa~P'ROw&OOx$sa!s$sa#^$sa$j$sa$m$sa%V$sa~OPhOTeOltOsuO|vO}!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#^$_X$j$_X$m$_X~P'RO#^#mO$j&VO$m&VO~O!d&WOf%{X$j%{X#V%{X#^%{X$m%{X#U%{X~Of!iO$j&YO~Ohcaicajcakcalcamcapcawcaxca!sca#^ca$jca$mca%Vca!Oca!Rca!Sca%Wca!Wca![ca}ca#Vcaqca!jca~P$_Opnawnaxna#^na$jna$mna%Vna~Oh!pOi!qOj!oOk!oOl!rOm!sO!sna~PDTO%V&[Ow%UXx%UX~O%QVOw%UXx%UX~Ow&_OxtX~Ox&aO~Ow%jO#^%YX$j%YX$m%YX!O%YXx%YX![%YX!j%YX%V%YX~OT-mOl-dOs-rO|vO~P'RO%V$SO#^Sa$jSa$mSa~O%V$SO~Ow&jO#^%[X$j%[X$m%[Xk%[X~P$_Ow&mO}&lO#^#Ra$j#Ra$m#Ra~O#V&nO#^#Ta$j#Ta$m#Ta~O!d$^O!m$^O#U&pO%QVO~O#U&pO~Ow&rO#^&OX$j&OX$m&OX~Ow&tO#^%zX$j%zX$m%zXx%zX~Ow&xOk&QX~P$_Ok&{O~OPhOTeOltOsuO|vO}!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO$j'QO~P'ROq'UO#g'SO#h'TOP#eaT#ead#eaf#eal#eap#eas#ea|#ea}#ea!R#ea!S#ea!V#ea!Z#ea!f#ea!m#ea!n#ea!o#ea!v#ea!x#ea!z#ea!|#ea#O#ea#S#ea#U#ea#X#ea#Y#ea#[#ea#c#ea#f#ea#j#ea#l#ea#q#ea#t#ea$g#ea$j#ea$z#ea${#ea%P#ea%Q#ea%f#ea%g#ea%j#ea%m#ea%s#ea%v#ea%x#ea$i#ea$m#ea~Ow'VO#V'XOx&RX~Of'ZO~Of!iOx$mO~OT!aO]!aO_!bOf!iO!V!kO!d!mO$w!^O$x!_O$y!_O$z!`O${!`O$|!aO$}!aO%O!aOhUiiUijUikUilUimUipUiwUixUi!sUi#^Ui$jUi$mUi$uUi%VUi!OUi!RUi!SUi%WUi!WUi![Ui}Ui#VUiqUi!jUi~O$v!]O~PNyO$vUi~PNyOT!aO]!aO_!bOf!iO!V!kO!d!mO$z!`O${!`O$|!aO$}!aO%O!aOhUiiUijUikUilUimUipUiwUixUi!sUi#^Ui$jUi$mUi$uUi$vUi$wUi%VUi!OUi!RUi!SUi%WUi!WUi![Ui}Ui#VUiqUi!jUi~O$x!_O$y!_O~P!#tO$xUi$yUi~P!#tO_!bOf!iO!V!kO!d!mOhUiiUijUikUilUimUipUiwUixUi!sUi#^Ui$jUi$mUi$uUi$vUi$wUi$xUi$yUi$zUi${Ui%VUi!OUi!RUi!SUi%WUi!WUi![Ui}Ui#VUiqUi!jUi~OT!aO]!aO$|!aO$}!aO%O!aO~P!&rOTUi]Ui$|Ui$}Ui%OUi~P!&rO!R%bO!S%aOw%bX!O%bX~O%V'`O%W'`O~P+uOw'bO!O%aX~O!O'dO~Ow'eOx'gO!W%dX~Ol-dOs-rOw'eOx'hO!W%dX~P'RO!W'jO~Oj!oOk!oOl!rOm!sOhgipgiwgixgi!sgi#^gi$jgi$mgi%Vgi~Oi!qO~P!+eOigi~P!+eOh-fOi-gOj-eOk-eOl-nOm-oO~Oq'lO~P!,nOT'qOl-dOs-rO!O'rO~P'ROw'sO!O'rO~O!O'uO~O!S'wO~Ow'sO!O'xO!R%bO!S%aO~P$_Oh-fOi-gOj-eOk-eOl-nOm-oO!Ona!Rna!Sna%Wna!Wna![na}na#Vnaqna!jna~PDTOT'qOl-dOs-rO!W%_a~P'ROw'{O!W%_a~O!W'|O~Ow'{O!R%bO!S%aO!W%_a~P$_OT(QOl-dOs-rO![%Ya#^%Ya$j%Ya$m%Ya!O%Yax%Ya!j%Ya%V%Ya~P'ROw(RO![%Ya#^%Ya$j%Ya$m%Ya!O%Yax%Ya!j%Ya%V%Ya~O![(UO~Ow(RO!R%bO!S%aO![%Ya~P$_Ow(XO!R%bO!S%aO![%`a~P$_Ow([Ox%oX![%oX!j%oX~Ox(_O![(aO!j(bO~OT&QOltOsuOx$si!s$si#^$si$j$si$m$si%V$si~P'ROw(cOx$si!s$si#^$si$j$si$m$si%V$si~O!d&WOf%{a$j%{a#V%{a#^%{a$m%{a#U%{a~O$j(hO~OT#yO_#zO%QVO~Ow&_Oxta~OltOsuO~P'ROw(RO#^%Ya$j%Ya$m%Ya!O%Yax%Ya![%Ya!j%Ya%V%Ya~P$_Ow(mO#^$sX$j$sX$m$sX%V$sX~O%V$SO#^Si$jSi$mSi~O#^%[a$j%[a$m%[ak%[a~P'ROw(pO#^%[a$j%[a$m%[ak%[a~OT(tOf(vO%QVO~O#U(wO~O%QVO#^&Oa$j&Oa$m&Oa~Ow(yO#^&Oa$j&Oa$m&Oa~Ol-dOs-rO#^%za$j%za$m%zax%za~P'ROw(|O#^%za$j%za$m%zax%za~Oq)QO#a)POP#_iT#_id#_if#_il#_ip#_is#_i|#_i}#_i!R#_i!S#_i!V#_i!Z#_i!f#_i!m#_i!n#_i!o#_i!v#_i!x#_i!z#_i!|#_i#O#_i#S#_i#U#_i#X#_i#Y#_i#[#_i#c#_i#f#_i#j#_i#l#_i#q#_i#t#_i$g#_i$j#_i$z#_i${#_i%P#_i%Q#_i%f#_i%g#_i%j#_i%m#_i%s#_i%v#_i%x#_i$i#_i$m#_i~Oq)ROP#biT#bid#bif#bil#bip#bis#bi|#bi}#bi!R#bi!S#bi!V#bi!Z#bi!f#bi!m#bi!n#bi!o#bi!v#bi!x#bi!z#bi!|#bi#O#bi#S#bi#U#bi#X#bi#Y#bi#[#bi#c#bi#f#bi#j#bi#l#bi#q#bi#t#bi$g#bi$j#bi$z#bi${#bi%P#bi%Q#bi%f#bi%g#bi%j#bi%m#bi%s#bi%v#bi%x#bi$i#bi$m#bi~OT)TOk&Qa~P'ROw)UOk&Qa~Ow)UOk&Qa~P$_Ok)YO~O$h)]O~Oq)`O#g'SO#h)_OP#eiT#eid#eif#eil#eip#eis#ei|#ei}#ei!R#ei!S#ei!V#ei!Z#ei!f#ei!m#ei!n#ei!o#ei!v#ei!x#ei!z#ei!|#ei#O#ei#S#ei#U#ei#X#ei#Y#ei#[#ei#c#ei#f#ei#j#ei#l#ei#q#ei#t#ei$g#ei$j#ei$z#ei${#ei%P#ei%Q#ei%f#ei%g#ei%j#ei%m#ei%s#ei%v#ei%x#ei$i#ei$m#ei~Ol-dOs-rOx$mO~P'ROl-dOs-rOx&Ra~P'ROw)fOx&Ra~OT)jO_)kO!O)nO$|)lO%QVO~Ox$mO&U)pO~OT${O_${Ol-dOs-rO!O%aa~P'ROw)vO!O%aa~Ol-dOs-rOx)yO!W%da~P'ROw)zO!W%da~Ol-dOs-rOw)zOx)}O!W%da~P'ROl-dOs-rOw)zO!W%da~P'ROw)zOx)}O!W%da~Oj-eOk-eOl-nOm-oOhgipgiwgi!Ogi!Rgi!Sgi%Wgi!Wgixgi![gi#^gi$jgi$mgi}gi#Vgiqgi!jgi%Vgi~Oi-gO~P!GmOigi~P!GmOT'qOl-dOs-rO!O*SO~P'ROk*UO~Ow*WO!O*SO~O!O*XO~OT'qOl-dOs-rO!W%_i~P'ROw*YO!W%_i~O!W*ZO~OT(QOl-dOs-rO![%Yi#^%Yi$j%Yi$m%Yi!O%Yix%Yi!j%Yi%V%Yi~P'ROw*^O!R%bO!S%aO![%`i~Ow*aO![%Yi#^%Yi$j%Yi$m%Yi!O%Yix%Yi!j%Yi%V%Yi~O![*bO~O_*dOl-dOs-rO![%`i~P'ROw*^O![%`i~O![*fO~OT*hOl-dOs-rOx%oa![%oa!j%oa~P'ROw*iOx%oa![%oa!j%oa~O!Z#]O%q*lO![!kX~O![*nO~Ox(_O![*oO~OT&QOltOsuOx$sq!s$sq#^$sq$j$sq$m$sq%V$sq~P'ROw$Wix$Wi!s$Wi#^$Wi$j$Wi$m$Wi%V$Wi~P$_OT&QOltOsuO~P'ROT&QOl-dOs-rO#^$sa$j$sa$m$sa%V$sa~P'ROw*pO#^$sa$j$sa$m$sa%V$sa~Ow#ya#^#ya$j#ya$m#yak#ya~P$_O#^%[i$j%[i$m%[ik%[i~P'ROw*sO#^#Rq$j#Rq$m#Rq~Ow*tO#V*vO#^%}X$j%}X$m%}X!O%}X~OT*xOf(vO%QVO~O%QVO#^&Oi$j&Oi$m&Oi~Ol-dOs-rO#^%zi$j%zi$m%zix%zi~P'ROq*|O#a)POP#_qT#_qd#_qf#_ql#_qp#_qs#_q|#_q}#_q!R#_q!S#_q!V#_q!Z#_q!f#_q!m#_q!n#_q!o#_q!v#_q!x#_q!z#_q!|#_q#O#_q#S#_q#U#_q#X#_q#Y#_q#[#_q#c#_q#f#_q#j#_q#l#_q#q#_q#t#_q$g#_q$j#_q$z#_q${#_q%P#_q%Q#_q%f#_q%g#_q%j#_q%m#_q%s#_q%v#_q%x#_q$i#_q$m#_q~Ok$baw$ba~P$_OT)TOk&Qi~P'ROw+TOk&Qi~OPhOTeOltOp!SOsuO|vO}!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO~P'ROw+_Ox$mO#V+_O~O#h+`OP#eqT#eqd#eqf#eql#eqp#eqs#eq|#eq}#eq!R#eq!S#eq!V#eq!Z#eq!f#eq!m#eq!n#eq!o#eq!v#eq!x#eq!z#eq!|#eq#O#eq#S#eq#U#eq#X#eq#Y#eq#[#eq#c#eq#f#eq#j#eq#l#eq#q#eq#t#eq$g#eq$j#eq$z#eq${#eq%P#eq%Q#eq%f#eq%g#eq%j#eq%m#eq%s#eq%v#eq%x#eq$i#eq$m#eq~O#V+aOw$dax$da~Ol-dOs-rOx&Ri~P'ROw+cOx&Ri~Ox$RO%V+eOw&TX!O&TX~O%QVOw&TX!O&TX~Ow+iO!O&SX~O!O+kO~OT${O_${Ol-dOs-rO!O%ai~P'ROx+nOw#|a!W#|a~Ol-dOs-rOx+oOw#|a!W#|a~P'ROl-dOs-rOx)yO!W%di~P'ROw+rO!W%di~Ol-dOs-rOw+rO!W%di~P'ROw+rOx+uO!W%di~Ow#xi!O#xi!W#xi~P$_OT'qOl-dOs-rO~P'ROk+wO~OT'qOl-dOs-rO!O+xO~P'ROT'qOl-dOs-rO!W%_q~P'ROw#wi![#wi#^#wi$j#wi$m#wi!O#wix#wi!j#wi%V#wi~P$_OT(QOl-dOs-rO~P'RO_*dOl-dOs-rO![%`q~P'ROw+yO![%`q~O![+zO~OT(QOl-dOs-rO![%Yq#^%Yq$j%Yq$m%Yq!O%Yqx%Yq!j%Yq%V%Yq~P'ROx+{O~OT*hOl-dOs-rOx%oi![%oi!j%oi~P'ROw,QOx%oi![%oi!j%oi~O!Z#]O%q*lO![!ka~OT&QOl-dOs-rO#^$si$j$si$m$si%V$si~P'ROw,SO#^$si$j$si$m$si%V$si~O%QVO#^%}a$j%}a$m%}a!O%}a~Ow,VO#^%}a$j%}a$m%}a!O%}a~O!O,YO~Ok$biw$bi~P$_OT)TO~P'ROT)TOk&Qq~P'ROq,]OP#dyT#dyd#dyf#dyl#dyp#dys#dy|#dy}#dy!R#dy!S#dy!V#dy!Z#dy!f#dy!m#dy!n#dy!o#dy!v#dy!x#dy!z#dy!|#dy#O#dy#S#dy#U#dy#X#dy#Y#dy#[#dy#c#dy#f#dy#j#dy#l#dy#q#dy#t#dy$g#dy$j#dy$z#dy${#dy%P#dy%Q#dy%f#dy%g#dy%j#dy%m#dy%s#dy%v#dy%x#dy$i#dy$m#dy~OPhOTeOltOp!SOsuO|vO}!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO$i,aO$m,aO~P'RO#h,bOP#eyT#eyd#eyf#eyl#eyp#eys#ey|#ey}#ey!R#ey!S#ey!V#ey!Z#ey!f#ey!m#ey!n#ey!o#ey!v#ey!x#ey!z#ey!|#ey#O#ey#S#ey#U#ey#X#ey#Y#ey#[#ey#c#ey#f#ey#j#ey#l#ey#q#ey#t#ey$g#ey$j#ey$z#ey${#ey%P#ey%Q#ey%f#ey%g#ey%j#ey%m#ey%s#ey%v#ey%x#ey$i#ey$m#ey~Ol-dOs-rOx&Rq~P'ROw,fOx&Rq~O%V+eOw&Ta!O&Ta~OT)jO_)kO$|)lO%QVO!O&Sa~Ow,jO!O&Sa~OT${O_${Ol-dOs-rO~P'ROl-dOs-rOx,lOw#|i!W#|i~P'ROl-dOs-rOw#|i!W#|i~P'ROx,lOw#|i!W#|i~Ol-dOs-rOx)yO~P'ROl-dOs-rOx)yO!W%dq~P'ROw,oO!W%dq~Ol-dOs-rOw,oO!W%dq~P'ROp,rO!R%bO!S%aO!O%Zq!W%Zq![%Zqw%Zq~P!,nO_*dOl-dOs-rO![%`y~P'ROw#zi![#zi~P$_O_*dOl-dOs-rO~P'ROT*hOl-dOs-rO~P'ROT*hOl-dOs-rOx%oq![%oq!j%oq~P'ROT&QOl-dOs-rO#^$sq$j$sq$m$sq%V$sq~P'RO#V,vOw$]a#^$]a$j$]a$m$]a!O$]a~O%QVO#^%}i$j%}i$m%}i!O%}i~Ow,xO#^%}i$j%}i$m%}i!O%}i~Oq,{OP#d!RT#d!Rd#d!Rf#d!Rl#d!Rp#d!Rs#d!R|#d!R}#d!R!R#d!R!S#d!R!V#d!R!Z#d!R!f#d!R!m#d!R!n#d!R!o#d!R!v#d!R!x#d!R!z#d!R!|#d!R#O#d!R#S#d!R#U#d!R#X#d!R#Y#d!R#[#d!R#c#d!R#f#d!R#j#d!R#l#d!R#q#d!R#t#d!R$g#d!R$j#d!R$z#d!R${#d!R%P#d!R%Q#d!R%f#d!R%g#d!R%j#d!R%m#d!R%s#d!R%v#d!R%x#d!R$i#d!R$m#d!R~Ol-dOs-rOx&Ry~P'ROT)jO_)kO$|)lO%QVO!O&Si~Ol-dOs-rOw#|q!W#|q~P'ROx-ROw#|q!W#|q~Ol-dOs-rOx)yO!W%dy~P'ROw-SO!W%dy~Ol-dOs-WO~P'ROp,rO!R%bO!S%aO!O%Zy!W%Zy![%Zyw%Zy~P!,nO%QVO#^%}q$j%}q$m%}q!O%}q~Ow-[O#^%}q$j%}q$m%}q!O%}q~OT)jO_)kO$|)lO%QVO~Ol-dOs-rOw#|y!W#|y~P'ROl-dOs-rOx)yO!W%d!R~P'ROw-_O!W%d!R~Op%^X!O%^X!R%^X!S%^X!W%^X![%^Xw%^X~P!,nOp,rO!R%bO!S%aO!O%]a!W%]a![%]aw%]a~O%QVO#^%}y$j%}y$m%}y!O%}y~Ol-dOs-rOx)yO!W%d!Z~P'ROx-bO~Ow*pO#^$sa$j$sa$m$sa%V$sa~P$_OT&QOl-dOs-rO~P'ROk-iO~Ol-iO~P'ROx-jO~Oq-kO~P!,nO%g%j%v%x%f!Z%n%t%w%y%m%s%m%Q~\",\n  goto: \"!-g&UPPPP&VP&_)p*V*m+U+n,XP,sP&_-a-a&_P&_P0rPPPPPP0r3bPP3bP5n5w:zPP:};];`PPP&_&_PP;l&_PP&_&_PP&_&_&_&_;p<d&_P<gP<j<j@PP@e&_PPP@i@o&VP&V&VP&VP&VP&VP&VP&V&V&VP&VPP&VPP&VP@uP@|ASP@|P@|@|PPP@|PB{PCUC[CbB{P@|ChPCoCuC{DXDkDqD{EREoEuE{FRF]FcFiFoFuF{G_GiGoGuG{HVH]HcHiHoHyIPIZIaPPPPPPPPPIjIrI{JVJbPPPPPPPPPPPPNw! a!%o!({PP!)T!)c!)l!*b!*X!*k!*q!*t!*w!*z!+S!+pPPPPPPPPPP!+s!+vPPPPPPPPP!+|!,Y!,f!,l!,u!,x!-O!-U!-[!-_]iOr#m$m)]+Z'odOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'b'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-sw!cP#i#v$X$g%c%h%n%o&b&z(d(o)S*R*[+R+|-hy!dP#i#v$X$g$s%c%h%n%o&b&z(d(o)S*R*[+R+|-h{!eP#i#v$X$g$s$t%c%h%n%o&b&z(d(o)S*R*[+R+|-h}!fP#i#v$X$g$s$t$u%c%h%n%o&b&z(d(o)S*R*[+R+|-h!P!gP#i#v$X$g$s$t$u$v%c%h%n%o&b&z(d(o)S*R*[+R+|-h!R!hP#i#v$X$g$s$t$u$v$w%c%h%n%o&b&z(d(o)S*R*[+R+|-h!V!hP!n#i#v$X$g$s$t$u$v$w$x%c%h%n%o&b&z(d(o)S*R*[+R+|-h'oSOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'b'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-s&ZUOXYZhrtv|}!R!S!T!X!i!k!o!p!q!s!t#]#j#m$P$R$T$W$k$m${%Q%X%[%^%e%j%l%v&O&]&a&l&m&t&{'S'V'a'b'e'g'h'l's'{(R(X([(c(e(m(|)P)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*h*i*p*s*z+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-o-s%eWOXYZhrv|}!R!S!T!X!i!k#]#j#m$P$R$T$W$k$m${%Q%[%^%e%j%l%v&O&]&a&l&m&t&{'S'V'a'b'e'g'h'l's'{(R(X([(c(e(m(|)P)Y)])f)p)v)y)z)}*T*W*Y*]*^*a*h*i*p*s*z+Z+b+c+f+m+n+o+q+r+u+y+{+},P,Q,S,f,h,l,o-R-S-_-j-k-lQ#|uQ-`-WR-p-r'fdOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-sW#pl!O!P$_W#xu&_-W-rQ$a!QQ$q!YQ$r!ZW$z!i'b)v+mS&^#y#zQ'O$lQ(f&WQ(t&nU(u&p(v(wU(x&r(y*yQ)h'XW)i'Z+i,j-PS+h)j)kY,U*t,V,w,x-[Q,X*vQ,c+_Q,e+aR-Z,vR&]#xi!wXY!S!T%^%e's'{)P*T*W*YR%[!vQ!{XQ%w#]Q&f$TR&i$WT-V,r-b!U!jP!n#i#v$X$g$s$t$u$v$w$x%c%h%n%o&b&z(d(o)S*R*[+R+|-hQ&Z#qR'^$rR'a$zR%T!m'ncOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'b'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-sT#gc#hS#^_#_S#a`#bS#ca#dS#eb#fT*l(_*mT(`%w(bQ$VwR+g)iX$Tw$U$V&hZkOr$m)]+ZXoOr)]+ZQ$n!WQ&v$eQ&w$fQ'Y$pQ']$rQ)Z&}Q)a'SQ)c'TQ)d'UQ)q'[Q)s'^Q*})PQ+P)QQ+Q)RQ+U)XS+W)[)rQ+[)_Q+])`Q+^)bQ,Z*|Q,[+OQ,^+VQ,_+XQ,d+`Q,z,]Q,|,bQ,},cR-],{WoOr)]+ZR#snQ'[$qR)['OQ+f)iR,h+gQ)r'[R+X)[ZmOnr)]+ZQrOR#urQ&`#{R(k&`S%k#Q#}S(S%k(VT(V%n&bQ%_!yQ%f!|W't%_%f'y'}Q'y%cR'}%hQ&k$XR(q&kQ(Y%oQ*_(TT*e(Y*_Q'c$|R)w'cS'f%P%QY){'f)|+s,p-TU)|'g'h'iU+s)}*O*PS,p+t+uR-T,qQ#X]R%r#XQ#[^R%t#[Q#__R%x#_Q(]%uS*j(]*kR*k(^Q*m(_R,R*mQ#b`R%z#bQ#daR%{#dQ#fbR%|#fQ#hcR%}#hQ#kfQ&P#iW&S#k&P(n*qQ(n&eR*q-hQ$UwS&g$U&hR&h$VQ&u$cR(}&uQ&X#pR(g&XQ$_!PR&o$_Q*u(uS,W*u,yR,y,XQ&s$aR(z&sQ#njR&U#nQ+Z)]R,`+ZQ)O&vR*{)OQ&y$gS)V&y)WR)W&zQ'R$nR)^'RQ'W$oS)g'W+dR+d)hQ+j)mR,k+jWnOr)]+ZR#rnSqOrT+Y)]+ZWpOr)]+ZR'P$mYjOr$m)]+ZR&T#m[wOr#m$m)]+ZR&f$T&YPOXYZhrtv|}!R!S!T!X!i!k!o!p!q!s!t#]#j#m$P$R$T$W$k$m${%Q%X%[%^%e%j%l%v&O&]&a&l&m&t&{'S'V'a'b'e'g'h'l's'{(R(X([(c(e(m(|)P)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*h*i*p*s*z+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-o-sQ!nSQ#ieQ#vsU$Xx%a'wS$g!U$jQ$s!cQ$t!dQ$u!eQ$v!fQ$w!gQ$x!hQ%c!zQ%h!}Q%n#RQ%o#SQ&b$OQ&z$hQ(d&QU(o&j(p*rW)S&x)U+S+TQ*R'qQ*[(QQ+R)TQ+|*dR-h-mQ!yXQ!|YQ$e!SQ$f!T^'p%^%e's'{*T*W*YR+O)P[fOr#m$m)]+Zh!vXY!S!T%^%e's'{)P*T*W*YQ#QZQ#lhS#}v|Q$[}W$c!R$W&{)YS$o!X$kW$y!i'b)v+mQ%P!kQ%u#]`&R#j&O(c(e(m*p,S-lQ&c$PQ&d$RQ&e$TQ'_${Q'i%QQ'o%[W(P%j(R*]*aQ(T%lQ(^%vQ(i&]S(l&a-jQ(r&lQ(s&mU({&t(|*zQ)b'SY)e'V)f+b+c,fQ)t'a^)x'e)z+q+r,o-S-_Q*O'gQ*P'hS*Q'l-kW*c(X*^+y+}W*g([*i,P,QQ+l)pQ+p)yQ+t)}Q,O*hQ,T*sQ,g+fQ,m+nQ,n+oQ,q+uQ,u+{Q-O,hQ-Q,lR-^-RhTOr#j#m$m&O&a'l(c(e)]+Z$z!uXYZhv|}!R!S!T!X!i!k#]$P$R$T$W$k${%Q%[%^%e%j%l%v&]&l&m&t&{'S'V'a'b'e'g'h's'{(R(X([(m(|)P)Y)f)p)v)y)z)}*T*W*Y*]*^*a*h*i*p*s*z+b+c+f+m+n+o+q+r+u+y+{+},P,Q,S,f,h,l,o-R-S-_-j-k-lQ#wtW%U!o!s-e-oQ%V!pQ%W!qQ%Y!tQ%d-dS'k%X-iQ'm-fQ'n-gQ+v*UQ,t+wS-U,r-bR-q-sU#{u-W-rR(j&_[gOr#m$m)]+ZX!xX#]$T$WQ#VZQ$QvR$Z|Q%`!yQ%g!|Q%m#QQ'_$yQ'z%cQ(O%hQ(W%nQ(Z%oQ*`(TQ,s+vQ-Y,tR-a-XQ$YxQ'v%aR*V'wQ-X,rR-c-bR#PYR#UZR%O!iQ$|!iV)u'b)v+m!V!lP!n#i#v$X$g$s$t$u$v$w$x%c%h%n%o&b&z(d(o)S*R*[+R+|-hR%R!kR%w#]Q(a%wR*o(bQ$d!RQ&i$WQ)X&{R+V)YQ#qlQ$]!OQ$`!PR&q$_Q(t&pR*x(wQ(t&pQ*w(vR*x(wR$b!QXpOr)]+ZQ$i!UR&|$jQ$p!XR&}$kR)o'ZQ)m'ZV,i+i,j-P\",\n  nodeNames: \" print Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ParenthesizedExpression ( BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from ) TupleExpression ComprehensionExpression async for LambdaExpression ArrayExpression [ ] ArrayComprehensionExpression DictionaryExpression { } DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At\",\n  maxTerm: 236,\n  context: trackIndent,\n  nodeProps: [\n    [NodeProp.group, -14,4,80,82,83,85,87,89,91,93,94,95,97,100,103,\"Statement Statement\",-22,6,16,19,21,37,47,48,52,55,56,59,60,61,62,65,68,69,70,74,75,76,77,\"Expression\",-9,105,107,110,112,113,117,119,124,126,\"Statement\"]\n  ],\n  skippedNodes: [0,2],\n  repeatNodeCount: 32,\n  tokenData: \"&AaMgR!^OX$}XY!#xY[$}[]!#x]p$}pq!#xqr!&Srs!)yst!C{tu$}uv$+}vw$.awx$/mxy$Lgyz$Mmz{$Ns{|%#c|}%$o}!O%%u!O!P%([!P!Q%3b!Q!R%6Q!R![%:S![!]%EO!]!^%Gb!^!_%Hh!_!`%KW!`!a%Ld!a!b$}!b!c& P!c!d&!_!d!e&$P!e!h&!_!h!i&.R!i!t&!_!t!u&7g!u!w&!_!w!x&,a!x!}&!_!}#O&9q#O#P!%b#P#Q&:w#Q#R&;}#R#S&!_#S#T$}#T#U&!_#U#V&$P#V#Y&!_#Y#Z&.R#Z#f&!_#f#g&7g#g#i&!_#i#j&,a#j#o&!_#o#p&=Z#p#q&>P#q#r&?]#r#s&@Z#s$g$}$g~&!_<r%`Z%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}9[&^Z%q7[%hS%n`%w!bOr'PrsCxsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'P9['^Z%q7[%hS%kW%n`%w!bOr'Prs&Rsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'P8z(WZ%q7[%kWOr(yrs)wsw(ywx;bx#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8z)UZ%q7[%hS%kW%w!bOr(yrs)wsw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8z*QZ%q7[%hS%w!bOr(yrs*ssw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8z*|Z%q7[%hS%w!bOr(yrs+osw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8r+xX%q7[%hS%w!bOw+owx,ex#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+o8r,jX%q7[Ow+owx-Vx#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+o8r-[X%q7[Ow+owx-wx#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+o7[-|R%q7[O#o-w#p#q-w#r~-w8r.[T%q7[O#o+o#o#p.k#p#q+o#q#r.k#r~+o!f.rV%hS%w!bOw.kwx/Xx#O.k#O#P0W#P#o.k#o#p0^#p~.k!f/[VOw.kwx/qx#O.k#O#P0W#P#o.k#o#p0^#p~.k!f/tUOw.kx#O.k#O#P0W#P#o.k#o#p0^#p~.k!f0ZPO~.k!f0cV%hSOw0xwx1^x#O0x#O#P2P#P#o0x#o#p.k#p~0xS0}T%hSOw0xwx1^x#O0x#O#P2P#P~0xS1aTOw0xwx1px#O0x#O#P2P#P~0xS1sSOw0xx#O0x#O#P2P#P~0xS2SPO~0x8z2[T%q7[O#o(y#o#p2k#p#q(y#q#r2k#r~(y!n2tX%hS%kW%w!bOr2krs3asw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k!n3hX%hS%w!bOr2krs4Tsw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k!n4[X%hS%w!bOr2krs.ksw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k!n4|X%kWOr2krs3asw2kwx5ix#O2k#O#P7h#P#o2k#o#p7n#p~2k!n5nX%kWOr2krs3asw2kwx6Zx#O2k#O#P7h#P#o2k#o#p7n#p~2kW6`T%kWOr6Zrs6os#O6Z#O#P7b#P~6ZW6rTOr6Zrs7Rs#O6Z#O#P7b#P~6ZW7USOr6Zs#O6Z#O#P7b#P~6ZW7ePO~6Z!n7kPO~2k!n7uX%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p2k#p~8b[8iV%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P~8b[9TV%hSOr8brs9jsw8bwx:Ux#O8b#O#P;[#P~8b[9oV%hSOr8brs0xsw8bwx:Ux#O8b#O#P;[#P~8b[:ZV%kWOr8brs9Osw8bwx:px#O8b#O#P;[#P~8b[:uV%kWOr8brs9Osw8bwx6Zx#O8b#O#P;[#P~8b[;_PO~8b8z;iZ%q7[%kWOr(yrs)wsw(ywx<[x#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y7d<cX%q7[%kWOr<[rs=Os#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[7d=TX%q7[Or<[rs=ps#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[7d=uX%q7[Or<[rs-ws#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[7d>gT%q7[O#o<[#o#p6Z#p#q<[#q#r6Z#r~<[9[>{T%q7[O#o'P#o#p?[#p#q'P#q#r?[#r~'P#O?gX%hS%kW%n`%w!bOr?[rs@Ssw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[#O@]X%hS%n`%w!bOr?[rs@xsw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[#OARX%hS%n`%w!bOr?[rsAnsw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[!vAwV%hS%n`%w!bOwAnwx/Xx#OAn#O#PB^#P#oAn#o#pBd#p~An!vBaPO~An!vBiV%hSOw0xwx1^x#O0x#O#P2P#P#o0x#o#pAn#p~0x#OCRPO~?[#OC]X%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p?[#p~8b9[DTZ%q7[%hS%n`%w!bOr'PrsDvsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'P9SERX%q7[%hS%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~Dv9SEsT%q7[O#oDv#o#pAn#p#qDv#q#rAn#r~Dv<bF_Z%q7[%kW%tp%y#tOrGQrs)wswGQwxM^x#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQ<bGaZ%q7[%hS%kW%tp%w!b%y#tOrGQrs)wswGQwxFSx#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQ<bHXT%q7[O#oGQ#o#pHh#p#qGQ#q#rHh#r~GQ&UHuX%hS%kW%tp%w!b%y#tOrHhrs3aswHhwxIbx#OHh#O#PLd#P#oHh#o#pLj#p~Hh&UIkX%kW%tp%y#tOrHhrs3aswHhwxJWx#OHh#O#PLd#P#oHh#o#pLj#p~Hh&UJaX%kW%tp%y#tOrHhrs3aswHhwxJ|x#OHh#O#PLd#P#oHh#o#pLj#p~Hh$nKVX%kW%tp%y#tOrJ|rs6oswJ|wxJ|x#OJ|#O#PKr#P#oJ|#o#pKx#p~J|$nKuPO~J|$nK}V%kWOr6Zrs6os#O6Z#O#P7b#P#o6Z#o#pJ|#p~6Z&ULgPO~Hh&ULqX%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#pHh#p~8b<bMiZ%q7[%kW%tp%y#tOrGQrs)wswGQwxN[x#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQ:zNgZ%q7[%kW%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[:z! _T%q7[O#oN[#o#pJ|#p#qN[#q#rJ|#r~N[<r! sT%q7[O#o$}#o#p!!S#p#q$}#q#r!!S#r~$}&f!!cX%hS%kW%n`%tp%w!b%y#tOr!!Srs@Ssw!!SwxIbx#O!!S#O#P!#O#P#o!!S#o#p!#U#p~!!S&f!#RPO~!!S&f!#]X%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p!!S#p~8bMg!$]a%q7[%hS%kW$o1s%n`%tp%w!b%y#tOX$}XY!#xY[$}[]!#x]p$}pq!#xqr$}rs&Rsw$}wxFSx#O$}#O#P!%b#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg!%gX%q7[OY$}YZ!#xZ]$}]^!#x^#o$}#o#p!!S#p#q$}#q#r!!S#r~$}<u!&eb%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`!'m!`#O$}#O#P! n#P#T$}#T#U!(s#U#f$}#f#g!(s#g#h!(s#h#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u!(QZjR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u!)WZ!jR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{!*Y_%up%q7[%hS%f,X%n`%w!bOY!+XYZ'PZ]!+X]^'P^r!+Xrs!BPsw!+Xwx!-gx#O!+X#O#P!>e#P#o!+X#o#p!@}#p#q!+X#q#r!>y#r~!+XDe!+h_%q7[%hS%kW%f,X%n`%w!bOY!+XYZ'PZ]!+X]^'P^r!+Xrs!,gsw!+Xwx!-gx#O!+X#O#P!>e#P#o!+X#o#p!@}#p#q!+X#q#r!>y#r~!+XDe!,tZ%q7[%hS%f,X%n`%w!bOr'PrsCxsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PDT!-p_%q7[%kW%f,XOY!.oYZ(yZ]!.o]^(y^r!.ors!/{sw!.owx!;Rx#O!.o#O#P!0y#P#o!.o#o#p!6m#p#q!.o#q#r!1_#r~!.oDT!.|_%q7[%hS%kW%f,X%w!bOY!.oYZ(yZ]!.o]^(y^r!.ors!/{sw!.owx!-gx#O!.o#O#P!0y#P#o!.o#o#p!6m#p#q!.o#q#r!1_#r~!.oDT!0WZ%q7[%hS%f,X%w!bOr(yrs*ssw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(yDT!1OT%q7[O#o!.o#o#p!1_#p#q!.o#q#r!1_#r~!.o-w!1j]%hS%kW%f,X%w!bOY!1_YZ2kZ]!1_]^2k^r!1_rs!2csw!1_wx!3Xx#O!1_#O#P!6g#P#o!1_#o#p!6m#p~!1_-w!2lX%hS%f,X%w!bOr2krs4Tsw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k-w!3`]%kW%f,XOY!1_YZ2kZ]!1_]^2k^r!1_rs!2csw!1_wx!4Xx#O!1_#O#P!6g#P#o!1_#o#p!6m#p~!1_-w!4`]%kW%f,XOY!1_YZ2kZ]!1_]^2k^r!1_rs!2csw!1_wx!5Xx#O!1_#O#P!6g#P#o!1_#o#p!6m#p~!1_,a!5`X%kW%f,XOY!5XYZ6ZZ]!5X]^6Z^r!5Xrs!5{s#O!5X#O#P!6a#P~!5X,a!6QT%f,XOr6Zrs7Rs#O6Z#O#P7b#P~6Z,a!6dPO~!5X-w!6jPO~!1_-w!6v]%hS%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!9Xx#O!7o#O#P!:{#P#o!7o#o#p!1_#p~!7o,e!7xZ%hS%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!9Xx#O!7o#O#P!:{#P~!7o,e!8rV%hS%f,XOr8brs9jsw8bwx:Ux#O8b#O#P;[#P~8b,e!9`Z%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!:Rx#O!7o#O#P!:{#P~!7o,e!:YZ%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!5Xx#O!7o#O#P!:{#P~!7o,e!;OPO~!7oDT!;[_%q7[%kW%f,XOY!.oYZ(yZ]!.o]^(y^r!.ors!/{sw!.owx!<Zx#O!.o#O#P!0y#P#o!.o#o#p!6m#p#q!.o#q#r!1_#r~!.oBm!<d]%q7[%kW%f,XOY!<ZYZ<[Z]!<Z]^<[^r!<Zrs!=]s#O!<Z#O#P!>P#P#o!<Z#o#p!5X#p#q!<Z#q#r!5X#r~!<ZBm!=dX%q7[%f,XOr<[rs=ps#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[Bm!>UT%q7[O#o!<Z#o#p!5X#p#q!<Z#q#r!5X#r~!<ZDe!>jT%q7[O#o!+X#o#p!>y#p#q!+X#q#r!>y#r~!+X.X!?W]%hS%kW%f,X%n`%w!bOY!>yYZ?[Z]!>y]^?[^r!>yrs!@Psw!>ywx!3Xx#O!>y#O#P!@w#P#o!>y#o#p!@}#p~!>y.X!@[X%hS%f,X%n`%w!bOr?[rs@xsw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[.X!@zPO~!>y.X!AW]%hS%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!9Xx#O!7o#O#P!:{#P#o!7o#o#p!>y#p~!7oGZ!B^Z%q7[%hS%f,X%n`%w!bOr'Prs!CPsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PGZ!C`X%l#|%q7[%hS%j,X%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~DvMg!D`_Q1s%q7[%hS%kW%n`%tp%w!b%y#tOY!C{YZ$}Z]!C{]^$}^r!C{rs!E_sw!C{wx#Hqx#O!C{#O#P$(i#P#o!C{#o#p$*{#p#q!C{#q#r$)]#r~!C{JP!El_Q1s%q7[%hS%n`%w!bOY!FkYZ'PZ]!Fk]^'P^r!Fkrs#Eksw!Fkwx!Gyx#O!Fk#O#P#=u#P#o!Fk#o#p#Di#p#q!Fk#q#r#>i#r~!FkJP!Fz_Q1s%q7[%hS%kW%n`%w!bOY!FkYZ'PZ]!Fk]^'P^r!Fkrs!E_sw!Fkwx!Gyx#O!Fk#O#P#=u#P#o!Fk#o#p#Di#p#q!Fk#q#r#>i#r~!FkIo!HS_Q1s%q7[%kWOY!IRYZ(yZ]!IR]^(y^r!IRrs!J_sw!IRwx#8wx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIo!I`_Q1s%q7[%hS%kW%w!bOY!IRYZ(yZ]!IR]^(y^r!IRrs!J_sw!IRwx!Gyx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIo!Jj_Q1s%q7[%hS%w!bOY!IRYZ(yZ]!IR]^(y^r!IRrs!Kisw!IRwx!Gyx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIo!Kt_Q1s%q7[%hS%w!bOY!IRYZ(yZ]!IR]^(y^r!IRrs!Lssw!IRwx!Gyx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIg!MO]Q1s%q7[%hS%w!bOY!LsYZ+oZ]!Ls]^+o^w!Lswx!Mwx#O!Ls#O#P#!y#P#o!Ls#o#p#&m#p#q!Ls#q#r##m#r~!LsIg!NO]Q1s%q7[OY!LsYZ+oZ]!Ls]^+o^w!Lswx!Nwx#O!Ls#O#P#!y#P#o!Ls#o#p#&m#p#q!Ls#q#r##m#r~!LsIg# O]Q1s%q7[OY!LsYZ+oZ]!Ls]^+o^w!Lswx# wx#O!Ls#O#P#!y#P#o!Ls#o#p#&m#p#q!Ls#q#r##m#r~!LsHP#!OXQ1s%q7[OY# wYZ-wZ]# w]^-w^#o# w#o#p#!k#p#q# w#q#r#!k#r~# w1s#!pRQ1sOY#!kZ]#!k^~#!kIg##QXQ1s%q7[OY!LsYZ+oZ]!Ls]^+o^#o!Ls#o#p##m#p#q!Ls#q#r##m#r~!Ls3Z##vZQ1s%hS%w!bOY##mYZ.kZ]##m]^.k^w##mwx#$ix#O##m#O#P#&X#P#o##m#o#p#&m#p~##m3Z#$nZQ1sOY##mYZ.kZ]##m]^.k^w##mwx#%ax#O##m#O#P#&X#P#o##m#o#p#&m#p~##m3Z#%fZQ1sOY##mYZ.kZ]##m]^.k^w##mwx#!kx#O##m#O#P#&X#P#o##m#o#p#&m#p~##m3Z#&^TQ1sOY##mYZ.kZ]##m]^.k^~##m3Z#&tZQ1s%hSOY#'gYZ0xZ]#'g]^0x^w#'gwx#(Zx#O#'g#O#P#)m#P#o#'g#o#p##m#p~#'g1w#'nXQ1s%hSOY#'gYZ0xZ]#'g]^0x^w#'gwx#(Zx#O#'g#O#P#)m#P~#'g1w#(`XQ1sOY#'gYZ0xZ]#'g]^0x^w#'gwx#({x#O#'g#O#P#)m#P~#'g1w#)QXQ1sOY#'gYZ0xZ]#'g]^0x^w#'gwx#!kx#O#'g#O#P#)m#P~#'g1w#)rTQ1sOY#'gYZ0xZ]#'g]^0x^~#'gIo#*YXQ1s%q7[OY!IRYZ(yZ]!IR]^(y^#o!IR#o#p#*u#p#q!IR#q#r#*u#r~!IR3c#+Q]Q1s%hS%kW%w!bOY#*uYZ2kZ]#*u]^2k^r#*urs#+ysw#*uwx#-}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#,S]Q1s%hS%w!bOY#*uYZ2kZ]#*u]^2k^r#*urs#,{sw#*uwx#-}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#-U]Q1s%hS%w!bOY#*uYZ2kZ]#*u]^2k^r#*urs##msw#*uwx#-}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#.U]Q1s%kWOY#*uYZ2kZ]#*u]^2k^r#*urs#+ysw#*uwx#.}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#/U]Q1s%kWOY#*uYZ2kZ]#*u]^2k^r#*urs#+ysw#*uwx#/}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u1{#0UXQ1s%kWOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#0qs#O#/}#O#P#2T#P~#/}1{#0vXQ1sOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#1cs#O#/}#O#P#2T#P~#/}1{#1hXQ1sOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#!ks#O#/}#O#P#2T#P~#/}1{#2YTQ1sOY#/}YZ6ZZ]#/}]^6Z^~#/}3c#2nTQ1sOY#*uYZ2kZ]#*u]^2k^~#*u3c#3W]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p#*u#p~#4P2P#4YZQ1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P~#4P2P#5SZQ1s%hSOY#4PYZ8bZ]#4P]^8b^r#4Prs#5usw#4Pwx#6ox#O#4P#O#P#8c#P~#4P2P#5|ZQ1s%hSOY#4PYZ8bZ]#4P]^8b^r#4Prs#'gsw#4Pwx#6ox#O#4P#O#P#8c#P~#4P2P#6vZQ1s%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#7ix#O#4P#O#P#8c#P~#4P2P#7pZQ1s%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#/}x#O#4P#O#P#8c#P~#4P2P#8hTQ1sOY#4PYZ8bZ]#4P]^8b^~#4PIo#9Q_Q1s%q7[%kWOY!IRYZ(yZ]!IR]^(y^r!IRrs!J_sw!IRwx#:Px#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRHX#:Y]Q1s%q7[%kWOY#:PYZ<[Z]#:P]^<[^r#:Prs#;Rs#O#:P#O#P#=R#P#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PHX#;Y]Q1s%q7[OY#:PYZ<[Z]#:P]^<[^r#:Prs#<Rs#O#:P#O#P#=R#P#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PHX#<Y]Q1s%q7[OY#:PYZ<[Z]#:P]^<[^r#:Prs# ws#O#:P#O#P#=R#P#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PHX#=YXQ1s%q7[OY#:PYZ<[Z]#:P]^<[^#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PJP#=|XQ1s%q7[OY!FkYZ'PZ]!Fk]^'P^#o!Fk#o#p#>i#p#q!Fk#q#r#>i#r~!Fk3s#>v]Q1s%hS%kW%n`%w!bOY#>iYZ?[Z]#>i]^?[^r#>irs#?osw#>iwx#-}x#O#>i#O#P#DT#P#o#>i#o#p#Di#p~#>i3s#?z]Q1s%hS%n`%w!bOY#>iYZ?[Z]#>i]^?[^r#>irs#@ssw#>iwx#-}x#O#>i#O#P#DT#P#o#>i#o#p#Di#p~#>i3s#AO]Q1s%hS%n`%w!bOY#>iYZ?[Z]#>i]^?[^r#>irs#Awsw#>iwx#-}x#O#>i#O#P#DT#P#o#>i#o#p#Di#p~#>i3k#BSZQ1s%hS%n`%w!bOY#AwYZAnZ]#Aw]^An^w#Awwx#$ix#O#Aw#O#P#Bu#P#o#Aw#o#p#CZ#p~#Aw3k#BzTQ1sOY#AwYZAnZ]#Aw]^An^~#Aw3k#CbZQ1s%hSOY#'gYZ0xZ]#'g]^0x^w#'gwx#(Zx#O#'g#O#P#)m#P#o#'g#o#p#Aw#p~#'g3s#DYTQ1sOY#>iYZ?[Z]#>i]^?[^~#>i3s#Dr]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p#>i#p~#4PJP#Ex_Q1s%q7[%hS%n`%w!bOY!FkYZ'PZ]!Fk]^'P^r!Fkrs#Fwsw!Fkwx!Gyx#O!Fk#O#P#=u#P#o!Fk#o#p#Di#p#q!Fk#q#r#>i#r~!FkIw#GU]Q1s%q7[%hS%n`%w!bOY#FwYZDvZ]#Fw]^Dv^w#Fwwx!Mwx#O#Fw#O#P#G}#P#o#Fw#o#p#CZ#p#q#Fw#q#r#Aw#r~#FwIw#HUXQ1s%q7[OY#FwYZDvZ]#Fw]^Dv^#o#Fw#o#p#Aw#p#q#Fw#q#r#Aw#r~#FwMV#IO_Q1s%q7[%kW%tp%y#tOY#I}YZGQZ]#I}]^GQ^r#I}rs!J_sw#I}wx$%]x#O#I}#O#P#K_#P#o#I}#o#p$$Z#p#q#I}#q#r#LR#r~#I}MV#J`_Q1s%q7[%hS%kW%tp%w!b%y#tOY#I}YZGQZ]#I}]^GQ^r#I}rs!J_sw#I}wx#Hqx#O#I}#O#P#K_#P#o#I}#o#p$$Z#p#q#I}#q#r#LR#r~#I}MV#KfXQ1s%q7[OY#I}YZGQZ]#I}]^GQ^#o#I}#o#p#LR#p#q#I}#q#r#LR#r~#I}6y#Lb]Q1s%hS%kW%tp%w!b%y#tOY#LRYZHhZ]#LR]^Hh^r#LRrs#+ysw#LRwx#MZx#O#LR#O#P$#u#P#o#LR#o#p$$Z#p~#LR6y#Mf]Q1s%kW%tp%y#tOY#LRYZHhZ]#LR]^Hh^r#LRrs#+ysw#LRwx#N_x#O#LR#O#P$#u#P#o#LR#o#p$$Z#p~#LR6y#Nj]Q1s%kW%tp%y#tOY#LRYZHhZ]#LR]^Hh^r#LRrs#+ysw#LRwx$ cx#O#LR#O#P$#u#P#o#LR#o#p$$Z#p~#LR5c$ n]Q1s%kW%tp%y#tOY$ cYZJ|Z]$ c]^J|^r$ crs#0qsw$ cwx$ cx#O$ c#O#P$!g#P#o$ c#o#p$!{#p~$ c5c$!lTQ1sOY$ cYZJ|Z]$ c]^J|^~$ c5c$#SZQ1s%kWOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#0qs#O#/}#O#P#2T#P#o#/}#o#p$ c#p~#/}6y$#zTQ1sOY#LRYZHhZ]#LR]^Hh^~#LR6y$$d]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p#LR#p~#4PMV$%j_Q1s%q7[%kW%tp%y#tOY#I}YZGQZ]#I}]^GQ^r#I}rs!J_sw#I}wx$&ix#O#I}#O#P#K_#P#o#I}#o#p$$Z#p#q#I}#q#r#LR#r~#I}Ko$&v_Q1s%q7[%kW%tp%y#tOY$&iYZN[Z]$&i]^N[^r$&irs#;Rsw$&iwx$&ix#O$&i#O#P$'u#P#o$&i#o#p$!{#p#q$&i#q#r$ c#r~$&iKo$'|XQ1s%q7[OY$&iYZN[Z]$&i]^N[^#o$&i#o#p$ c#p#q$&i#q#r$ c#r~$&iMg$(pXQ1s%q7[OY!C{YZ$}Z]!C{]^$}^#o!C{#o#p$)]#p#q!C{#q#r$)]#r~!C{7Z$)n]Q1s%hS%kW%n`%tp%w!b%y#tOY$)]YZ!!SZ]$)]]^!!S^r$)]rs#?osw$)]wx#MZx#O$)]#O#P$*g#P#o$)]#o#p$*{#p~$)]7Z$*lTQ1sOY$)]YZ!!SZ]$)]]^!!S^~$)]7Z$+U]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p$)]#p~#4PGz$,b]$}Q%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz$-nZ!s,W%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz$.t]$wQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{$/|_%r`%q7[%kW%f,X%tp%y#tOY$0{YZGQZ]$0{]^GQ^r$0{rs$2]sw$0{wx$Jex#O$0{#O#P$Fw#P#o$0{#o#p$Ic#p#q$0{#q#r$G]#r~$0{Gk$1^_%q7[%hS%kW%f,X%tp%w!b%y#tOY$0{YZGQZ]$0{]^GQ^r$0{rs$2]sw$0{wx$Ewx#O$0{#O#P$Fw#P#o$0{#o#p$Ic#p#q$0{#q#r$G]#r~$0{DT$2h_%q7[%hS%f,X%w!bOY$3gYZ(yZ]$3g]^(y^r$3grs$Basw$3gwx$4sx#O$3g#O#P$5o#P#o$3g#o#p$={#p#q$3g#q#r$6T#r~$3gDT$3t_%q7[%hS%kW%f,X%w!bOY$3gYZ(yZ]$3g]^(y^r$3grs$2]sw$3gwx$4sx#O$3g#O#P$5o#P#o$3g#o#p$={#p#q$3g#q#r$6T#r~$3gDT$4|Z%q7[%kW%f,XOr(yrs)wsw(ywx;bx#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(yDT$5tT%q7[O#o$3g#o#p$6T#p#q$3g#q#r$6T#r~$3g-w$6`]%hS%kW%f,X%w!bOY$6TYZ2kZ]$6T]^2k^r$6Trs$7Xsw$6Twx$=Rx#O$6T#O#P$=u#P#o$6T#o#p$={#p~$6T-w$7b]%hS%f,X%w!bOY$6TYZ2kZ]$6T]^2k^r$6Trs$8Zsw$6Twx$=Rx#O$6T#O#P$=u#P#o$6T#o#p$={#p~$6T-w$8d]%hS%f,X%w!bOY$6TYZ2kZ]$6T]^2k^r$6Trs$9]sw$6Twx$=Rx#O$6T#O#P$=u#P#o$6T#o#p$={#p~$6T-o$9fZ%hS%f,X%w!bOY$9]YZ.kZ]$9]]^.k^w$9]wx$:Xx#O$9]#O#P$:s#P#o$9]#o#p$:y#p~$9]-o$:^V%f,XOw.kwx/qx#O.k#O#P0W#P#o.k#o#p0^#p~.k-o$:vPO~$9]-o$;QZ%hS%f,XOY$;sYZ0xZ]$;s]^0x^w$;swx$<gx#O$;s#O#P$<{#P#o$;s#o#p$9]#p~$;s,]$;zX%hS%f,XOY$;sYZ0xZ]$;s]^0x^w$;swx$<gx#O$;s#O#P$<{#P~$;s,]$<lT%f,XOw0xwx1px#O0x#O#P2P#P~0x,]$=OPO~$;s-w$=YX%kW%f,XOr2krs3asw2kwx5ix#O2k#O#P7h#P#o2k#o#p7n#p~2k-w$=xPO~$6T-w$>U]%hS%kW%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$?ysw$>}wx$Amx#O$>}#O#P$BZ#P#o$>}#o#p$6T#p~$>},e$?WZ%hS%kW%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$?ysw$>}wx$Amx#O$>}#O#P$BZ#P~$>},e$@QZ%hS%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$@ssw$>}wx$Amx#O$>}#O#P$BZ#P~$>},e$@zZ%hS%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$;ssw$>}wx$Amx#O$>}#O#P$BZ#P~$>},e$AtV%kW%f,XOr8brs9Osw8bwx:px#O8b#O#P;[#P~8b,e$B^PO~$>}DT$Bl_%q7[%hS%f,X%w!bOY$3gYZ(yZ]$3g]^(y^r$3grs$Cksw$3gwx$4sx#O$3g#O#P$5o#P#o$3g#o#p$={#p#q$3g#q#r$6T#r~$3gC{$Cv]%q7[%hS%f,X%w!bOY$CkYZ+oZ]$Ck]^+o^w$Ckwx$Dox#O$Ck#O#P$Ec#P#o$Ck#o#p$:y#p#q$Ck#q#r$9]#r~$CkC{$DvX%q7[%f,XOw+owx-Vx#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+oC{$EhT%q7[O#o$Ck#o#p$9]#p#q$Ck#q#r$9]#r~$CkGk$FUZ%q7[%kW%f,X%tp%y#tOrGQrs)wswGQwxM^x#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQGk$F|T%q7[O#o$0{#o#p$G]#p#q$0{#q#r$G]#r~$0{1_$Gl]%hS%kW%f,X%tp%w!b%y#tOY$G]YZHhZ]$G]]^Hh^r$G]rs$7Xsw$G]wx$Hex#O$G]#O#P$I]#P#o$G]#o#p$Ic#p~$G]1_$HpX%kW%f,X%tp%y#tOrHhrs3aswHhwxJWx#OHh#O#PLd#P#oHh#o#pLj#p~Hh1_$I`PO~$G]1_$Il]%hS%kW%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$?ysw$>}wx$Amx#O$>}#O#P$BZ#P#o$>}#o#p$G]#p~$>}Gk$JrZ%q7[%kW%f,X%tp%y#tOrGQrs)wswGQwx$Kex#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQGk$KtZ%i!f%q7[%kW%g,X%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[G{$LzZf,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u$NQZ!OR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{% W_T,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSxz$}z{%!V{!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%!j]_R%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%#v]$z,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u%%SZwR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg%&Y^${,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`!a%'U!a#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}B^%'iZ&U&j%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%(o_!dQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%)n!P!Q$}!Q![%,O![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%*P]%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%*x!P#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%+]Z!m,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%,cg!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%,O![!g$}!g!h%-z!h!l$}!l!m%2[!m#O$}#O#P! n#P#R$}#R#S%,O#S#X$}#X#Y%-z#Y#^$}#^#_%2[#_#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%.]a%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx{$}{|%/b|}$}}!O%/b!O!Q$}!Q![%0l![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%/s]%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%0l![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%1Pc!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%0l![!l$}!l!m%2[!m#O$}#O#P! n#P#R$}#R#S%0l#S#^$}#^#_%2[#_#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%2oZ!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%3u_$|R%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!P$}!P!Q%4t!Q!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz%5X]%OQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%6eu!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%8x!P!Q$}!Q![%:S![!d$}!d!e%<U!e!g$}!g!h%-z!h!l$}!l!m%2[!m!q$}!q!r%?O!r!z$}!z!{%Ar!{#O$}#O#P! n#P#R$}#R#S%:S#S#U$}#U#V%<U#V#X$}#X#Y%-z#Y#^$}#^#_%2[#_#c$}#c#d%?O#d#l$}#l#m%Ar#m#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%9Z]%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%,O![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%:gi!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%8x!P!Q$}!Q![%:S![!g$}!g!h%-z!h!l$}!l!m%2[!m#O$}#O#P! n#P#R$}#R#S%:S#S#X$}#X#Y%-z#Y#^$}#^#_%2[#_#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%<g`%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!R%=i!R!S%=i!S#O$}#O#P! n#P#R$}#R#S%=i#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%=|`!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!R%=i!R!S%=i!S#O$}#O#P! n#P#R$}#R#S%=i#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%?a_%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!Y%@`!Y#O$}#O#P! n#P#R$}#R#S%@`#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%@s_!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!Y%@`!Y#O$}#O#P! n#P#R$}#R#S%@`#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%BTc%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%C`![!c$}!c!i%C`!i#O$}#O#P! n#P#R$}#R#S%C`#S#T$}#T#Z%C`#Z#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%Csc!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%C`![!c$}!c!i%C`!i#O$}#O#P! n#P#R$}#R#S%C`#S#T$}#T#Z%C`#Z#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg%Ec]x1s%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`%F[!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u%FoZ%WR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%GuZ#^,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%H{_jR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!^$}!^!_%Iz!_!`!'m!`!a!'m!a#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz%J_]$xQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%Kk]%V,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`!'m!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%Lw^jR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`!'m!`!a%Ms!a#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz%NW]$yQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{& f]]Q#tP%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg&!tc%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&Rsw$}wxFSx!Q$}!Q![&!_![!c$}!c!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_Mg&$fg%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&%}sw$}wx&)Tx!Q$}!Q![&!_![!c$}!c!t&!_!t!u&,a!u!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#f&!_#f#g&,a#g#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_De&&[_%q7[%hS%f,X%n`%w!bOY!+XYZ'PZ]!+X]^'P^r!+Xrs&'Zsw!+Xwx!-gx#O!+X#O#P!>e#P#o!+X#o#p!@}#p#q!+X#q#r!>y#r~!+XDe&'hZ%q7[%hS%f,X%n`%w!bOr'Prs&(Zsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PD]&(hX%q7[%hS%j,X%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~DvGk&)b_%q7[%kW%f,X%tp%y#tOY$0{YZGQZ]$0{]^GQ^r$0{rs$2]sw$0{wx&*ax#O$0{#O#P$Fw#P#o$0{#o#p$Ic#p#q$0{#q#r$G]#r~$0{Gk&*nZ%q7[%kW%f,X%tp%y#tOrGQrs)wswGQwx&+ax#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQFT&+nZ%q7[%kW%g,X%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[Mg&,vc%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&%}sw$}wx&)Tx!Q$}!Q![&!_![!c$}!c!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_Mg&.hg%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&0Psw$}wx&2wx!Q$}!Q![&!_![!c$}!c!t&!_!t!u&5u!u!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#f&!_#f#g&5u#g#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_De&0^Z%q7[%hS%n`%w!b%s,XOr'Prs&1Psw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PDe&1[Z%q7[%hS%n`%w!bOr'Prs&1}sw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PD]&2[X%q7[%hS%x,X%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~DvGk&3UZ%q7[%kW%tp%y#t%m,XOrGQrs)wswGQwx&3wx#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQGk&4SZ%q7[%kW%tp%y#tOrGQrs)wswGQwx&4ux#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQFT&5SZ%q7[%kW%v,X%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[Mg&6[c%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&0Psw$}wx&2wx!Q$}!Q![&!_![!c$}!c!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_Mg&7|k%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&%}sw$}wx&)Tx!Q$}!Q![&!_![!c$}!c!h&!_!h!i&5u!i!t&!_!t!u&,a!u!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#U&!_#U#V&,a#V#Y&!_#Y#Z&5u#Z#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_G{&:UZ!V,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u&;[Z!WR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz&<b]$vQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy&=dX%hS%kW!ZGmOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p!!S#p~8bGz&>d]$uQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u&?nX![7_%hS%kW%n`%tp%w!b%y#tOr!!Srs@Ssw!!SwxIbx#O!!S#O#P!#O#P#o!!S#o#p!#U#p~!!SGy&@nZ%P,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}\",\n  tokenizers: [legacyPrint, indentation, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, newlines],\n  topRules: {\"Script\":[0,3]},\n  specialized: [{term: 186, get: value => spec_identifier[value] || -1}],\n  tokenPrec: 6589\n});\n\nexport { parser };\n","import { parser } from '@lezer/python';\nimport { LRLanguage, indentNodeProp, delimitedIndent, foldNodeProp, foldInside, LanguageSupport } from '@codemirror/language';\nimport { styleTags, tags } from '@codemirror/highlight';\n\nfunction indentBody(context, node) {\n    let base = context.lineIndent(node.from);\n    let line = context.lineAt(context.pos, -1), to = line.from + line.text.length;\n    // Don't consider blank, deindented lines at the end of the\n    // block part of the block\n    if (!/\\S/.test(line.text) &&\n        context.node.to < to + 100 &&\n        !/\\S/.test(context.state.sliceDoc(to, context.node.to)) &&\n        context.lineIndent(context.pos, -1) <= base)\n        return null;\n    // A normally deindenting keyword that appears at a higher\n    // indentation than the block should probably be handled by the next\n    // level\n    if (/^\\s*(else:|elif |except |finally:)/.test(context.textAfter) && context.lineIndent(context.pos, -1) > base)\n        return null;\n    return base + context.unit;\n}\n/**\nA language provider based on the [Lezer Python\nparser](https://github.com/lezer-parser/python), extended with\nhighlighting and indentation information.\n*/\nconst pythonLanguage = /*@__PURE__*/LRLanguage.define({\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                Body: context => { var _a; return (_a = indentBody(context, context.node)) !== null && _a !== void 0 ? _a : context.continue(); },\n                IfStatement: cx => /^\\s*(else:|elif )/.test(cx.textAfter) ? cx.baseIndent : cx.continue(),\n                TryStatement: cx => /^\\s*(except |finally:)/.test(cx.textAfter) ? cx.baseIndent : cx.continue(),\n                \"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression\": /*@__PURE__*/delimitedIndent({ closing: \")\" }),\n                \"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression\": /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                \"ArrayExpression ArrayComprehensionExpression\": /*@__PURE__*/delimitedIndent({ closing: \"]\" }),\n                Script: context => {\n                    if (context.pos + /\\s*/.exec(context.textAfter)[0].length >= context.node.to) {\n                        let endBody = null;\n                        for (let cur = context.node, to = cur.to;;) {\n                            cur = cur.lastChild;\n                            if (!cur || cur.to != to)\n                                break;\n                            if (cur.type.name == \"Body\")\n                                endBody = cur;\n                        }\n                        if (endBody) {\n                            let bodyIndent = indentBody(context, endBody);\n                            if (bodyIndent != null)\n                                return bodyIndent;\n                        }\n                    }\n                    return context.continue();\n                }\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Body ArrayExpression DictionaryExpression\": foldInside\n            }),\n            /*@__PURE__*/styleTags({\n                \"async '*' '**' FormatConversion\": tags.modifier,\n                \"for while if elif else try except finally return raise break continue with pass assert await yield\": tags.controlKeyword,\n                \"in not and or is del\": tags.operatorKeyword,\n                \"import from def class global nonlocal lambda\": tags.definitionKeyword,\n                \"with as print\": tags.keyword,\n                self: tags.self,\n                Boolean: tags.bool,\n                None: tags.null,\n                VariableName: tags.variableName,\n                \"CallExpression/VariableName\": /*@__PURE__*/tags.function(tags.variableName),\n                \"FunctionDefinition/VariableName\": /*@__PURE__*/tags.function(/*@__PURE__*/tags.definition(tags.variableName)),\n                \"ClassDefinition/VariableName\": /*@__PURE__*/tags.definition(tags.className),\n                PropertyName: tags.propertyName,\n                \"CallExpression/MemberExpression/PropertyName\": /*@__PURE__*/tags.function(tags.propertyName),\n                Comment: tags.lineComment,\n                Number: tags.number,\n                String: tags.string,\n                FormatString: /*@__PURE__*/tags.special(tags.string),\n                UpdateOp: tags.updateOperator,\n                ArithOp: tags.arithmeticOperator,\n                BitOp: tags.bitwiseOperator,\n                CompareOp: tags.compareOperator,\n                AssignOp: tags.definitionOperator,\n                Ellipsis: tags.punctuation,\n                At: tags.meta,\n                \"( )\": tags.paren,\n                \"[ ]\": tags.squareBracket,\n                \"{ }\": tags.brace,\n                \".\": tags.derefOperator,\n                \", ;\": tags.separator\n            })\n        ],\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"'''\", '\"\"\"'] },\n        commentTokens: { line: \"#\" },\n        indentOnInput: /^\\s*([\\}\\]\\)]|else:|elif |except |finally:)$/\n    }\n});\n/**\nPython language support.\n*/\nfunction python() {\n    return new LanguageSupport(pythonLanguage);\n}\n\nexport { python, pythonLanguage };\n","import { EditorView, ViewPlugin, BlockType, PluginField, Direction } from '@codemirror/view';\nimport { RangeSet, RangeValue } from '@codemirror/rangeset';\nimport { MapMode, Facet, combineConfig } from '@codemirror/state';\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = /*@__PURE__*/Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => RangeSet.empty,\n    lineMarker: () => null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutters\": {\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#999\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    }\n});\nconst unfixGutters = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n        baseTheme\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n        this.syncGutters();\n    }\n    update(update) {\n        if (this.updateGutters(update))\n            this.syncGutters();\n        if (update.geometryChanged)\n            this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n    }\n    syncGutters() {\n        let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport));\n        this.view.viewportLines(line => {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                return;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }, 0);\n        for (let cx of contexts)\n            cx.finish();\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters)\n                g.dom.remove();\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        this.dom.remove();\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => {\n        if (value.gutters.length == 0 || !value.fixed)\n            return null;\n        return value.view.textDirection == Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport) {\n        this.gutter = gutter;\n        this.localMarkers = [];\n        this.i = 0;\n        this.height = 0;\n        this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        advanceCursor(this.cursor, this.localMarkers, line.from);\n        let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            let elt = gutter.elements[this.i];\n            if (sameMarkers(localMarkers, elt.markers))\n                localMarkers = elt.markers;\n            elt.update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i)\n            gutter.dom.removeChild(gutter.elements.pop().dom);\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.visualLineAtHeight(event.clientY, view.contentDOM.getBoundingClientRect().top);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to);\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.dom = document.createElement(\"div\");\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (this.markers != markers) {\n            this.markers = markers;\n            for (let ch; ch = this.dom.lastChild;)\n                ch.remove();\n            let cls = \"cm-gutterElement\";\n            for (let m of markers) {\n                if (m.toDOM)\n                    this.dom.appendChild(m.toDOM(view));\n                let c = m.elementClass;\n                if (c)\n                    cls += \" \" + c;\n            }\n            this.dom.className = cls;\n        }\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n    combine(values) {\n        return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM(_view) { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = /*@__PURE__*/activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = /*@__PURE__*/new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = /*@__PURE__*/gutterLineClass.compute([\"selection\"], state => {\n    let marks = [], last = -1;\n    for (let range of state.selection.ranges)\n        if (range.empty) {\n            let linePos = state.doc.lineAt(range.head).from;\n            if (linePos > last) {\n                last = linePos;\n                marks.push(activeLineGutterMarker.range(linePos));\n            }\n        }\n    return RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\nexport { GutterMarker, gutter, gutterLineClass, gutters, highlightActiveLineGutter, lineNumberMarkers, lineNumbers };\n","import { Annotation, Facet, combineConfig, StateField, Transaction, ChangeSet, ChangeDesc, EditorSelection, StateEffect } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\n\nconst fromHistory = /*@__PURE__*/Annotation.define();\n/**\nTransaction annotation that will prevent that transaction from\nbeing combined with other transactions in the undo history. Given\n`\"before\"`, it'll prevent merging with previous transactions. With\n`\"after\"`, subsequent transactions won't be combined with this\none. With `\"full\"`, the transaction is isolated on both sides.\n*/\nconst isolateHistory = /*@__PURE__*/Annotation.define();\n/**\nThis facet provides a way to register functions that, given a\ntransaction, provide a set of effects that the history should\nstore when inverting the transaction. This can be used to\nintegrate some kinds of effects in the history, so that they can\nbe undone (and redone again).\n*/\nconst invertedEffects = /*@__PURE__*/Facet.define();\nconst historyConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            minDepth: 100,\n            newGroupDelay: 500\n        }, { minDepth: Math.max, newGroupDelay: Math.min });\n    }\n});\nconst historyField_ = /*@__PURE__*/StateField.define({\n    create() {\n        return HistoryState.empty;\n    },\n    update(state, tr) {\n        let config = tr.state.facet(historyConfig);\n        let fromHist = tr.annotation(fromHistory);\n        if (fromHist) {\n            let item = HistEvent.fromTransaction(tr), from = fromHist.side;\n            let other = from == 0 /* Done */ ? state.undone : state.done;\n            if (item)\n                other = updateBranch(other, other.length, config.minDepth, item);\n            else\n                other = addSelection(other, tr.startState.selection);\n            return new HistoryState(from == 0 /* Done */ ? fromHist.rest : other, from == 0 /* Done */ ? other : fromHist.rest);\n        }\n        let isolate = tr.annotation(isolateHistory);\n        if (isolate == \"full\" || isolate == \"before\")\n            state = state.isolate();\n        if (tr.annotation(Transaction.addToHistory) === false)\n            return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n        let event = HistEvent.fromTransaction(tr);\n        let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n        if (event)\n            state = state.addChanges(event, time, userEvent, config.newGroupDelay, config.minDepth);\n        else if (tr.selection)\n            state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n        if (isolate == \"full\" || isolate == \"after\")\n            state = state.isolate();\n        return state;\n    },\n    toJSON(value) {\n        return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n    },\n    fromJSON(json) {\n        return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n    }\n});\n/**\nCreate a history extension with the given configuration.\n*/\nfunction history(config = {}) {\n    return [\n        historyField_,\n        historyConfig.of(config),\n        EditorView.domEventHandlers({\n            beforeinput(e, view) {\n                if (e.inputType == \"historyUndo\")\n                    return undo(view);\n                if (e.inputType == \"historyRedo\")\n                    return redo(view);\n                return false;\n            }\n        })\n    ];\n}\n/**\nThe state field used to store the history data. Should probably\nonly be used when you want to\n[serialize](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) or\n[deserialize](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) state objects in a way\nthat preserves history.\n*/\nconst historyField = historyField_;\nfunction cmd(side, selection) {\n    return function ({ state, dispatch }) {\n        let historyState = state.field(historyField_, false);\n        if (!historyState)\n            return false;\n        let tr = historyState.pop(side, state, selection);\n        if (!tr)\n            return false;\n        dispatch(tr);\n        return true;\n    };\n}\n/**\nUndo a single group of history events. Returns false if no group\nwas available.\n*/\nconst undo = /*@__PURE__*/cmd(0 /* Done */, false);\n/**\nRedo a group of history events. Returns false if no group was\navailable.\n*/\nconst redo = /*@__PURE__*/cmd(1 /* Undone */, false);\n/**\nUndo a selection change.\n*/\nconst undoSelection = /*@__PURE__*/cmd(0 /* Done */, true);\n/**\nRedo a selection change.\n*/\nconst redoSelection = /*@__PURE__*/cmd(1 /* Undone */, true);\nfunction depth(side) {\n    return function (state) {\n        let histState = state.field(historyField_, false);\n        if (!histState)\n            return 0;\n        let branch = side == 0 /* Done */ ? histState.done : histState.undone;\n        return branch.length - (branch.length && !branch[0].changes ? 1 : 0);\n    };\n}\n/**\nThe amount of undoable change events available in a given state.\n*/\nconst undoDepth = /*@__PURE__*/depth(0 /* Done */);\n/**\nThe amount of redoable change events available in a given state.\n*/\nconst redoDepth = /*@__PURE__*/depth(1 /* Undone */);\n// History events store groups of changes or effects that need to be\n// undone/redone together.\nclass HistEvent {\n    constructor(\n    // The changes in this event. Normal events hold at least one\n    // change or effect. But it may be necessary to store selection\n    // events before the first change, in which case a special type of\n    // instance is created which doesn't hold any changes, with\n    // changes == startSelection == undefined\n    changes, \n    // The effects associated with this event\n    effects, mapped, \n    // The selection before this event\n    startSelection, \n    // Stores selection changes after this event, to be used for\n    // selection undo/redo.\n    selectionsAfter) {\n        this.changes = changes;\n        this.effects = effects;\n        this.mapped = mapped;\n        this.startSelection = startSelection;\n        this.selectionsAfter = selectionsAfter;\n    }\n    setSelAfter(after) {\n        return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n    }\n    toJSON() {\n        var _a, _b, _c;\n        return {\n            changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n            selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n        };\n    }\n    static fromJSON(json) {\n        return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n    }\n    // This does not check `addToHistory` and such, it assumes the\n    // transaction needs to be converted to an item. Returns null when\n    // there are no changes or effects in the transaction.\n    static fromTransaction(tr) {\n        let effects = none;\n        for (let invert of tr.startState.facet(invertedEffects)) {\n            let result = invert(tr);\n            if (result.length)\n                effects = effects.concat(result);\n        }\n        if (!effects.length && tr.changes.empty)\n            return null;\n        return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, tr.startState.selection, none);\n    }\n    static selection(selections) {\n        return new HistEvent(undefined, none, undefined, undefined, selections);\n    }\n}\nfunction updateBranch(branch, to, maxLen, newEvent) {\n    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    let newBranch = branch.slice(start, to);\n    newBranch.push(newEvent);\n    return newBranch;\n}\nfunction isAdjacent(a, b) {\n    let ranges = [], isAdjacent = false;\n    a.iterChangedRanges((f, t) => ranges.push(f, t));\n    b.iterChangedRanges((_f, _t, f, t) => {\n        for (let i = 0; i < ranges.length;) {\n            let from = ranges[i++], to = ranges[i++];\n            if (t >= from && f <= to)\n                isAdjacent = true;\n        }\n    });\n    return isAdjacent;\n}\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n}\nfunction conc(a, b) {\n    return !a.length ? b : !b.length ? a : a.concat(b);\n}\nconst none = [];\nconst MaxSelectionsPerEvent = 200;\nfunction addSelection(branch, selection) {\n    if (!branch.length) {\n        return [HistEvent.selection([selection])];\n    }\n    else {\n        let lastEvent = branch[branch.length - 1];\n        let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n        if (sels.length && sels[sels.length - 1].eq(selection))\n            return branch;\n        sels.push(selection);\n        return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n    }\n}\n// Assumes the top item has one or more selectionAfter values\nfunction popSelection(branch) {\n    let last = branch[branch.length - 1];\n    let newBranch = branch.slice();\n    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n    return newBranch;\n}\n// Add a mapping to the top event in the given branch. If this maps\n// away all the changes and effects in that item, drop it and\n// propagate the mapping to the next item.\nfunction addMappingToBranch(branch, mapping) {\n    if (!branch.length)\n        return branch;\n    let length = branch.length, selections = none;\n    while (length) {\n        let event = mapEvent(branch[length - 1], mapping, selections);\n        if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n            let result = branch.slice(0, length);\n            result[length - 1] = event;\n            return result;\n        }\n        else { // Drop this event, since there's no changes or effects left\n            mapping = event.mapped;\n            length--;\n            selections = event.selectionsAfter;\n        }\n    }\n    return selections.length ? [HistEvent.selection(selections)] : none;\n}\nfunction mapEvent(event, mapping, extraSelections) {\n    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none, extraSelections);\n    // Change-less events don't store mappings (they are always the last event in a branch)\n    if (!event.changes)\n        return HistEvent.selection(selections);\n    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n}\nclass HistoryState {\n    constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    isolate() {\n        return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n    }\n    addChanges(event, time, userEvent, newGroupDelay, maxLen) {\n        let done = this.done, lastEvent = done[done.length - 1];\n        if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes &&\n            ((!lastEvent.selectionsAfter.length &&\n                time - this.prevTime < newGroupDelay &&\n                isAdjacent(lastEvent.changes, event.changes)) ||\n                // For compose (but not compose.start) events, always join with previous event\n                userEvent == \"input.type.compose\")) {\n            done = updateBranch(done, done.length - 1, maxLen, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none));\n        }\n        else {\n            done = updateBranch(done, done.length, maxLen, event);\n        }\n        return new HistoryState(done, none, time, userEvent);\n    }\n    addSelection(selection, time, userEvent, newGroupDelay) {\n        let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none;\n        if (last.length > 0 &&\n            time - this.prevTime < newGroupDelay &&\n            userEvent == this.prevUserEvent && userEvent && /^select($|\\.)/.test(userEvent) &&\n            eqSelectionShape(last[last.length - 1], selection))\n            return this;\n        return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n    }\n    addMapping(mapping) {\n        return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n    }\n    pop(side, state, selection) {\n        let branch = side == 0 /* Done */ ? this.done : this.undone;\n        if (branch.length == 0)\n            return null;\n        let event = branch[branch.length - 1];\n        if (selection && event.selectionsAfter.length) {\n            return state.update({\n                selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                annotations: fromHistory.of({ side, rest: popSelection(branch) }),\n                userEvent: side == 0 /* Done */ ? \"select.undo\" : \"select.redo\"\n            });\n        }\n        else if (!event.changes) {\n            return null;\n        }\n        else {\n            let rest = branch.length == 1 ? none : branch.slice(0, branch.length - 1);\n            if (event.mapped)\n                rest = addMappingToBranch(rest, event.mapped);\n            return state.update({\n                changes: event.changes,\n                selection: event.startSelection,\n                effects: event.effects,\n                annotations: fromHistory.of({ side, rest }),\n                filter: false,\n                userEvent: side == 0 /* Done */ ? \"undo\" : \"redo\"\n            });\n        }\n    }\n}\nHistoryState.empty = /*@__PURE__*/new HistoryState(none, none);\n/**\nDefault key bindings for the undo history.\n\n- Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#history.undo).\n- Mod-y (Mod-Shift-z on macOS): [`redo`](https://codemirror.net/6/docs/ref/#history.redo).\n- Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#history.undoSelection).\n- Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#history.redoSelection).\n*/\nconst historyKeymap = [\n    { key: \"Mod-z\", run: undo, preventDefault: true },\n    { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n    { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n    { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n];\n\nexport { history, historyField, historyKeymap, invertedEffects, isolateHistory, redo, redoDepth, redoSelection, undo, undoDepth, undoSelection };\n","import { StateEffect, StateField, Facet, combineConfig } from '@codemirror/state';\nimport { Decoration, EditorView, WidgetType, ViewPlugin } from '@codemirror/view';\nimport { foldable, language } from '@codemirror/language';\nimport { gutter, GutterMarker } from '@codemirror/gutter';\nimport { RangeSet, RangeSetBuilder } from '@codemirror/rangeset';\n\nfunction mapRange(range, mapping) {\n    let from = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);\n    return from >= to ? undefined : { from, to };\n}\n/**\nState effect that can be attached to a transaction to fold the\ngiven range. (You probably only need this in exceptional\ncircumstancesusually you'll just want to let\n[`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode) and the [fold\ngutter](https://codemirror.net/6/docs/ref/#fold.foldGutter) create the transactions.)\n*/\nconst foldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n/**\nState effect that unfolds the given range (if it was folded).\n*/\nconst unfoldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\nfunction selectedLines(view) {\n    let lines = [];\n    for (let { head } of view.state.selection.ranges) {\n        if (lines.some(l => l.from <= head && l.to >= head))\n            continue;\n        lines.push(view.visualLineAt(head));\n    }\n    return lines;\n}\nconst foldState = /*@__PURE__*/StateField.define({\n    create() {\n        return Decoration.none;\n    },\n    update(folded, tr) {\n        folded = folded.map(tr.changes);\n        for (let e of tr.effects) {\n            if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to))\n                folded = folded.update({ add: [foldWidget.range(e.value.from, e.value.to)] });\n            else if (e.is(unfoldEffect))\n                folded = folded.update({ filter: (from, to) => e.value.from != from || e.value.to != to,\n                    filterFrom: e.value.from, filterTo: e.value.to });\n        }\n        // Clear folded ranges that cover the selection head\n        if (tr.selection) {\n            let onSelection = false, { head } = tr.selection.main;\n            folded.between(head, head, (a, b) => { if (a < head && b > head)\n                onSelection = true; });\n            if (onSelection)\n                folded = folded.update({\n                    filterFrom: head,\n                    filterTo: head,\n                    filter: (a, b) => b <= head || a >= head\n                });\n        }\n        return folded;\n    },\n    provide: f => EditorView.decorations.from(f)\n});\n/**\nGet a [range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) containing the folded ranges\nin the given state.\n*/\nfunction foldedRanges(state) {\n    return state.field(foldState, false) || RangeSet.empty;\n}\nfunction foldInside(state, from, to) {\n    var _a;\n    let found = null;\n    (_a = state.field(foldState, false)) === null || _a === void 0 ? void 0 : _a.between(from, to, (from, to) => {\n        if (!found || found.from > from)\n            found = { from, to };\n    });\n    return found;\n}\nfunction foldExists(folded, from, to) {\n    let found = false;\n    folded.between(from, from, (a, b) => { if (a == from && b == to)\n        found = true; });\n    return found;\n}\nfunction maybeEnable(state, other) {\n    return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));\n}\n/**\nFold the lines that are selected, if possible.\n*/\nconst foldCode = view => {\n    for (let line of selectedLines(view)) {\n        let range = foldable(view.state, line.from, line.to);\n        if (range) {\n            view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });\n            return true;\n        }\n    }\n    return false;\n};\n/**\nUnfold folded ranges on selected lines.\n*/\nconst unfoldCode = view => {\n    if (!view.state.field(foldState, false))\n        return false;\n    let effects = [];\n    for (let line of selectedLines(view)) {\n        let folded = foldInside(view.state, line.from, line.to);\n        if (folded)\n            effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n    }\n    if (effects.length)\n        view.dispatch({ effects });\n    return effects.length > 0;\n};\nfunction announceFold(view, range, fold = true) {\n    let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;\n    return EditorView.announce.of(`${view.state.phrase(fold ? \"Folded lines\" : \"Unfolded lines\")} ${lineFrom} ${view.state.phrase(\"to\")} ${lineTo}.`);\n}\n/**\nFold all top-level foldable ranges.\n*/\nconst foldAll = view => {\n    let { state } = view, effects = [];\n    for (let pos = 0; pos < state.doc.length;) {\n        let line = view.visualLineAt(pos), range = foldable(state, line.from, line.to);\n        if (range)\n            effects.push(foldEffect.of(range));\n        pos = (range ? view.visualLineAt(range.to) : line).to + 1;\n    }\n    if (effects.length)\n        view.dispatch({ effects: maybeEnable(view.state, effects) });\n    return !!effects.length;\n};\n/**\nUnfold all folded code.\n*/\nconst unfoldAll = view => {\n    let field = view.state.field(foldState, false);\n    if (!field || !field.size)\n        return false;\n    let effects = [];\n    field.between(0, view.state.doc.length, (from, to) => { effects.push(unfoldEffect.of({ from, to })); });\n    view.dispatch({ effects });\n    return true;\n};\n/**\nDefault fold-related key bindings.\n\n - Ctrl-Shift-[ (Cmd-Alt-[ on macOS): [`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode).\n - Ctrl-Shift-] (Cmd-Alt-] on macOS): [`unfoldCode`](https://codemirror.net/6/docs/ref/#fold.unfoldCode).\n - Ctrl-Alt-[: [`foldAll`](https://codemirror.net/6/docs/ref/#fold.foldAll).\n - Ctrl-Alt-]: [`unfoldAll`](https://codemirror.net/6/docs/ref/#fold.unfoldAll).\n*/\nconst foldKeymap = [\n    { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\n    { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\n    { key: \"Ctrl-Alt-[\", run: foldAll },\n    { key: \"Ctrl-Alt-]\", run: unfoldAll }\n];\nconst defaultConfig = {\n    placeholderDOM: null,\n    placeholderText: \"\"\n};\nconst foldConfig = /*@__PURE__*/Facet.define({\n    combine(values) { return combineConfig(values, defaultConfig); }\n});\n/**\nCreate an extension that configures code folding.\n*/\nfunction codeFolding(config) {\n    let result = [foldState, baseTheme];\n    if (config)\n        result.push(foldConfig.of(config));\n    return result;\n}\nconst foldWidget = /*@__PURE__*/Decoration.replace({ widget: /*@__PURE__*/new class extends WidgetType {\n        ignoreEvents() { return false; }\n        toDOM(view) {\n            let { state } = view, conf = state.facet(foldConfig);\n            let onclick = (event) => {\n                let line = view.visualLineAt(view.posAtDOM(event.target));\n                let folded = foldInside(view.state, line.from, line.to);\n                if (folded)\n                    view.dispatch({ effects: unfoldEffect.of(folded) });\n                event.preventDefault();\n            };\n            if (conf.placeholderDOM)\n                return conf.placeholderDOM(view, onclick);\n            let element = document.createElement(\"span\");\n            element.textContent = conf.placeholderText;\n            element.setAttribute(\"aria-label\", state.phrase(\"folded code\"));\n            element.title = state.phrase(\"unfold\");\n            element.className = \"cm-foldPlaceholder\";\n            element.onclick = onclick;\n            return element;\n        }\n    } });\nconst foldGutterDefaults = {\n    openText: \"\",\n    closedText: \"\",\n    markerDOM: null,\n};\nclass FoldMarker extends GutterMarker {\n    constructor(config, open) {\n        super();\n        this.config = config;\n        this.open = open;\n    }\n    eq(other) { return this.config == other.config && this.open == other.open; }\n    toDOM(view) {\n        if (this.config.markerDOM)\n            return this.config.markerDOM(this.open);\n        let span = document.createElement(\"span\");\n        span.textContent = this.open ? this.config.openText : this.config.closedText;\n        span.title = view.state.phrase(this.open ? \"Fold line\" : \"Unfold line\");\n        return span;\n    }\n}\n/**\nCreate an extension that registers a fold gutter, which shows a\nfold status indicator before foldable lines (which can be clicked\nto fold or unfold the line).\n*/\nfunction foldGutter(config = {}) {\n    let fullConfig = Object.assign(Object.assign({}, foldGutterDefaults), config);\n    let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);\n    let markers = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.from = view.viewport.from;\n            this.markers = this.buildMarkers(view);\n        }\n        update(update) {\n            if (update.docChanged || update.viewportChanged ||\n                update.startState.facet(language) != update.state.facet(language) ||\n                update.startState.field(foldState, false) != update.state.field(foldState, false))\n                this.markers = this.buildMarkers(update.view);\n        }\n        buildMarkers(view) {\n            let builder = new RangeSetBuilder();\n            view.viewportLines(line => {\n                let mark = foldInside(view.state, line.from, line.to) ? canUnfold\n                    : foldable(view.state, line.from, line.to) ? canFold : null;\n                if (mark)\n                    builder.add(line.from, line.from, mark);\n            });\n            return builder.finish();\n        }\n    });\n    return [\n        markers,\n        gutter({\n            class: \"cm-foldGutter\",\n            markers(view) { var _a; return ((_a = view.plugin(markers)) === null || _a === void 0 ? void 0 : _a.markers) || RangeSet.empty; },\n            initialSpacer() {\n                return new FoldMarker(fullConfig, false);\n            },\n            domEventHandlers: {\n                click: (view, line) => {\n                    let folded = foldInside(view.state, line.from, line.to);\n                    if (folded) {\n                        view.dispatch({ effects: unfoldEffect.of(folded) });\n                        return true;\n                    }\n                    let range = foldable(view.state, line.from, line.to);\n                    if (range) {\n                        view.dispatch({ effects: foldEffect.of(range) });\n                        return true;\n                    }\n                    return false;\n                }\n            }\n        }),\n        codeFolding()\n    ];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"#eee\",\n        border: \"1px solid #ddd\",\n        color: \"#888\",\n        borderRadius: \".2em\",\n        margin: \"0 1px\",\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    },\n    \".cm-foldGutter span\": {\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    }\n});\n\nexport { codeFolding, foldAll, foldCode, foldEffect, foldGutter, foldKeymap, foldedRanges, unfoldAll, unfoldCode, unfoldEffect };\n","import { Facet, combineConfig, StateField } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { EditorView, Decoration } from '@codemirror/view';\nimport { NodeProp } from '@lezer/common';\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-matchingBracket\": { backgroundColor: \"#328c8252\" },\n    \".cm-nonmatchingBracket\": { backgroundColor: \"#bb555544\" }\n});\nconst DefaultScanDist = 10000, DefaultBrackets = \"()[]{}\";\nconst bracketMatchingConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            afterCursor: true,\n            brackets: DefaultBrackets,\n            maxScanDistance: DefaultScanDist\n        });\n    }\n});\nconst matchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-matchingBracket\" }), nonmatchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-nonmatchingBracket\" });\nconst bracketMatchingState = /*@__PURE__*/StateField.define({\n    create() { return Decoration.none; },\n    update(deco, tr) {\n        if (!tr.docChanged && !tr.selection)\n            return deco;\n        let decorations = [];\n        let config = tr.state.facet(bracketMatchingConfig);\n        for (let range of tr.state.selection.ranges) {\n            if (!range.empty)\n                continue;\n            let match = matchBrackets(tr.state, range.head, -1, config)\n                || (range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config))\n                || (config.afterCursor &&\n                    (matchBrackets(tr.state, range.head, 1, config) ||\n                        (range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config))));\n            if (!match)\n                continue;\n            let mark = match.matched ? matchingMark : nonmatchingMark;\n            decorations.push(mark.range(match.start.from, match.start.to));\n            if (match.end)\n                decorations.push(mark.range(match.end.from, match.end.to));\n        }\n        return Decoration.set(decorations, true);\n    },\n    provide: f => EditorView.decorations.from(f)\n});\nconst bracketMatchingUnique = [\n    bracketMatchingState,\n    baseTheme\n];\n/**\nCreate an extension that enables bracket matching. Whenever the\ncursor is next to a bracket, that bracket and the one it matches\nare highlighted. Or, when no matching bracket is found, another\nhighlighting style is used to indicate this.\n*/\nfunction bracketMatching(config = {}) {\n    return [bracketMatchingConfig.of(config), bracketMatchingUnique];\n}\nfunction matchingNodes(node, dir, brackets) {\n    let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);\n    if (byProp)\n        return byProp;\n    if (node.name.length == 1) {\n        let index = brackets.indexOf(node.name);\n        if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))\n            return [brackets[index + dir]];\n    }\n    return null;\n}\n/**\nFind the matching bracket for the token at `pos`, scanning\ndirection `dir`. Only the `brackets` and `maxScanDistance`\nproperties are used from `config`, if given. Returns null if no\nbracket was found at `pos`, or a match result otherwise.\n*/\nfunction matchBrackets(state, pos, dir, config = {}) {\n    let maxScanDistance = config.maxScanDistance || DefaultScanDist, brackets = config.brackets || DefaultBrackets;\n    let tree = syntaxTree(state), node = tree.resolveInner(pos, dir);\n    for (let cur = node; cur; cur = cur.parent) {\n        let matches = matchingNodes(cur.type, dir, brackets);\n        if (matches && cur.from < cur.to)\n            return matchMarkedBrackets(state, pos, dir, cur, matches, brackets);\n    }\n    return matchPlainBrackets(state, pos, dir, tree, node.type, maxScanDistance, brackets);\n}\nfunction matchMarkedBrackets(_state, _pos, dir, token, matching, brackets) {\n    let parent = token.parent, firstToken = { from: token.from, to: token.to };\n    let depth = 0, cursor = parent === null || parent === void 0 ? void 0 : parent.cursor;\n    if (cursor && (dir < 0 ? cursor.childBefore(token.from) : cursor.childAfter(token.to)))\n        do {\n            if (dir < 0 ? cursor.to <= token.from : cursor.from >= token.to) {\n                if (depth == 0 && matching.indexOf(cursor.type.name) > -1 && cursor.from < cursor.to) {\n                    return { start: firstToken, end: { from: cursor.from, to: cursor.to }, matched: true };\n                }\n                else if (matchingNodes(cursor.type, dir, brackets)) {\n                    depth++;\n                }\n                else if (matchingNodes(cursor.type, -dir, brackets)) {\n                    depth--;\n                    if (depth == 0)\n                        return {\n                            start: firstToken,\n                            end: cursor.from == cursor.to ? undefined : { from: cursor.from, to: cursor.to },\n                            matched: false\n                        };\n                }\n            }\n        } while (dir < 0 ? cursor.prevSibling() : cursor.nextSibling());\n    return { start: firstToken, matched: false };\n}\nfunction matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {\n    let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);\n    let bracket = brackets.indexOf(startCh);\n    if (bracket < 0 || (bracket % 2 == 0) != (dir > 0))\n        return null;\n    let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };\n    let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;\n    for (let distance = 0; !(iter.next()).done && distance <= maxScanDistance;) {\n        let text = iter.value;\n        if (dir < 0)\n            distance += text.length;\n        let basePos = pos + distance * dir;\n        for (let pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n            let found = brackets.indexOf(text[pos]);\n            if (found < 0 || tree.resolve(basePos + pos, 1).type != tokenType)\n                continue;\n            if ((found % 2 == 0) == (dir > 0)) {\n                depth++;\n            }\n            else if (depth == 1) { // Closing\n                return { start: startToken, end: { from: basePos + pos, to: basePos + pos + 1 }, matched: (found >> 1) == (bracket >> 1) };\n            }\n            else {\n                depth--;\n            }\n        }\n        if (dir > 0)\n            distance += text.length;\n    }\n    return iter.done ? { start: startToken, matched: false } : null;\n}\n\nexport { bracketMatching, matchBrackets };\n","import { EditorSelection, CharCategory } from '@codemirror/state';\nimport { Text, findClusterBreak, countColumn } from '@codemirror/text';\nimport { Direction, EditorView, PluginField } from '@codemirror/view';\nimport { matchBrackets } from '@codemirror/matchbrackets';\nimport { IndentContext, getIndentation, indentString, indentUnit, getIndentUnit, syntaxTree } from '@codemirror/language';\nimport { NodeProp } from '@lezer/common';\n\nfunction updateSel(sel, by) {\n    return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n}\nfunction setSel(state, selection) {\n    return state.update({ selection, scrollIntoView: true, userEvent: \"select\" });\n}\nfunction moveSel({ state, dispatch }, how) {\n    let selection = updateSel(state.selection, how);\n    if (selection.eq(state.selection))\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\nfunction rangeEnd(range, forward) {\n    return EditorSelection.cursor(forward ? range.to : range.from);\n}\nfunction cursorByChar(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one character to the left (which is backward in\nleft-to-right text, forward in right-to-left text).\n*/\nconst cursorCharLeft = view => cursorByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one character to the right.\n*/\nconst cursorCharRight = view => cursorByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one character forward.\n*/\nconst cursorCharForward = view => cursorByChar(view, true);\n/**\nMove the selection one character backward.\n*/\nconst cursorCharBackward = view => cursorByChar(view, false);\nfunction cursorByGroup(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection to the left across one group of word or\nnon-word (but also non-space) characters.\n*/\nconst cursorGroupLeft = view => cursorByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one group to the right.\n*/\nconst cursorGroupRight = view => cursorByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one group forward.\n*/\nconst cursorGroupForward = view => cursorByGroup(view, true);\n/**\nMove the selection one group backward.\n*/\nconst cursorGroupBackward = view => cursorByGroup(view, false);\nfunction moveBySubword(view, range, forward) {\n    let categorize = view.state.charCategorizer(range.from);\n    return view.moveByChar(range, forward, start => {\n        let cat = CharCategory.Space, pos = range.from;\n        let done = false, sawUpper = false, sawLower = false;\n        let step = (next) => {\n            if (done)\n                return false;\n            pos += forward ? next.length : -next.length;\n            let nextCat = categorize(next), ahead;\n            if (cat == CharCategory.Space)\n                cat = nextCat;\n            if (cat != nextCat)\n                return false;\n            if (cat == CharCategory.Word) {\n                if (next.toLowerCase() == next) {\n                    if (!forward && sawUpper)\n                        return false;\n                    sawLower = true;\n                }\n                else if (sawLower) {\n                    if (forward)\n                        return false;\n                    done = true;\n                }\n                else {\n                    if (sawUpper && forward && categorize(ahead = view.state.sliceDoc(pos, pos + 1)) == CharCategory.Word &&\n                        ahead.toLowerCase() == ahead)\n                        return false;\n                    sawUpper = true;\n                }\n            }\n            return true;\n        };\n        step(start);\n        return step;\n    });\n}\nfunction cursorBySubword(view, forward) {\n    return moveSel(view, range => range.empty ? moveBySubword(view, range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one group or camel-case subword forward.\n*/\nconst cursorSubwordForward = view => cursorBySubword(view, true);\n/**\nMove the selection one group or camel-case subword backward.\n*/\nconst cursorSubwordBackward = view => cursorBySubword(view, false);\nfunction interestingNode(state, node, bracketProp) {\n    if (node.type.prop(bracketProp))\n        return true;\n    let len = node.to - node.from;\n    return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n}\nfunction moveBySyntax(state, start, forward) {\n    let pos = syntaxTree(state).resolveInner(start.head);\n    let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n    // Scan forward through child nodes to see if there's an interesting\n    // node ahead.\n    for (let at = start.head;;) {\n        let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n        if (!next)\n            break;\n        if (interestingNode(state, next, bracketProp))\n            pos = next;\n        else\n            at = forward ? next.to : next.from;\n    }\n    let bracket = pos.type.prop(bracketProp), match, newPos;\n    if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n        newPos = forward ? match.end.to : match.end.from;\n    else\n        newPos = forward ? pos.to : pos.from;\n    return EditorSelection.cursor(newPos, forward ? -1 : 1);\n}\n/**\nMove the cursor over the next syntactic element to the left.\n*/\nconst cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the cursor over the next syntactic element to the right.\n*/\nconst cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction cursorByLine(view, forward) {\n    return moveSel(view, range => {\n        if (!range.empty)\n            return rangeEnd(range, forward);\n        let moved = view.moveVertically(range, forward);\n        return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);\n    });\n}\n/**\nMove the selection one line up.\n*/\nconst cursorLineUp = view => cursorByLine(view, false);\n/**\nMove the selection one line down.\n*/\nconst cursorLineDown = view => cursorByLine(view, true);\nfunction cursorByPage(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveVertically(range, forward, view.dom.clientHeight) : rangeEnd(range, forward));\n}\n/**\nMove the selection one page up.\n*/\nconst cursorPageUp = view => cursorByPage(view, false);\n/**\nMove the selection one page down.\n*/\nconst cursorPageDown = view => cursorByPage(view, true);\nfunction moveByLineBoundary(view, start, forward) {\n    let line = view.visualLineAt(start.head), moved = view.moveToLineBoundary(start, forward);\n    if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n        moved = view.moveToLineBoundary(start, forward, false);\n    if (!forward && moved.head == line.from && line.length) {\n        let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n        if (space && start.head != line.from + space)\n            moved = EditorSelection.cursor(line.from + space);\n    }\n    return moved;\n}\n/**\nMove the selection to the next line wrap point, or to the end of\nthe line if there isn't one left on this line.\n*/\nconst cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection to previous line wrap point, or failing that to\nthe start of the line. If the line is indented, and the cursor\nisn't already at the end of the indentation, this will move to the\nend of the indentation instead of the start of the line.\n*/\nconst cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection to the start of the line.\n*/\nconst cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from, 1));\n/**\nMove the selection to the end of the line.\n*/\nconst cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to, -1));\nfunction toMatchingBracket(state, dispatch, extend) {\n    let found = false, selection = updateSel(state.selection, range => {\n        let matching = matchBrackets(state, range.head, -1)\n            || matchBrackets(state, range.head, 1)\n            || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n            || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n        if (!matching || !matching.end)\n            return range;\n        found = true;\n        let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n        return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);\n    });\n    if (!found)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\n/**\nMove the selection to the bracket matching the one it is currently\non, if any.\n*/\nconst cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);\n/**\nExtend the selection to the bracket matching the one the selection\nhead is currently on, if any.\n*/\nconst selectMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, true);\nfunction extendSel(view, how) {\n    let selection = updateSel(view.state.selection, range => {\n        let head = how(range);\n        return EditorSelection.range(range.anchor, head.head, head.goalColumn);\n    });\n    if (selection.eq(view.state.selection))\n        return false;\n    view.dispatch(setSel(view.state, selection));\n    return true;\n}\nfunction selectByChar(view, forward) {\n    return extendSel(view, range => view.moveByChar(range, forward));\n}\n/**\nMove the selection head one character to the left, while leaving\nthe anchor in place.\n*/\nconst selectCharLeft = view => selectByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one character to the right.\n*/\nconst selectCharRight = view => selectByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one character forward.\n*/\nconst selectCharForward = view => selectByChar(view, true);\n/**\nMove the selection head one character backward.\n*/\nconst selectCharBackward = view => selectByChar(view, false);\nfunction selectByGroup(view, forward) {\n    return extendSel(view, range => view.moveByGroup(range, forward));\n}\n/**\nMove the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\nthe left.\n*/\nconst selectGroupLeft = view => selectByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one group to the right.\n*/\nconst selectGroupRight = view => selectByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one group forward.\n*/\nconst selectGroupForward = view => selectByGroup(view, true);\n/**\nMove the selection head one group backward.\n*/\nconst selectGroupBackward = view => selectByGroup(view, false);\nfunction selectBySubword(view, forward) {\n    return extendSel(view, range => moveBySubword(view, range, forward));\n}\n/**\nMove the selection head one group or camel-case subword forward.\n*/\nconst selectSubwordForward = view => selectBySubword(view, true);\n/**\nMove the selection head one group or subword backward.\n*/\nconst selectSubwordBackward = view => selectBySubword(view, false);\n/**\nMove the selection head over the next syntactic element to the left.\n*/\nconst selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the selection head over the next syntactic element to the right.\n*/\nconst selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction selectByLine(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward));\n}\n/**\nMove the selection head one line up.\n*/\nconst selectLineUp = view => selectByLine(view, false);\n/**\nMove the selection head one line down.\n*/\nconst selectLineDown = view => selectByLine(view, true);\nfunction selectByPage(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward, view.dom.clientHeight));\n}\n/**\nMove the selection head one page up.\n*/\nconst selectPageUp = view => selectByPage(view, false);\n/**\nMove the selection head one page down.\n*/\nconst selectPageDown = view => selectByPage(view, true);\n/**\nMove the selection head to the next line boundary.\n*/\nconst selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection head to the previous line boundary.\n*/\nconst selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection head to the start of the line.\n*/\nconst selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from));\n/**\nMove the selection head to the end of the line.\n*/\nconst selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to));\n/**\nMove the selection to the start of the document.\n*/\nconst cursorDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: 0 }));\n    return true;\n};\n/**\nMove the selection to the end of the document.\n*/\nconst cursorDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.doc.length }));\n    return true;\n};\n/**\nMove the selection head to the start of the document.\n*/\nconst selectDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n    return true;\n};\n/**\nMove the selection head to the end of the document.\n*/\nconst selectDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n    return true;\n};\n/**\nSelect the entire document.\n*/\nconst selectAll = ({ state, dispatch }) => {\n    dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: \"select\" }));\n    return true;\n};\n/**\nExpand the selection to cover entire lines.\n*/\nconst selectLine = ({ state, dispatch }) => {\n    let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n    dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: \"select\" }));\n    return true;\n};\n/**\nSelect the next syntactic construct that is larger than the\nselection. Note that this will only work insofar as the language\n[provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\nsyntax tree.\n*/\nconst selectParentSyntax = ({ state, dispatch }) => {\n    let selection = updateSel(state.selection, range => {\n        var _a;\n        let context = syntaxTree(state).resolveInner(range.head, 1);\n        while (!((context.from < range.from && context.to >= range.to) ||\n            (context.to > range.to && context.from <= range.from) ||\n            !((_a = context.parent) === null || _a === void 0 ? void 0 : _a.parent)))\n            context = context.parent;\n        return EditorSelection.range(context.to, context.from);\n    });\n    dispatch(setSel(state, selection));\n    return true;\n};\n/**\nSimplify the current selection. When multiple ranges are selected,\nreduce it to its main range. Otherwise, if the selection is\nnon-empty, convert it to a cursor selection.\n*/\nconst simplifySelection = ({ state, dispatch }) => {\n    let cur = state.selection, selection = null;\n    if (cur.ranges.length > 1)\n        selection = EditorSelection.create([cur.main]);\n    else if (!cur.main.empty)\n        selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n    if (!selection)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n};\nfunction deleteBy({ state, dispatch }, by) {\n    if (state.readOnly)\n        return false;\n    let event = \"delete.selection\";\n    let changes = state.changeByRange(range => {\n        let { from, to } = range;\n        if (from == to) {\n            let towards = by(from);\n            if (towards < from)\n                event = \"delete.backward\";\n            else if (towards > from)\n                event = \"delete.forward\";\n            from = Math.min(from, towards);\n            to = Math.max(to, towards);\n        }\n        return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: event }));\n    return true;\n}\nfunction skipAtomic(target, pos, forward) {\n    if (target instanceof EditorView)\n        for (let ranges of target.pluginField(PluginField.atomicRanges))\n            ranges.between(pos, pos, (from, to) => {\n                if (from < pos && to > pos)\n                    pos = forward ? to : from;\n            });\n    return pos;\n}\nconst deleteByChar = (target, forward) => deleteBy(target, pos => {\n    let { state } = target, line = state.doc.lineAt(pos), before, targetPos;\n    if (!forward && pos > line.from && pos < line.from + 200 &&\n        !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n        if (before[before.length - 1] == \"\\t\")\n            return pos - 1;\n        let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n        for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n            pos--;\n        targetPos = pos;\n    }\n    else {\n        targetPos = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n            targetPos += forward ? 1 : -1;\n    }\n    return skipAtomic(target, targetPos, forward);\n});\n/**\nDelete the selection, or, for cursor selections, the character\nbefore the cursor.\n*/\nconst deleteCharBackward = view => deleteByChar(view, false);\n/**\nDelete the selection or the character after the cursor.\n*/\nconst deleteCharForward = view => deleteByChar(view, true);\nconst deleteByGroup = (target, forward) => deleteBy(target, start => {\n    let pos = start, { state } = target, line = state.doc.lineAt(pos);\n    let categorize = state.charCategorizer(pos);\n    for (let cat = null;;) {\n        if (pos == (forward ? line.to : line.from)) {\n            if (pos == start && line.number != (forward ? state.doc.lines : 1))\n                pos += forward ? 1 : -1;\n            break;\n        }\n        let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n        let nextCat = categorize(nextChar);\n        if (cat != null && nextCat != cat)\n            break;\n        if (nextChar != \" \" || pos != start)\n            cat = nextCat;\n        pos = next;\n    }\n    return skipAtomic(target, pos, forward);\n});\n/**\nDelete the selection or backward until the end of the next\n[group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\nwhitespace when they consist of a single space.\n*/\nconst deleteGroupBackward = target => deleteByGroup(target, false);\n/**\nDelete the selection or forward until the end of the next group.\n*/\nconst deleteGroupForward = target => deleteByGroup(target, true);\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe end of the line. If the cursor is directly at the end of the\nline, delete the line break after it.\n*/\nconst deleteToLineEnd = view => deleteBy(view, pos => {\n    let lineEnd = view.visualLineAt(pos).to;\n    return skipAtomic(view, pos < lineEnd ? lineEnd : Math.min(view.state.doc.length, pos + 1), true);\n});\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe start of the line. If the cursor is directly at the start of the\nline, delete the line break before it.\n*/\nconst deleteToLineStart = view => deleteBy(view, pos => {\n    let lineStart = view.visualLineAt(pos).from;\n    return skipAtomic(view, pos > lineStart ? lineStart : Math.max(0, pos - 1), false);\n});\n/**\nDelete all whitespace directly before a line end from the\ndocument.\n*/\nconst deleteTrailingWhitespace = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let pos = 0, prev = \"\", iter = state.doc.iter();;) {\n        iter.next();\n        if (iter.lineBreak || iter.done) {\n            let trailing = prev.search(/\\s+$/);\n            if (trailing > -1)\n                changes.push({ from: pos - (prev.length - trailing), to: pos });\n            if (iter.done)\n                break;\n            prev = \"\";\n        }\n        else {\n            prev = iter.value;\n        }\n        pos += iter.value.length;\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({ changes, userEvent: \"delete\" }));\n    return true;\n};\n/**\nReplace each selection range with a line break, leaving the cursor\non the line before the break.\n*/\nconst splitLine = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n            range: EditorSelection.cursor(range.from) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nFlip the characters before and after the cursor(s).\n*/\nconst transposeChars = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        if (!range.empty || range.from == 0 || range.from == state.doc.length)\n            return { range };\n        let pos = range.from, line = state.doc.lineAt(pos);\n        let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n        let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n        return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n            range: EditorSelection.cursor(to) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"move.character\" }));\n    return true;\n};\nfunction selectedLineBlocks(state) {\n    let blocks = [], upto = -1;\n    for (let range of state.selection.ranges) {\n        let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n        if (!range.empty && range.to == endLine.from)\n            endLine = state.doc.lineAt(range.to - 1);\n        if (upto >= startLine.number) {\n            let prev = blocks[blocks.length - 1];\n            prev.to = endLine.to;\n            prev.ranges.push(range);\n        }\n        else {\n            blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n        }\n        upto = endLine.number + 1;\n    }\n    return blocks;\n}\nfunction moveLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [], ranges = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward ? block.to == state.doc.length : block.from == 0)\n            continue;\n        let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n        let size = nextLine.length + 1;\n        if (forward) {\n            changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n        }\n        else {\n            changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n        }\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({\n        changes,\n        scrollIntoView: true,\n        selection: EditorSelection.create(ranges, state.selection.mainIndex),\n        userEvent: \"move.line\"\n    }));\n    return true;\n}\n/**\nMove the selected lines up one line.\n*/\nconst moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n/**\nMove the selected lines down one line.\n*/\nconst moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\nfunction copyLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward)\n            changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n        else\n            changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n    }\n    dispatch(state.update({ changes, scrollIntoView: true, userEvent: \"input.copyline\" }));\n    return true;\n}\n/**\nCreate a copy of the selected lines. Keep the selection in the top copy.\n*/\nconst copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n/**\nCreate a copy of the selected lines. Keep the selection in the bottom copy.\n*/\nconst copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n/**\nDelete selected lines.\n*/\nconst deleteLine = view => {\n    if (view.state.readOnly)\n        return false;\n    let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n        if (from > 0)\n            from--;\n        else if (to < state.doc.length)\n            to++;\n        return { from, to };\n    }));\n    let selection = updateSel(state.selection, range => view.moveVertically(range, true)).map(changes);\n    view.dispatch({ changes, selection, scrollIntoView: true, userEvent: \"delete.line\" });\n    return true;\n};\n/**\nReplace the selection with a newline.\n*/\nconst insertNewline = ({ state, dispatch }) => {\n    dispatch(state.update(state.replaceSelection(state.lineBreak), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\nfunction isBetweenBrackets(state, pos) {\n    if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n        return { from: pos, to: pos };\n    let context = syntaxTree(state).resolveInner(pos);\n    let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n    if (before && after && before.to <= pos && after.from >= pos &&\n        (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n        state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from)\n        return { from: before.to, to: after.from };\n    return null;\n}\n/**\nReplace the selection with a newline and indent the newly created\nline(s). If the current line consists only of whitespace, this\nwill also delete that whitespace. When the cursor is between\nmatching brackets, an additional newline will be inserted after\nthe cursor.\n*/\nconst insertNewlineAndIndent = /*@__PURE__*/newlineAndIndent(false);\n/**\nCreate a blank, indented line below the current line.\n*/\nconst insertBlankLine = /*@__PURE__*/newlineAndIndent(true);\nfunction newlineAndIndent(atEof) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let changes = state.changeByRange(range => {\n            let { from, to } = range, line = state.doc.lineAt(from);\n            let explode = !atEof && from == to && isBetweenBrackets(state, from);\n            if (atEof)\n                from = to = (to <= line.to ? line : state.doc.lineAt(to)).to;\n            let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n            let indent = getIndentation(cx, from);\n            if (indent == null)\n                indent = /^\\s*/.exec(state.doc.lineAt(from).text)[0].length;\n            while (to < line.to && /\\s/.test(line.text[to - line.from]))\n                to++;\n            if (explode)\n                ({ from, to } = explode);\n            else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n                from = line.from;\n            let insert = [\"\", indentString(state, indent)];\n            if (explode)\n                insert.push(indentString(state, cx.lineIndent(line.from, -1)));\n            return { changes: { from, to, insert: Text.of(insert) },\n                range: EditorSelection.cursor(from + 1 + insert[1].length) };\n        });\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n        return true;\n    };\n}\nfunction changeBySelectedLine(state, f) {\n    let atLine = -1;\n    return state.changeByRange(range => {\n        let changes = [];\n        for (let pos = range.from; pos <= range.to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.number > atLine && (range.empty || range.to > line.from)) {\n                f(line, changes, range);\n                atLine = line.number;\n            }\n            pos = line.to + 1;\n        }\n        let changeSet = state.changes(changes);\n        return { changes,\n            range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n    });\n}\n/**\nAuto-indent the selected lines. This uses the [indentation service\nfacet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\ninformation.\n*/\nconst indentSelection = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => {\n            let found = updated[start];\n            return found == null ? -1 : found;\n        } });\n    let changes = changeBySelectedLine(state, (line, changes, range) => {\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            return;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm || range.from < line.from + cur.length) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    });\n    if (!changes.changes.empty)\n        dispatch(state.update(changes, { userEvent: \"indent\" }));\n    return true;\n};\n/**\nAdd a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\nlines.\n*/\nconst indentMore = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        changes.push({ from: line.from, insert: state.facet(indentUnit) });\n    }), { userEvent: \"input.indent\" }));\n    return true;\n};\n/**\nRemove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\nselected lines.\n*/\nconst indentLess = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        let space = /^\\s*/.exec(line.text)[0];\n        if (!space)\n            return;\n        let col = countColumn(space, state.tabSize), keep = 0;\n        let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n        while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n            keep++;\n        changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n    }), { userEvent: \"delete.dedent\" }));\n    return true;\n};\n/**\nInsert a tab character at the cursor or, if something is selected,\nuse [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) to indent the entire\nselection.\n*/\nconst insertTab = ({ state, dispatch }) => {\n    if (state.selection.ranges.some(r => !r.empty))\n        return indentMore({ state, dispatch });\n    dispatch(state.update(state.replaceSelection(\"\\t\"), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nArray of key bindings containing the Emacs-style bindings that are\navailable on macOS by default.\n\n - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n - Alt-<: [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart)\n - Alt->: [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd)\n - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n*/\nconst emacsStyleKeymap = [\n    { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n    { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n    { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n    { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n    { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n    { key: \"Ctrl-d\", run: deleteCharForward },\n    { key: \"Ctrl-h\", run: deleteCharBackward },\n    { key: \"Ctrl-k\", run: deleteToLineEnd },\n    { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n    { key: \"Ctrl-o\", run: splitLine },\n    { key: \"Ctrl-t\", run: transposeChars },\n    { key: \"Alt-<\", run: cursorDocStart },\n    { key: \"Alt->\", run: cursorDocEnd },\n    { key: \"Ctrl-v\", run: cursorPageDown },\n    { key: \"Alt-v\", run: cursorPageUp },\n];\n/**\nAn array of key bindings closely sticking to platform-standard or\nwidely used bindings. (This includes the bindings from\n[`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\nproperty changed to `mac`.)\n\n - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n - Backspace: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Cmd-Backspace (macOS): [`deleteToLineStart`](https://codemirror.net/6/docs/ref/#commands.deleteToLineStart).\n - Cmd-Delete (macOS): [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd).\n*/\nconst standardKeymap = /*@__PURE__*/[\n    { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft },\n    { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n    { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight },\n    { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n    { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n    { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n    { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n    { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n    { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n    { key: \"Enter\", run: insertNewlineAndIndent },\n    { key: \"Mod-a\", run: selectAll },\n    { key: \"Backspace\", run: deleteCharBackward, shift: deleteCharBackward },\n    { key: \"Delete\", run: deleteCharForward, shift: deleteCharForward },\n    { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n    { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n    { mac: \"Mod-Backspace\", run: deleteToLineStart },\n    { mac: \"Mod-Delete\", run: deleteToLineEnd }\n].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n/**\nThe default keymap. Includes all bindings from\n[`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n- Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n- Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n- Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n- Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n- Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n- Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n- Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n- Ctrl-Enter (Comd-Enter on macOS): [`insertBlankLine`](https://codemirror.net/6/docs/ref/#commands.insertBlankLine)\n- Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n- Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n- Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n- Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n- Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n- Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n- Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n*/\nconst defaultKeymap = /*@__PURE__*/[\n    { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n    { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n    { key: \"Alt-ArrowUp\", run: moveLineUp },\n    { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n    { key: \"Alt-ArrowDown\", run: moveLineDown },\n    { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n    { key: \"Escape\", run: simplifySelection },\n    { key: \"Mod-Enter\", run: insertBlankLine },\n    { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n    { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n    { key: \"Mod-[\", run: indentLess },\n    { key: \"Mod-]\", run: indentMore },\n    { key: \"Mod-Alt-\\\\\", run: indentSelection },\n    { key: \"Shift-Mod-k\", run: deleteLine },\n    { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket }\n].concat(standardKeymap);\n/**\nA binding that binds Tab to [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) and\nShift-Tab to [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess).\nPlease see the [Tab example](../../examples/tab/) before using\nthis.\n*/\nconst indentWithTab = { key: \"Tab\", run: indentMore, shift: indentLess };\n\nexport { copyLineDown, copyLineUp, cursorCharBackward, cursorCharForward, cursorCharLeft, cursorCharRight, cursorDocEnd, cursorDocStart, cursorGroupBackward, cursorGroupForward, cursorGroupLeft, cursorGroupRight, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorLineDown, cursorLineEnd, cursorLineStart, cursorLineUp, cursorMatchingBracket, cursorPageDown, cursorPageUp, cursorSubwordBackward, cursorSubwordForward, cursorSyntaxLeft, cursorSyntaxRight, defaultKeymap, deleteCharBackward, deleteCharForward, deleteGroupBackward, deleteGroupForward, deleteLine, deleteToLineEnd, deleteToLineStart, deleteTrailingWhitespace, emacsStyleKeymap, indentLess, indentMore, indentSelection, indentWithTab, insertBlankLine, insertNewline, insertNewlineAndIndent, insertTab, moveLineDown, moveLineUp, selectAll, selectCharBackward, selectCharForward, selectCharLeft, selectCharRight, selectDocEnd, selectDocStart, selectGroupBackward, selectGroupForward, selectGroupLeft, selectGroupRight, selectLine, selectLineBoundaryBackward, selectLineBoundaryForward, selectLineDown, selectLineEnd, selectLineStart, selectLineUp, selectMatchingBracket, selectPageDown, selectPageUp, selectParentSyntax, selectSubwordBackward, selectSubwordForward, selectSyntaxLeft, selectSyntaxRight, simplifySelection, splitLine, standardKeymap, transposeChars };\n","import { EditorView } from '@codemirror/view';\nimport { StateEffect, MapMode, StateField, EditorSelection, CharCategory } from '@codemirror/state';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { codePointSize, codePointAt, fromCodePoint } from '@codemirror/text';\nimport { syntaxTree } from '@codemirror/language';\n\nconst defaults = {\n    brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n    before: \")]}'\\\":;>\"\n};\nconst closeBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) {\n        let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n        return mapped == null ? undefined : mapped;\n    }\n});\nconst skipBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) { return mapping.mapPos(value); }\n});\nconst closedBracket = /*@__PURE__*/new class extends RangeValue {\n};\nclosedBracket.startSide = 1;\nclosedBracket.endSide = -1;\nconst bracketState = /*@__PURE__*/StateField.define({\n    create() { return RangeSet.empty; },\n    update(value, tr) {\n        if (tr.selection) {\n            let lineStart = tr.state.doc.lineAt(tr.selection.main.head).from;\n            let prevLineStart = tr.startState.doc.lineAt(tr.startState.selection.main.head).from;\n            if (lineStart != tr.changes.mapPos(prevLineStart, -1))\n                value = RangeSet.empty;\n        }\n        value = value.map(tr.changes);\n        for (let effect of tr.effects) {\n            if (effect.is(closeBracketEffect))\n                value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n            else if (effect.is(skipBracketEffect))\n                value = value.update({ filter: from => from != effect.value });\n        }\n        return value;\n    }\n});\n/**\nExtension to enable bracket-closing behavior. When a closeable\nbracket is typed, its closing bracket is immediately inserted\nafter the cursor. When closing a bracket directly in front of a\nclosing bracket inserted by the extension, the cursor moves over\nthat bracket.\n*/\nfunction closeBrackets() {\n    return [EditorView.inputHandler.of(handleInput), bracketState];\n}\nconst definedClosing = \"()[]{}<>\";\nfunction closing(ch) {\n    for (let i = 0; i < definedClosing.length; i += 2)\n        if (definedClosing.charCodeAt(i) == ch)\n            return definedClosing.charAt(i + 1);\n    return fromCodePoint(ch < 128 ? ch : ch + 1);\n}\nfunction config(state, pos) {\n    return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n}\nfunction handleInput(view, from, to, insert) {\n    if (view.composing)\n        return false;\n    let sel = view.state.selection.main;\n    if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n        from != sel.from || to != sel.to)\n        return false;\n    let tr = insertBracket(view.state, insert);\n    if (!tr)\n        return false;\n    view.dispatch(tr);\n    return true;\n}\n/**\nCommand that implements deleting a pair of matching brackets when\nthe cursor is between them.\n*/\nconst deleteBracketPair = ({ state, dispatch }) => {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty) {\n            let before = prevChar(state.doc, range.head);\n            for (let token of tokens) {\n                if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                    return { changes: { from: range.head - token.length, to: range.head + token.length },\n                        range: EditorSelection.cursor(range.head - token.length),\n                        userEvent: \"delete.backward\" };\n            }\n        }\n        return { range: dont = range };\n    });\n    if (!dont)\n        dispatch(state.update(changes, { scrollIntoView: true }));\n    return !dont;\n};\n/**\nClose-brackets related key bindings. Binds Backspace to\n[`deleteBracketPair`](https://codemirror.net/6/docs/ref/#closebrackets.deleteBracketPair).\n*/\nconst closeBracketsKeymap = [\n    { key: \"Backspace\", run: deleteBracketPair }\n];\n/**\nImplements the extension's behavior on text insertion. If the\ngiven string counts as a bracket in the language around the\nselection, and replacing the selection with it requires custom\nbehavior (inserting a closing version or skipping past a\npreviously-closed bracket), this function returns a transaction\nrepresenting that custom behavior. (You only need this if you want\nto programmatically insert bracketsthe\n[`closeBrackets`](https://codemirror.net/6/docs/ref/#closebrackets.closeBrackets) extension will\ntake care of running this for user input.)\n*/\nfunction insertBracket(state, bracket) {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    for (let tok of tokens) {\n        let closed = closing(codePointAt(tok, 0));\n        if (bracket == tok)\n            return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1)\n                : handleOpen(state, tok, closed, conf.before || defaults.before);\n        if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n            return handleClose(state, tok, closed);\n    }\n    return null;\n}\nfunction closedBracketAt(state, pos) {\n    let found = false;\n    state.field(bracketState).between(0, state.doc.length, from => {\n        if (from == pos)\n            found = true;\n    });\n    return found;\n}\nfunction nextChar(doc, pos) {\n    let next = doc.sliceString(pos, pos + 2);\n    return next.slice(0, codePointSize(codePointAt(next, 0)));\n}\nfunction prevChar(doc, pos) {\n    let prev = doc.sliceString(pos - 2, pos);\n    return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n}\nfunction handleOpen(state, open, close, closeBefore) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                effects: closeBracketEffect.of(range.to + open.length),\n                range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n        let next = nextChar(state.doc, range.head);\n        if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n            return { changes: { insert: open + close, from: range.head },\n                effects: closeBracketEffect.of(range.head + open.length),\n                range: EditorSelection.cursor(range.head + open.length) };\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction handleClose(state, _open, close) {\n    let dont = null, moved = state.selection.ranges.map(range => {\n        if (range.empty && nextChar(state.doc, range.head) == close)\n            return EditorSelection.cursor(range.head + close.length);\n        return dont = range;\n    });\n    return dont ? null : state.update({\n        selection: EditorSelection.create(moved, state.selection.mainIndex),\n        scrollIntoView: true,\n        effects: state.selection.ranges.map(({ from }) => skipBracketEffect.of(from))\n    });\n}\n// Handles cases where the open and close token are the same, and\n// possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\nfunction handleSame(state, token, allowTriple) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                effects: closeBracketEffect.of(range.to + token.length),\n                range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n        let pos = range.head, next = nextChar(state.doc, pos);\n        if (next == token) {\n            if (nodeStart(state, pos)) {\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n            }\n            else if (closedBracketAt(state, pos)) {\n                let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                return { range: EditorSelection.cursor(pos + token.length * (isTriple ? 3 : 1)),\n                    effects: skipBracketEffect.of(pos) };\n            }\n        }\n        else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n            nodeStart(state, pos - 2 * token.length)) {\n            return { changes: { insert: token + token + token + token, from: pos },\n                effects: closeBracketEffect.of(pos + token.length),\n                range: EditorSelection.cursor(pos + token.length) };\n        }\n        else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n            let prev = state.sliceDoc(pos - 1, pos);\n            if (prev != token && state.charCategorizer(pos)(prev) != CharCategory.Word)\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n        }\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction nodeStart(state, pos) {\n    let tree = syntaxTree(state).resolveInner(pos + 1);\n    return tree.parent && tree.from == pos;\n}\n\nexport { closeBrackets, closeBracketsKeymap, deleteBracketPair, insertBracket };\n","import { ViewPlugin, PluginField, EditorView } from '@codemirror/view';\nimport { Facet } from '@codemirror/state';\n\nconst panelConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => ({ top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() }))\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    }\n});\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = /*@__PURE__*/Facet.define({\n    enables: [panelPlugin, baseTheme]\n});\n\nexport { getPanel, panels, showPanel };\n","export default function crelt() {\n  var elt = arguments[0]\n  if (typeof elt == \"string\") elt = document.createElement(elt)\n  var i = 1, next = arguments[1]\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n      var value = next[name]\n      if (typeof value == \"string\") elt.setAttribute(name, value)\n      else if (value != null) elt[name] = value\n    }\n    i++\n  }\n  for (; i < arguments.length; i++) add(elt, arguments[i])\n  return elt\n}\n\nfunction add(elt, child) {\n  if (typeof child == \"string\") {\n    elt.appendChild(document.createTextNode(child))\n  } else if (child == null) {\n  } else if (child.nodeType != null) {\n    elt.appendChild(child)\n  } else if (Array.isArray(child)) {\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\n  } else {\n    throw new RangeError(\"Unsupported child node: \" + child)\n  }\n}\n","import { EditorView, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\nimport { StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, Prec } from '@codemirror/state';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\nimport elt from 'crelt';\nimport { codePointAt, fromCodePoint, codePointSize } from '@codemirror/text';\n\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\n    ? x => x.normalize(\"NFKD\") : x => x;\n/**\nA search cursor provides an iterator over text matches in a\ndocument.\n*/\nclass SearchCursor {\n    /**\n    Create a text cursor. The query is the search string, `from` to\n    `to` provides the region to search.\n    \n    When `normalize` is given, it will be called, on both the query\n    string and the content it is matched against, before comparing.\n    You can, for example, create a case-insensitive search by\n    passing `s => s.toLowerCase()`.\n    \n    Text is always normalized with\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n    (when supported).\n    */\n    constructor(text, query, from = 0, to = text.length, normalize) {\n        /**\n        The current match (only holds a meaningful value after\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n        `done` is false).\n        */\n        this.value = { from: 0, to: 0 };\n        /**\n        Whether the end of the iterated region has been reached.\n        */\n        this.done = false;\n        this.matches = [];\n        this.buffer = \"\";\n        this.bufferPos = 0;\n        this.iter = text.iterRange(from, to);\n        this.bufferStart = from;\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n        this.query = this.normalize(query);\n    }\n    peek() {\n        if (this.bufferPos == this.buffer.length) {\n            this.bufferStart += this.buffer.length;\n            this.iter.next();\n            if (this.iter.done)\n                return -1;\n            this.bufferPos = 0;\n            this.buffer = this.iter.value;\n        }\n        return codePointAt(this.buffer, this.bufferPos);\n    }\n    /**\n    Look for the next match. Updates the iterator's\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n    at least once before using the cursor.\n    */\n    next() {\n        while (this.matches.length)\n            this.matches.pop();\n        return this.nextOverlapping();\n    }\n    /**\n    The `next` method will ignore matches that partially overlap a\n    previous match. This method behaves like `next`, but includes\n    such matches.\n    */\n    nextOverlapping() {\n        for (;;) {\n            let next = this.peek();\n            if (next < 0) {\n                this.done = true;\n                return this;\n            }\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n            this.bufferPos += codePointSize(next);\n            let norm = this.normalize(str);\n            for (let i = 0, pos = start;; i++) {\n                let code = norm.charCodeAt(i);\n                let match = this.match(code, pos);\n                if (match) {\n                    this.value = match;\n                    return this;\n                }\n                if (i == norm.length - 1)\n                    break;\n                if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                    pos++;\n            }\n        }\n    }\n    match(code, pos) {\n        let match = null;\n        for (let i = 0; i < this.matches.length; i += 2) {\n            let index = this.matches[i], keep = false;\n            if (this.query.charCodeAt(index) == code) {\n                if (index == this.query.length - 1) {\n                    match = { from: this.matches[i + 1], to: pos + 1 };\n                }\n                else {\n                    this.matches[i]++;\n                    keep = true;\n                }\n            }\n            if (!keep) {\n                this.matches.splice(i, 2);\n                i -= 2;\n            }\n        }\n        if (this.query.charCodeAt(0) == code) {\n            if (this.query.length == 1)\n                match = { from: pos, to: pos + 1 };\n            else\n                this.matches.push(1, pos);\n        }\n        return match;\n    }\n}\n\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n/**\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\nbut searches for a regular expression pattern instead of a plain\nstring.\n*/\nclass RegExpCursor {\n    /**\n    Create a cursor that will search the given range in the given\n    document. `query` should be the raw pattern (as you'd pass it to\n    `new RegExp`).\n    */\n    constructor(text, query, options, from = 0, to = text.length) {\n        this.to = to;\n        this.curLine = \"\";\n        /**\n        Set to `true` when the cursor has reached the end of the search\n        range.\n        */\n        this.done = false;\n        /**\n        Will contain an object with the extent of the match and the\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n        sucessfully finds a match.\n        */\n        this.value = empty;\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n            return new MultilineRegExpCursor(text, query, options, from, to);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.iter = text.iter();\n        let startLine = text.lineAt(from);\n        this.curLineStart = startLine.from;\n        this.matchPos = from;\n        this.getLine(this.curLineStart);\n    }\n    getLine(skip) {\n        this.iter.next(skip);\n        if (this.iter.lineBreak) {\n            this.curLine = \"\";\n        }\n        else {\n            this.curLine = this.iter.value;\n            if (this.curLineStart + this.curLine.length > this.to)\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n            this.iter.next();\n        }\n    }\n    nextLine() {\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\n        if (this.curLineStart > this.to)\n            this.curLine = \"\";\n        else\n            this.getLine(0);\n    }\n    /**\n    Move to the next match, if there is one.\n    */\n    next() {\n        for (let off = this.matchPos - this.curLineStart;;) {\n            this.re.lastIndex = off;\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n            if (match) {\n                let from = this.curLineStart + match.index, to = from + match[0].length;\n                this.matchPos = to + (from == to ? 1 : 0);\n                if (from == this.curLine.length)\n                    this.nextLine();\n                if (from < to || from > this.value.to) {\n                    this.value = { from, to, match };\n                    return this;\n                }\n                off = this.matchPos - this.curLineStart;\n            }\n            else if (this.curLineStart + this.curLine.length < this.to) {\n                this.nextLine();\n                off = 0;\n            }\n            else {\n                this.done = true;\n                return this;\n            }\n        }\n    }\n}\nconst flattened = /*@__PURE__*/new WeakMap();\n// Reusable (partially) flattened document strings\nclass FlattenedDoc {\n    constructor(from, text) {\n        this.from = from;\n        this.text = text;\n    }\n    get to() { return this.from + this.text.length; }\n    static get(doc, from, to) {\n        let cached = flattened.get(doc);\n        if (!cached || cached.from >= to || cached.to <= from) {\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n            flattened.set(doc, flat);\n            return flat;\n        }\n        if (cached.from == from && cached.to == to)\n            return cached;\n        let { text, from: cachedFrom } = cached;\n        if (cachedFrom > from) {\n            text = doc.sliceString(from, cachedFrom) + text;\n            cachedFrom = from;\n        }\n        if (cached.to < to)\n            text += doc.sliceString(cached.to, to);\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n    }\n}\nclass MultilineRegExpCursor {\n    constructor(text, query, options, from, to) {\n        this.text = text;\n        this.to = to;\n        this.done = false;\n        this.value = empty;\n        this.matchPos = from;\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Base */));\n    }\n    chunkEnd(pos) {\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n    }\n    next() {\n        for (;;) {\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\n            let match = this.re.exec(this.flat.text);\n            // Skip empty matches directly after the last match\n            if (match && !match[0] && match.index == off) {\n                this.re.lastIndex = off + 1;\n                match = this.re.exec(this.flat.text);\n            }\n            // If a match goes almost to the end of a noncomplete chunk, try\n            // again, since it'll likely be able to match more\n            if (match && this.flat.to < this.to && match.index + match[0].length > this.flat.text.length - 10)\n                match = null;\n            if (match) {\n                let from = this.flat.from + match.index, to = from + match[0].length;\n                this.value = { from, to, match };\n                this.matchPos = to + (from == to ? 1 : 0);\n                return this;\n            }\n            else {\n                if (this.flat.to == this.to) {\n                    this.done = true;\n                    return this;\n                }\n                // Grow the flattened doc\n                this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n            }\n        }\n    }\n}\nfunction validRegExp(source) {\n    try {\n        new RegExp(source, baseFlags);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n\nfunction createLineDialog(view) {\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\" });\n    let dom = elt(\"form\", {\n        class: \"cm-gotoLine\",\n        onkeydown: (event) => {\n            if (event.keyCode == 27) { // Escape\n                event.preventDefault();\n                view.dispatch({ effects: dialogEffect.of(false) });\n                view.focus();\n            }\n            else if (event.keyCode == 13) { // Enter\n                event.preventDefault();\n                go();\n            }\n        },\n        onsubmit: (event) => {\n            event.preventDefault();\n            go();\n        }\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\n    function go() {\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n        if (!match)\n            return;\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n        let [, sign, ln, cl, percent] = match;\n        let col = cl ? +cl.slice(1) : 0;\n        let line = ln ? +ln : startLine.number;\n        if (ln && percent) {\n            let pc = line / 100;\n            if (sign)\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n            line = Math.round(state.doc.lines * pc);\n        }\n        else if (ln && sign) {\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n        }\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n        view.dispatch({\n            effects: dialogEffect.of(false),\n            selection: EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length))),\n            scrollIntoView: true\n        });\n        view.focus();\n    }\n    return { dom, pos: -10 };\n}\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\nconst dialogField = /*@__PURE__*/StateField.define({\n    create() { return true; },\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(dialogEffect))\n                value = e.value;\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n});\n/**\nCommand that shows a dialog asking the user for a line number, and\nwhen a valid position is provided, moves the cursor to that line.\n\nSupports line numbers, relative line offsets prefixed with `+` or\n`-`, document percentages suffixed with `%`, and an optional\ncolumn position by adding `:` and a second number after the line\nnumber.\n\nThe dialog can be styled with the `panel.gotoLine` theme\nselector.\n*/\nconst gotoLine = view => {\n    let panel = getPanel(view, createLineDialog);\n    if (!panel) {\n        let effects = [dialogEffect.of(true)];\n        if (view.state.field(dialogField, false) == null)\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\n        view.dispatch({ effects });\n        panel = getPanel(view, createLineDialog);\n    }\n    if (panel)\n        panel.dom.querySelector(\"input\").focus();\n    return true;\n};\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-gotoLine\": {\n        padding: \"2px 6px 4px\",\n        \"& label\": { fontSize: \"80%\" }\n    }\n});\n\nconst defaultHighlightOptions = {\n    highlightWordAroundCursor: false,\n    minSelectionLength: 1,\n    maxMatches: 100\n};\nconst highlightConfig = /*@__PURE__*/Facet.define({\n    combine(options) {\n        return combineConfig(options, defaultHighlightOptions, {\n            highlightWordAroundCursor: (a, b) => a || b,\n            minSelectionLength: Math.min,\n            maxMatches: Math.min\n        });\n    }\n});\n/**\nThis extension highlights text that matches the selection. It uses\nthe `\"cm-selectionMatch\"` class for the highlighting. When\n`highlightWordAroundCursor` is enabled, the word at the cursor\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\n*/\nfunction highlightSelectionMatches(options) {\n    let ext = [defaultTheme, matchHighlighter];\n    if (options)\n        ext.push(highlightConfig.of(options));\n    return ext;\n}\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let conf = view.state.facet(highlightConfig);\n        let { state } = view, sel = state.selection;\n        if (sel.ranges.length > 1)\n            return Decoration.none;\n        let range = sel.main, query, check = null;\n        if (range.empty) {\n            if (!conf.highlightWordAroundCursor)\n                return Decoration.none;\n            let word = state.wordAt(range.head);\n            if (!word)\n                return Decoration.none;\n            check = state.charCategorizer(range.head);\n            query = state.sliceDoc(word.from, word.to);\n        }\n        else {\n            let len = range.to - range.from;\n            if (len < conf.minSelectionLength || len > 200)\n                return Decoration.none;\n            query = state.sliceDoc(range.from, range.to).trim();\n            if (!query)\n                return Decoration.none;\n        }\n        let deco = [];\n        for (let part of view.visibleRanges) {\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n            while (!cursor.next().done) {\n                let { from, to } = cursor.value;\n                if (!check || ((from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n                    (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word))) {\n                    if (check && from <= range.from && to >= range.to)\n                        deco.push(mainMatchDeco.range(from, to));\n                    else if (from >= range.to || to <= range.from)\n                        deco.push(matchDeco.range(from, to));\n                    if (deco.length > conf.maxMatches)\n                        return Decoration.none;\n                }\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n});\n// Select the words around the cursors.\nconst selectWord = ({ state, dispatch }) => {\n    let { selection } = state;\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n    if (newSel.eq(selection))\n        return false;\n    dispatch(state.update({ selection: newSel }));\n    return true;\n};\n// Find next occurrence of query relative to last cursor. Wrap around\n// the document if there are no more matches.\nfunction findNextOccurrence(state, query) {\n    let { main, ranges } = state.selection;\n    let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\n    for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\n        cursor.next();\n        if (cursor.done) {\n            if (cycled)\n                return null;\n            cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n            cycled = true;\n        }\n        else {\n            if (cycled && ranges.some(r => r.from == cursor.value.from))\n                continue;\n            if (fullWord) {\n                let word = state.wordAt(cursor.value.from);\n                if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\n                    continue;\n            }\n            return cursor.value;\n        }\n    }\n}\n/**\nSelect next occurrence of the current selection.\nExpand selection to the word when selection range is empty.\n*/\nconst selectNextOccurrence = ({ state, dispatch }) => {\n    let { ranges } = state.selection;\n    if (ranges.some(sel => sel.from === sel.to))\n        return selectWord({ state, dispatch });\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n        return false;\n    let range = findNextOccurrence(state, searchedText);\n    if (!range)\n        return false;\n    dispatch(state.update({\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\n        scrollIntoView: true\n    }));\n    return true;\n};\n\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let matchCase = configs.some(c => c.matchCase);\n        return {\n            top: configs.some(c => c.top),\n            matchCase: matchCase === undefined ? true : matchCase,\n        };\n    }\n});\n/**\nConfigure the behavior of the search extension.\n*/\nfunction searchConfig(config) {\n    return searchConfigFacet.of(config);\n}\nclass Query {\n    constructor(search, replace, caseInsensitive) {\n        this.search = search;\n        this.replace = replace;\n        this.caseInsensitive = caseInsensitive;\n    }\n    eq(other) {\n        return this.search == other.search && this.replace == other.replace &&\n            this.caseInsensitive == other.caseInsensitive && this.constructor == other.constructor;\n    }\n}\nclass StringQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.unquoted = search.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new SearchCursor(doc, this.unquoted, from, to, this.caseInsensitive ? x => x.toLowerCase() : undefined);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).nextOverlapping();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).nextOverlapping();\n        return cursor.done ? null : cursor.value;\n    }\n    // Searching in reverse is, rather than implementing inverted search\n    // cursor, done by scanning chunk after chunk forward.\n    prevMatchInRange(doc, from, to) {\n        for (let pos = to;;) {\n            let start = Math.max(from, pos - 10000 /* ChunkSize */ - this.unquoted.length);\n            let cursor = this.cursor(doc, start, pos), range = null;\n            while (!cursor.nextOverlapping().done)\n                range = cursor.value;\n            if (range)\n                return range;\n            if (start == from)\n                return null;\n            pos -= 10000 /* ChunkSize */;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(_result) { return this.replace; }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - this.unquoted.length), Math.min(to + this.unquoted.length, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n    get valid() { return !!this.search; }\n}\nclass RegExpQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.valid = !!search && validRegExp(search);\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new RegExpCursor(doc, this.search, this.caseInsensitive ? { ignoreCase: true } : undefined, from, to);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).next();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).next();\n        return cursor.done ? null : cursor.value;\n    }\n    prevMatchInRange(doc, from, to) {\n        for (let size = 1;; size++) {\n            let start = Math.max(from, to - size * 10000 /* ChunkSize */);\n            let cursor = this.cursor(doc, start, to), range = null;\n            while (!cursor.next().done)\n                range = cursor.value;\n            if (range && (start == from || range.from > start + 10))\n                return range;\n            if (start == from)\n                return null;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(result) {\n        return this.replace.replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\n            : i == \"&\" ? result.match[0]\n                : i != \"0\" && +i < result.match.length ? result.match[i]\n                    : m);\n    }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - 250 /* HighlightMargin */), Math.min(to + 250 /* HighlightMargin */, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\nconst setQuery = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst searchState = /*@__PURE__*/StateField.define({\n    create(state) {\n        return new SearchState(defaultQuery(state), createSearchPanel);\n    },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setQuery))\n                value = new SearchState(effect.value, value.panel);\n            else if (effect.is(togglePanel))\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n        }\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val.panel)\n});\nclass SearchState {\n    constructor(query, panel) {\n        this.query = query;\n        this.panel = panel;\n    }\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.decorations = this.highlight(view.state.field(searchState));\n    }\n    update(update) {\n        let state = update.state.field(searchState);\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet)\n            this.decorations = this.highlight(state);\n    }\n    highlight({ query, panel }) {\n        if (!panel || !query.valid)\n            return Decoration.none;\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* HighlightMargin */)\n                to = ranges[++i].to;\n            query.highlight(view.state.doc, from, to, (from, to) => {\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\n            });\n        }\n        return builder.finish();\n    }\n}, {\n    decorations: v => v.decorations\n});\nfunction searchCommand(f) {\n    return view => {\n        let state = view.state.field(searchState, false);\n        return state && state.query.valid ? f(view, state) : openSearchPanel(view);\n    };\n}\n/**\nOpen the search panel if it isn't already open, and move the\nselection to the first match after the current main selection.\nWill wrap around to the start of the document when it reaches the\nend.\n*/\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { from, to } = view.state.selection.main;\n    let next = query.nextMatch(view.state.doc, from, to);\n    if (!next || next.from == from && next.to == to)\n        return false;\n    view.dispatch({\n        selection: { anchor: next.from, head: next.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, next)\n    });\n    return true;\n});\n/**\nMove the selection to the previous instance of the search query,\nbefore the current main selection. Will wrap past the start\nof the document to start searching at the end again.\n*/\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    let range = query.prevMatch(state.doc, from, to);\n    if (!range)\n        return false;\n    view.dispatch({\n        selection: { anchor: range.from, head: range.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, range)\n    });\n    return true;\n});\n/**\nSelect all instances of the search query.\n*/\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n    let ranges = query.matchAll(view.state.doc, 1000);\n    if (!ranges || !ranges.length)\n        return false;\n    view.dispatch({\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to)))\n    });\n    return true;\n});\n/**\nSelect all instances of the currently selected text.\n*/\nconst selectSelectionMatches = ({ state, dispatch }) => {\n    let sel = state.selection;\n    if (sel.ranges.length > 1 || sel.main.empty)\n        return false;\n    let { from, to } = sel.main;\n    let ranges = [], main = 0;\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n        if (ranges.length > 1000)\n            return false;\n        if (cur.value.from == from)\n            main = ranges.length;\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n    }\n    dispatch(state.update({ selection: EditorSelection.create(ranges, main) }));\n    return true;\n};\n/**\nReplace the current match of the search query.\n*/\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    if (state.readOnly)\n        return false;\n    let next = query.nextMatch(state.doc, from, from);\n    if (!next)\n        return false;\n    let changes = [], selection, replacement;\n    if (next.from == from && next.to == to) {\n        replacement = state.toText(query.getReplacement(next));\n        changes.push({ from: next.from, to: next.to, insert: replacement });\n        next = query.nextMatch(state.doc, next.from, next.to);\n    }\n    if (next) {\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\n        selection = { anchor: next.from - off, head: next.to - off };\n    }\n    view.dispatch({\n        changes, selection,\n        scrollIntoView: !!selection,\n        effects: next ? announceMatch(view, next) : undefined\n    });\n    return true;\n});\n/**\nReplace all instances of the search query with the given\nreplacement.\n*/\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n    if (view.state.readOnly)\n        return false;\n    let changes = query.matchAll(view.state.doc, 1e9).map(match => {\n        let { from, to } = match;\n        return { from, to, insert: query.getReplacement(match) };\n    });\n    if (!changes.length)\n        return false;\n    view.dispatch({ changes });\n    return true;\n});\nfunction createSearchPanel(view) {\n    let { query } = view.state.field(searchState);\n    return {\n        dom: buildPanel({\n            view,\n            query,\n            updateQuery(q) {\n                if (!query.eq(q)) {\n                    query = q;\n                    view.dispatch({ effects: setQuery.of(query) });\n                }\n            }\n        }),\n        mount() {\n            this.dom.querySelector(\"[name=search]\").select();\n        },\n        pos: 80,\n        top: view.state.facet(searchConfigFacet).top\n    };\n}\nfunction defaultQuery(state, fallback) {\n    var _a;\n    let sel = state.selection.main;\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n    let caseInsensitive = (_a = fallback === null || fallback === void 0 ? void 0 : fallback.caseInsensitive) !== null && _a !== void 0 ? _a : !state.facet(searchConfigFacet).matchCase;\n    return fallback && !selText ? fallback : new StringQuery(selText.replace(/\\n/g, \"\\\\n\"), \"\", caseInsensitive);\n}\n/**\nMake sure the search panel is open and focused.\n*/\nconst openSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (state && state.panel) {\n        let panel = getPanel(view, createSearchPanel);\n        if (!panel)\n            return false;\n        let searchInput = panel.dom.querySelector(\"[name=search]\");\n        searchInput.focus();\n        searchInput.select();\n    }\n    else {\n        view.dispatch({ effects: [\n                togglePanel.of(true),\n                state ? setQuery.of(defaultQuery(view.state, state.query)) : StateEffect.appendConfig.of(searchExtensions)\n            ] });\n    }\n    return true;\n};\n/**\nClose the search panel.\n*/\nconst closeSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (!state || !state.panel)\n        return false;\n    let panel = getPanel(view, createSearchPanel);\n    if (panel && panel.dom.contains(view.root.activeElement))\n        view.focus();\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nDefault search-related key bindings.\n\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n - Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n*/\nconst searchKeymap = [\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n    { key: \"Alt-g\", run: gotoLine },\n    { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\n];\nfunction buildPanel(conf) {\n    function phrase(phrase) { return conf.view.state.phrase(phrase); }\n    let searchField = elt(\"input\", {\n        value: conf.query.search,\n        placeholder: phrase(\"Find\"),\n        \"aria-label\": phrase(\"Find\"),\n        class: \"cm-textfield\",\n        name: \"search\",\n        onchange: update,\n        onkeyup: update\n    });\n    let replaceField = elt(\"input\", {\n        value: conf.query.replace,\n        placeholder: phrase(\"Replace\"),\n        \"aria-label\": phrase(\"Replace\"),\n        class: \"cm-textfield\",\n        name: \"replace\",\n        onchange: update,\n        onkeyup: update\n    });\n    let caseField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"case\",\n        checked: !conf.query.caseInsensitive,\n        onchange: update\n    });\n    let reField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"re\",\n        checked: conf.query instanceof RegExpQuery,\n        onchange: update\n    });\n    function update() {\n        conf.updateQuery(new (reField.checked ? RegExpQuery : StringQuery)(searchField.value, replaceField.value, !caseField.checked));\n    }\n    function keydown(e) {\n        if (runScopeHandlers(conf.view, e, \"search-panel\")) {\n            e.preventDefault();\n        }\n        else if (e.keyCode == 13 && e.target == searchField) {\n            e.preventDefault();\n            (e.shiftKey ? findPrevious : findNext)(conf.view);\n        }\n        else if (e.keyCode == 13 && e.target == replaceField) {\n            e.preventDefault();\n            replaceNext(conf.view);\n        }\n    }\n    function button(name, onclick, content) {\n        return elt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\n    }\n    let panel = elt(\"div\", { onkeydown: keydown, class: \"cm-search\" }, [\n        searchField,\n        button(\"next\", () => findNext(conf.view), [phrase(\"next\")]),\n        button(\"prev\", () => findPrevious(conf.view), [phrase(\"previous\")]),\n        button(\"select\", () => selectMatches(conf.view), [phrase(\"all\")]),\n        elt(\"label\", null, [caseField, phrase(\"match case\")]),\n        elt(\"label\", null, [reField, phrase(\"regexp\")]),\n        elt(\"br\"),\n        replaceField,\n        button(\"replace\", () => replaceNext(conf.view), [phrase(\"replace\")]),\n        button(\"replaceAll\", () => replaceAll(conf.view), [phrase(\"replace all\")]),\n        elt(\"button\", { name: \"close\", onclick: () => closeSearchPanel(conf.view), \"aria-label\": phrase(\"close\"), type: \"button\" }, [\"\"])\n    ]);\n    return panel;\n}\nconst AnnounceMargin = 30;\nconst Break = /[\\s\\.,:;?!]/;\nfunction announceMatch(view, { from, to }) {\n    let lineStart = view.state.doc.lineAt(from).from, lineEnd = view.state.doc.lineAt(to).to;\n    let start = Math.max(lineStart, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n    let text = view.state.sliceDoc(start, end);\n    if (start != lineStart) {\n        for (let i = 0; i < AnnounceMargin; i++)\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                text = text.slice(i);\n                break;\n            }\n    }\n    if (end != lineEnd) {\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                text = text.slice(0, i);\n                break;\n            }\n    }\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${view.state.doc.lineAt(from).number}`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-search\": {\n        padding: \"2px 6px 4px\",\n        position: \"relative\",\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"4px\",\n            backgroundColor: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        },\n        \"& input, & button, & label\": {\n            margin: \".2em .6em .2em 0\"\n        },\n        \"& input[type=checkbox]\": {\n            marginRight: \".2em\"\n        },\n        \"& label\": {\n            fontSize: \"80%\",\n            whiteSpace: \"pre\"\n        }\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n});\nconst searchExtensions = [\n    searchState,\n    /*@__PURE__*/Prec.fallback(searchHighlighter),\n    baseTheme\n];\n\nexport { RegExpCursor, SearchCursor, closeSearchPanel, findNext, findPrevious, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, searchConfig, searchKeymap, selectMatches, selectNextOccurrence, selectSelectionMatches };\n","import { EditorSelection } from '@codemirror/state';\n\n/**\nComment or uncomment the current selection. Will use line comments\nif available, otherwise falling back to block comments.\n*/\nconst toggleComment = target => {\n    let config = getConfig(target.state);\n    return config.line ? toggleLineComment(target) : config.block ? toggleBlockComment(target) : false;\n};\nfunction command(f, option) {\n    return ({ state, dispatch }) => {\n        let tr = f(option, state.selection.ranges, state);\n        if (!tr)\n            return false;\n        dispatch(state.update(tr));\n        return true;\n    };\n}\n/**\nComment or uncomment the current selection using line comments.\nThe line comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* Toggle */);\n/**\nComment the current selection using line comments.\n*/\nconst lineComment = /*@__PURE__*/command(changeLineComment, 1 /* Comment */);\n/**\nUncomment the current selection using line comments.\n*/\nconst lineUncomment = /*@__PURE__*/command(changeLineComment, 2 /* Uncomment */);\n/**\nComment or uncomment the current selection using block comments.\nThe block comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* Toggle */);\n/**\nComment the current selection using block comments.\n*/\nconst blockComment = /*@__PURE__*/command(changeBlockComment, 1 /* Comment */);\n/**\nUncomment the current selection using block comments.\n*/\nconst blockUncomment = /*@__PURE__*/command(changeBlockComment, 2 /* Uncomment */);\n/**\nDefault key bindings for this package.\n\n - Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#comment.toggleComment).\n - Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#comment.toggleBlockComment).\n*/\nconst commentKeymap = [\n    { key: \"Mod-/\", run: toggleComment },\n    { key: \"Alt-A\", run: toggleBlockComment }\n];\nfunction getConfig(state, pos = state.selection.main.head) {\n    let data = state.languageDataAt(\"commentTokens\", pos);\n    return data.length ? data[0] : {};\n}\nconst SearchMargin = 50;\n/**\nDetermines if the given range is block-commented in the given\nstate.\n*/\nfunction findBlockComment(state, { open, close }, from, to) {\n    let textBefore = state.sliceDoc(from - SearchMargin, from);\n    let textAfter = state.sliceDoc(to, to + SearchMargin);\n    let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n    let beforeOff = textBefore.length - spaceBefore;\n    if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n        textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n        return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n            close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n    }\n    let startText, endText;\n    if (to - from <= 2 * SearchMargin) {\n        startText = endText = state.sliceDoc(from, to);\n    }\n    else {\n        startText = state.sliceDoc(from, from + SearchMargin);\n        endText = state.sliceDoc(to - SearchMargin, to);\n    }\n    let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n    let endOff = endText.length - endSpace - close.length;\n    if (startText.slice(startSpace, startSpace + open.length) == open &&\n        endText.slice(endOff, endOff + close.length) == close) {\n        return { open: { pos: from + startSpace + open.length,\n                margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n            close: { pos: to - endSpace - close.length,\n                margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of block comments in\n// languages that support them.\nfunction changeBlockComment(option, ranges, state) {\n    let tokens = ranges.map(r => getConfig(state, r.from).block);\n    if (!tokens.every(c => c))\n        return null;\n    let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n    if (option != 2 /* Uncomment */ && !comments.every(c => c)) {\n        let index = 0;\n        return state.changeByRange(range => {\n            let { open, close } = tokens[index++];\n            if (comments[index])\n                return { range };\n            let shift = open.length + 1;\n            return {\n                changes: [{ from: range.from, insert: open + \" \" }, { from: range.to, insert: \" \" + close }],\n                range: EditorSelection.range(range.anchor + shift, range.head + shift)\n            };\n        });\n    }\n    else if (option != 1 /* Comment */ && comments.some(c => c)) {\n        let changes = [];\n        for (let i = 0, comment; i < comments.length; i++)\n            if (comment = comments[i]) {\n                let token = tokens[i], { open, close } = comment;\n                changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n            }\n        return { changes };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of line comments.\nfunction changeLineComment(option, ranges, state) {\n    let lines = [];\n    let prevLine = -1;\n    for (let { from, to } of ranges) {\n        let startI = lines.length, minIndent = 1e9;\n        for (let pos = from; pos <= to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.from > prevLine && (from == to || to > line.from)) {\n                prevLine = line.from;\n                let token = getConfig(state, pos).line;\n                if (!token)\n                    continue;\n                let indent = /^\\s*/.exec(line.text)[0].length;\n                let empty = indent == line.length;\n                let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                if (indent < line.text.length && indent < minIndent)\n                    minIndent = indent;\n                lines.push({ line, comment, token, indent, empty, single: false });\n            }\n            pos = line.to + 1;\n        }\n        if (minIndent < 1e9)\n            for (let i = startI; i < lines.length; i++)\n                if (lines[i].indent < lines[i].line.text.length)\n                    lines[i].indent = minIndent;\n        if (lines.length == startI + 1)\n            lines[startI].single = true;\n    }\n    if (option != 2 /* Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n        let changes = [];\n        for (let { line, token, indent, empty, single } of lines)\n            if (single || !empty)\n                changes.push({ from: line.from + indent, insert: token + \" \" });\n        let changeSet = state.changes(changes);\n        return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n    }\n    else if (option != 1 /* Comment */ && lines.some(l => l.comment >= 0)) {\n        let changes = [];\n        for (let { line, comment, token } of lines)\n            if (comment >= 0) {\n                let from = line.from + comment, to = from + token.length;\n                if (line.text[to - line.from] == \" \")\n                    to++;\n                changes.push({ from, to });\n            }\n        return { changes };\n    }\n    return null;\n}\n\nexport { blockComment, blockUncomment, commentKeymap, lineComment, lineUncomment, toggleBlockComment, toggleComment, toggleLineComment };\n","import { EditorSelection } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\nimport { findColumn, countColumn } from '@codemirror/text';\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            let start = findColumn(line.text, startCol, state.tabSize, true);\n            if (start > -1) {\n                let end = findColumn(line.text, endCol, state.tabSize);\n                ranges.push(EditorSelection.range(line.from + start, line.from + end));\n            }\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\n\nexport { rectangularSelection };\n","import { Decoration, EditorView, ViewPlugin, logException, WidgetType } from '@codemirror/view';\nimport { StateEffect, StateField, Facet } from '@codemirror/state';\nimport { hoverTooltip } from '@codemirror/tooltip';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        let ranges = Decoration.set(diagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction maybeEnableLint(state, effects, getState) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of([\n        lintState.init(getState),\n        EditorView.decorations.compute([lintState], state => {\n            let { selected, panel } = state.field(lintState);\n            return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n                activeMark.range(selected.from, selected.to)\n            ]);\n        }),\n        hoverTooltip(lintTooltip),\n        baseTheme\n    ]));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)], () => LintState.init(diagnostics, null, state))\n    };\n}\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: elt(\"ul\", { class: \"cm-tooltip-lint\" }, found.map(d => renderDiagnostic(view, d, false))) };\n        }\n    };\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)], () => LintState.init([], LintPanel.open, view.state)) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintSource);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintSource);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                var _a, _b;\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc &&\n                    (all.length || ((_b = (_a = this.view.state.field(lintState, false)) === null || _a === void 0 ? void 0 : _a.diagnostics) === null || _b === void 0 ? void 0 : _b.size)))\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        let source = update.state.facet(lintSource);\n        if (update.docChanged || source != update.startState.facet(lintSource)) {\n            this.lintTime = Date.now() + source.delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, source.delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintSource = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return { sources: input.map(i => i.source), delay: input.length ? Math.max(...input.map(i => i.delay)) : 750 };\n    },\n    enables: lintPlugin\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    var _a;\n    return lintSource.of({ source, delay: (_a = config.delay) !== null && _a !== void 0 ? _a : 750 });\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let click = (e) => {\n            e.preventDefault();\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction underline(color) {\n    if (typeof btoa != \"function\")\n        return \"none\";\n    let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"6\" height=\"3\">\n    <path d=\"m0 3 l2 -2 l1 0 l2 2 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>\n  </svg>`;\n    return `url('data:image/svg+xml;base64,${btoa(svg)}')`;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\"\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\n\nexport { closeLintPanel, diagnosticCount, forceLinting, lintKeymap, linter, nextDiagnostic, openLintPanel, setDiagnostics };\n","import { highlightSpecialChars, drawSelection, highlightActiveLine, keymap } from '@codemirror/view';\nexport { EditorView } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nexport { EditorState } from '@codemirror/state';\nimport { history, historyKeymap } from '@codemirror/history';\nimport { foldGutter, foldKeymap } from '@codemirror/fold';\nimport { indentOnInput } from '@codemirror/language';\nimport { lineNumbers, highlightActiveLineGutter } from '@codemirror/gutter';\nimport { defaultKeymap } from '@codemirror/commands';\nimport { bracketMatching } from '@codemirror/matchbrackets';\nimport { closeBrackets, closeBracketsKeymap } from '@codemirror/closebrackets';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { autocompletion, completionKeymap } from '@codemirror/autocomplete';\nimport { commentKeymap } from '@codemirror/comment';\nimport { rectangularSelection } from '@codemirror/rectangular-selection';\nimport { defaultHighlightStyle } from '@codemirror/highlight';\nimport { lintKeymap } from '@codemirror/lint';\n\n/**\nThis is an extension value that just pulls together a whole lot of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#gutter.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#history.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#fold.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#highlight.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#matchbrackets.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#closebrackets.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#rectangular-selection.rectangularSelection)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#gutter.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [commenting](https://codemirror.net/6/docs/ref/#comment.commentKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis package does not allow customization. The idea is that, once\nyou decide you want to configure your editor more precisely, you\ntake this package's source (which is just a bunch of imports and\nan array literal), copy it into your own code, and adjust it as\ndesired.\n*/\nconst basicSetup = [\n    /*@__PURE__*/lineNumbers(),\n    /*@__PURE__*/highlightActiveLineGutter(),\n    /*@__PURE__*/highlightSpecialChars(),\n    /*@__PURE__*/history(),\n    /*@__PURE__*/foldGutter(),\n    /*@__PURE__*/drawSelection(),\n    /*@__PURE__*/EditorState.allowMultipleSelections.of(true),\n    /*@__PURE__*/indentOnInput(),\n    defaultHighlightStyle.fallback,\n    /*@__PURE__*/bracketMatching(),\n    /*@__PURE__*/closeBrackets(),\n    /*@__PURE__*/autocompletion(),\n    /*@__PURE__*/rectangularSelection(),\n    /*@__PURE__*/highlightActiveLine(),\n    /*@__PURE__*/highlightSelectionMatches(),\n    /*@__PURE__*/keymap.of([\n        ...closeBracketsKeymap,\n        ...defaultKeymap,\n        ...searchKeymap,\n        ...historyKeymap,\n        ...foldKeymap,\n        ...commentKeymap,\n        ...completionKeymap,\n        ...lintKeymap\n    ])\n];\n\nexport { basicSetup };\n","import { EditorView } from \"@codemirror/basic-setup\";\nimport { HighlightStyle, tags } from \"@codemirror/highlight\";\n\nexport const lightTheme = EditorView.theme({\n  \"&\": {\n    fontSize: \"12pt\",\n  },\n  \".cm-content\": {\n    fontFamily: \"Source Code Pro\",\n  },\n  \".cm-lineWrapping\": {\n    wordBreak: \"break-all\",\n  },\n});\n\nconst darkColors = {\n  enki: {\n    background: \"#242a36\", // enki's dark.cardBackground\n    primary: \"#95FFCD\", // dark.accent\n    text: \"#f8f8f8\", // enki text\n    textSecondary: \"#f8f8f880\",\n  },\n  oneDark: {\n    highlightBackground: \"#202530\", // dark.codeBackground\n    selection: \"#547370\", // \"#3E4451\" combined with the accent color #95FFCD twice\n    selectionMatch: \"#aafe661a\", // original theme\n    stone: \"#7d8799\", // from original theme\n    violet: \"#c678dd\",\n    coral: \"#e06c75\",\n    cyan: \"#56b6c2\",\n    malibu: \"#61afef\",\n    whiskey: \"#d19a66\",\n    sage: \"#98c379\",\n    chalky: \"#e5c07b\",\n    invalid: \"#ffffff\",\n    ivory: \"#abb2bf\",\n  },\n};\n\n/// The editor theme styles for One Dark.\nexport const darkTheme = EditorView.theme(\n  {\n    \"&\": {\n      color: darkColors.oneDark.ivory,\n      backgroundColor: darkColors.enki.background,\n      fontSize: \"12pt\",\n    },\n    \".cm-lineWrapping\": {\n      wordBreak: \"break-all\",\n    },\n    \".cm-content\": {\n      caretColor: darkColors.enki.primary,\n      fontFamily: \"Source Code Pro\",\n    },\n    \"&.cm-focused .cm-cursor\": { borderLeftColor: darkColors.enki.primary },\n    \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\":\n      { backgroundColor: darkColors.oneDark.selection },\n\n    // we don't use panels, but this is the working API\n    // https://codemirror.net/6/examples/panel/\n    // \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n    // \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n    // \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n\n    // we don't use searching either\n    // \".cm-searchMatch\": {\n    //   backgroundColor: \"#72a1ff59\",\n    //   outline: \"1px solid #457dff\",\n    // },\n    // \".cm-searchMatch.cm-searchMatch-selected\": {\n    //   backgroundColor: \"#6199ff2f\",\n    // },\n\n    \".cm-activeLine\": {\n      backgroundColor: darkColors.oneDark.highlightBackground,\n    },\n    \".cm-selectionMatch\": {\n      backgroundColor: darkColors.oneDark.selectionMatch,\n    },\n\n    \"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket\": {\n      backgroundColor: darkColors.oneDark.selectionMatch,\n      outline: `1px solid ${darkColors.enki.primary}`,\n    },\n\n    \".cm-gutters\": {\n      backgroundColor: darkColors.enki.background,\n      color: darkColors.oneDark.stone,\n      border: \"none\",\n    },\n\n    \".cm-activeLineGutter\": {\n      backgroundColor: darkColors.oneDark.highlightBackground,\n    },\n\n    // we don't use folding\n    // \".cm-foldPlaceholder\": {\n    //   backgroundColor: \"transparent\",\n    //   border: \"none\",\n    //   color: \"#ddd\",\n    // },\n\n    // autocompletions\n    \".cm-tooltip\": {\n      border: \"1px solid #181a1f\",\n      backgroundColor: darkColors.enki.background,\n    },\n    \".cm-tooltip.cm-tooltip-arrow:before\": {\n      borderTopColor: darkColors.enki.background,\n      borderBottomColor: darkColors.enki.background,\n    },\n    \".cm-tooltip.cm-tooltip-arrow:after\": {\n      borderTopColor: darkColors.enki.background,\n      borderBottomColor: darkColors.enki.background,\n    },\n    \".cm-tooltip-autocomplete\": {\n      \"& > ul > li\": {\n        color: darkColors.enki.textSecondary,\n      },\n    },\n    \".cm-tooltip-autocomplete\": {\n      \"& > ul > li[aria-selected]\": {\n        background: darkColors.oneDark.selectionMatch,\n        color: darkColors.enki.text,\n      },\n    },\n  },\n  { dark: true }\n);\n\nexport const darkHighlighting = HighlightStyle.define([\n  { tag: tags.keyword, color: darkColors.oneDark.violet },\n  {\n    tag: tags.link,\n    textDecoration: \"underline\",\n    color: darkColors.oneDark.stone,\n  }, // updated\n  {\n    tag: tags.heading,\n    textDecoration: \"underline\",\n    fontWeight: \"bold\",\n    color: darkColors.oneDark.coral,\n  },\n  { tag: tags.emphasis, fontStyle: \"italic\" },\n  { tag: tags.strong, fontWeight: \"bold\" },\n  { tag: tags.strikethrough, textDecoration: \"line-through\" },\n\n  {\n    tag: [\n      tags.atom,\n      tags.bool,\n      tags.url,\n      tags.contentSeparator,\n      tags.labelName,\n    ],\n    color: darkColors.oneDark.cyan,\n  },\n  { tag: [tags.deleted], color: darkColors.oneDark.coral },\n  {\n    tag: [tags.processingInstruction, tags.string, tags.inserted],\n    color: darkColors.oneDark.sage,\n  },\n  {\n    tag: [tags.regexp, tags.escape, tags.special(tags.string)],\n    color: darkColors.oneDark.cyan,\n  },\n  {\n    tag: tags.definition(tags.variableName),\n    color: darkColors.oneDark.whiskey,\n  },\n  { tag: tags.local(tags.variableName), color: darkColors.oneDark.whiskey },\n\n  { tag: [tags.typeName, tags.namespace], color: darkColors.oneDark.chalky },\n  { tag: tags.className, color: darkColors.oneDark.chalky },\n  {\n    tag: [tags.special(tags.variableName), tags.macroName],\n    color: darkColors.oneDark.whiskey,\n  },\n  { tag: tags.definition(tags.propertyName), color: darkColors.oneDark.coral },\n  { tag: tags.comment, color: darkColors.oneDark.stone },\n  { tag: tags.meta, color: darkColors.oneDark.stone },\n  { tag: tags.invalid, color: darkColors.oneDark.invalid },\n  {\n    tag: [tags.function(tags.variableName), tags.labelName, tags.propertyName],\n    color: darkColors.oneDark.malibu,\n  },\n  {\n    tag: [tags.propertyName],\n    color: darkColors.oneDark.malibu,\n  },\n  // {\n  //   tag: [tags.name], // don't use this. breaks android on mobile when typing x.forEach (javascript)\n  //   color: darkColors.whiskey,\n  // },\n  {\n    tag: [tags.operator],\n    color: darkColors.oneDark.sage,\n  },\n]);\n\n// original white theme\nexport const lightHighlighting = HighlightStyle.define([\n  { tag: tags.link, textDecoration: \"underline\" },\n  { tag: tags.heading, textDecoration: \"underline\", fontWeight: \"bold\" },\n  { tag: tags.emphasis, fontStyle: \"italic\" },\n  { tag: tags.strong, fontWeight: \"bold\" },\n  { tag: tags.strikethrough, textDecoration: \"line-through\" },\n  { tag: tags.keyword, color: \"#708\" },\n  {\n    tag: [\n      tags.atom,\n      tags.bool,\n      tags.url,\n      tags.contentSeparator,\n      tags.labelName,\n    ],\n    color: \"#219\",\n  },\n  { tag: [tags.literal, tags.inserted], color: \"#164\" },\n  { tag: [tags.string, tags.deleted], color: \"#a11\" },\n  { tag: [tags.regexp, tags.escape, tags.special(tags.string)], color: \"#e40\" },\n  { tag: tags.definition(tags.variableName), color: \"#00f\" },\n  { tag: tags.local(tags.variableName), color: \"#30a\" },\n  { tag: [tags.typeName, tags.namespace], color: \"#085\" },\n  { tag: tags.className, color: \"#167\" },\n  { tag: [tags.special(tags.variableName), tags.macroName], color: \"#256\" },\n  { tag: tags.definition(tags.propertyName), color: \"#00c\" },\n  { tag: tags.comment, color: \"#940\" },\n  { tag: tags.meta, color: \"#7a757a\" },\n  { tag: tags.invalid, color: \"#f00\" },\n]);\n\nexport const darkThemeExtensions = [darkTheme, darkHighlighting];\n\nexport const lightThemeExtensions = [lightTheme, lightHighlighting];\n","import { javascript, javascriptLanguage } from \"@codemirror/lang-javascript\";\nimport { python, pythonLanguage } from \"@codemirror/lang-python\";\nimport { lineNumbers, highlightActiveLineGutter } from \"@codemirror/gutter\";\nimport { darkThemeExtensions, lightThemeExtensions } from \"./theme\";\nimport {\n  autocompletion,\n  completionKeymap,\n  completeFromList,\n  completeAnyWord,\n} from \"@codemirror/autocomplete\";\nimport { closeBrackets, closeBracketsKeymap } from \"@codemirror/closebrackets\";\nimport { bracketMatching } from \"@codemirror/matchbrackets\";\nimport { defaultKeymap, indentWithTab } from \"@codemirror/commands\";\nimport { EditorView } from \"@codemirror/view\";\nimport { EditorState, Compartment } from \"@codemirror/state\";\nimport {\n  keymap,\n  drawSelection,\n  highlightActiveLine,\n  highlightSpecialChars,\n} from \"@codemirror/view\";\nimport { highlightSelectionMatches, searchKeymap } from \"@codemirror/search\";\nimport { indentOnInput } from \"@codemirror/language\";\nimport { defaultHighlightStyle } from \"@codemirror/highlight\";\n\nif (!window.ReactNativeWebView) {\n  console.log(\"window.ReactNativeWebView missing, will mock instead\");\n  window.ReactNativeWebView = {\n    postMessage: console.log,\n  };\n}\n\nconst consoleLog = (type, log) =>\n  window.ReactNativeWebView.postMessage(\n    JSON.stringify({ event: \"console\", data: { type: type, log: log } })\n  );\nconsole = {\n  log: (log) => consoleLog(\"log\", log),\n  debug: (log) => consoleLog(\"debug\", log),\n  info: (log) => consoleLog(\"info\", log),\n  warn: (log) => consoleLog(\"warn\", log),\n  error: (log) => consoleLog(\"error\", log),\n};\n\nconsole.log(\"ooooo\");\n\n// TODOS:\n// - extracting theme\n// - QoL: propagate errors to RN logs, capture with bugsnag\n// - nice to have: brackets utility in accessory toolbar\n\n// issues to look out for when building the editor:\n// on ios mobile safari, pressing enter spits out 2 new lines\n// on android mobile (through webview only) sometimes the BACKSPACE key doesn't work\n// on android mobile typing \"array.forEach\" may duplciate the text -> seems to happen with custom syntax highlighting if placed the last\n\nlet languages = new Compartment();\nlet themes = new Compartment();\n\nlet jsKeywords =\n  \"break case catch class const continue debugger default delete do else enum export extends false finally for function if implements import interface in instanceof let new package private protected public return static super switch this throw true try typeof var void while with yield\";\nlet pyKeywords =\n  \"False def if raise None del import return True elif in try and else is while as except lambda with assert finally nonlocal yield break for not class from or continue global pass\";\n\nconst mapKeywordString = (kString) =>\n  kString.split(\" \").map((kw) => ({\n    label: kw,\n    type: \"keyword\",\n  }));\nconst jsCompletion = completeFromList(mapKeywordString(jsKeywords));\nconst pyCompletion = completeFromList(mapKeywordString(pyKeywords));\n\nconst initialState = EditorState.create({\n  doc: `/* eslint-disable import/no-unresolved */\n/* eslint-disable global-require */\nimport C from '@teamenki/common-constants';\nimport combs from '@nem035/combs';\nimport isEqual from 'lodash.isequal';\nimport difference from 'lodash.difference';\nimport { aspects as commonAspects } from '@teamenki/common-helpers';\nimport Topic from '../../../backend/app/models/topic';\n\nconst ASPECTS = Object.keys(commonAspects);\n\n// This stat requires you to run two other stats\n// to generate the starting data\n// i.e. the wsa-graph-paths and wsa-sequences\nexport default async function compareWSAGraphAndSequences() {\n  const graph = require('../wsa-graph-paths/wsa-graph.json');\n  const sequences = require('../wsa-sequences/wsa-sequences.json');\n\n  const topics = await Topic.find({\n    availabilityStatus: C.TOPIC.STATUS.PUBLISHED,\n    $or: [{ team: { $exists: false } }, { team: null }],\n  }).lean();\n\n  for (const { slug } of topics) {\n    const { paths } = graph.find(({ topic }) => slug === topic);\n    const { seqs } = sequences.find(({ topic }) => slug === topic);\n\n    for (const comb of combs(ASPECTS)) {\n      const { path } = paths.find(({ aspects }) =>\n        isEqual(aspects.slice().sort(), comb.slice().sort())\n      );\n      const { seq } = seqs.find(({ aspects }) =>\n        isEqual(aspects.slice().sort(), comb.slice().sort())\n      );\n\n      const equal = isEqual(\n        seq.map(({ slug: s }) => s),\n        path.map(({ slug: s }) => s)\n      );\n\n      if (!equal) {\n        console.log(\n          \"a\"\n        );\n      }\n    }\n  }\n\n  process.exit(0);\n}`,\n  extensions: [\n    EditorView.updateListener.of((v) => {\n      const { doc } = v.state;\n      if (v.docChanged) {\n        window.ReactNativeWebView.postMessage(\n          JSON.stringify({ event: \"code-change\", data: doc.toString() })\n        );\n      }\n    }),\n    lineNumbers(),\n    highlightActiveLineGutter(),\n    highlightSpecialChars(),\n    drawSelection(),\n    EditorState.allowMultipleSelections.of(true),\n    indentOnInput(),\n    defaultHighlightStyle.fallback,\n    themes.of(darkThemeExtensions),\n    bracketMatching(),\n    closeBrackets(),\n    autocompletion(),\n    highlightActiveLine(),\n    highlightSelectionMatches(),\n    keymap.of([\n      indentWithTab,\n      ...closeBracketsKeymap,\n      ...defaultKeymap,\n      ...completionKeymap,\n    ]),\n    languages.of(javascript()),\n    EditorView.lineWrapping,\n    EditorState.languageData.of(() => [{ autocomplete: completeAnyWord }]), // adds words from the editor as completions\n    javascriptLanguage.data.of({\n      autocomplete: jsCompletion,\n    }),\n    pythonLanguage.data.of({\n      autocomplete: pyCompletion,\n    }),\n  ],\n});\n\nconst view = new EditorView({\n  parent: document.getElementById(\"editor\"),\n  state: initialState,\n});\n\nwindow.view = view;\n\nwindow.replaceCode = (code) => {\n  window.view.dispatch({\n    changes: {\n      from: 0,\n      to: window.view.state.doc.toString().length,\n      insert: code || \"\",\n    },\n  });\n  view.dispatch({ selection: { anchor: view.state.doc.length } });\n};\n\nconst languageExtensionsMap = {\n  javascript: javascript,\n  python: python,\n};\n\nwindow.replaceLanguage = (language) => {\n  const languageExtension = languageExtensionsMap[language];\n\n  if (languageExtension) {\n    view.dispatch({\n      effects: languages.reconfigure(languageExtension()),\n    });\n  } else {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({ event: \"invalid-language\", data: language })\n    );\n  }\n};\n\nwindow.replaceTheme = (theme) => {\n  if (theme === \"light\") {\n    view.dispatch({\n      effects: themes.reconfigure(lightThemeExtensions),\n    });\n  } else if (theme === \"dark\") {\n    view.dispatch({\n      effects: themes.reconfigure(darkThemeExtensions),\n    });\n  } else {\n    window?.ReactNativeWebView.postMessage(\n      JSON.stringify({ event: \"invalid-language\", data: language })\n    );\n  }\n};\n\nwindow.simulateKeyPress = (key = \"Enter\") => {\n  const element = document.querySelector(\".cm-content\");\n  element.dispatchEvent(new KeyboardEvent(\"keydown\", { key }));\n  element.dispatchEvent(new KeyboardEvent(\"keyup\", { key }));\n};\n\n// this is magic, don't touch\n// fixes all problems identified with the editor's webview not syncing with the updates from react native\n// e.g. closing the keyboard on Android wouldn't update the editor's view, leaving half a screen blank\nwindow.onresize = (x) => {\n  const element = document.querySelector(\".cm-activeLine\");\n  element.scrollIntoViewIfNeeded(false); // false here makes the scroll stop once the element is visible, compared to centering it into the viewport\n};\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}