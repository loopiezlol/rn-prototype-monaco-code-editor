{"version":3,"sources":["../node_modules/@lezer/common/dist/index.js","../node_modules/process/browser.js","../node_modules/@lezer/lr/dist/index.js","../node_modules/@lezer/javascript/dist/index.es.js","../node_modules/@codemirror/text/dist/index.js","../node_modules/@codemirror/state/dist/index.js","../node_modules/style-mod/src/style-mod.js","../node_modules/@codemirror/rangeset/dist/index.js","../node_modules/w3c-keyname/index.es.js","../node_modules/@codemirror/view/dist/index.js","../node_modules/@codemirror/language/dist/index.js","../node_modules/@codemirror/highlight/dist/index.js","../node_modules/@codemirror/tooltip/dist/index.js","../node_modules/@codemirror/autocomplete/dist/index.js","../node_modules/@codemirror/lang-javascript/dist/index.js","../node_modules/@lezer/python/dist/index.es.js","../node_modules/@codemirror/lang-python/dist/index.js","../node_modules/@codemirror/gutter/dist/index.js","../node_modules/@codemirror/history/dist/index.js","../node_modules/@codemirror/fold/dist/index.js","../node_modules/@codemirror/matchbrackets/dist/index.js","../node_modules/@codemirror/commands/dist/index.js","../node_modules/@codemirror/closebrackets/dist/index.js","../node_modules/@codemirror/panel/dist/index.js","../node_modules/crelt/index.es.js","../node_modules/@codemirror/search/dist/index.js","../node_modules/@codemirror/comment/dist/index.js","../node_modules/@codemirror/rectangular-selection/dist/index.js","../node_modules/@codemirror/lint/dist/index.js","../node_modules/@codemirror/basic-setup/dist/index.js","theme.js","editor.js"],"names":["DefaultBufferLength","nextPropID","Range","constructor","from","to","NodeProp","config","id","perNode","deserialize","Error","add","match","RangeError","NodeType","type","result","undefined","closedBy","str","split","openedBy","group","contextHash","lookAhead","mounted","MountedTree","tree","overlay","parser","noProps","Object","create","name","props","flags","define","spec","length","top","skipped","error","src","Array","isArray","prop","isTop","isSkipped","isError","isAnonymous","is","indexOf","map","direct","node","groups","i","found","none","NodeSet","types","extend","newTypes","newProps","source","assign","push","CachedNode","WeakMap","Tree","children","positions","value","toString","ch","test","JSON","stringify","cursor","pos","side","scope","get","topNode","TreeCursor","moveTo","set","_tree","fullCursor","TreeNode","resolve","resolveInner","inner","enter","iterate","leave","c","mustLeave","firstChild","nextSibling","parent","propValues","balance","balanceRange","makeTree","build","data","buildTree","empty","FlatBufferCursor","buffer","index","start","end","size","next","fork","TreeBuffer","childString","join","endIndex","findChild","startIndex","dir","pick","checkSide","slice","startI","endI","b","copy","Uint16Array","j","enterUnfinishedNodesBefore","scan","childBefore","last","lastChild","prevSibling","_from","_parent","nextChild","mode","e","BufferNode","BufferContext","hasChild","childAfter","overlays","buffers","rPos","nextSignificantParent","val","toTree","getChild","before","after","r","getChildren","cur","context","child","externalSibling","parentStart","stack","bufferNode","yieldNode","n","unshift","yieldBuf","yield","enterChild","pop","sibling","d","atLastNode","move","prev","cache","depth","some","_a","nodeSet","maxBufferLength","reused","minRepeatType","takeNode","minPos","inRepeat","lookAheadAtStart","startPos","findBufferSize","skip","endPos","copyToBuffer","localChildren","localPositions","localInRepeat","lastGroup","lastEnd","makeRepeatLeaf","reverse","make","makeBalanced","lastI","lookAheadProp","base","pair","concat","maxSize","minStart","nodeSize","localSkipped","nodeStart","bufferStart","topID","nodeSizeCache","balanceType","reduce","s","mkTop","mkTree","total","maxChild","Math","ceil","divide","offset","groupFrom","groupStart","groupSize","nextSize","only","TreeFragment","openStart","openEnd","open","addTree","fragments","partial","f","applyChanges","changes","minGap","fI","nextF","cI","off","nextC","nextPos","fromA","cut","fFrom","max","fTo","min","toA","toB","Parser","startParse","input","ranges","StringInput","createParse","parse","done","advance","string","chunk","lineChunks","read","parseMixed","nest","MixedParse","InnerParse","target","ActiveOverlay","predicate","mounts","innerDone","baseTree","stoppedAt","baseParse","startInner","parsedPos","stopAt","fragmentCursor","FragmentCursor","covered","isCovered","range","hasNode","find","m","frag","mount","checkCover","materialize","oldMounts","findMounts","punchRanges","enterFragments","splice","sliceBuf","buf","nodes","innerOffset","isTarget","StructureCursor","root","p","fragI","first","curFrag","nextFrag","outer","current","gapFrom","gapTo","findCoverChanges","a","iA","iB","inA","inB","nextA","nextB","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","arguments","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","Stack","state","reducePos","score","bufferBase","curContext","filter","_","cx","StackContext","pushState","action","dPrec","dynamicPrecedence","minRepeatTerm","storeNode","getGoto","reduceContext","count","stateFlag","baseStateID","term","isReduce","shift","nextEnd","nextState","maxNode","shiftContext","useNode","updateContext","tracker","reuse","stream","reset","recoverByDelete","isNode","canShift","sim","SimulatedStack","stateSlot","hasAction","recoverByInsert","nextStates","best","v","forceReduce","validAction","forceAll","deadEnd","restart","sameState","other","dialectEnabled","dialectID","dialect","emitContext","hash","emitLookAhead","newCx","setLookAhead","close","strict","Recover","goto","StackBufferCursor","maybeNext","CachedToken","extended","mask","nullToken","InputStream","chunkOff","chunk2","chunk2Pos","token","rangeIndex","chunkPos","readNext","resolveOffset","assoc","peek","idx","charCodeAt","resolved","acceptToken","endOffset","getChunk","nextChunk","setDone","TokenGroup","readToken","contextual","fallback","ExternalTokenizer","options","groupMask","accEnd","allows","overrides","low","high","mid","decodeArray","Type","out","stop","digit","verbose","stackIDs","Safety","cutAt","fragment","safeFrom","safeTo","trees","nextFragment","fr","nextStart","nodeAt","TokenCache","tokens","mainToken","actions","tokenizers","getActions","actionIndex","main","tokenizer","updateCachedToken","addActions","eofTerm","getMainToken","specialized","specializers","putAction","Rec","Parse","recovering","nextStackID","minStackPos","topTerm","stacks","bufferLength","newStacks","stopped","stoppedTokens","advanceStack","tok","finished","findFinished","stackToTree","console","log","getName","SyntaxError","runRecovery","maxRemaining","sort","stackID","strictCx","cxHash","cached","defaultReduce","localStack","advanceFully","pushStackDedup","restarted","tokenEnd","force","forceBase","insert","String","fromCodePoint","Dialect","disabled","x","ContextTracker","LRParser","wrappers","nodeNames","repeatNodeCount","topTerms","keys","topRules","nodeProps","setProp","nodeID","propSpec","skippedNodes","tokenArray","tokenData","states","Uint32Array","stateData","maxTerm","dialects","dynamicPrecedences","tokenPrecTable","tokenPrec","termNames","parseDialect","w","loose","table","groupTag","terminal","slot","flag","iPrev","findOffset","configure","info","t","contextTracker","wrap","prec","values","part","Uint8Array","noSemi","incdec","incdecPrefix","templateContent","templateDollarBrace","templateEnd","insertSemi","TSExtends","spaces","newline","LineComment","BlockComment","Dialect_ts","space","braceR","braceL","semicolon","slash","star","plus","minus","dollar","backtick","backslash","trackNewline","insertSemicolon","noSemicolon","incdecToken","mayPostfix","template","afterDollar","tsExtends","spec_identifier","__proto__","export","as","default","async","function","this","true","false","void","typeof","null","super","new","await","delete","class","extends","public","private","protected","readonly","in","instanceof","const","import","keyof","unique","infer","abstract","implements","let","var","interface","enum","namespace","declare","global","for","of","while","with","do","if","else","switch","case","try","catch","finally","return","throw","break","continue","debugger","spec_word","static","spec_LessThan","jsx","ts","parseInt","isExtendingChar","code","isRegionalIndicator","ZWJ","findClusterBreak","forward","nextClusterBreak","prevClusterBreak","surrogateLow","surrogateHigh","codePointAt","codePointSize","countBefore","code0","code1","fromCharCode","countColumn","tabSize","findColumn","col","Text","lineAt","lineInner","line","lines","replace","text","parts","decompose","TextNode","append","eq","scanIdentical","RawTextCursor","lineBreak","iter","iterRange","PartialTextCursor","iterLines","LineCursor","sliceString","toJSON","flatten","TextLeaf","textLength","isLine","Line","sliceText","joined","appendText","newLen","lineSep","endLine","childOpen","updated","totalLines","eA","eB","chA","chB","l","flat","maxChunk","minChunk","chunked","currentLines","currentLen","currentChunk","flush","offsets","nextInner","offsetValue","limit","afterBreak","Symbol","iterator","number","DefaultSplit","MapMode","ChangeDesc","sections","newLength","ins","iterGaps","posA","posB","iterChangedRanges","individual","iterChanges","invertedDesc","composeDesc","composeSets","mapDesc","mapSet","mapPos","Simple","endA","TrackDel","TrackBefore","TrackAfter","touchesRange","fromJSON","json","ChangeSet","inserted","doc","fromB","_toB","invert","compose","desc","resultSections","resultInserted","filteredSections","SectionIter","addSection","addInsert","filtered","sub","insText","insLen","forceJoin","endB","setA","setB","mkSet","len2","sectionLen","insB","textBit","forward2","SelectionRange","anchor","head","bidiLevel","level","goalColumn","change","EditorSelection","abs","mainIndex","asSingle","addRange","replaceRange","which","single","normalized","goal","checkSelection","selection","docLength","nextID","Facet","combine","compareInput","compare","isStatic","extensions","sameArray","enables","FacetProvider","compute","deps","computeN","field","every","dependencies","facet","dynamicSlot","addresses","getter","multi","depDoc","depSel","depAddrs","dep","tr","oldVal","Uninitialized","depChanged","docChanged","addr","ensureAddr","newVal","compareArray","dynamicFacetSlot","providers","providerAddrs","providerTypes","dynamic","changed","dynAddr","getAddr","initField","StateField","createF","updateF","compareF","provides","update","provide","init","extension","Prec_","lowest","highest","ext","PrecExtension","Prec","override","Compartment","CompartmentInstance","reconfigure","content","compartment","compartments","Configuration","dynamicSlots","address","staticValues","statusTemplate","staticFacet","oldState","fields","facets","newCompartments","Map","oldAddr","seen","known","has","status","applying","languageData","allowMultipleSelections","lineSeparator","changeFilter","transactionFilter","transactionExtender","readOnly","Annotation","AnnotationType","StateEffectType","StateEffect","mapping","mapped","mapEffects","effects","effect","appendConfig","Transaction","startState","annotations","scrollIntoView","_doc","_state","time","Date","now","newDoc","newSelection","applyTransaction","annotation","ann","reconfigured","isUserEvent","event","userEvent","addToHistory","remote","joinRanges","mergeTransaction","sequential","mapForA","mapForB","resolveTransactionInner","docSize","sel","asArray","resolveTransaction","specs","seq","extendTransaction","filterTransaction","back","filters","extenders","CharCategory","nonASCIISingleCaseWordChar","wordChar","RegExp","hasWordChar","toUpperCase","toLowerCase","makeCategorizer","wordChars","char","Space","Word","Other","EditorState","require","conf","forEach","key","startValues","updatedValues","intermediateState","replaceSelection","toText","changeByRange","result1","newChanges","newMapped","mapBy","sliceDoc","fieldInit","configuration","phrase","phrases","hasOwnProperty","languageDataAt","provider","charCategorizer","at","wordAt","cat","combineConfig","configs","defaults","C","COUNT","SET","floor","random","globalThis","window","StyleModule","rules","finish","splitSelector","selector","render","selectors","isKeyframes","local","isAt","exec","keyframes","getRules","newName","modules","StyleSet","adoptedSet","adoptedStyleSheets","CSSStyleSheet","sheet","styleTag","ownerDocument","createElement","insertBefore","mod","k","insertRule","textContent","RangeValue","startSide","endSide","point","mapMode","cmpRange","Chunk","maxPoint","findIndex","startAt","arr","lo","hi","diff","between","newPos","curFrom","curTo","newFrom","newTo","RangeSet","nextLayer","chunkEnd","isEmpty","updateSpec","filterFrom","filterTo","LayerCursor","spill","builder","RangeSetBuilder","addInner","chunkIndex","addChunk","finishInner","chunks","touch","HeapCursor","sets","oldSets","newSets","textDiff","comparator","minPointSize","sharedChunks","findSharedChunks","sideA","SpanCursor","sideB","sameValues","active","spans","activeForPoint","span","lazySort","chunkStart","lastFrom","lastTo","setMaxPoint","finishChunk","newArrays","shared","Set","layer","minPoint","rank","gotoInner","setRangeIndex","heap","heapBubble","childIndex","activeTo","activeRank","minActive","pointFrom","pointRank","removeActive","remove","findMinIndex","addActive","trackOpen","wasPoint","trackExtra","nextVal","startA","startB","dPos","clipEnd","comparePoint","compareRange","foundPos","chrome","navigator","userAgent","safari","vendor","gecko","mac","platform","ie","brokenModifierNames","keyName","ignoreKey","ctrlKey","altKey","metaKey","shiftKey","keyCode","getSelection","nodeType","contains","dom","parentNode","deepActiveElement","elt","document","activeElement","shadowRoot","hasSelection","anchorNode","clientRectsFor","textRange","nodeValue","getClientRects","isEquivalentPosition","targetNode","targetOff","scanFor","domIndex","previousSibling","maxOffset","nodeName","childNodes","contentEditable","Rect0","left","right","bottom","flattenRect","rect","windowRect","win","innerWidth","innerHeight","ScrollSpace","scrollRectIntoView","center","defaultView","bounding","body","scrollHeight","clientHeight","scrollWidth","clientWidth","getBoundingClientRect","moveX","moveY","rectHeight","boundingHeight","targetTop","scrollBy","scrollTop","scrollLeft","assignedSlot","host","DOMSelection","anchorOffset","focusNode","focusOffset","domSel","preventScrollSupported","focusPreventScroll","setActive","focus","preventScroll","scratchRange","createRange","setEnd","setStart","dispatchKey","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","getRoot","DOMPos","precise","none$3","ContentView","dirty","editorView","overrideDOMText","posAtStart","posBefore","posAtEnd","view","breakAfter","posAfter","coordsAt","_pos","_side","sync","track","reuseDOM","written","rm","_dom","localPosFromDOM","bias","domBoundsAround","fromI","fromStart","toI","toEnd","prevEnd","startDOM","endDOM","markDirty","andParent","markParentsDirty","childList","setParent","setDOM","cmView","rootView","replaceChildren","ignoreMutation","_rec","ignoreEvent","_event","childCursor","ChildCursor","childPos","findPos","isEditable","removeChild","nav","documentElement","style","ie_edge","ie_upto10","ie_11up","webkit","ios","maxTouchPoints","browser","windows","linux","ie_version","documentMode","gecko_version","chrome_version","android","webkit_version","none$2","InlineView","become","_other","getSide","MaxJoinLen","TextView","createDOM","textDOM","createTextNode","merge","domAtPos","_to","textCoords","MarkView","mark","tagName","className","attrs","setAttribute","mergeInlineChildren","detachFrom","inlineDOMAtPos","coordsInChildren","rects","width","WidgetView","widget","customView","updateDOM","toDOM","CompositionView","WidgetBufferView","elts","toOff","fromOff","dLen","joinInlineInto","combineAttrs","attrsEq","keysA","keysB","updateAttrs","removeAttribute","WidgetType","_widget","estimatedHeight","BlockType","Decoration","heightRelevant","MarkDecoration","block","PointDecoration","getInclusive","LineDecoration","hasHeight","attributes","isReplace","WidgetRange","WidgetBefore","WidgetAfter","widgetsEq","inclusiveStart","inclusiveEnd","inclusive","margin","LineView","prevAttrs","takeDeco","transferDOM","setDeco","none$1","addLineDeco","deco","cls","classList","hack","cmIgnore","appendChild","measureTextSize","totalWidth","lineHeight","height","charWidth","docView","BlockWidgetView","_takeDeco","Text$1","ContentBuilder","curLine","breakAtStart","pendingBuffer","atCursorPos","textOff","posCovered","getLine","flushBuffer","wrapMarks","addBlockWidget","buildText","take","NullWidget","cursorBefore","cursorAfter","decorations","tag","clickAddsSelectionRange","dragMovesSelection$1","mouseSelectionStyle","exceptionSink","updateListener","inputHandler","scrollTo","centerOn","logException","exception","handler","onerror","editable","PluginFieldProvider","PluginField","atomicRanges","scrollMargins","nextPluginID","viewPlugin","ViewPlugin","eventHandlers","domEventHandlers","plugin","handlers","fromClass","PluginInstance","mustUpdate","takeField","dummy","destroy","editorAttributes","contentAttributes","styleModule","ChangedRange","addToSet","me","extendWithRanges","dI","rI","ViewUpdate","transactions","changedRanges","hasFocus","inputState","notifiedFocused","viewportChanged","heightChanged","geometryChanged","focusChanged","selectionSet","DocView","compositionDeco","minWidth","minWidthFrom","minWidthTo","impreciseAnchor","impreciseHead","contentDOM","updateInner","updateDeco","composing","computeCompositionDeco","forceSelection","prevDeco","decoDiff","findChangedDeco","pointerSel","viewport","updateSelection","observer","ignore","oldLength","updateChildren","viewState","domHeight","selectionRange","gaps","BlockGapWidget","updateGaps","breakAtEnd","fromPointer","mayControlSelection","rapidCompositionStart","betweenUneditable","inUneditable","blur","rawSel","nextTo","nextToUneditable","nearbyTextNode","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","enforceCursorAssoc","modify","lineStart","nearest","domView","posFromDOM","measureVisibleLineHeights","scrollDOM","measure","computeBlockGapDeco","vs","viewports","pluginField","lineGapDeco","mLeft","mRight","mTop","mBottom","margins","textNode","cView","CompositionWidget","DecorationComparator$1","comp","inside","Direction","LTR","RTL","dec","LowTypes","ArabicTypes","Brackets","BracketStack","charType","BidiRE","BidiSpan","order","maybe","computeOrder","direction","outerType","oppositeType","trivialOrder","prevStrong","sI","br","sJ","embed","beforeL","afterL","rtl","movedOver","moveVisually","spanI","indexForward","nextIndex","nextSpan","groupAt","categorize","linePos","getdx","getdy","y","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestX","closestY","above","below","aboveRect","belowRect","dx","dy","domPosInText","clipX","closestOffset","closestDY","generalSide","rectBefore","posAtCoords","halfLine","defaultLineHeight","bounced","blockAtHeight","posAtCoordsImprecise","element","elementFromPoint","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","isSuspiciousCaretResult","contentRect","into","round","defaultCharacterWidth","lineWrapping","heightOracle","lineLength","moveToLineBoundary","includeWrap","coords","coordsAtPos","editorRect","textDirection","lineView","moveByChar","by","bidiSpans","check","byGroup","nextCat","moveVertically","distance","startY","startCoords","resolvedGoal","dist","extra","curY","skipAtoms","oldPos","atoms","moved","InputState","lastKeyCode","lastKeyTime","pendingAndroidKey","pendingIOSKey","lastSelectionOrigin","lastSelectionTime","lastEscPress","lastContextMenu","scrollHandlers","registeredEvents","customHandlers","compositionFirstChange","compositionEndedAt","mouseSelection","addEventListener","keydown","eventBelongsToEditor","ignoreDuringComposition","mustFlushObserver","forceFlush","runCustomHandlers","preventDefault","ensureHandlers","setSelectionOrigin","origin","handled","flushSoon","runScrollHandlers","scroll","screenKeyEvent","pending","PendingKeys","flushIOSKey","setPendingAndroidKey","requestAnimationFrame","processRecords","protectedTab","modifierCodes","startMouseSelection","MouseSelection","inputType","startEvent","lastEvent","bind","multiple","addsSelectionRange","dragMove","dragMovesSelection","dragging","isInPrimarySelection","select","buttons","removeEventListener","dispatch","rangeCount","getRangeAt","clientX","clientY","bubbles","brokenClipboardAPI","capturePaste","cssText","doPaste","byLine","linewise","lastLinewiseCopy","lastLine","lastTouch","touchstart","touchmove","mousedown","makeStyle","button","basicMouseSelection","rangeForClick","visual","insideY","findPositionSide","queryPos","BadMouseDetail","lastMouseDown","lastMouseDownCount","lastMouseDownTime","getClickType","detail","lastTime","startSel","startRange","dragstart","dataTransfer","setData","effectAllowed","dropText","dropPos","del","drop","files","finishFile","reader","FileReader","onload","readAsText","getData","paste","clipboardData","captureCopy","selectionEnd","selectionStart","copiedRange","upto","clearData","beforeprint","printing","requestMeasure","forceClearComposition","rapid","compositionstart","compositionupdate","compositionend","contextmenu","beforeinput","startViewHeight","visualViewport","wrappingWhiteSpace","HeightOracle","heightSamples","heightForGap","heightForLine","setDoc","mustRefresh","lineHeights","whiteSpace","newHeight","h","refresh","knownHeights","MeasuredHeights","heights","more","BlockInfo","QueryType","Epsilon","HeightMap","outdated","setHeight","oracle","decomposeLeft","decomposeRight","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","brk","HeightMapBranch","HeightMapBlock","blockAt","_height","_value","_type","forEachLine","_force","measured","collapsed","widgetHeight","HeightMapGap","firstLine","ByHeight","rightTop","rightOffset","subQuery","ByPos","rightStart","balanced","mergeGaps","rebalance","around","relevantWidgetHeight","lineEnd","covering","writtenTo","addBlock","enterLine","blankContent","gap","ensureLine","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","paddingTop","getComputedStyle","overflow","parentRect","position","offsetParent","LineGap","same","gA","gB","draw","wrapping","LineGapWidget","vertical","display","ScrollTarget","ViewState","pixelViewport","inView","paddingBottom","contentWidth","scaler","IdScaler","scrollTarget","visibleRanges","mustEnforceCursorAssoc","heightMap","getViewport","updateForViewport","lineGaps","ensureLineGaps","computeVisibleRanges","Viewport","BigScaler","newDeco","contentChanges","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLineGaps","mapLineGaps","repeated","dTop","dBottom","visibleTop","fromDOM","visibleBottom","marginTop","viewHeight","topPos","structure","lineStructure","viewFrom","viewTo","marginHeight","findPosition","marginWidth","outside","cutRange","gapSize","fraction","findFraction","editorTop","scaleBlock","lineAtHeight","scale","contentHeight","ratio","counted","pieces","vpHeight","domBase","domTop","domBottom","obj","vp","bTop","bBottom","theme","strs","darkTheme","baseThemeID","baseLightID","baseDarkID","lightDarkIDs","buildTheme","scopes","baseTheme","boxSizing","outline","flexDirection","alignItems","fontFamily","overflowX","zIndex","flexGrow","minHeight","wordWrap","padding","WebkitUserModify","wordBreak","overflowWrap","caretColor","contain","background","pointerEvents","animation","visibility","borderLeft","marginLeft","borderLeftColor","backgroundColor","color","verticalAlign","fontSize","borderRadius","backgroundImage","border","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","onChange","onScrollChanged","ignoreSelection","delayedFlush","lastFlush","scrollTargets","intersection","intersecting","gapIntersection","_selectionRange","parentCheck","MutationObserver","mutations","mut","removedNodes","oldValue","onCharData","prevValue","onSelectionChange","onScroll","IntersectionObserver","entries","listenForScroll","intersectionRatio","createEvent","observe","g","disconnect","safariSelectionRangeHack","clear","clearSelection","takeRecords","records","typeOver","record","readMutation","newSel","rec","curView","stopImmediatePropagation","getTargetRanges","execCommand","endContainer","curAnchor","applyDOMChange","bounds","selPoints","selectionPoints","DOMReader","readRange","selectionFromPoints","preferredPos","preferredSide","findDiff","iHead","iAnchor","minLen","adjust","points","findPointBefore","readNode","nextView","isBlockElement","fromView","findPointIn","maxLen","DOMPoint","EditorView","plugins","editorAttrs","contentAttrs","bidiCache","destroyed","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","mountStyles","ensureGlobalHandler","redrawn","setState","CachedOrder","updatePlugins","styleModules","showAnnouncements","listener","newState","prevSpecs","newPlugins","cancelAnimationFrame","oldViewport","warn","measuring","BadMeasure","write","themeClasses","spellcheck","autocorrect","autocapitalize","translate","contenteditable","role","trs","announce","div","readMeasured","request","inst","docTop","ensureTop","visualLineAtHeight","viewportLines","visualLineAt","moveByGroup","initial","scrollPosIntoView","posAtDOM","MaxBidiLine","entry","prefix","dark","given","resizeDebounce","handleResize","querySelectorAll","lastDir","currentPlatform","normalizeKeyName","alt","ctrl","meta","modifiers","handleKeyEvents","runHandlers","getKeymap","keymap","Keymaps","bindings","buildKeymap","runScopeHandlers","storedPrefix","PrefixTimeout","bound","isPrefix","checkPrefix","command","scopeObj","commands","ourObj","full","isChar","fallthrough","runFor","cmd","baseName","CanHidePrimary","selectionConfig","cursorBlinkRate","drawRangeCursor","drawSelection","drawSelectionPlugin","hideNativeSelection","Piece","rangePieces","cursors","measureReq","readPos","drawSel","selectionLayer","cursorLayer","setBlinkRate","animationDuration","confChanged","animationName","measureRange","prim","piece","measureCursor","oldCursors","themeSpec","getBase","wrappedLine","ltr","lineStyle","leftSide","paddingLeft","rightSide","paddingRight","startBlock","endBlock","visualStart","visualEnd","drawForLine","drawForWidget","horizontal","addSpan","fromOpen","toOpen","fromCoords","toCoords","docLine","spanFrom","spanTo","primary","iterMatches","re","lastIndex","MatchDecorator","regexp","decoration","boundary","getDeco","createDeco","changeFrom","changeTo","_f","_t","updateRange","updateFrom","updateTo","fromLine","toLine","UnicodeRegexpSupport","unicode","Specials","Names","_supportsTabSize","supportsTabSize","styles","MozTabSize","specialCharConfig","specialChars","addSpecialChars","replaceTabs","highlightSpecialChars","specialCharPlugin","_plugin","decorationCache","decorator","makeDecorator","TabWidget","SpecialCharWidget","DefaultPlaceholder","placeholder$1","ph","custom","scrollPastEnd","highlightActiveLine","activeLineHighlighter","lineDeco","lastLineStart","Placeholder","placeholder","__test","languageDataProp","defineLanguageFacet","baseData","Language","extraExtensions","defineProperty","syntaxTree","language","languageDataFacetAt","isActiveAt","findRegions","lang","allowsNesting","explore","topLang","LRLanguage","ensureSyntaxTree","treeLen","work","DocInput","cursorPos","syncTo","stringStart","currentContext","ParseContext","scheduleOn","tempSkipped","isDone","takeTree","withContext","endTime","withoutTempSkipped","cutFragments","updateViewport","startLen","skipUntilInView","getSkippingParser","until","Promise","all","movedPast","frags","LanguageState","parseState","requestIdle","requestIdleCallback","callback","cancelIdle","cancelIdleCallback","parseWorker","ParseWorker","working","chunkBudget","scheduleWork","checkAsyncSchedule","deadline","vpTo","timeRemaining","then","languages","LanguageSupport","support","LanguageDescription","alias","filename","loadFunc","loading","load","err","matchFilename","descs","matchLanguageName","fuzzy","indentService","indentUnit","getIndentUnit","unit","indentString","cols","getIndentation","IndentContext","service","syntaxIndentation","simulateBreak","textAfterPos","simulateDoubleBreak","column","overrideIndentation","search","lineIndent","overriden","simulatedBreak","indentNodeProp","ast","indentFrom","ignoreClosed","indentStrategy","strategy","closed","delimitedStrategy","topIndent","TreeIndentContext","textAfter","baseIndent","atBreak","isParent","bracketedAligned","openToken","openLine","delimitedIndent","closing","align","units","closedAt","aligned","flatIndent","continuedIndent","except","matchExcept","DontIndentBeyond","indentOnInput","indent","norm","foldService","foldNodeProp","foldInside","syntaxFolding","foldable","nextTagID","Tag","modified","defineModifier","Modifier","nextModifierID","instances","mods","exists","permute","styleTags","byName","tags","rest","rule","Rule","ruleNodeProp","highlightStyle","stylings","HighlightStyle","combinedMatch","fallbackHighlightStyle","getHighlightStyle","modSpec","def","treeHighlighter","highlightTree","getStyle","putStyle","highlightTreeRange","TreeHighlighter","markCache","buildDeco","styleChange","nodeStack","HighlightBuilder","startSpan","highlightRange","inheritedClass","opaque","matchContext","st","rangeFrom","rangeTo","comment","typeName","propertyName","literal","heading","keyword","operator","punctuation","bracket","lineComment","blockComment","docComment","variableName","attributeName","labelName","macroName","docString","character","attributeValue","integer","float","bool","escape","url","self","atom","modifier","operatorKeyword","controlKeyword","definitionKeyword","derefOperator","arithmeticOperator","logicOperator","bitwiseOperator","compareOperator","updateOperator","definitionOperator","typeOperator","controlOperator","separator","angleBracket","squareBracket","paren","brace","heading1","heading2","heading3","heading4","heading5","heading6","contentSeparator","list","quote","emphasis","strong","link","monospace","strikethrough","deleted","invalid","documentMeta","processingInstruction","definition","constant","standard","special","defaultHighlightStyle","textDecoration","fontWeight","fontStyle","classHighlightStyle","Outside","TooltipViewManager","createTooltipView","tooltips","tooltipViews","shouldMeasure","tip","tooltipView","tooltipConfig","_b","tooltipPlugin","classes","createContainer","readMeasure","writeMeasure","manager","showTooltip","createTooltip","maybeMeasure","container","newConfig","tooltip","arrow","editor","others","tView","strictSide","toggle","positioned","tv","insetInlineStart","borderTop","borderRight","borderBottom","borderTopColor","borderBottomColor","showHoverTooltip","HoverTooltipHost","createHostedView","hostedView","showHoverTooltipHost","HoverPlugin","setHover","hoverTime","lastMouseMove","lastMoveTime","hoverTimeout","restartTimeout","checkHover","mouseleave","mousemove","startHover","hovered","lastMove","posCoords","bidi","isInTooltip","isOverRange","detach","hoverTooltip","hoverState","hideOnChange","CompletionContext","explicit","abortListeners","tokenBefore","matchBefore","expr","ensureAnchor","aborted","toSet","chars","words","prefixMatch","label","completeFromList","o","ifIn","ifNotIn","Option","completion","addStart","addEnd","ignoreCase","pickedCompletion","applyCompletion","option","SourceCache","asSource","FuzzyMatcher","pattern","folded","any","byWord","upper","astral","word","anyTo","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","prevType","completionConfig","activateOnTyping","maxRenderedOptions","defaultKeymap","optionClass","icons","addToOptions","joinClass","optionContent","icon","_s","labelElt","detailElt","createInfoDialog","rangeAroundSelected","selected","CompletionTooltip","stateField","placeInfo","measureInfo","positionInfo","cState","createListBox","updateSel","updateSelectedOption","opt","hasAttribute","querySelector","infoRect","spaceLeft","spaceRight","ul","li","completionTooltip","MaxOptions","boost","sortOptions","hasResult","matcher","cmpOption","CompletionDialog","timestamp","setSelected","makeAttrs","selectedValue","completionState","CompletionState","sources","ActiveSource","sameResults","setSelectedEffect","baseAttrs","dScore","localeCompare","getUserEvent","explicitPos","handleUserEvent","handleChange","startCompletionEffect","closeCompletionEffect","setActiveEffect","ActiveResult","CompletionInteractMargin","moveCompletionSelection","step","offsetHeight","acceptCompletion","startCompletion","closeCompletion","RunningQuery","updates","DebounceTime","MaxUpdateCount","MinAbortTime","completionPlugin","debounceUpdate","running","debounceAccept","startQuery","doesReset","query","q","startUpdate","scheduleAccept","accept","maxWidth_fallback","maxWidth","maxHeight","listStyle","opacity","textAlign","FieldPos","FieldRange","Snippet","fieldPositions","instantiate","lineObj","tabs","fieldMarker","fieldRange","ActiveSnippet","selectionInsideField","moveToField","snippetState","fieldSelection","snippet","_completion","addSnippetKeymap","snippetPointerHandler","moveField","clearSnippet","nextSnippetField","prevSnippetField","defaultSnippetKeymap","snippetKeymap","maps","snippetCompletion","wordRE","escaped","mapRE","wordCaches","wordCache","storeWords","ignoreAt","collectWords","big","completeAnyWord","autocompletion","completionKeymapExt","completionKeymap","completionStatus","currentCompletions","selectedCompletion","snippets","javascriptLanguage","IfStatement","TryStatement","LabeledStatement","SwitchBody","isCase","Block","ArrowFunction","JSXElement","JSXEscape","TemplateString","Super","BooleanLiteral","Star","VariableName","VariableDefinition","Label","PropertyName","PropertyNameDefinition","UpdateOp","Number","ArithOp","LogicOp","BitOp","CompareOp","Equals","TypeName","TypeDefinition","JSXAttributeValue","JSXText","closeBrackets","brackets","commentTokens","typescriptLanguage","jsxLanguage","tsxLanguage","javascript","typescript","autocomplete","esLint","eslint","parserOptions","ecmaVersion","sourceType","es6","es2015","es2017","es2020","docs","recommended","verify","translateDiagnostic","endColumn","message","ruleId","severity","fix","printKeyword","dedent","newline$1","newlineBracketed","newlineEmpty","eof","ParenthesizedExpression","ParenL","TupleExpression","ComprehensionExpression","ArrayExpression","BracketL","ArrayComprehensionExpression","DictionaryExpression","BraceL","DictionaryComprehensionExpression","SetExpression","SetComprehensionExpression","ArgList","subscript","FormatReplacement","importList","ParamList","carriageReturn","tab","parenOpen","dot","bracketed","newlines","indentation","cDepth","IndentLevel","trackIndent","legacyPrint","or","and","not","lambda","None","True","False","pass","raise","nonlocal","assert","elif","indentBody","pythonLanguage","Body","Script","endBody","bodyIndent","Boolean","Comment","FormatString","AssignOp","Ellipsis","At","python","GutterMarker","elementClass","gutterLineClass","renderEmptyElements","elementStyle","markers","lineMarker","initialSpacer","updateSpacer","activeGutters","gutter","gutters","flexShrink","unfixGutters","gutterView","fixed","SingleGutterView","syncGutters","updateGutters","lineClasses","classSet","contexts","UpdateContext","advanceCursor","offsetWidth","collect","localMarkers","extraMarkers","forLine","elements","newElt","GutterElement","sameMarkers","spacer","prevMarkers","lineNumberMarkers","lineNumberConfig","formatNumber","NumberMarker","_view","lineNumberGutter","maxLineNumber","lineNumbers","activeLineGutterMarker","activeLineGutterHighlighter","marks","highlightActiveLineGutter","fromHistory","isolateHistory","invertedEffects","historyConfig","minDepth","newGroupDelay","historyField_","HistoryState","fromHist","item","HistEvent","fromTransaction","undone","updateBranch","addSelection","isolate","addMapping","addChanges","history","undo","redo","historyField","historyState","undoSelection","redoSelection","histState","branch","undoDepth","redoDepth","startSelection","selectionsAfter","setSelAfter","_c","selections","newEvent","newBranch","isAdjacent","eqSelectionShape","conc","MaxSelectionsPerEvent","sels","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","fullMapping","prevTime","prevUserEvent","historyKeymap","mapRange","foldEffect","unfoldEffect","selectedLines","foldState","foldExists","foldWidget","onSelection","foldedRanges","maybeEnable","codeFolding","foldCode","announceFold","unfoldCode","fold","lineFrom","lineTo","foldAll","unfoldAll","foldKeymap","defaultConfig","placeholderDOM","placeholderText","foldConfig","ignoreEvents","onclick","foldGutterDefaults","openText","closedText","markerDOM","FoldMarker","foldGutter","fullConfig","canFold","canUnfold","buildMarkers","click","DefaultScanDist","DefaultBrackets","bracketMatchingConfig","afterCursor","maxScanDistance","matchingMark","nonmatchingMark","bracketMatchingState","matchBrackets","matched","bracketMatchingUnique","bracketMatching","matchingNodes","byProp","matches","matchMarkedBrackets","matchPlainBrackets","matching","firstToken","tokenType","startCh","startToken","basePos","setSel","moveSel","how","rangeEnd","cursorByChar","cursorCharLeft","cursorCharRight","cursorCharForward","cursorCharBackward","cursorByGroup","cursorGroupLeft","cursorGroupRight","cursorGroupForward","cursorGroupBackward","moveBySubword","sawUpper","sawLower","ahead","cursorBySubword","cursorSubwordForward","cursorSubwordBackward","interestingNode","bracketProp","moveBySyntax","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","cursorLineUp","cursorLineDown","cursorByPage","cursorPageUp","cursorPageDown","moveByLineBoundary","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineStart","cursorLineEnd","toMatchingBracket","cursorMatchingBracket","selectMatchingBracket","extendSel","selectByChar","selectCharLeft","selectCharRight","selectCharForward","selectCharBackward","selectByGroup","selectGroupLeft","selectGroupRight","selectGroupForward","selectGroupBackward","selectBySubword","selectSubwordForward","selectSubwordBackward","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","simplifySelection","deleteBy","towards","skipAtomic","deleteByChar","targetPos","deleteCharBackward","deleteCharForward","deleteByGroup","nextChar","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","deleteToLineStart","deleteTrailingWhitespace","trailing","splitLine","transposeChars","blocks","startLine","moveLine","nextLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","insertNewline","isBetweenBrackets","insertNewlineAndIndent","newlineAndIndent","insertBlankLine","atEof","explode","changeBySelectedLine","atLine","changeSet","indentSelection","indentMore","indentLess","keep","insertTab","emacsStyleKeymap","standardKeymap","indentWithTab","closeBracketEffect","skipBracketEffect","closedBracket","bracketState","prevLineStart","handleInput","definedClosing","charAt","insertBracket","deleteBracketPair","dont","prevChar","closeBracketsKeymap","handleSame","handleOpen","closedBracketAt","handleClose","closeBefore","_open","allowTriple","isTriple","panelConfig","topContainer","bottomContainer","panels","getPanel","panel","panelPlugin","showPanel","PanelGroup","syncClasses","scrollMargin","syncDOM","curDOM","crelt","basicNormalize","normalize","SearchCursor","bufferPos","nextOverlapping","baseFlags","RegExpCursor","MultilineRegExpCursor","curLineStart","matchPos","flattened","FlattenedDoc","cachedFrom","validRegExp","createLineDialog","onkeydown","dialogEffect","go","onsubmit","sign","ln","cl","percent","pc","dialogField","gotoLine","baseTheme$1","defaultHighlightOptions","highlightWordAroundCursor","minSelectionLength","maxMatches","highlightConfig","highlightSelectionMatches","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","trim","selectWord","findNextOccurrence","fullWord","cycled","selectNextOccurrence","searchedText","searchConfigFacet","matchCase","searchConfig","Query","caseInsensitive","StringQuery","unquoted","nextMatch","prevMatchInRange","prevMatch","getReplacement","_result","matchAll","highlight","valid","RegExpQuery","setQuery","togglePanel","searchState","SearchState","defaultQuery","createSearchPanel","matchMark","selectedMatchMark","searchHighlighter","searchCommand","openSearchPanel","findNext","announceMatch","findPrevious","selectMatches","selectSelectionMatches","replaceNext","replacement","replaceAll","buildPanel","updateQuery","selText","searchInput","searchExtensions","closeSearchPanel","searchKeymap","searchField","onchange","onkeyup","replaceField","caseField","checked","reField","AnnounceMargin","Break","font","marginRight","toggleComment","getConfig","toggleLineComment","toggleBlockComment","changeLineComment","lineUncomment","changeBlockComment","blockUncomment","commentKeymap","SearchMargin","findBlockComment","textBefore","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","endOff","comments","prevLine","minIndent","MaxOff","rectangleFor","startOff","startCol","endCol","absoluteColumn","ref","getPos","rectangleSelectionStyle","newStart","newLine","_extend","rectangularSelection","eventFilter","SelectedDiagnostic","diagnostic","LintState","diagnostics","DiagnosticWidget","findDiagnostic","maybeEnableLint","getState","lintState","activeMark","lintTooltip","setDiagnostics","setDiagnosticsEffect","movePanelSelection","selPos","LintPanel","diagnosticCount","lint","stackStart","stackEnd","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","lintKeymap","lintPlugin","delay","lintSource","lintTime","linter","forceLinting","assignKeys","assigned","inPanel","keyIndex","nameElt","onmousedown","PanelItem","items","moveSelection","selectedIndex","needsSync","newSelectedItem","_start","_end","domPos","underline","btoa","svg","backgroundPosition","backgroundRepeat","overflowY","background_fallback","color_fallback","basicSetup","lightTheme","darkColors","enki","textSecondary","oneDark","highlightBackground","selectionMatch","stone","violet","coral","cyan","malibu","whiskey","sage","chalky","ivory","darkHighlighting","lightHighlighting","darkThemeExtensions","lightThemeExtensions","ReactNativeWebView","postMessage","consoleLog","debug","themes","jsKeywords","pyKeywords","mapKeywordString","kString","kw","jsCompletion","pyCompletion","initialState","getElementById","replaceCode","languageExtensionsMap","replaceLanguage","languageExtension","replaceTheme","simulateKeyPress","onresize","scrollIntoViewIfNeeded"],"mappings":"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","file":"editor.dea23252.js","sourceRoot":"../editor","sourcesContent":["// FIXME profile adding a per-Tree TreeNode cache, validating it by\n// parent pointer\n/// The default maximum length of a `TreeBuffer` node (1024).\nconst DefaultBufferLength = 1024;\nlet nextPropID = 0;\nclass Range {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\n/// Each [node type](#common.NodeType) or [individual tree](#common.Tree)\n/// can have metadata associated with it in props. Instances of this\n/// class represent prop names.\nclass NodeProp {\n    /// Create a new node prop type.\n    constructor(config = {}) {\n        this.id = nextPropID++;\n        this.perNode = !!config.perNode;\n        this.deserialize = config.deserialize || (() => {\n            throw new Error(\"This node type doesn't define a deserialize function\");\n        });\n    }\n    /// This is meant to be used with\n    /// [`NodeSet.extend`](#common.NodeSet.extend) or\n    /// [`LRParser.configure`](#lr.ParserConfig.props) to compute\n    /// prop values for each node type in the set. Takes a [match\n    /// object](#common.NodeType^match) or function that returns undefined\n    /// if the node type doesn't get this prop, and the prop's value if\n    /// it does.\n    add(match) {\n        if (this.perNode)\n            throw new RangeError(\"Can't add per-node props to node types\");\n        if (typeof match != \"function\")\n            match = NodeType.match(match);\n        return (type) => {\n            let result = match(type);\n            return result === undefined ? null : [this, result];\n        };\n    }\n}\n/// Prop that is used to describe matching delimiters. For opening\n/// delimiters, this holds an array of node names (written as a\n/// space-separated string when declaring this prop in a grammar)\n/// for the node types of closing delimiters that match it.\nNodeProp.closedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The inverse of [`closedBy`](#common.NodeProp^closedBy). This is\n/// attached to closing delimiters, holding an array of node names\n/// of types of matching opening delimiters.\nNodeProp.openedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// Used to assign node types to groups (for example, all node\n/// types that represent an expression could be tagged with an\n/// `\"Expression\"` group).\nNodeProp.group = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The hash of the [context](#lr.ContextTracker.constructor)\n/// that the node was parsed in, if any. Used to limit reuse of\n/// contextual nodes.\nNodeProp.contextHash = new NodeProp({ perNode: true });\n/// The distance beyond the end of the node that the tokenizer\n/// looked ahead for any of the tokens inside the node. (The LR\n/// parser only stores this when it is larger than 25, for\n/// efficiency reasons.)\nNodeProp.lookAhead = new NodeProp({ perNode: true });\n/// This per-node prop is used to replace a given node, or part of a\n/// node, with another tree. This is useful to include trees from\n/// different languages.\nNodeProp.mounted = new NodeProp({ perNode: true });\n/// A mounted tree, which can be [stored](#common.NodeProp^mounted) on\n/// a tree node to indicate that parts of its content are\n/// represented by another tree.\nclass MountedTree {\n    constructor(\n    /// The inner tree.\n    tree, \n    /// If this is null, this tree replaces the entire node (it will\n    /// be included in the regular iteration instead of its host\n    /// node). If not, only the given ranges are considered to be\n    /// covered by this tree. This is used for trees that are mixed in\n    /// a way that isn't strictly hierarchical. Such mounted trees are\n    /// only entered by [`resolveInner`](#common.Tree.resolveInner)\n    /// and [`enter`](#common.SyntaxNode.enter).\n    overlay, \n    /// The parser used to create this subtree.\n    parser) {\n        this.tree = tree;\n        this.overlay = overlay;\n        this.parser = parser;\n    }\n}\nconst noProps = Object.create(null);\n/// Each node in a syntax tree has a node type associated with it.\nclass NodeType {\n    /// @internal\n    constructor(\n    /// The name of the node type. Not necessarily unique, but if the\n    /// grammar was written properly, different node types with the\n    /// same name within a node set should play the same semantic\n    /// role.\n    name, \n    /// @internal\n    props, \n    /// The id of this node in its set. Corresponds to the term ids\n    /// used in the parser.\n    id, \n    /// @internal\n    flags = 0) {\n        this.name = name;\n        this.props = props;\n        this.id = id;\n        this.flags = flags;\n    }\n    static define(spec) {\n        let props = spec.props && spec.props.length ? Object.create(null) : noProps;\n        let flags = (spec.top ? 1 /* Top */ : 0) | (spec.skipped ? 2 /* Skipped */ : 0) |\n            (spec.error ? 4 /* Error */ : 0) | (spec.name == null ? 8 /* Anonymous */ : 0);\n        let type = new NodeType(spec.name || \"\", props, spec.id, flags);\n        if (spec.props)\n            for (let src of spec.props) {\n                if (!Array.isArray(src))\n                    src = src(type);\n                if (src) {\n                    if (src[0].perNode)\n                        throw new RangeError(\"Can't store a per-node prop on a node type\");\n                    props[src[0].id] = src[1];\n                }\n            }\n        return type;\n    }\n    /// Retrieves a node prop for this type. Will return `undefined` if\n    /// the prop isn't present on this node.\n    prop(prop) { return this.props[prop.id]; }\n    /// True when this is the top node of a grammar.\n    get isTop() { return (this.flags & 1 /* Top */) > 0; }\n    /// True when this node is produced by a skip rule.\n    get isSkipped() { return (this.flags & 2 /* Skipped */) > 0; }\n    /// Indicates whether this is an error node.\n    get isError() { return (this.flags & 4 /* Error */) > 0; }\n    /// When true, this node type doesn't correspond to a user-declared\n    /// named node, for example because it is used to cache repetition.\n    get isAnonymous() { return (this.flags & 8 /* Anonymous */) > 0; }\n    /// Returns true when this node's name or one of its\n    /// [groups](#common.NodeProp^group) matches the given string.\n    is(name) {\n        if (typeof name == 'string') {\n            if (this.name == name)\n                return true;\n            let group = this.prop(NodeProp.group);\n            return group ? group.indexOf(name) > -1 : false;\n        }\n        return this.id == name;\n    }\n    /// Create a function from node types to arbitrary values by\n    /// specifying an object whose property names are node or\n    /// [group](#common.NodeProp^group) names. Often useful with\n    /// [`NodeProp.add`](#common.NodeProp.add). You can put multiple\n    /// names, separated by spaces, in a single property name to map\n    /// multiple node names to a single value.\n    static match(map) {\n        let direct = Object.create(null);\n        for (let prop in map)\n            for (let name of prop.split(\" \"))\n                direct[name] = map[prop];\n        return (node) => {\n            for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {\n                let found = direct[i < 0 ? node.name : groups[i]];\n                if (found)\n                    return found;\n            }\n        };\n    }\n}\n/// An empty dummy node type to use when no actual type is available.\nNodeType.none = new NodeType(\"\", Object.create(null), 0, 8 /* Anonymous */);\n/// A node set holds a collection of node types. It is used to\n/// compactly represent trees by storing their type ids, rather than a\n/// full pointer to the type object, in a numeric array. Each parser\n/// [has](#lr.LRParser.nodeSet) a node set, and [tree\n/// buffers](#common.TreeBuffer) can only store collections of nodes\n/// from the same set. A set can have a maximum of 2**16 (65536) node\n/// types in it, so that the ids fit into 16-bit typed array slots.\nclass NodeSet {\n    /// Create a set with the given types. The `id` property of each\n    /// type should correspond to its position within the array.\n    constructor(\n    /// The node types in this set, by id.\n    types) {\n        this.types = types;\n        for (let i = 0; i < types.length; i++)\n            if (types[i].id != i)\n                throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\");\n    }\n    /// Create a copy of this set with some node properties added. The\n    /// arguments to this method should be created with\n    /// [`NodeProp.add`](#common.NodeProp.add).\n    extend(...props) {\n        let newTypes = [];\n        for (let type of this.types) {\n            let newProps = null;\n            for (let source of props) {\n                let add = source(type);\n                if (add) {\n                    if (!newProps)\n                        newProps = Object.assign({}, type.props);\n                    newProps[add[0].id] = add[1];\n                }\n            }\n            newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);\n        }\n        return new NodeSet(newTypes);\n    }\n}\nconst CachedNode = new WeakMap();\n/// A piece of syntax tree. There are two ways to approach these\n/// trees: the way they are actually stored in memory, and the\n/// convenient way.\n///\n/// Syntax trees are stored as a tree of `Tree` and `TreeBuffer`\n/// objects. By packing detail information into `TreeBuffer` leaf\n/// nodes, the representation is made a lot more memory-efficient.\n///\n/// However, when you want to actually work with tree nodes, this\n/// representation is very awkward, so most client code will want to\n/// use the [`TreeCursor`](#common.TreeCursor) or\n/// [`SyntaxNode`](#common.SyntaxNode) interface instead, which provides\n/// a view on some part of this data structure, and can be used to\n/// move around to adjacent nodes.\nclass Tree {\n    /// Construct a new tree. See also [`Tree.build`](#common.Tree^build).\n    constructor(\n    /// The type of the top node.\n    type, \n    /// This node's child nodes.\n    children, \n    /// The positions (offsets relative to the start of this tree) of\n    /// the children.\n    positions, \n    /// The total length of this tree\n    length, \n    /// Per-node [node props](#common.NodeProp) to associate with this node.\n    props) {\n        this.type = type;\n        this.children = children;\n        this.positions = positions;\n        this.length = length;\n        /// @internal\n        this.props = null;\n        if (props && props.length) {\n            this.props = Object.create(null);\n            for (let [prop, value] of props)\n                this.props[typeof prop == \"number\" ? prop : prop.id] = value;\n        }\n    }\n    /// @internal\n    toString() {\n        let mounted = this.prop(NodeProp.mounted);\n        if (mounted && !mounted.overlay)\n            return mounted.tree.toString();\n        let children = \"\";\n        for (let ch of this.children) {\n            let str = ch.toString();\n            if (str) {\n                if (children)\n                    children += \",\";\n                children += str;\n            }\n        }\n        return !this.type.name ? children :\n            (/\\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) +\n                (children.length ? \"(\" + children + \")\" : \"\");\n    }\n    /// Get a [tree cursor](#common.TreeCursor) rooted at this tree. When\n    /// `pos` is given, the cursor is [moved](#common.TreeCursor.moveTo)\n    /// to the given position and side.\n    cursor(pos, side = 0) {\n        let scope = (pos != null && CachedNode.get(this)) || this.topNode;\n        let cursor = new TreeCursor(scope);\n        if (pos != null) {\n            cursor.moveTo(pos, side);\n            CachedNode.set(this, cursor._tree);\n        }\n        return cursor;\n    }\n    /// Get a [tree cursor](#common.TreeCursor) that, unlike regular\n    /// cursors, doesn't skip through\n    /// [anonymous](#common.NodeType.isAnonymous) nodes.\n    fullCursor() {\n        return new TreeCursor(this.topNode, 1 /* Full */);\n    }\n    /// Get a [syntax node](#common.SyntaxNode) object for the top of the\n    /// tree.\n    get topNode() {\n        return new TreeNode(this, 0, 0, null);\n    }\n    /// Get the [syntax node](#common.SyntaxNode) at the given position.\n    /// If `side` is -1, this will move into nodes that end at the\n    /// position. If 1, it'll move into nodes that start at the\n    /// position. With 0, it'll only enter nodes that cover the position\n    /// from both sides.\n    resolve(pos, side = 0) {\n        return this.cursor(pos, side).node;\n    }\n    /// Like [`resolve`](#common.Tree.resolve), but will enter\n    /// [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node\n    /// pointing into the innermost overlaid tree at the given position\n    /// (with parent links going through all parent structure, including\n    /// the host trees).\n    resolveInner(pos, side = 0) {\n        let result = this.topNode;\n        for (;;) {\n            let inner = result.enter(pos, side);\n            if (!inner)\n                return result;\n            result = inner;\n        }\n    }\n    /// Iterate over the tree and its children, calling `enter` for any\n    /// node that touches the `from`/`to` region (if given) before\n    /// running over such a node's children, and `leave` (if given) when\n    /// leaving the node. When `enter` returns `false`, that node will\n    /// not have its children iterated over (or `leave` called).\n    iterate(spec) {\n        let { enter, leave, from = 0, to = this.length } = spec;\n        for (let c = this.cursor(), get = () => c.node;;) {\n            let mustLeave = false;\n            if (c.from <= to && c.to >= from && (c.type.isAnonymous || enter(c.type, c.from, c.to, get) !== false)) {\n                if (c.firstChild())\n                    continue;\n                if (!c.type.isAnonymous)\n                    mustLeave = true;\n            }\n            for (;;) {\n                if (mustLeave && leave)\n                    leave(c.type, c.from, c.to, get);\n                mustLeave = c.type.isAnonymous;\n                if (c.nextSibling())\n                    break;\n                if (!c.parent())\n                    return;\n                mustLeave = true;\n            }\n        }\n    }\n    /// Get the value of the given [node prop](#common.NodeProp) for this\n    /// node. Works with both per-node and per-type props.\n    prop(prop) {\n        return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : undefined;\n    }\n    /// Returns the node's [per-node props](#common.NodeProp.perNode) in a\n    /// format that can be passed to the [`Tree`](#common.Tree)\n    /// constructor.\n    get propValues() {\n        let result = [];\n        if (this.props)\n            for (let id in this.props)\n                result.push([+id, this.props[id]]);\n        return result;\n    }\n    /// Balance the direct children of this tree, producing a copy of\n    /// which may have children grouped into subtrees with type\n    /// [`NodeType.none`](#common.NodeType^none).\n    balance(config = {}) {\n        return this.children.length <= 8 /* BranchFactor */ ? this :\n            balanceRange(this.type, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new Tree(this.type, children, positions, length, this.propValues), config.makeTree || ((children, positions, length) => new Tree(NodeType.none, children, positions, length)));\n    }\n    /// Build a tree from a postfix-ordered buffer of node information,\n    /// or a cursor over such a buffer.\n    static build(data) { return buildTree(data); }\n}\n/// The empty tree\nTree.empty = new Tree(NodeType.none, [], [], 0);\nclass FlatBufferCursor {\n    constructor(buffer, index) {\n        this.buffer = buffer;\n        this.index = index;\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    get pos() { return this.index; }\n    next() { this.index -= 4; }\n    fork() { return new FlatBufferCursor(this.buffer, this.index); }\n}\n/// Tree buffers contain (type, start, end, endIndex) quads for each\n/// node. In such a buffer, nodes are stored in prefix order (parents\n/// before children, with the endIndex of the parent indicating which\n/// children belong to it)\nclass TreeBuffer {\n    /// Create a tree buffer.\n    constructor(\n    /// The buffer's content.\n    buffer, \n    /// The total length of the group of nodes in the buffer.\n    length, \n    /// The node set used in this buffer.\n    set) {\n        this.buffer = buffer;\n        this.length = length;\n        this.set = set;\n    }\n    /// @internal\n    get type() { return NodeType.none; }\n    /// @internal\n    toString() {\n        let result = [];\n        for (let index = 0; index < this.buffer.length;) {\n            result.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result.join(\",\");\n    }\n    /// @internal\n    childString(index) {\n        let id = this.buffer[index], endIndex = this.buffer[index + 3];\n        let type = this.set.types[id], result = type.name;\n        if (/\\W/.test(result) && !type.isError)\n            result = JSON.stringify(result);\n        index += 4;\n        if (endIndex == index)\n            return result;\n        let children = [];\n        while (index < endIndex) {\n            children.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result + \"(\" + children.join(\",\") + \")\";\n    }\n    /// @internal\n    findChild(startIndex, endIndex, dir, pos, side) {\n        let { buffer } = this, pick = -1;\n        for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {\n            if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {\n                pick = i;\n                if (dir > 0)\n                    break;\n            }\n        }\n        return pick;\n    }\n    /// @internal\n    slice(startI, endI, from, to) {\n        let b = this.buffer;\n        let copy = new Uint16Array(endI - startI);\n        for (let i = startI, j = 0; i < endI;) {\n            copy[j++] = b[i++];\n            copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - startI;\n        }\n        return new TreeBuffer(copy, to - from, this.set);\n    }\n}\nfunction checkSide(side, pos, from, to) {\n    switch (side) {\n        case -2 /* Before */: return from < pos;\n        case -1 /* AtOrBefore */: return to >= pos && from < pos;\n        case 0 /* Around */: return from < pos && to > pos;\n        case 1 /* AtOrAfter */: return from <= pos && to > pos;\n        case 2 /* After */: return to > pos;\n        case 4 /* DontCare */: return true;\n    }\n}\nfunction enterUnfinishedNodesBefore(node, pos) {\n    let scan = node.childBefore(pos);\n    while (scan) {\n        let last = scan.lastChild;\n        if (!last || last.to != scan.to)\n            break;\n        if (last.type.isError && last.from == last.to) {\n            node = scan;\n            scan = last.prevSibling;\n        }\n        else {\n            scan = last;\n        }\n    }\n    return node;\n}\nclass TreeNode {\n    constructor(node, _from, \n    // Index in parent node, set to -1 if the node is not a direct child of _parent.node (overlay)\n    index, _parent) {\n        this.node = node;\n        this._from = _from;\n        this.index = index;\n        this._parent = _parent;\n    }\n    get type() { return this.node.type; }\n    get name() { return this.node.type.name; }\n    get from() { return this._from; }\n    get to() { return this._from + this.node.length; }\n    nextChild(i, dir, pos, side, mode = 0) {\n        for (let parent = this;;) {\n            for (let { children, positions } = parent.node, e = dir > 0 ? children.length : -1; i != e; i += dir) {\n                let next = children[i], start = positions[i] + parent._from;\n                if (!checkSide(side, pos, start, start + next.length))\n                    continue;\n                if (next instanceof TreeBuffer) {\n                    if (mode & 2 /* NoEnterBuffer */)\n                        continue;\n                    let index = next.findChild(0, next.buffer.length, dir, pos - start, side);\n                    if (index > -1)\n                        return new BufferNode(new BufferContext(parent, next, i, start), null, index);\n                }\n                else if ((mode & 1 /* Full */) || (!next.type.isAnonymous || hasChild(next))) {\n                    let mounted;\n                    if (next.props && (mounted = next.prop(NodeProp.mounted)) && !mounted.overlay)\n                        return new TreeNode(mounted.tree, start, i, parent);\n                    let inner = new TreeNode(next, start, i, parent);\n                    return (mode & 1 /* Full */) || !inner.type.isAnonymous ? inner\n                        : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);\n                }\n            }\n            if ((mode & 1 /* Full */) || !parent.type.isAnonymous)\n                return null;\n            if (parent.index >= 0)\n                i = parent.index + dir;\n            else\n                i = dir < 0 ? -1 : parent._parent.node.children.length;\n            parent = parent._parent;\n            if (!parent)\n                return null;\n        }\n    }\n    get firstChild() { return this.nextChild(0, 1, 0, 4 /* DontCare */); }\n    get lastChild() { return this.nextChild(this.node.children.length - 1, -1, 0, 4 /* DontCare */); }\n    childAfter(pos) { return this.nextChild(0, 1, pos, 2 /* After */); }\n    childBefore(pos) { return this.nextChild(this.node.children.length - 1, -1, pos, -2 /* Before */); }\n    enter(pos, side, overlays = true, buffers = true) {\n        let mounted;\n        if (overlays && (mounted = this.node.prop(NodeProp.mounted)) && mounted.overlay) {\n            let rPos = pos - this.from;\n            for (let { from, to } of mounted.overlay) {\n                if ((side > 0 ? from <= rPos : from < rPos) &&\n                    (side < 0 ? to >= rPos : to > rPos))\n                    return new TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);\n            }\n        }\n        return this.nextChild(0, 1, pos, side, buffers ? 0 : 2 /* NoEnterBuffer */);\n    }\n    nextSignificantParent() {\n        let val = this;\n        while (val.type.isAnonymous && val._parent)\n            val = val._parent;\n        return val;\n    }\n    get parent() {\n        return this._parent ? this._parent.nextSignificantParent() : null;\n    }\n    get nextSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4 /* DontCare */) : null;\n    }\n    get prevSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4 /* DontCare */) : null;\n    }\n    get cursor() { return new TreeCursor(this); }\n    get tree() { return this.node; }\n    toTree() { return this.node; }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n    /// @internal\n    toString() { return this.node.toString(); }\n}\nfunction getChildren(node, type, before, after) {\n    let cur = node.cursor, result = [];\n    if (!cur.firstChild())\n        return result;\n    if (before != null)\n        while (!cur.type.is(before))\n            if (!cur.nextSibling())\n                return result;\n    for (;;) {\n        if (after != null && cur.type.is(after))\n            return result;\n        if (cur.type.is(type))\n            result.push(cur.node);\n        if (!cur.nextSibling())\n            return after == null ? result : [];\n    }\n}\nclass BufferContext {\n    constructor(parent, buffer, index, start) {\n        this.parent = parent;\n        this.buffer = buffer;\n        this.index = index;\n        this.start = start;\n    }\n}\nclass BufferNode {\n    constructor(context, _parent, index) {\n        this.context = context;\n        this._parent = _parent;\n        this.index = index;\n        this.type = context.buffer.set.types[context.buffer.buffer[index]];\n    }\n    get name() { return this.type.name; }\n    get from() { return this.context.start + this.context.buffer.buffer[this.index + 1]; }\n    get to() { return this.context.start + this.context.buffer.buffer[this.index + 2]; }\n    child(dir, pos, side) {\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get firstChild() { return this.child(1, 0, 4 /* DontCare */); }\n    get lastChild() { return this.child(-1, 0, 4 /* DontCare */); }\n    childAfter(pos) { return this.child(1, pos, 2 /* After */); }\n    childBefore(pos) { return this.child(-1, pos, -2 /* Before */); }\n    enter(pos, side, overlays, buffers = true) {\n        if (!buffers)\n            return null;\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get parent() {\n        return this._parent || this.context.parent.nextSignificantParent();\n    }\n    externalSibling(dir) {\n        return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, 0, 4 /* DontCare */);\n    }\n    get nextSibling() {\n        let { buffer } = this.context;\n        let after = buffer.buffer[this.index + 3];\n        if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))\n            return new BufferNode(this.context, this._parent, after);\n        return this.externalSibling(1);\n    }\n    get prevSibling() {\n        let { buffer } = this.context;\n        let parentStart = this._parent ? this._parent.index + 4 : 0;\n        if (this.index == parentStart)\n            return this.externalSibling(-1);\n        return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, 0, 4 /* DontCare */));\n    }\n    get cursor() { return new TreeCursor(this); }\n    get tree() { return null; }\n    toTree() {\n        let children = [], positions = [];\n        let { buffer } = this.context;\n        let startI = this.index + 4, endI = buffer.buffer[this.index + 3];\n        if (endI > startI) {\n            let from = buffer.buffer[this.index + 1], to = buffer.buffer[this.index + 2];\n            children.push(buffer.slice(startI, endI, from, to));\n            positions.push(0);\n        }\n        return new Tree(this.type, children, positions, this.to - this.from);\n    }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    /// @internal\n    toString() { return this.context.buffer.childString(this.index); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n}\n/// A tree cursor object focuses on a given node in a syntax tree, and\n/// allows you to move to adjacent nodes.\nclass TreeCursor {\n    /// @internal\n    constructor(node, \n    /// @internal\n    mode = 0) {\n        this.mode = mode;\n        this.buffer = null;\n        this.stack = [];\n        this.index = 0;\n        this.bufferNode = null;\n        if (node instanceof TreeNode) {\n            this.yieldNode(node);\n        }\n        else {\n            this._tree = node.context.parent;\n            this.buffer = node.context;\n            for (let n = node._parent; n; n = n._parent)\n                this.stack.unshift(n.index);\n            this.bufferNode = node;\n            this.yieldBuf(node.index);\n        }\n    }\n    /// Shorthand for `.type.name`.\n    get name() { return this.type.name; }\n    yieldNode(node) {\n        if (!node)\n            return false;\n        this._tree = node;\n        this.type = node.type;\n        this.from = node.from;\n        this.to = node.to;\n        return true;\n    }\n    yieldBuf(index, type) {\n        this.index = index;\n        let { start, buffer } = this.buffer;\n        this.type = type || buffer.set.types[buffer.buffer[index]];\n        this.from = start + buffer.buffer[index + 1];\n        this.to = start + buffer.buffer[index + 2];\n        return true;\n    }\n    yield(node) {\n        if (!node)\n            return false;\n        if (node instanceof TreeNode) {\n            this.buffer = null;\n            return this.yieldNode(node);\n        }\n        this.buffer = node.context;\n        return this.yieldBuf(node.index, node.type);\n    }\n    /// @internal\n    toString() {\n        return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();\n    }\n    /// @internal\n    enterChild(dir, pos, side) {\n        if (!this.buffer)\n            return this.yield(this._tree.nextChild(dir < 0 ? this._tree.node.children.length - 1 : 0, dir, pos, side, this.mode));\n        let { buffer } = this.buffer;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);\n        if (index < 0)\n            return false;\n        this.stack.push(this.index);\n        return this.yieldBuf(index);\n    }\n    /// Move the cursor to this node's first child. When this returns\n    /// false, the node has no child, and the cursor has not been moved.\n    firstChild() { return this.enterChild(1, 0, 4 /* DontCare */); }\n    /// Move the cursor to this node's last child.\n    lastChild() { return this.enterChild(-1, 0, 4 /* DontCare */); }\n    /// Move the cursor to the first child that ends after `pos`.\n    childAfter(pos) { return this.enterChild(1, pos, 2 /* After */); }\n    /// Move to the last child that starts before `pos`.\n    childBefore(pos) { return this.enterChild(-1, pos, -2 /* Before */); }\n    /// Move the cursor to the child around `pos`. If side is -1 the\n    /// child may end at that position, when 1 it may start there. This\n    /// will also enter [overlaid](#common.MountedTree.overlay)\n    /// [mounted](#common.NodeProp^mounted) trees unless `overlays` is\n    /// set to false.\n    enter(pos, side, overlays = true, buffers = true) {\n        if (!this.buffer)\n            return this.yield(this._tree.enter(pos, side, overlays, buffers));\n        return buffers ? this.enterChild(1, pos, side) : false;\n    }\n    /// Move the node's parent node, if this isn't the top node.\n    parent() {\n        if (!this.buffer)\n            return this.yieldNode((this.mode & 1 /* Full */) ? this._tree._parent : this._tree.parent);\n        if (this.stack.length)\n            return this.yieldBuf(this.stack.pop());\n        let parent = (this.mode & 1 /* Full */) ? this.buffer.parent : this.buffer.parent.nextSignificantParent();\n        this.buffer = null;\n        return this.yieldNode(parent);\n    }\n    /// @internal\n    sibling(dir) {\n        if (!this.buffer)\n            return !this._tree._parent ? false\n                : this.yield(this._tree.index < 0 ? null\n                    : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4 /* DontCare */, this.mode));\n        let { buffer } = this.buffer, d = this.stack.length - 1;\n        if (dir < 0) {\n            let parentStart = d < 0 ? 0 : this.stack[d] + 4;\n            if (this.index != parentStart)\n                return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, 0, 4 /* DontCare */));\n        }\n        else {\n            let after = buffer.buffer[this.index + 3];\n            if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))\n                return this.yieldBuf(after);\n        }\n        return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4 /* DontCare */, this.mode)) : false;\n    }\n    /// Move to this node's next sibling, if any.\n    nextSibling() { return this.sibling(1); }\n    /// Move to this node's previous sibling, if any.\n    prevSibling() { return this.sibling(-1); }\n    atLastNode(dir) {\n        let index, parent, { buffer } = this;\n        if (buffer) {\n            if (dir > 0) {\n                if (this.index < buffer.buffer.buffer.length)\n                    return false;\n            }\n            else {\n                for (let i = 0; i < this.index; i++)\n                    if (buffer.buffer.buffer[i + 3] < this.index)\n                        return false;\n            }\n            ({ index, parent } = buffer);\n        }\n        else {\n            ({ index, _parent: parent } = this._tree);\n        }\n        for (; parent; { index, _parent: parent } = parent) {\n            if (index > -1)\n                for (let i = index + dir, e = dir < 0 ? -1 : parent.node.children.length; i != e; i += dir) {\n                    let child = parent.node.children[i];\n                    if ((this.mode & 1 /* Full */) || child instanceof TreeBuffer || !child.type.isAnonymous || hasChild(child))\n                        return false;\n                }\n        }\n        return true;\n    }\n    move(dir, enter) {\n        if (enter && this.enterChild(dir, 0, 4 /* DontCare */))\n            return true;\n        for (;;) {\n            if (this.sibling(dir))\n                return true;\n            if (this.atLastNode(dir) || !this.parent())\n                return false;\n        }\n    }\n    /// Move to the next node in a\n    /// [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order_(NLR))\n    /// traversal, going from a node to its first child or, if the\n    /// current node is empty or `enter` is false, its next sibling or\n    /// the next sibling of the first parent node that has one.\n    next(enter = true) { return this.move(1, enter); }\n    /// Move to the next node in a last-to-first pre-order traveral. A\n    /// node is followed by its last child or, if it has none, its\n    /// previous sibling or the previous sibling of the first parent\n    /// node that has one.\n    prev(enter = true) { return this.move(-1, enter); }\n    /// Move the cursor to the innermost node that covers `pos`. If\n    /// `side` is -1, it will enter nodes that end at `pos`. If it is 1,\n    /// it will enter nodes that start at `pos`.\n    moveTo(pos, side = 0) {\n        // Move up to a node that actually holds the position, if possible\n        while (this.from == this.to ||\n            (side < 1 ? this.from >= pos : this.from > pos) ||\n            (side > -1 ? this.to <= pos : this.to < pos))\n            if (!this.parent())\n                break;\n        // Then scan down into child nodes as far as possible\n        while (this.enterChild(1, pos, side)) { }\n        return this;\n    }\n    /// Get a [syntax node](#common.SyntaxNode) at the cursor's current\n    /// position.\n    get node() {\n        if (!this.buffer)\n            return this._tree;\n        let cache = this.bufferNode, result = null, depth = 0;\n        if (cache && cache.context == this.buffer) {\n            scan: for (let index = this.index, d = this.stack.length; d >= 0;) {\n                for (let c = cache; c; c = c._parent)\n                    if (c.index == index) {\n                        if (index == this.index)\n                            return c;\n                        result = c;\n                        depth = d + 1;\n                        break scan;\n                    }\n                index = this.stack[--d];\n            }\n        }\n        for (let i = depth; i < this.stack.length; i++)\n            result = new BufferNode(this.buffer, result, this.stack[i]);\n        return this.bufferNode = new BufferNode(this.buffer, result, this.index);\n    }\n    /// Get the [tree](#common.Tree) that represents the current node, if\n    /// any. Will return null when the node is in a [tree\n    /// buffer](#common.TreeBuffer).\n    get tree() {\n        return this.buffer ? null : this._tree.node;\n    }\n}\nfunction hasChild(tree) {\n    return tree.children.some(ch => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));\n}\nfunction buildTree(data) {\n    var _a;\n    let { buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;\n    let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;\n    let types = nodeSet.types;\n    let contextHash = 0, lookAhead = 0;\n    function takeNode(parentStart, minPos, children, positions, inRepeat) {\n        let { id, start, end, size } = cursor;\n        let lookAheadAtStart = lookAhead;\n        while (size < 0) {\n            cursor.next();\n            if (size == -1 /* Reuse */) {\n                let node = reused[id];\n                children.push(node);\n                positions.push(start - parentStart);\n                return;\n            }\n            else if (size == -3 /* ContextChange */) { // Context change\n                contextHash = id;\n                return;\n            }\n            else if (size == -4 /* LookAhead */) {\n                lookAhead = id;\n                return;\n            }\n            else {\n                throw new RangeError(`Unrecognized record size: ${size}`);\n            }\n        }\n        let type = types[id], node, buffer;\n        let startPos = start - parentStart;\n        if (end - start <= maxBufferLength && (buffer = findBufferSize(cursor.pos - minPos, inRepeat))) {\n            // Small enough for a buffer, and no reused nodes inside\n            let data = new Uint16Array(buffer.size - buffer.skip);\n            let endPos = cursor.pos - buffer.size, index = data.length;\n            while (cursor.pos > endPos)\n                index = copyToBuffer(buffer.start, data, index);\n            node = new TreeBuffer(data, end - buffer.start, nodeSet);\n            startPos = buffer.start - parentStart;\n        }\n        else { // Make it a node\n            let endPos = cursor.pos - size;\n            cursor.next();\n            let localChildren = [], localPositions = [];\n            let localInRepeat = id >= minRepeatType ? id : -1;\n            let lastGroup = 0, lastEnd = end;\n            while (cursor.pos > endPos) {\n                if (localInRepeat >= 0 && cursor.id == localInRepeat && cursor.size >= 0) {\n                    if (cursor.end <= lastEnd - maxBufferLength) {\n                        makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor.end, lastEnd, localInRepeat, lookAheadAtStart);\n                        lastGroup = localChildren.length;\n                        lastEnd = cursor.end;\n                    }\n                    cursor.next();\n                }\n                else {\n                    takeNode(start, endPos, localChildren, localPositions, localInRepeat);\n                }\n            }\n            if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)\n                makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart);\n            localChildren.reverse();\n            localPositions.reverse();\n            if (localInRepeat > -1 && lastGroup > 0) {\n                let make = makeBalanced(type);\n                node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);\n            }\n            else {\n                node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end);\n            }\n        }\n        children.push(node);\n        positions.push(startPos);\n    }\n    function makeBalanced(type) {\n        return (children, positions, length) => {\n            let lookAhead = 0, lastI = children.length - 1, last, lookAheadProp;\n            if (lastI >= 0 && (last = children[lastI]) instanceof Tree) {\n                if (!lastI && last.type == type && last.length == length)\n                    return last;\n                if (lookAheadProp = last.prop(NodeProp.lookAhead))\n                    lookAhead = positions[lastI] + last.length + lookAheadProp;\n            }\n            return makeTree(type, children, positions, length, lookAhead);\n        };\n    }\n    function makeRepeatLeaf(children, positions, base, i, from, to, type, lookAhead) {\n        let localChildren = [], localPositions = [];\n        while (children.length > i) {\n            localChildren.push(children.pop());\n            localPositions.push(positions.pop() + base - from);\n        }\n        children.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from, lookAhead - to));\n        positions.push(from - base);\n    }\n    function makeTree(type, children, positions, length, lookAhead = 0, props) {\n        if (contextHash) {\n            let pair = [NodeProp.contextHash, contextHash];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        if (lookAhead > 25) {\n            let pair = [NodeProp.lookAhead, lookAhead];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        return new Tree(type, children, positions, length, props);\n    }\n    function findBufferSize(maxSize, inRepeat) {\n        // Scan through the buffer to find previous siblings that fit\n        // together in a TreeBuffer, and don't contain any reused nodes\n        // (which can't be stored in a buffer).\n        // If `inRepeat` is > -1, ignore node boundaries of that type for\n        // nesting, but make sure the end falls either at the start\n        // (`maxSize`) or before such a node.\n        let fork = cursor.fork();\n        let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;\n        let result = { size: 0, start: 0, skip: 0 };\n        scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos;) {\n            let nodeSize = fork.size;\n            // Pretend nested repeat nodes of the same type don't exist\n            if (fork.id == inRepeat && nodeSize >= 0) {\n                // Except that we store the current state as a valid return\n                // value.\n                result.size = size;\n                result.start = start;\n                result.skip = skip;\n                skip += 4;\n                size += 4;\n                fork.next();\n                continue;\n            }\n            let startPos = fork.pos - nodeSize;\n            if (nodeSize < 0 || startPos < minPos || fork.start < minStart)\n                break;\n            let localSkipped = fork.id >= minRepeatType ? 4 : 0;\n            let nodeStart = fork.start;\n            fork.next();\n            while (fork.pos > startPos) {\n                if (fork.size < 0) {\n                    if (fork.size == -3 /* ContextChange */)\n                        localSkipped += 4;\n                    else\n                        break scan;\n                }\n                else if (fork.id >= minRepeatType) {\n                    localSkipped += 4;\n                }\n                fork.next();\n            }\n            start = nodeStart;\n            size += nodeSize;\n            skip += localSkipped;\n        }\n        if (inRepeat < 0 || size == maxSize) {\n            result.size = size;\n            result.start = start;\n            result.skip = skip;\n        }\n        return result.size > 4 ? result : undefined;\n    }\n    function copyToBuffer(bufferStart, buffer, index) {\n        let { id, start, end, size } = cursor;\n        cursor.next();\n        if (size >= 0 && id < minRepeatType) {\n            let startIndex = index;\n            if (size > 4) {\n                let endPos = cursor.pos - (size - 4);\n                while (cursor.pos > endPos)\n                    index = copyToBuffer(bufferStart, buffer, index);\n            }\n            buffer[--index] = startIndex;\n            buffer[--index] = end - bufferStart;\n            buffer[--index] = start - bufferStart;\n            buffer[--index] = id;\n        }\n        else if (size == -3 /* ContextChange */) {\n            contextHash = id;\n        }\n        else if (size == -4 /* LookAhead */) {\n            lookAhead = id;\n        }\n        return index;\n    }\n    let children = [], positions = [];\n    while (cursor.pos > 0)\n        takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1);\n    let length = (_a = data.length) !== null && _a !== void 0 ? _a : (children.length ? positions[0] + children[0].length : 0);\n    return new Tree(types[data.topID], children.reverse(), positions.reverse(), length);\n}\nconst nodeSizeCache = new WeakMap;\nfunction nodeSize(balanceType, node) {\n    if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)\n        return 1;\n    let size = nodeSizeCache.get(node);\n    if (size == null) {\n        size = node.children.reduce((s, ch) => s + nodeSize(balanceType, ch), 1);\n        nodeSizeCache.set(node, size);\n    }\n    return size;\n}\nfunction balanceRange(\n// The type to tag the resulting tree with. Will also be used for\n// internal nodes when it is an anonymous type\ntype, \n// The direct children and their positions\nchildren, positions, \n// The index range in children/positions to use\nfrom, to, \n// The start position of the nodes, relative to their parent.\nstart, \n// Length of the outer node\nlength, \n// Function to build the top node of the balanced tree\nmkTop, \n// Function to build internal nodes for the balanced tree\nmkTree) {\n    let total = 0;\n    for (let i = from; i < to; i++)\n        total += nodeSize(type, children[i]);\n    let maxChild = Math.ceil((total * 1.5) / 8 /* BranchFactor */);\n    let localChildren = [], localPositions = [];\n    function divide(children, positions, from, to, offset) {\n        for (let i = from; i < to;) {\n            let groupFrom = i, groupStart = positions[i], groupSize = nodeSize(type, children[i]);\n            i++;\n            for (; i < to; i++) {\n                let nextSize = nodeSize(type, children[i]);\n                if (groupSize + nextSize >= maxChild)\n                    break;\n                groupSize += nextSize;\n            }\n            if (i == groupFrom + 1) {\n                if (groupSize > maxChild) {\n                    let only = children[groupFrom];\n                    divide(only.children, only.positions, 0, only.children.length, positions[groupFrom] + offset);\n                    continue;\n                }\n                localChildren.push(children[groupFrom]);\n            }\n            else {\n                let length = positions[i - 1] + children[i - 1].length - groupStart;\n                localChildren.push(balanceRange(type, children, positions, groupFrom, i, groupStart, length, null, mkTree));\n            }\n            localPositions.push(groupStart + offset - start);\n        }\n    }\n    divide(children, positions, from, to, 0);\n    return (mkTop || mkTree)(localChildren, localPositions, length);\n}\n\n/// Tree fragments are used during [incremental\n/// parsing](#common.Parser.startParse) to track parts of old trees\n/// that can be reused in a new parse. An array of fragments is used\n/// to track regions of an old tree whose nodes might be reused in new\n/// parses. Use the static\n/// [`applyChanges`](#common.TreeFragment^applyChanges) method to\n/// update fragments for document changes.\nclass TreeFragment {\n    /// Construct a tree fragment.\n    constructor(\n    /// The start of the unchanged range pointed to by this fragment.\n    /// This refers to an offset in the _updated_ document (as opposed\n    /// to the original tree).\n    from, \n    /// The end of the unchanged range.\n    to, \n    /// The tree that this fragment is based on.\n    tree, \n    /// The offset between the fragment's tree and the document that\n    /// this fragment can be used against. Add this when going from\n    /// document to tree positions, subtract it to go from tree to\n    /// document positions.\n    offset, openStart = false, openEnd = false) {\n        this.from = from;\n        this.to = to;\n        this.tree = tree;\n        this.offset = offset;\n        this.open = (openStart ? 1 /* Start */ : 0) | (openEnd ? 2 /* End */ : 0);\n    }\n    /// Whether the start of the fragment represents the start of a\n    /// parse, or the end of a change. (In the second case, it may not\n    /// be safe to reuse some nodes at the start, depending on the\n    /// parsing algorithm.)\n    get openStart() { return (this.open & 1 /* Start */) > 0; }\n    /// Whether the end of the fragment represents the end of a\n    /// full-document parse, or the start of a change.\n    get openEnd() { return (this.open & 2 /* End */) > 0; }\n    /// Create a set of fragments from a freshly parsed tree, or update\n    /// an existing set of fragments by replacing the ones that overlap\n    /// with a tree with content from the new tree. When `partial` is\n    /// true, the parse is treated as incomplete, and the resulting\n    /// fragment has [`openEnd`](#common.TreeFragment.openEnd) set to\n    /// true.\n    static addTree(tree, fragments = [], partial = false) {\n        let result = [new TreeFragment(0, tree.length, tree, 0, false, partial)];\n        for (let f of fragments)\n            if (f.to > tree.length)\n                result.push(f);\n        return result;\n    }\n    /// Apply a set of edits to an array of fragments, removing or\n    /// splitting fragments as necessary to remove edited ranges, and\n    /// adjusting offsets for fragments that moved.\n    static applyChanges(fragments, changes, minGap = 128) {\n        if (!changes.length)\n            return fragments;\n        let result = [];\n        let fI = 1, nextF = fragments.length ? fragments[0] : null;\n        for (let cI = 0, pos = 0, off = 0;; cI++) {\n            let nextC = cI < changes.length ? changes[cI] : null;\n            let nextPos = nextC ? nextC.fromA : 1e9;\n            if (nextPos - pos >= minGap)\n                while (nextF && nextF.from < nextPos) {\n                    let cut = nextF;\n                    if (pos >= cut.from || nextPos <= cut.to || off) {\n                        let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;\n                        cut = fFrom >= fTo ? null : new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);\n                    }\n                    if (cut)\n                        result.push(cut);\n                    if (nextF.to > nextPos)\n                        break;\n                    nextF = fI < fragments.length ? fragments[fI++] : null;\n                }\n            if (!nextC)\n                break;\n            pos = nextC.toA;\n            off = nextC.toA - nextC.toB;\n        }\n        return result;\n    }\n}\n/// A superclass that parsers should extend.\nclass Parser {\n    /// Start a parse, returning a [partial parse](#common.PartialParse)\n    /// object. [`fragments`](#common.TreeFragment) can be passed in to\n    /// make the parse incremental.\n    ///\n    /// By default, the entire input is parsed. You can pass `ranges`,\n    /// which should be a sorted array of non-empty, non-overlapping\n    /// ranges, to parse only those ranges. The tree returned in that\n    /// case will start at `ranges[0].from`.\n    startParse(input, fragments, ranges) {\n        if (typeof input == \"string\")\n            input = new StringInput(input);\n        ranges = !ranges ? [new Range(0, input.length)] : ranges.length ? ranges.map(r => new Range(r.from, r.to)) : [new Range(0, 0)];\n        return this.createParse(input, fragments || [], ranges);\n    }\n    /// Run a full parse, returning the resulting tree.\n    parse(input, fragments, ranges) {\n        let parse = this.startParse(input, fragments, ranges);\n        for (;;) {\n            let done = parse.advance();\n            if (done)\n                return done;\n        }\n    }\n}\nclass StringInput {\n    constructor(string) {\n        this.string = string;\n    }\n    get length() { return this.string.length; }\n    chunk(from) { return this.string.slice(from); }\n    get lineChunks() { return false; }\n    read(from, to) { return this.string.slice(from, to); }\n}\n\n/// Create a parse wrapper that, after the inner parse completes,\n/// scans its tree for mixed language regions with the `nest`\n/// function, runs the resulting [inner parses](#common.NestedParse),\n/// and then [mounts](#common.NodeProp^mounted) their results onto the\n/// tree.\n///\n/// The nesting function is passed a cursor to provide context for a\n/// node, but _should not_ move that cursor, only inspect its\n/// properties and optionally access its\n/// [node object](#common.TreeCursor.node).\nfunction parseMixed(nest) {\n    return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);\n}\nclass InnerParse {\n    constructor(parser, parse, overlay, target) {\n        this.parser = parser;\n        this.parse = parse;\n        this.overlay = overlay;\n        this.target = target;\n    }\n}\nclass ActiveOverlay {\n    constructor(parser, predicate, mounts, index, start, target, prev) {\n        this.parser = parser;\n        this.predicate = predicate;\n        this.mounts = mounts;\n        this.index = index;\n        this.start = start;\n        this.target = target;\n        this.prev = prev;\n        this.depth = 0;\n        this.ranges = [];\n    }\n}\nclass MixedParse {\n    constructor(base, nest, input, fragments, ranges) {\n        this.nest = nest;\n        this.input = input;\n        this.fragments = fragments;\n        this.ranges = ranges;\n        this.inner = [];\n        this.innerDone = 0;\n        this.baseTree = null;\n        this.stoppedAt = null;\n        this.baseParse = base;\n    }\n    advance() {\n        if (this.baseParse) {\n            let done = this.baseParse.advance();\n            if (!done)\n                return null;\n            this.baseParse = null;\n            this.baseTree = done;\n            this.startInner();\n        }\n        if (this.innerDone == this.inner.length)\n            return this.baseTree;\n        let inner = this.inner[this.innerDone], done = inner.parse.advance();\n        if (done) {\n            this.innerDone++;\n            // This is a somewhat dodgy but super helpful hack where we\n            // patch up nodes created by the inner parse (and thus\n            // presumably not aliased anywhere else) to hold the information\n            // about the inner parse.\n            let props = Object.assign(Object.create(null), inner.target.props);\n            props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);\n            inner.target.props = props;\n        }\n        return null;\n    }\n    get parsedPos() {\n        if (this.baseParse)\n            return 0;\n        let next = this.inner[this.innerDone];\n        return next ? next.parse.parsedPos : this.input.length;\n    }\n    stopAt(pos) {\n        this.stoppedAt = pos;\n        if (this.baseParse)\n            this.baseParse.stopAt(pos);\n        else\n            for (let i = this.innerDone; i < this.inner.length; i++)\n                this.inner[i].parse.stopAt(pos);\n    }\n    startInner() {\n        let fragmentCursor = new FragmentCursor(this.fragments);\n        let overlay = null;\n        let covered = null;\n        let cursor = new TreeCursor(new TreeNode(this.baseTree, this.ranges[0].from, 0, null), 1 /* Full */);\n        scan: for (let nest, isCovered;;) {\n            let enter = true, range;\n            if (fragmentCursor.hasNode(cursor)) {\n                if (overlay) {\n                    let match = overlay.mounts.find(m => m.frag.from <= cursor.from && m.frag.to >= cursor.to && m.mount.overlay);\n                    if (match)\n                        for (let r of match.mount.overlay) {\n                            let from = r.from + match.pos, to = r.to + match.pos;\n                            if (from >= cursor.from && to <= cursor.to)\n                                overlay.ranges.push({ from, to });\n                        }\n                }\n                enter = false;\n            }\n            else if (covered && (isCovered = checkCover(covered.ranges, cursor.from, cursor.to))) {\n                enter = isCovered != 2 /* Full */;\n            }\n            else if (!cursor.type.isAnonymous && cursor.from < cursor.to && (nest = this.nest(cursor, this.input))) {\n                if (!cursor.tree)\n                    materialize(cursor);\n                let oldMounts = fragmentCursor.findMounts(cursor.from, nest.parser);\n                if (typeof nest.overlay == \"function\") {\n                    overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor.from, cursor.tree, overlay);\n                }\n                else {\n                    let ranges = punchRanges(this.ranges, nest.overlay || [new Range(cursor.from, cursor.to)]);\n                    if (ranges.length)\n                        this.inner.push(new InnerParse(nest.parser, nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges), nest.overlay ? nest.overlay.map(r => new Range(r.from - cursor.from, r.to - cursor.from)) : null, cursor.tree));\n                    if (!nest.overlay)\n                        enter = false;\n                    else if (ranges.length)\n                        covered = { ranges, depth: 0, prev: covered };\n                }\n            }\n            else if (overlay && (range = overlay.predicate(cursor))) {\n                if (range === true)\n                    range = new Range(cursor.from, cursor.to);\n                if (range.from < range.to)\n                    overlay.ranges.push(range);\n            }\n            if (enter && cursor.firstChild()) {\n                if (overlay)\n                    overlay.depth++;\n                if (covered)\n                    covered.depth++;\n            }\n            else {\n                for (;;) {\n                    if (cursor.nextSibling())\n                        break;\n                    if (!cursor.parent())\n                        break scan;\n                    if (overlay && !--overlay.depth) {\n                        let ranges = punchRanges(this.ranges, overlay.ranges);\n                        if (ranges.length)\n                            this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map(r => new Range(r.from - overlay.start, r.to - overlay.start)), overlay.target));\n                        overlay = overlay.prev;\n                    }\n                    if (covered && !--covered.depth)\n                        covered = covered.prev;\n                }\n            }\n        }\n    }\n}\nfunction checkCover(covered, from, to) {\n    for (let range of covered) {\n        if (range.from >= to)\n            break;\n        if (range.to > from)\n            return range.from <= from && range.to >= to ? 2 /* Full */ : 1 /* Partial */;\n    }\n    return 0 /* None */;\n}\n// Take a piece of buffer and convert it into a stand-alone\n// TreeBuffer.\nfunction sliceBuf(buf, startI, endI, nodes, positions, off) {\n    if (startI < endI) {\n        let from = buf.buffer[startI + 1], to = buf.buffer[endI - 2];\n        nodes.push(buf.slice(startI, endI, from, to));\n        positions.push(from - off);\n    }\n}\n// This function takes a node that's in a buffer, and converts it, and\n// its parent buffer nodes, into a Tree. This is again acting on the\n// assumption that the trees and buffers have been constructed by the\n// parse that was ran via the mix parser, and thus aren't shared with\n// any other code, making violations of the immutability safe.\nfunction materialize(cursor) {\n    let { node } = cursor, depth = 0;\n    // Scan up to the nearest tree\n    do {\n        cursor.parent();\n        depth++;\n    } while (!cursor.tree);\n    // Find the index of the buffer in that tree\n    let i = 0, base = cursor.tree, off = 0;\n    for (;; i++) {\n        off = base.positions[i] + cursor.from;\n        if (off <= node.from && off + base.children[i].length >= node.to)\n            break;\n    }\n    let buf = base.children[i], b = buf.buffer;\n    // Split a level in the buffer, putting the nodes before and after\n    // the child that contains `node` into new buffers.\n    function split(startI, endI, type, innerOffset) {\n        let i = startI;\n        while (b[i + 2] + off <= node.from)\n            i = b[i + 3];\n        let children = [], positions = [];\n        sliceBuf(buf, startI, i, children, positions, innerOffset);\n        let isTarget = b[i + 1] + off == node.from && b[i + 2] + off == node.to && b[i] == node.type.id;\n        children.push(isTarget ? node.toTree() : split(i + 4, b[i + 3], buf.set.types[b[i]], b[i + 1]));\n        positions.push(b[i + 1] - innerOffset);\n        sliceBuf(buf, b[i + 3], endI, children, positions, innerOffset);\n        let last = children.length - 1;\n        return new Tree(type, children, positions, positions[last] + children[last].length);\n    }\n    base.children[i] = split(0, b.length, NodeType.none, 0);\n    // Move the cursor back to the target node\n    for (let d = 0; d <= depth; d++)\n        cursor.childAfter(node.from);\n}\nclass StructureCursor {\n    constructor(root, offset) {\n        this.offset = offset;\n        this.done = false;\n        this.cursor = root.fullCursor();\n    }\n    // Move to the first node (in pre-order) that starts at or after `pos`.\n    moveTo(pos) {\n        let { cursor } = this, p = pos - this.offset;\n        while (!this.done && cursor.from < p) {\n            if (cursor.to >= pos && cursor.enter(p, 1, false, false)) ;\n            else if (!cursor.next(false))\n                this.done = true;\n        }\n    }\n    hasNode(cursor) {\n        this.moveTo(cursor.from);\n        if (!this.done && this.cursor.from + this.offset == cursor.from && this.cursor.tree) {\n            for (let tree = this.cursor.tree;;) {\n                if (tree == cursor.tree)\n                    return true;\n                if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)\n                    tree = tree.children[0];\n                else\n                    break;\n            }\n        }\n        return false;\n    }\n}\nclass FragmentCursor {\n    constructor(fragments) {\n        this.fragments = fragments;\n        this.fragI = 0;\n        if (fragments.length) {\n            let first = this.curFrag = fragments[0];\n            this.inner = new StructureCursor(first.tree, -first.offset);\n        }\n        else {\n            this.curFrag = this.inner = null;\n        }\n    }\n    hasNode(node) {\n        while (this.curFrag && node.from >= this.curFrag.to)\n            this.nextFrag();\n        return this.curFrag && this.curFrag.from <= node.from && this.curFrag.to >= node.to && this.inner.hasNode(node);\n    }\n    nextFrag() {\n        this.fragI++;\n        if (this.fragI == this.fragments.length) {\n            this.curFrag = this.inner = null;\n        }\n        else {\n            let frag = this.curFrag = this.fragments[this.fragI];\n            this.inner = new StructureCursor(frag.tree, -frag.offset);\n        }\n    }\n    findMounts(pos, parser) {\n        var _a;\n        let result = [];\n        if (this.inner) {\n            this.inner.cursor.moveTo(pos, 1);\n            for (let pos = this.inner.cursor.node; pos; pos = pos.parent) {\n                let mount = (_a = pos.tree) === null || _a === void 0 ? void 0 : _a.prop(NodeProp.mounted);\n                if (mount && mount.parser == parser) {\n                    for (let i = this.fragI; i < this.fragments.length; i++) {\n                        let frag = this.fragments[i];\n                        if (frag.from >= pos.to)\n                            break;\n                        if (frag.tree == this.curFrag.tree)\n                            result.push({\n                                frag,\n                                pos: pos.from - frag.offset,\n                                mount\n                            });\n                    }\n                }\n            }\n        }\n        return result;\n    }\n}\nfunction punchRanges(outer, ranges) {\n    let copy = null, current = ranges;\n    for (let i = 1, j = 0; i < outer.length; i++) {\n        let gapFrom = outer[i - 1].to, gapTo = outer[i].from;\n        for (; j < current.length; j++) {\n            let r = current[j];\n            if (r.from >= gapTo)\n                break;\n            if (r.to <= gapFrom)\n                continue;\n            if (!copy)\n                current = copy = ranges.slice();\n            if (r.from < gapFrom) {\n                copy[j] = new Range(r.from, gapFrom);\n                if (r.to > gapTo)\n                    copy.splice(j + 1, 0, new Range(gapTo, r.to));\n            }\n            else if (r.to > gapTo) {\n                copy[j--] = new Range(gapTo, r.to);\n            }\n            else {\n                copy.splice(j--, 1);\n            }\n        }\n    }\n    return current;\n}\nfunction findCoverChanges(a, b, from, to) {\n    let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;\n    let result = [];\n    for (;;) {\n        let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;\n        let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;\n        if (inA != inB) {\n            let start = Math.max(pos, from), end = Math.min(nextA, nextB, to);\n            if (start < end)\n                result.push(new Range(start, end));\n        }\n        pos = Math.min(nextA, nextB);\n        if (pos == 1e9)\n            break;\n        if (nextA == pos) {\n            if (!inA)\n                inA = true;\n            else {\n                inA = false;\n                iA++;\n            }\n        }\n        if (nextB == pos) {\n            if (!inB)\n                inB = true;\n            else {\n                inB = false;\n                iB++;\n            }\n        }\n    }\n    return result;\n}\n// Given a number of fragments for the outer tree, and a set of ranges\n// to parse, find fragments for inner trees mounted around those\n// ranges, if any.\nfunction enterFragments(mounts, ranges) {\n    let result = [];\n    for (let { pos, mount, frag } of mounts) {\n        let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;\n        let from = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);\n        if (mount.overlay) {\n            let overlay = mount.overlay.map(r => new Range(r.from + pos, r.to + pos));\n            let changes = findCoverChanges(ranges, overlay, from, to);\n            for (let i = 0, pos = from;; i++) {\n                let last = i == changes.length, end = last ? to : changes[i].from;\n                if (end > pos)\n                    result.push(new TreeFragment(pos, end, mount.tree, -startPos, frag.from >= pos, frag.to <= end));\n                if (last)\n                    break;\n                pos = changes[i].to;\n            }\n        }\n        else {\n            result.push(new TreeFragment(from, to, mount.tree, -startPos, frag.from >= startPos, frag.to <= endPos));\n        }\n    }\n    return result;\n}\n\nexport { DefaultBufferLength, MountedTree, NodeProp, NodeSet, NodeType, Parser, Tree, TreeBuffer, TreeCursor, TreeFragment, parseMixed };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { Parser, NodeSet, NodeType, DefaultBufferLength, NodeProp, Tree } from '@lezer/common';\n\n/// A parse stack. These are used internally by the parser to track\n/// parsing progress. They also provide some properties and methods\n/// that external code such as a tokenizer can use to get information\n/// about the parse state.\nclass Stack {\n    /// @internal\n    constructor(\n    /// The parse that this stack is part of @internal\n    p, \n    /// Holds state, input pos, buffer index triplets for all but the\n    /// top state @internal\n    stack, \n    /// The current parse state @internal\n    state, \n    // The position at which the next reduce should take place. This\n    // can be less than `this.pos` when skipped expressions have been\n    // added to the stack (which should be moved outside of the next\n    // reduction)\n    /// @internal\n    reducePos, \n    /// The input position up to which this stack has parsed.\n    pos, \n    /// The dynamic score of the stack, including dynamic precedence\n    /// and error-recovery penalties\n    /// @internal\n    score, \n    // The output buffer. Holds (type, start, end, size) quads\n    // representing nodes created by the parser, where `size` is\n    // amount of buffer array entries covered by this node.\n    /// @internal\n    buffer, \n    // The base offset of the buffer. When stacks are split, the split\n    // instance shared the buffer history with its parent up to\n    // `bufferBase`, which is the absolute offset (including the\n    // offset of previous splits) into the buffer at which this stack\n    // starts writing.\n    /// @internal\n    bufferBase, \n    /// @internal\n    curContext, \n    /// @internal\n    lookAhead = 0, \n    // A parent stack from which this was split off, if any. This is\n    // set up so that it always points to a stack that has some\n    // additional buffer content, never to a stack with an equal\n    // `bufferBase`.\n    /// @internal\n    parent) {\n        this.p = p;\n        this.stack = stack;\n        this.state = state;\n        this.reducePos = reducePos;\n        this.pos = pos;\n        this.score = score;\n        this.buffer = buffer;\n        this.bufferBase = bufferBase;\n        this.curContext = curContext;\n        this.lookAhead = lookAhead;\n        this.parent = parent;\n    }\n    /// @internal\n    toString() {\n        return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? \"!\" + this.score : \"\"}`;\n    }\n    // Start an empty stack\n    /// @internal\n    static start(p, state, pos = 0) {\n        let cx = p.parser.context;\n        return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);\n    }\n    /// The stack's current [context](#lr.ContextTracker) value, if\n    /// any. Its type will depend on the context tracker's type\n    /// parameter, or it will be `null` if there is no context\n    /// tracker.\n    get context() { return this.curContext ? this.curContext.context : null; }\n    // Push a state onto the stack, tracking its start position as well\n    // as the buffer base at that point.\n    /// @internal\n    pushState(state, start) {\n        this.stack.push(this.state, start, this.bufferBase + this.buffer.length);\n        this.state = state;\n    }\n    // Apply a reduce action\n    /// @internal\n    reduce(action) {\n        let depth = action >> 19 /* ReduceDepthShift */, type = action & 65535 /* ValueMask */;\n        let { parser } = this.p;\n        let dPrec = parser.dynamicPrecedence(type);\n        if (dPrec)\n            this.score += dPrec;\n        if (depth == 0) {\n            // Zero-depth reductions are a special case—they add stuff to\n            // the stack without popping anything off.\n            if (type < parser.minRepeatTerm)\n                this.storeNode(type, this.reducePos, this.reducePos, 4, true);\n            this.pushState(parser.getGoto(this.state, type, true), this.reducePos);\n            this.reduceContext(type, this.reducePos);\n            return;\n        }\n        // Find the base index into `this.stack`, content after which will\n        // be dropped. Note that with `StayFlag` reductions we need to\n        // consume two extra frames (the dummy parent node for the skipped\n        // expression and the state that we'll be staying in, which should\n        // be moved to `this.state`).\n        let base = this.stack.length - ((depth - 1) * 3) - (action & 262144 /* StayFlag */ ? 6 : 0);\n        let start = this.stack[base - 2];\n        let bufferBase = this.stack[base - 1], count = this.bufferBase + this.buffer.length - bufferBase;\n        // Store normal terms or `R -> R R` repeat reductions\n        if (type < parser.minRepeatTerm || (action & 131072 /* RepeatFlag */)) {\n            let pos = parser.stateFlag(this.state, 1 /* Skipped */) ? this.pos : this.reducePos;\n            this.storeNode(type, start, pos, count + 4, true);\n        }\n        if (action & 262144 /* StayFlag */) {\n            this.state = this.stack[base];\n        }\n        else {\n            let baseStateID = this.stack[base - 3];\n            this.state = parser.getGoto(baseStateID, type, true);\n        }\n        while (this.stack.length > base)\n            this.stack.pop();\n        this.reduceContext(type, start);\n    }\n    // Shift a value into the buffer\n    /// @internal\n    storeNode(term, start, end, size = 4, isReduce = false) {\n        if (term == 0 /* Err */) { // Try to omit/merge adjacent error nodes\n            let cur = this, top = this.buffer.length;\n            if (top == 0 && cur.parent) {\n                top = cur.bufferBase - cur.parent.bufferBase;\n                cur = cur.parent;\n            }\n            if (top > 0 && cur.buffer[top - 4] == 0 /* Err */ && cur.buffer[top - 1] > -1) {\n                if (start == end)\n                    return;\n                if (cur.buffer[top - 2] >= start) {\n                    cur.buffer[top - 2] = end;\n                    return;\n                }\n            }\n        }\n        if (!isReduce || this.pos == end) { // Simple case, just append\n            this.buffer.push(term, start, end, size);\n        }\n        else { // There may be skipped nodes that have to be moved forward\n            let index = this.buffer.length;\n            if (index > 0 && this.buffer[index - 4] != 0 /* Err */)\n                while (index > 0 && this.buffer[index - 2] > end) {\n                    // Move this record forward\n                    this.buffer[index] = this.buffer[index - 4];\n                    this.buffer[index + 1] = this.buffer[index - 3];\n                    this.buffer[index + 2] = this.buffer[index - 2];\n                    this.buffer[index + 3] = this.buffer[index - 1];\n                    index -= 4;\n                    if (size > 4)\n                        size -= 4;\n                }\n            this.buffer[index] = term;\n            this.buffer[index + 1] = start;\n            this.buffer[index + 2] = end;\n            this.buffer[index + 3] = size;\n        }\n    }\n    // Apply a shift action\n    /// @internal\n    shift(action, next, nextEnd) {\n        let start = this.pos;\n        if (action & 131072 /* GotoFlag */) {\n            this.pushState(action & 65535 /* ValueMask */, this.pos);\n        }\n        else if ((action & 262144 /* StayFlag */) == 0) { // Regular shift\n            let nextState = action, { parser } = this.p;\n            if (nextEnd > this.pos || next <= parser.maxNode) {\n                this.pos = nextEnd;\n                if (!parser.stateFlag(nextState, 1 /* Skipped */))\n                    this.reducePos = nextEnd;\n            }\n            this.pushState(nextState, start);\n            this.shiftContext(next, start);\n            if (next <= parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n        else { // Shift-and-stay, which means this is a skipped token\n            this.pos = nextEnd;\n            this.shiftContext(next, start);\n            if (next <= this.p.parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n    }\n    // Apply an action\n    /// @internal\n    apply(action, next, nextEnd) {\n        if (action & 65536 /* ReduceFlag */)\n            this.reduce(action);\n        else\n            this.shift(action, next, nextEnd);\n    }\n    // Add a prebuilt (reused) node into the buffer. @internal\n    useNode(value, next) {\n        let index = this.p.reused.length - 1;\n        if (index < 0 || this.p.reused[index] != value) {\n            this.p.reused.push(value);\n            index++;\n        }\n        let start = this.pos;\n        this.reducePos = this.pos = start + value.length;\n        this.pushState(next, start);\n        this.buffer.push(index, start, this.reducePos, -1 /* size == -1 means this is a reused value */);\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));\n    }\n    // Split the stack. Due to the buffer sharing and the fact\n    // that `this.stack` tends to stay quite shallow, this isn't very\n    // expensive.\n    /// @internal\n    split() {\n        let parent = this;\n        let off = parent.buffer.length;\n        // Because the top of the buffer (after this.pos) may be mutated\n        // to reorder reductions and skipped tokens, and shared buffers\n        // should be immutable, this copies any outstanding skipped tokens\n        // to the new buffer, and puts the base pointer before them.\n        while (off > 0 && parent.buffer[off - 2] > parent.reducePos)\n            off -= 4;\n        let buffer = parent.buffer.slice(off), base = parent.bufferBase + off;\n        // Make sure parent points to an actual parent with content, if there is such a parent.\n        while (parent && base == parent.bufferBase)\n            parent = parent.parent;\n        return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base, this.curContext, this.lookAhead, parent);\n    }\n    // Try to recover from an error by 'deleting' (ignoring) one token.\n    /// @internal\n    recoverByDelete(next, nextEnd) {\n        let isNode = next <= this.p.parser.maxNode;\n        if (isNode)\n            this.storeNode(next, this.pos, nextEnd, 4);\n        this.storeNode(0 /* Err */, this.pos, nextEnd, isNode ? 8 : 4);\n        this.pos = this.reducePos = nextEnd;\n        this.score -= 190 /* Delete */;\n    }\n    /// Check if the given term would be able to be shifted (optionally\n    /// after some reductions) on this stack. This can be useful for\n    /// external tokenizers that want to make sure they only provide a\n    /// given token when it applies.\n    canShift(term) {\n        for (let sim = new SimulatedStack(this);;) {\n            let action = this.p.parser.stateSlot(sim.state, 4 /* DefaultReduce */) || this.p.parser.hasAction(sim.state, term);\n            if ((action & 65536 /* ReduceFlag */) == 0)\n                return true;\n            if (action == 0)\n                return false;\n            sim.reduce(action);\n        }\n    }\n    // Apply up to Recover.MaxNext recovery actions that conceptually\n    // inserts some missing token or rule.\n    /// @internal\n    recoverByInsert(next) {\n        if (this.stack.length >= 300 /* MaxInsertStackDepth */)\n            return [];\n        let nextStates = this.p.parser.nextStates(this.state);\n        if (nextStates.length > 4 /* MaxNext */ << 1 || this.stack.length >= 120 /* DampenInsertStackDepth */) {\n            let best = [];\n            for (let i = 0, s; i < nextStates.length; i += 2) {\n                if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))\n                    best.push(nextStates[i], s);\n            }\n            if (this.stack.length < 120 /* DampenInsertStackDepth */)\n                for (let i = 0; best.length < 4 /* MaxNext */ << 1 && i < nextStates.length; i += 2) {\n                    let s = nextStates[i + 1];\n                    if (!best.some((v, i) => (i & 1) && v == s))\n                        best.push(nextStates[i], s);\n                }\n            nextStates = best;\n        }\n        let result = [];\n        for (let i = 0; i < nextStates.length && result.length < 4 /* MaxNext */; i += 2) {\n            let s = nextStates[i + 1];\n            if (s == this.state)\n                continue;\n            let stack = this.split();\n            stack.storeNode(0 /* Err */, stack.pos, stack.pos, 4, true);\n            stack.pushState(s, this.pos);\n            stack.shiftContext(nextStates[i], this.pos);\n            stack.score -= 200 /* Insert */;\n            result.push(stack);\n        }\n        return result;\n    }\n    // Force a reduce, if possible. Return false if that can't\n    // be done.\n    /// @internal\n    forceReduce() {\n        let reduce = this.p.parser.stateSlot(this.state, 5 /* ForcedReduce */);\n        if ((reduce & 65536 /* ReduceFlag */) == 0)\n            return false;\n        let { parser } = this.p;\n        if (!parser.validAction(this.state, reduce)) {\n            let depth = reduce >> 19 /* ReduceDepthShift */, term = reduce & 65535 /* ValueMask */;\n            let target = this.stack.length - depth * 3;\n            if (target < 0 || parser.getGoto(this.stack[target], term, false) < 0)\n                return false;\n            this.storeNode(0 /* Err */, this.reducePos, this.reducePos, 4, true);\n            this.score -= 100 /* Reduce */;\n        }\n        this.reduce(reduce);\n        return true;\n    }\n    /// @internal\n    forceAll() {\n        while (!this.p.parser.stateFlag(this.state, 2 /* Accepting */) && this.forceReduce()) { }\n        return this;\n    }\n    /// Check whether this state has no further actions (assumed to be a direct descendant of the\n    /// top state, since any other states must be able to continue\n    /// somehow). @internal\n    get deadEnd() {\n        if (this.stack.length != 3)\n            return false;\n        let { parser } = this.p;\n        return parser.data[parser.stateSlot(this.state, 1 /* Actions */)] == 65535 /* End */ &&\n            !parser.stateSlot(this.state, 4 /* DefaultReduce */);\n    }\n    /// Restart the stack (put it back in its start state). Only safe\n    /// when this.stack.length == 3 (state is directly below the top\n    /// state). @internal\n    restart() {\n        this.state = this.stack[0];\n        this.stack.length = 0;\n    }\n    /// @internal\n    sameState(other) {\n        if (this.state != other.state || this.stack.length != other.stack.length)\n            return false;\n        for (let i = 0; i < this.stack.length; i += 3)\n            if (this.stack[i] != other.stack[i])\n                return false;\n        return true;\n    }\n    /// Get the parser used by this stack.\n    get parser() { return this.p.parser; }\n    /// Test whether a given dialect (by numeric ID, as exported from\n    /// the terms file) is enabled.\n    dialectEnabled(dialectID) { return this.p.parser.dialect.flags[dialectID]; }\n    shiftContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    reduceContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    /// @internal\n    emitContext() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -3)\n            this.buffer.push(this.curContext.hash, this.reducePos, this.reducePos, -3);\n    }\n    /// @internal\n    emitLookAhead() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -4)\n            this.buffer.push(this.lookAhead, this.reducePos, this.reducePos, -4);\n    }\n    updateContext(context) {\n        if (context != this.curContext.context) {\n            let newCx = new StackContext(this.curContext.tracker, context);\n            if (newCx.hash != this.curContext.hash)\n                this.emitContext();\n            this.curContext = newCx;\n        }\n    }\n    /// @internal\n    setLookAhead(lookAhead) {\n        if (lookAhead > this.lookAhead) {\n            this.emitLookAhead();\n            this.lookAhead = lookAhead;\n        }\n    }\n    /// @internal\n    close() {\n        if (this.curContext && this.curContext.tracker.strict)\n            this.emitContext();\n        if (this.lookAhead > 0)\n            this.emitLookAhead();\n    }\n}\nclass StackContext {\n    constructor(tracker, context) {\n        this.tracker = tracker;\n        this.context = context;\n        this.hash = tracker.strict ? tracker.hash(context) : 0;\n    }\n}\nvar Recover;\n(function (Recover) {\n    Recover[Recover[\"Insert\"] = 200] = \"Insert\";\n    Recover[Recover[\"Delete\"] = 190] = \"Delete\";\n    Recover[Recover[\"Reduce\"] = 100] = \"Reduce\";\n    Recover[Recover[\"MaxNext\"] = 4] = \"MaxNext\";\n    Recover[Recover[\"MaxInsertStackDepth\"] = 300] = \"MaxInsertStackDepth\";\n    Recover[Recover[\"DampenInsertStackDepth\"] = 120] = \"DampenInsertStackDepth\";\n})(Recover || (Recover = {}));\n// Used to cheaply run some reductions to scan ahead without mutating\n// an entire stack\nclass SimulatedStack {\n    constructor(start) {\n        this.start = start;\n        this.state = start.state;\n        this.stack = start.stack;\n        this.base = this.stack.length;\n    }\n    reduce(action) {\n        let term = action & 65535 /* ValueMask */, depth = action >> 19 /* ReduceDepthShift */;\n        if (depth == 0) {\n            if (this.stack == this.start.stack)\n                this.stack = this.stack.slice();\n            this.stack.push(this.state, 0, 0);\n            this.base += 3;\n        }\n        else {\n            this.base -= (depth - 1) * 3;\n        }\n        let goto = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);\n        this.state = goto;\n    }\n}\n// This is given to `Tree.build` to build a buffer, and encapsulates\n// the parent-stack-walking necessary to read the nodes.\nclass StackBufferCursor {\n    constructor(stack, pos, index) {\n        this.stack = stack;\n        this.pos = pos;\n        this.index = index;\n        this.buffer = stack.buffer;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    static create(stack, pos = stack.bufferBase + stack.buffer.length) {\n        return new StackBufferCursor(stack, pos, pos - stack.bufferBase);\n    }\n    maybeNext() {\n        let next = this.stack.parent;\n        if (next != null) {\n            this.index = this.stack.bufferBase - next.bufferBase;\n            this.stack = next;\n            this.buffer = next.buffer;\n        }\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    next() {\n        this.index -= 4;\n        this.pos -= 4;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    fork() {\n        return new StackBufferCursor(this.stack, this.pos, this.index);\n    }\n}\n\nclass CachedToken {\n    constructor() {\n        this.start = -1;\n        this.value = -1;\n        this.end = -1;\n        this.extended = -1;\n        this.lookAhead = 0;\n        this.mask = 0;\n        this.context = 0;\n    }\n}\nconst nullToken = new CachedToken;\n/// [Tokenizers](#lr.ExternalTokenizer) interact with the input\n/// through this interface. It presents the input as a stream of\n/// characters, tracking lookahead and hiding the complexity of\n/// [ranges](#common.Parser.parse^ranges) from tokenizer code.\nclass InputStream {\n    /// @internal\n    constructor(\n    /// @internal\n    input, \n    /// @internal\n    ranges) {\n        this.input = input;\n        this.ranges = ranges;\n        /// @internal\n        this.chunk = \"\";\n        /// @internal\n        this.chunkOff = 0;\n        /// Backup chunk\n        this.chunk2 = \"\";\n        this.chunk2Pos = 0;\n        /// The character code of the next code unit in the input, or -1\n        /// when the stream is at the end of the input.\n        this.next = -1;\n        /// @internal\n        this.token = nullToken;\n        this.rangeIndex = 0;\n        this.pos = this.chunkPos = ranges[0].from;\n        this.range = ranges[0];\n        this.end = ranges[ranges.length - 1].to;\n        this.readNext();\n    }\n    resolveOffset(offset, assoc) {\n        let range = this.range, index = this.rangeIndex;\n        let pos = this.pos + offset;\n        while (pos < range.from) {\n            if (!index)\n                return null;\n            let next = this.ranges[--index];\n            pos -= range.from - next.to;\n            range = next;\n        }\n        while (assoc < 0 ? pos > range.to : pos >= range.to) {\n            if (index == this.ranges.length - 1)\n                return null;\n            let next = this.ranges[++index];\n            pos += next.from - range.to;\n            range = next;\n        }\n        return pos;\n    }\n    /// Look at a code unit near the stream position. `.peek(0)` equals\n    /// `.next`, `.peek(-1)` gives you the previous character, and so\n    /// on.\n    ///\n    /// Note that looking around during tokenizing creates dependencies\n    /// on potentially far-away content, which may reduce the\n    /// effectiveness incremental parsing—when looking forward—or even\n    /// cause invalid reparses when looking backward more than 25 code\n    /// units, since the library does not track lookbehind.\n    peek(offset) {\n        let idx = this.chunkOff + offset, pos, result;\n        if (idx >= 0 && idx < this.chunk.length) {\n            pos = this.pos + offset;\n            result = this.chunk.charCodeAt(idx);\n        }\n        else {\n            let resolved = this.resolveOffset(offset, 1);\n            if (resolved == null)\n                return -1;\n            pos = resolved;\n            if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {\n                result = this.chunk2.charCodeAt(pos - this.chunk2Pos);\n            }\n            else {\n                let i = this.rangeIndex, range = this.range;\n                while (range.to <= pos)\n                    range = this.ranges[++i];\n                this.chunk2 = this.input.chunk(this.chunk2Pos = pos);\n                if (pos + this.chunk2.length > range.to)\n                    this.chunk2 = this.chunk2.slice(0, range.to - pos);\n                result = this.chunk2.charCodeAt(0);\n            }\n        }\n        if (pos > this.token.lookAhead)\n            this.token.lookAhead = pos;\n        return result;\n    }\n    /// Accept a token. By default, the end of the token is set to the\n    /// current stream position, but you can pass an offset (relative to\n    /// the stream position) to change that.\n    acceptToken(token, endOffset = 0) {\n        let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;\n        if (end == null || end < this.token.start)\n            throw new RangeError(\"Token end out of bounds\");\n        this.token.value = token;\n        this.token.end = end;\n    }\n    getChunk() {\n        if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {\n            let { chunk, chunkPos } = this;\n            this.chunk = this.chunk2;\n            this.chunkPos = this.chunk2Pos;\n            this.chunk2 = chunk;\n            this.chunk2Pos = chunkPos;\n            this.chunkOff = this.pos - this.chunkPos;\n        }\n        else {\n            this.chunk2 = this.chunk;\n            this.chunk2Pos = this.chunkPos;\n            let nextChunk = this.input.chunk(this.pos);\n            let end = this.pos + nextChunk.length;\n            this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;\n            this.chunkPos = this.pos;\n            this.chunkOff = 0;\n        }\n    }\n    readNext() {\n        if (this.chunkOff >= this.chunk.length) {\n            this.getChunk();\n            if (this.chunkOff == this.chunk.length)\n                return this.next = -1;\n        }\n        return this.next = this.chunk.charCodeAt(this.chunkOff);\n    }\n    /// Move the stream forward N (defaults to 1) code units. Returns\n    /// the new value of [`next`](#lr.InputStream.next).\n    advance(n = 1) {\n        this.chunkOff += n;\n        while (this.pos + n >= this.range.to) {\n            if (this.rangeIndex == this.ranges.length - 1)\n                return this.setDone();\n            n -= this.range.to - this.pos;\n            this.range = this.ranges[++this.rangeIndex];\n            this.pos = this.range.from;\n        }\n        this.pos += n;\n        if (this.pos > this.token.lookAhead)\n            this.token.lookAhead = this.pos;\n        return this.readNext();\n    }\n    setDone() {\n        this.pos = this.chunkPos = this.end;\n        this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];\n        this.chunk = \"\";\n        return this.next = -1;\n    }\n    /// @internal\n    reset(pos, token) {\n        if (token) {\n            this.token = token;\n            token.start = token.lookAhead = pos;\n            token.value = token.extended = -1;\n        }\n        else {\n            this.token = nullToken;\n        }\n        if (this.pos != pos) {\n            this.pos = pos;\n            if (pos == this.end) {\n                this.setDone();\n                return this;\n            }\n            while (pos < this.range.from)\n                this.range = this.ranges[--this.rangeIndex];\n            while (pos >= this.range.to)\n                this.range = this.ranges[++this.rangeIndex];\n            if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {\n                this.chunkOff = pos - this.chunkPos;\n            }\n            else {\n                this.chunk = \"\";\n                this.chunkOff = 0;\n            }\n            this.readNext();\n        }\n        return this;\n    }\n    /// @internal\n    read(from, to) {\n        if (from >= this.chunkPos && to <= this.chunkPos + this.chunk.length)\n            return this.chunk.slice(from - this.chunkPos, to - this.chunkPos);\n        if (from >= this.range.from && to <= this.range.to)\n            return this.input.read(from, to);\n        let result = \"\";\n        for (let r of this.ranges) {\n            if (r.from >= to)\n                break;\n            if (r.to > from)\n                result += this.input.read(Math.max(r.from, from), Math.min(r.to, to));\n        }\n        return result;\n    }\n}\n/// @internal\nclass TokenGroup {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n    }\n    token(input, stack) { readToken(this.data, input, stack, this.id); }\n}\nTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/// `@external tokens` declarations in the grammar should resolve to\n/// an instance of this class.\nclass ExternalTokenizer {\n    /// Create a tokenizer. The first argument is the function that,\n    /// given an input stream, scans for the types of tokens it\n    /// recognizes at the stream's position, and calls\n    /// [`acceptToken`](#lr.InputStream.acceptToken) when it finds\n    /// one.\n    constructor(\n    /// @internal\n    token, options = {}) {\n        this.token = token;\n        this.contextual = !!options.contextual;\n        this.fallback = !!options.fallback;\n        this.extend = !!options.extend;\n    }\n}\n// Tokenizer data is stored a big uint16 array containing, for each\n// state:\n//\n//  - A group bitmask, indicating what token groups are reachable from\n//    this state, so that paths that can only lead to tokens not in\n//    any of the current groups can be cut off early.\n//\n//  - The position of the end of the state's sequence of accepting\n//    tokens\n//\n//  - The number of outgoing edges for the state\n//\n//  - The accepting tokens, as (token id, group mask) pairs\n//\n//  - The outgoing edges, as (start character, end character, state\n//    index) triples, with end character being exclusive\n//\n// This function interprets that data, running through a stream as\n// long as new states with the a matching group mask can be reached,\n// and updating `token` when it matches a token.\nfunction readToken(data, input, stack, group) {\n    let state = 0, groupMask = 1 << group, { parser } = stack.p, { dialect } = parser;\n    scan: for (;;) {\n        if ((groupMask & data[state]) == 0)\n            break;\n        let accEnd = data[state + 1];\n        // Check whether this state can lead to a token in the current group\n        // Accept tokens in this state, possibly overwriting\n        // lower-precedence / shorter tokens\n        for (let i = state + 3; i < accEnd; i += 2)\n            if ((data[i + 1] & groupMask) > 0) {\n                let term = data[i];\n                if (dialect.allows(term) &&\n                    (input.token.value == -1 || input.token.value == term || parser.overrides(term, input.token.value))) {\n                    input.acceptToken(term);\n                    break;\n                }\n            }\n        // Do a binary search on the state's edges\n        for (let next = input.next, low = 0, high = data[state + 2]; low < high;) {\n            let mid = (low + high) >> 1;\n            let index = accEnd + mid + (mid << 1);\n            let from = data[index], to = data[index + 1];\n            if (next < from)\n                high = mid;\n            else if (next >= to)\n                low = mid + 1;\n            else {\n                state = data[index + 2];\n                input.advance();\n                continue scan;\n            }\n        }\n        break;\n    }\n}\n\n// See lezer-generator/src/encode.ts for comments about the encoding\n// used here\nfunction decodeArray(input, Type = Uint16Array) {\n    if (typeof input != \"string\")\n        return input;\n    let array = null;\n    for (let pos = 0, out = 0; pos < input.length;) {\n        let value = 0;\n        for (;;) {\n            let next = input.charCodeAt(pos++), stop = false;\n            if (next == 126 /* BigValCode */) {\n                value = 65535 /* BigVal */;\n                break;\n            }\n            if (next >= 92 /* Gap2 */)\n                next--;\n            if (next >= 34 /* Gap1 */)\n                next--;\n            let digit = next - 32 /* Start */;\n            if (digit >= 46 /* Base */) {\n                digit -= 46 /* Base */;\n                stop = true;\n            }\n            value += digit;\n            if (stop)\n                break;\n            value *= 46 /* Base */;\n        }\n        if (array)\n            array[out++] = value;\n        else\n            array = new Type(value);\n    }\n    return array;\n}\n\n// FIXME find some way to reduce recovery work done when the input\n// doesn't match the grammar at all.\n// Environment variable used to control console output\nconst verbose = typeof process != \"undefined\" && /\\bparse\\b/.test(process.env.LOG);\nlet stackIDs = null;\nvar Safety;\n(function (Safety) {\n    Safety[Safety[\"Margin\"] = 25] = \"Margin\";\n})(Safety || (Safety = {}));\nfunction cutAt(tree, pos, side) {\n    let cursor = tree.fullCursor();\n    cursor.moveTo(pos);\n    for (;;) {\n        if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))\n            for (;;) {\n                if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)\n                    return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 25 /* Margin */))\n                        : Math.min(tree.length, Math.max(cursor.from + 1, pos + 25 /* Margin */));\n                if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())\n                    break;\n                if (!cursor.parent())\n                    return side < 0 ? 0 : tree.length;\n            }\n    }\n}\nclass FragmentCursor {\n    constructor(fragments, nodeSet) {\n        this.fragments = fragments;\n        this.nodeSet = nodeSet;\n        this.i = 0;\n        this.fragment = null;\n        this.safeFrom = -1;\n        this.safeTo = -1;\n        this.trees = [];\n        this.start = [];\n        this.index = [];\n        this.nextFragment();\n    }\n    nextFragment() {\n        let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];\n        if (fr) {\n            this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;\n            this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;\n            while (this.trees.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n            }\n            this.trees.push(fr.tree);\n            this.start.push(-fr.offset);\n            this.index.push(0);\n            this.nextStart = this.safeFrom;\n        }\n        else {\n            this.nextStart = 1e9;\n        }\n    }\n    // `pos` must be >= any previously given `pos` for this cursor\n    nodeAt(pos) {\n        if (pos < this.nextStart)\n            return null;\n        while (this.fragment && this.safeTo <= pos)\n            this.nextFragment();\n        if (!this.fragment)\n            return null;\n        for (;;) {\n            let last = this.trees.length - 1;\n            if (last < 0) { // End of tree\n                this.nextFragment();\n                return null;\n            }\n            let top = this.trees[last], index = this.index[last];\n            if (index == top.children.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n                continue;\n            }\n            let next = top.children[index];\n            let start = this.start[last] + top.positions[index];\n            if (start > pos) {\n                this.nextStart = start;\n                return null;\n            }\n            if (next instanceof Tree) {\n                if (start == pos) {\n                    if (start < this.safeFrom)\n                        return null;\n                    let end = start + next.length;\n                    if (end <= this.safeTo) {\n                        let lookAhead = next.prop(NodeProp.lookAhead);\n                        if (!lookAhead || end + lookAhead < this.fragment.to)\n                            return next;\n                    }\n                }\n                this.index[last]++;\n                if (start + next.length >= Math.max(this.safeFrom, pos)) { // Enter this node\n                    this.trees.push(next);\n                    this.start.push(start);\n                    this.index.push(0);\n                }\n            }\n            else {\n                this.index[last]++;\n                this.nextStart = start + next.length;\n            }\n        }\n    }\n}\nclass TokenCache {\n    constructor(parser, stream) {\n        this.stream = stream;\n        this.tokens = [];\n        this.mainToken = null;\n        this.actions = [];\n        this.tokens = parser.tokenizers.map(_ => new CachedToken);\n    }\n    getActions(stack) {\n        let actionIndex = 0;\n        let main = null;\n        let { parser } = stack.p, { tokenizers } = parser;\n        let mask = parser.stateSlot(stack.state, 3 /* TokenizerMask */);\n        let context = stack.curContext ? stack.curContext.hash : 0;\n        let lookAhead = 0;\n        for (let i = 0; i < tokenizers.length; i++) {\n            if (((1 << i) & mask) == 0)\n                continue;\n            let tokenizer = tokenizers[i], token = this.tokens[i];\n            if (main && !tokenizer.fallback)\n                continue;\n            if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {\n                this.updateCachedToken(token, tokenizer, stack);\n                token.mask = mask;\n                token.context = context;\n            }\n            if (token.lookAhead > token.end + 25 /* Margin */)\n                lookAhead = Math.max(token.lookAhead, lookAhead);\n            if (token.value != 0 /* Err */) {\n                let startIndex = actionIndex;\n                if (token.extended > -1)\n                    actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);\n                actionIndex = this.addActions(stack, token.value, token.end, actionIndex);\n                if (!tokenizer.extend) {\n                    main = token;\n                    if (actionIndex > startIndex)\n                        break;\n                }\n            }\n        }\n        while (this.actions.length > actionIndex)\n            this.actions.pop();\n        if (lookAhead)\n            stack.setLookAhead(lookAhead);\n        if (!main && stack.pos == this.stream.end) {\n            main = new CachedToken;\n            main.value = stack.p.parser.eofTerm;\n            main.start = main.end = stack.pos;\n            actionIndex = this.addActions(stack, main.value, main.end, actionIndex);\n        }\n        this.mainToken = main;\n        return this.actions;\n    }\n    getMainToken(stack) {\n        if (this.mainToken)\n            return this.mainToken;\n        let main = new CachedToken, { pos, p } = stack;\n        main.start = pos;\n        main.end = Math.min(pos + 1, p.stream.end);\n        main.value = pos == p.stream.end ? p.parser.eofTerm : 0 /* Err */;\n        return main;\n    }\n    updateCachedToken(token, tokenizer, stack) {\n        tokenizer.token(this.stream.reset(stack.pos, token), stack);\n        if (token.value > -1) {\n            let { parser } = stack.p;\n            for (let i = 0; i < parser.specialized.length; i++)\n                if (parser.specialized[i] == token.value) {\n                    let result = parser.specializers[i](this.stream.read(token.start, token.end), stack);\n                    if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {\n                        if ((result & 1) == 0 /* Specialize */)\n                            token.value = result >> 1;\n                        else\n                            token.extended = result >> 1;\n                        break;\n                    }\n                }\n        }\n        else {\n            token.value = 0 /* Err */;\n            token.end = Math.min(stack.p.stream.end, stack.pos + 1);\n        }\n    }\n    putAction(action, token, end, index) {\n        // Don't add duplicate actions\n        for (let i = 0; i < index; i += 3)\n            if (this.actions[i] == action)\n                return index;\n        this.actions[index++] = action;\n        this.actions[index++] = token;\n        this.actions[index++] = end;\n        return index;\n    }\n    addActions(stack, token, end, index) {\n        let { state } = stack, { parser } = stack.p, { data } = parser;\n        for (let set = 0; set < 2; set++) {\n            for (let i = parser.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */);; i += 3) {\n                if (data[i] == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */) {\n                        i = pair(data, i + 2);\n                    }\n                    else {\n                        if (index == 0 && data[i + 1] == 2 /* Other */)\n                            index = this.putAction(pair(data, i + 1), token, end, index);\n                        break;\n                    }\n                }\n                if (data[i] == token)\n                    index = this.putAction(pair(data, i + 1), token, end, index);\n            }\n        }\n        return index;\n    }\n}\nvar Rec;\n(function (Rec) {\n    Rec[Rec[\"Distance\"] = 5] = \"Distance\";\n    Rec[Rec[\"MaxRemainingPerStep\"] = 3] = \"MaxRemainingPerStep\";\n    Rec[Rec[\"MinBufferLengthPrune\"] = 200] = \"MinBufferLengthPrune\";\n    Rec[Rec[\"ForceReduceLimit\"] = 10] = \"ForceReduceLimit\";\n})(Rec || (Rec = {}));\nclass Parse {\n    constructor(parser, input, fragments, ranges) {\n        this.parser = parser;\n        this.input = input;\n        this.ranges = ranges;\n        this.recovering = 0;\n        this.nextStackID = 0x2654;\n        this.minStackPos = 0;\n        this.reused = [];\n        this.stoppedAt = null;\n        this.stream = new InputStream(input, ranges);\n        this.tokens = new TokenCache(parser, this.stream);\n        this.topTerm = parser.top[1];\n        let { from } = ranges[0];\n        this.stacks = [Stack.start(this, parser.top[0], from)];\n        this.fragments = fragments.length && this.stream.end - from > parser.bufferLength * 4\n            ? new FragmentCursor(fragments, parser.nodeSet) : null;\n    }\n    get parsedPos() {\n        return this.minStackPos;\n    }\n    // Move the parser forward. This will process all parse stacks at\n    // `this.pos` and try to advance them to a further position. If no\n    // stack for such a position is found, it'll start error-recovery.\n    //\n    // When the parse is finished, this will return a syntax tree. When\n    // not, it returns `null`.\n    advance() {\n        let stacks = this.stacks, pos = this.minStackPos;\n        // This will hold stacks beyond `pos`.\n        let newStacks = this.stacks = [];\n        let stopped, stoppedTokens;\n        // Keep advancing any stacks at `pos` until they either move\n        // forward or can't be advanced. Gather stacks that can't be\n        // advanced further in `stopped`.\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i];\n            for (;;) {\n                this.tokens.mainToken = null;\n                if (stack.pos > pos) {\n                    newStacks.push(stack);\n                }\n                else if (this.advanceStack(stack, newStacks, stacks)) {\n                    continue;\n                }\n                else {\n                    if (!stopped) {\n                        stopped = [];\n                        stoppedTokens = [];\n                    }\n                    stopped.push(stack);\n                    let tok = this.tokens.getMainToken(stack);\n                    stoppedTokens.push(tok.value, tok.end);\n                }\n                break;\n            }\n        }\n        if (!newStacks.length) {\n            let finished = stopped && findFinished(stopped);\n            if (finished)\n                return this.stackToTree(finished);\n            if (this.parser.strict) {\n                if (verbose && stopped)\n                    console.log(\"Stuck with token \" + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : \"none\"));\n                throw new SyntaxError(\"No parse at \" + pos);\n            }\n            if (!this.recovering)\n                this.recovering = 5 /* Distance */;\n        }\n        if (this.recovering && stopped) {\n            let finished = this.runRecovery(stopped, stoppedTokens, newStacks);\n            if (finished)\n                return this.stackToTree(finished.forceAll());\n        }\n        if (this.recovering) {\n            let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3 /* MaxRemainingPerStep */;\n            if (newStacks.length > maxRemaining) {\n                newStacks.sort((a, b) => b.score - a.score);\n                while (newStacks.length > maxRemaining)\n                    newStacks.pop();\n            }\n            if (newStacks.some(s => s.reducePos > pos))\n                this.recovering--;\n        }\n        else if (newStacks.length > 1) {\n            // Prune stacks that are in the same state, or that have been\n            // running without splitting for a while, to avoid getting stuck\n            // with multiple successful stacks running endlessly on.\n            outer: for (let i = 0; i < newStacks.length - 1; i++) {\n                let stack = newStacks[i];\n                for (let j = i + 1; j < newStacks.length; j++) {\n                    let other = newStacks[j];\n                    if (stack.sameState(other) ||\n                        stack.buffer.length > 200 /* MinBufferLengthPrune */ && other.buffer.length > 200 /* MinBufferLengthPrune */) {\n                        if (((stack.score - other.score) || (stack.buffer.length - other.buffer.length)) > 0) {\n                            newStacks.splice(j--, 1);\n                        }\n                        else {\n                            newStacks.splice(i--, 1);\n                            continue outer;\n                        }\n                    }\n                }\n            }\n        }\n        this.minStackPos = newStacks[0].pos;\n        for (let i = 1; i < newStacks.length; i++)\n            if (newStacks[i].pos < this.minStackPos)\n                this.minStackPos = newStacks[i].pos;\n        return null;\n    }\n    stopAt(pos) {\n        if (this.stoppedAt != null && this.stoppedAt < pos)\n            throw new RangeError(\"Can't move stoppedAt forward\");\n        this.stoppedAt = pos;\n    }\n    // Returns an updated version of the given stack, or null if the\n    // stack can't advance normally. When `split` and `stacks` are\n    // given, stacks split off by ambiguous operations will be pushed to\n    // `split`, or added to `stacks` if they move `pos` forward.\n    advanceStack(stack, stacks, split) {\n        let start = stack.pos, { parser } = this;\n        let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n        if (this.stoppedAt != null && start > this.stoppedAt)\n            return stack.forceReduce() ? stack : null;\n        if (this.fragments) {\n            let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;\n            for (let cached = this.fragments.nodeAt(start); cached;) {\n                let match = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser.getGoto(stack.state, cached.type.id) : -1;\n                if (match > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {\n                    stack.useNode(cached, match);\n                    if (verbose)\n                        console.log(base + this.stackID(stack) + ` (via reuse of ${parser.getName(cached.type.id)})`);\n                    return true;\n                }\n                if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)\n                    break;\n                let inner = cached.children[0];\n                if (inner instanceof Tree && cached.positions[0] == 0)\n                    cached = inner;\n                else\n                    break;\n            }\n        }\n        let defaultReduce = parser.stateSlot(stack.state, 4 /* DefaultReduce */);\n        if (defaultReduce > 0) {\n            stack.reduce(defaultReduce);\n            if (verbose)\n                console.log(base + this.stackID(stack) + ` (via always-reduce ${parser.getName(defaultReduce & 65535 /* ValueMask */)})`);\n            return true;\n        }\n        let actions = this.tokens.getActions(stack);\n        for (let i = 0; i < actions.length;) {\n            let action = actions[i++], term = actions[i++], end = actions[i++];\n            let last = i == actions.length || !split;\n            let localStack = last ? stack : stack.split();\n            localStack.apply(action, term, end);\n            if (verbose)\n                console.log(base + this.stackID(localStack) + ` (via ${(action & 65536 /* ReduceFlag */) == 0 ? \"shift\"\n                    : `reduce of ${parser.getName(action & 65535 /* ValueMask */)}`} for ${parser.getName(term)} @ ${start}${localStack == stack ? \"\" : \", split\"})`);\n            if (last)\n                return true;\n            else if (localStack.pos > start)\n                stacks.push(localStack);\n            else\n                split.push(localStack);\n        }\n        return false;\n    }\n    // Advance a given stack forward as far as it will go. Returns the\n    // (possibly updated) stack if it got stuck, or null if it moved\n    // forward and was given to `pushStackDedup`.\n    advanceFully(stack, newStacks) {\n        let pos = stack.pos;\n        for (;;) {\n            if (!this.advanceStack(stack, null, null))\n                return false;\n            if (stack.pos > pos) {\n                pushStackDedup(stack, newStacks);\n                return true;\n            }\n        }\n    }\n    runRecovery(stacks, tokens, newStacks) {\n        let finished = null, restarted = false;\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];\n            let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n            if (stack.deadEnd) {\n                if (restarted)\n                    continue;\n                restarted = true;\n                stack.restart();\n                if (verbose)\n                    console.log(base + this.stackID(stack) + \" (restarted)\");\n                let done = this.advanceFully(stack, newStacks);\n                if (done)\n                    continue;\n            }\n            let force = stack.split(), forceBase = base;\n            for (let j = 0; force.forceReduce() && j < 10 /* ForceReduceLimit */; j++) {\n                if (verbose)\n                    console.log(forceBase + this.stackID(force) + \" (via force-reduce)\");\n                let done = this.advanceFully(force, newStacks);\n                if (done)\n                    break;\n                if (verbose)\n                    forceBase = this.stackID(force) + \" -> \";\n            }\n            for (let insert of stack.recoverByInsert(token)) {\n                if (verbose)\n                    console.log(base + this.stackID(insert) + \" (via recover-insert)\");\n                this.advanceFully(insert, newStacks);\n            }\n            if (this.stream.end > stack.pos) {\n                if (tokenEnd == stack.pos) {\n                    tokenEnd++;\n                    token = 0 /* Err */;\n                }\n                stack.recoverByDelete(token, tokenEnd);\n                if (verbose)\n                    console.log(base + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);\n                pushStackDedup(stack, newStacks);\n            }\n            else if (!finished || finished.score < stack.score) {\n                finished = stack;\n            }\n        }\n        return finished;\n    }\n    // Convert the stack's buffer to a syntax tree.\n    stackToTree(stack) {\n        stack.close();\n        return Tree.build({ buffer: StackBufferCursor.create(stack),\n            nodeSet: this.parser.nodeSet,\n            topID: this.topTerm,\n            maxBufferLength: this.parser.bufferLength,\n            reused: this.reused,\n            start: this.ranges[0].from,\n            length: stack.pos - this.ranges[0].from,\n            minRepeatType: this.parser.minRepeatTerm });\n    }\n    stackID(stack) {\n        let id = (stackIDs || (stackIDs = new WeakMap)).get(stack);\n        if (!id)\n            stackIDs.set(stack, id = String.fromCodePoint(this.nextStackID++));\n        return id + stack;\n    }\n}\nfunction pushStackDedup(stack, newStacks) {\n    for (let i = 0; i < newStacks.length; i++) {\n        let other = newStacks[i];\n        if (other.pos == stack.pos && other.sameState(stack)) {\n            if (newStacks[i].score < stack.score)\n                newStacks[i] = stack;\n            return;\n        }\n    }\n    newStacks.push(stack);\n}\nclass Dialect {\n    constructor(source, flags, disabled) {\n        this.source = source;\n        this.flags = flags;\n        this.disabled = disabled;\n    }\n    allows(term) { return !this.disabled || this.disabled[term] == 0; }\n}\nconst id = x => x;\n/// Context trackers are used to track stateful context (such as\n/// indentation in the Python grammar, or parent elements in the XML\n/// grammar) needed by external tokenizers. You declare them in a\n/// grammar file as `@context exportName from \"module\"`.\n///\n/// Context values should be immutable, and can be updated (replaced)\n/// on shift or reduce actions.\n///\n/// The export used in a `@context` declaration should be of this\n/// type.\nclass ContextTracker {\n    /// Define a context tracker.\n    constructor(spec) {\n        this.start = spec.start;\n        this.shift = spec.shift || id;\n        this.reduce = spec.reduce || id;\n        this.reuse = spec.reuse || id;\n        this.hash = spec.hash || (() => 0);\n        this.strict = spec.strict !== false;\n    }\n}\n/// A parser holds the parse tables for a given grammar, as generated\n/// by `lezer-generator`.\nclass LRParser extends Parser {\n    /// @internal\n    constructor(spec) {\n        super();\n        /// @internal\n        this.wrappers = [];\n        if (spec.version != 13 /* Version */)\n            throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${13 /* Version */})`);\n        let nodeNames = spec.nodeNames.split(\" \");\n        this.minRepeatTerm = nodeNames.length;\n        for (let i = 0; i < spec.repeatNodeCount; i++)\n            nodeNames.push(\"\");\n        let topTerms = Object.keys(spec.topRules).map(r => spec.topRules[r][1]);\n        let nodeProps = [];\n        for (let i = 0; i < nodeNames.length; i++)\n            nodeProps.push([]);\n        function setProp(nodeID, prop, value) {\n            nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);\n        }\n        if (spec.nodeProps)\n            for (let propSpec of spec.nodeProps) {\n                let prop = propSpec[0];\n                for (let i = 1; i < propSpec.length;) {\n                    let next = propSpec[i++];\n                    if (next >= 0) {\n                        setProp(next, prop, propSpec[i++]);\n                    }\n                    else {\n                        let value = propSpec[i + -next];\n                        for (let j = -next; j > 0; j--)\n                            setProp(propSpec[i++], prop, value);\n                        i++;\n                    }\n                }\n            }\n        this.nodeSet = new NodeSet(nodeNames.map((name, i) => NodeType.define({\n            name: i >= this.minRepeatTerm ? undefined : name,\n            id: i,\n            props: nodeProps[i],\n            top: topTerms.indexOf(i) > -1,\n            error: i == 0,\n            skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1\n        })));\n        this.strict = false;\n        this.bufferLength = DefaultBufferLength;\n        let tokenArray = decodeArray(spec.tokenData);\n        this.context = spec.context;\n        this.specialized = new Uint16Array(spec.specialized ? spec.specialized.length : 0);\n        this.specializers = [];\n        if (spec.specialized)\n            for (let i = 0; i < spec.specialized.length; i++) {\n                this.specialized[i] = spec.specialized[i].term;\n                this.specializers[i] = spec.specialized[i].get;\n            }\n        this.states = decodeArray(spec.states, Uint32Array);\n        this.data = decodeArray(spec.stateData);\n        this.goto = decodeArray(spec.goto);\n        this.maxTerm = spec.maxTerm;\n        this.tokenizers = spec.tokenizers.map(value => typeof value == \"number\" ? new TokenGroup(tokenArray, value) : value);\n        this.topRules = spec.topRules;\n        this.dialects = spec.dialects || {};\n        this.dynamicPrecedences = spec.dynamicPrecedences || null;\n        this.tokenPrecTable = spec.tokenPrec;\n        this.termNames = spec.termNames || null;\n        this.maxNode = this.nodeSet.types.length - 1;\n        this.dialect = this.parseDialect();\n        this.top = this.topRules[Object.keys(this.topRules)[0]];\n    }\n    createParse(input, fragments, ranges) {\n        let parse = new Parse(this, input, fragments, ranges);\n        for (let w of this.wrappers)\n            parse = w(parse, input, fragments, ranges);\n        return parse;\n    }\n    /// Get a goto table entry @internal\n    getGoto(state, term, loose = false) {\n        let table = this.goto;\n        if (term >= table[0])\n            return -1;\n        for (let pos = table[term + 1];;) {\n            let groupTag = table[pos++], last = groupTag & 1;\n            let target = table[pos++];\n            if (last && loose)\n                return target;\n            for (let end = pos + (groupTag >> 1); pos < end; pos++)\n                if (table[pos] == state)\n                    return target;\n            if (last)\n                return -1;\n        }\n    }\n    /// Check if this state has an action for a given terminal @internal\n    hasAction(state, terminal) {\n        let data = this.data;\n        for (let set = 0; set < 2; set++) {\n            for (let i = this.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */), next;; i += 3) {\n                if ((next = data[i]) == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */)\n                        next = data[i = pair(data, i + 2)];\n                    else if (data[i + 1] == 2 /* Other */)\n                        return pair(data, i + 2);\n                    else\n                        break;\n                }\n                if (next == terminal || next == 0 /* Err */)\n                    return pair(data, i + 1);\n            }\n        }\n        return 0;\n    }\n    /// @internal\n    stateSlot(state, slot) {\n        return this.states[(state * 6 /* Size */) + slot];\n    }\n    /// @internal\n    stateFlag(state, flag) {\n        return (this.stateSlot(state, 0 /* Flags */) & flag) > 0;\n    }\n    /// @internal\n    validAction(state, action) {\n        if (action == this.stateSlot(state, 4 /* DefaultReduce */))\n            return true;\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    return false;\n            }\n            if (action == pair(this.data, i + 1))\n                return true;\n        }\n    }\n    /// Get the states that can follow this one through shift actions or\n    /// goto jumps. @internal\n    nextStates(state) {\n        let result = [];\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    break;\n            }\n            if ((this.data[i + 2] & (65536 /* ReduceFlag */ >> 16)) == 0) {\n                let value = this.data[i + 1];\n                if (!result.some((v, i) => (i & 1) && v == value))\n                    result.push(this.data[i], value);\n            }\n        }\n        return result;\n    }\n    /// @internal\n    overrides(token, prev) {\n        let iPrev = findOffset(this.data, this.tokenPrecTable, prev);\n        return iPrev < 0 || findOffset(this.data, this.tokenPrecTable, token) < iPrev;\n    }\n    /// Configure the parser. Returns a new parser instance that has the\n    /// given settings modified. Settings not provided in `config` are\n    /// kept from the original parser.\n    configure(config) {\n        // Hideous reflection-based kludge to make it easy to create a\n        // slightly modified copy of a parser.\n        let copy = Object.assign(Object.create(LRParser.prototype), this);\n        if (config.props)\n            copy.nodeSet = this.nodeSet.extend(...config.props);\n        if (config.top) {\n            let info = this.topRules[config.top];\n            if (!info)\n                throw new RangeError(`Invalid top rule name ${config.top}`);\n            copy.top = info;\n        }\n        if (config.tokenizers)\n            copy.tokenizers = this.tokenizers.map(t => {\n                let found = config.tokenizers.find(r => r.from == t);\n                return found ? found.to : t;\n            });\n        if (config.contextTracker)\n            copy.context = config.contextTracker;\n        if (config.dialect)\n            copy.dialect = this.parseDialect(config.dialect);\n        if (config.strict != null)\n            copy.strict = config.strict;\n        if (config.wrap)\n            copy.wrappers = copy.wrappers.concat(config.wrap);\n        if (config.bufferLength != null)\n            copy.bufferLength = config.bufferLength;\n        return copy;\n    }\n    /// Returns the name associated with a given term. This will only\n    /// work for all terms when the parser was generated with the\n    /// `--names` option. By default, only the names of tagged terms are\n    /// stored.\n    getName(term) {\n        return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);\n    }\n    /// The eof term id is always allocated directly after the node\n    /// types. @internal\n    get eofTerm() { return this.maxNode + 1; }\n    /// The type of top node produced by the parser.\n    get topNode() { return this.nodeSet.types[this.top[1]]; }\n    /// @internal\n    dynamicPrecedence(term) {\n        let prec = this.dynamicPrecedences;\n        return prec == null ? 0 : prec[term] || 0;\n    }\n    /// @internal\n    parseDialect(dialect) {\n        let values = Object.keys(this.dialects), flags = values.map(() => false);\n        if (dialect)\n            for (let part of dialect.split(\" \")) {\n                let id = values.indexOf(part);\n                if (id >= 0)\n                    flags[id] = true;\n            }\n        let disabled = null;\n        for (let i = 0; i < values.length; i++)\n            if (!flags[i]) {\n                for (let j = this.dialects[values[i]], id; (id = this.data[j++]) != 65535 /* End */;)\n                    (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id] = 1;\n            }\n        return new Dialect(dialect, flags, disabled);\n    }\n    /// (used by the output of the parser generator) @internal\n    static deserialize(spec) {\n        return new LRParser(spec);\n    }\n}\nfunction pair(data, off) { return data[off] | (data[off + 1] << 16); }\nfunction findOffset(data, start, term) {\n    for (let i = start, next; (next = data[i]) != 65535 /* End */; i++)\n        if (next == term)\n            return i - start;\n    return -1;\n}\nfunction findFinished(stacks) {\n    let best = null;\n    for (let stack of stacks) {\n        let stopped = stack.p.stoppedAt;\n        if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) &&\n            stack.p.parser.stateFlag(stack.state, 2 /* Accepting */) &&\n            (!best || best.score < stack.score))\n            best = stack;\n    }\n    return best;\n}\n\nexport { ContextTracker, ExternalTokenizer, InputStream, LRParser, Stack };\n","import { ContextTracker, ExternalTokenizer, LRParser } from '@lezer/lr';\nimport { NodeProp } from '@lezer/common';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst noSemi = 271,\n  incdec = 1,\n  incdecPrefix = 2,\n  templateContent = 272,\n  templateDollarBrace = 273,\n  templateEnd = 274,\n  insertSemi = 275,\n  TSExtends = 3,\n  spaces = 277,\n  newline = 278,\n  LineComment = 4,\n  BlockComment = 5,\n  Dialect_ts = 1;\n\n/* Hand-written tokenizers for JavaScript tokens that can't be\n   expressed by lezer's built-in tokenizer. */\n\nconst space = [9, 10, 11, 12, 13, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200,\n               8201, 8202, 8232, 8233, 8239, 8287, 12288];\n\nconst braceR = 125, braceL = 123, semicolon = 59, slash = 47, star = 42,\n      plus = 43, minus = 45, dollar = 36, backtick = 96, backslash = 92;\n\nconst trackNewline = new ContextTracker({\n  start: false,\n  shift(context, term) {\n    return term == LineComment || term == BlockComment || term == spaces ? context : term == newline\n  },\n  strict: false\n});\n\nconst insertSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if ((next == braceR || next == -1 || stack.context) && stack.canShift(insertSemi))\n    input.acceptToken(insertSemi);\n}, {contextual: true, fallback: true});\n\nconst noSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input, after;\n  if (space.indexOf(next) > -1) return\n  if (next == slash && ((after = input.peek(1)) == slash || after == star)) return\n  if (next != braceR && next != semicolon && next != -1 && !stack.context && stack.canShift(noSemi))\n    input.acceptToken(noSemi);\n}, {contextual: true});\n\nconst incdecToken = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if (next == plus || next == minus) {\n    input.advance();\n    if (next == input.next) {\n      input.advance();\n      let mayPostfix = !stack.context && stack.canShift(incdec);\n      input.acceptToken(mayPostfix ? incdec : incdecPrefix);\n    }\n  }\n}, {contextual: true});\n\nconst template = new ExternalTokenizer(input => {\n  for (let afterDollar = false, i = 0;; i++) {\n    let {next} = input;\n    if (next < 0) {\n      if (i) input.acceptToken(templateContent);\n      break\n    } else if (next == backtick) {\n      if (i) input.acceptToken(templateContent);\n      else input.acceptToken(templateEnd, 1);\n      break\n    } else if (next == braceL && afterDollar) {\n      if (i == 1) input.acceptToken(templateDollarBrace, 1);\n      else input.acceptToken(templateContent, -1);\n      break\n    } else if (next == 10 /* \"\\n\" */ && i) {\n      // Break up template strings on lines, to avoid huge tokens\n      input.advance();\n      input.acceptToken(templateContent);\n      break\n    } else if (next == backslash) {\n      input.advance();\n    }\n    afterDollar = next == dollar;\n    input.advance();\n  }\n});\n\nfunction tsExtends(value, stack) {\n  return value == \"extends\" && stack.dialectEnabled(Dialect_ts) ? TSExtends : -1\n}\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,export:16, as:21, from:25, default:30, async:35, function:36, this:46, true:54, false:54, void:60, typeof:64, null:78, super:80, new:114, await:131, yield:133, delete:134, class:144, extends:146, public:183, private:183, protected:183, readonly:185, in:204, instanceof:206, const:208, import:240, keyof:291, unique:295, infer:301, is:335, abstract:355, implements:357, type:359, let:362, var:364, interface:371, enum:375, namespace:381, module:383, declare:387, global:391, for:412, of:421, while:424, with:428, do:432, if:436, else:438, switch:442, case:448, try:454, catch:456, finally:458, return:462, throw:466, break:470, continue:474, debugger:478};\nconst spec_word = {__proto__:null,async:101, get:103, set:105, public:153, private:153, protected:153, static:155, abstract:157, readonly:161, new:339};\nconst spec_LessThan = {__proto__:null,\"<\":121};\nconst parser = LRParser.deserialize({\n  version: 13,\n  states: \"$-tO`QYOOO&}Q!LdO'#CgO'UOSO'#DSO)^QYO'#DXO)nQYO'#DdO)uQYO'#DnO-lQYO'#DtOOQO'#EU'#EUO.PQWO'#ETO.UQWO'#ETO0TQ!LdO'#ImO2kQ!LdO'#InO3XQWO'#ErO3^QpO'#FXOOQ!LS'#Ez'#EzO3fO!bO'#EzO3tQWO'#F`O5RQWO'#F_OOQ!LS'#In'#InOOQ!LQ'#Im'#ImOOQQ'#JV'#JVO5WQWO'#HfO5]Q!LYO'#HgOOQQ'#I_'#I_OOQQ'#Hh'#HhQ`QYOOO)uQYO'#DfO5eQWO'#GSO5jQ#tO'#ClO5xQWO'#ESO6TQ#tO'#EyO6oQWO'#GSO6tQWO'#GWO7PQWO'#GWO7_QWO'#GZO7_QWO'#G[O7_QWO'#G^O5eQWO'#GaO8OQWO'#GdO9^QWO'#CcO9nQWO'#GqO9vQWO'#GwO9vQWO'#GyO`QYO'#G{O9vQWO'#G}O9vQWO'#HQO9{QWO'#HWO:QQ!LZO'#H[O)uQYO'#H^O:]Q!LZO'#H`O:hQ!LZO'#HbO5]Q!LYO'#HdO)uQYO'#IoOOOS'#Hj'#HjO:sOSO,59nOOQ!LS,59n,59nO=UQbO'#CgO=`QYO'#HkO=mQWO'#IpO?lQbO'#IpO'aQYO'#IpO?sQWO,59sO@ZQ&jO'#D^OASQWO'#EUOAaQWO'#IzOAlQWO'#IyOAtQWO,5:rOAyQWO'#IxOBQQWO'#DuO5jQ#tO'#ESOB`QWO'#ESOBkQ`O'#EyOOQ!LS,5:O,5:OOBsQYO,5:OODqQ!LdO,5:YOE_QWO,5:`OExQ!LYO'#IwO6tQWO'#IvOFPQWO'#IvOFXQWO,5:qOF^QWO'#IvOFlQYO,5:oOHiQWO'#EQOIsQWO,5:oOKSQWO'#DhOKZQYO'#DmOKeQ&jO,5:xO)uQYO,5:xOOQQ'#Ej'#EjOOQQ'#El'#ElO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yOOQQ'#Ep'#EpOKjQYO,5;ZOOQ!LS,5;`,5;`OOQ!LS,5;a,5;aOMgQWO,5;aOOQ!LS,5;b,5;bO)uQYO'#HuOMlQ!LYO,5;{ONWQWO,5:yO)uQYO,5;^ONpQpO'#JOON_QpO'#JOONwQpO'#JOO! YQpO,5;iOOQO,5;s,5;sO! hQYO'#FZOOOO'#Ht'#HtO3fO!bO,5;fO! oQpO'#F]OOQ!LS,5;f,5;fO!!]Q,UO'#CqOOQ!LS'#Ct'#CtO!!pQWO'#CtO!!uOSO'#CxO!#cQ#tO,5;xO!#jQWO,5;zO!$vQWO'#FjO!%TQWO'#FkO!%YQWO'#FoO!&[Q&jO'#FsO!&}Q,UO'#IhOOQ!LS'#Ih'#IhO!'XQWO'#IgO!'gQWO'#IfOOQ!LS'#Cr'#CrOOQ!LS'#Cy'#CyO!'oQWO'#C{OIxQWO'#FbOIxQWO'#FdO!'tQWO'#FfO!'yQWO'#FgO!(OQWO'#FmOIxQWO'#FrO!(TQWO'#EVO!(lQWO,5;yO`QYO,5>QOOQQ'#Ib'#IbOOQQ,5>R,5>ROOQQ-E;f-E;fO!*hQ!LdO,5:QOOQ!LQ'#Co'#CoO!+XQ#tO,5<nOOQO'#Ce'#CeO!+jQWO'#CpO!+rQ!LYO'#IcO5RQWO'#IcO9{QWO,59WO!,QQpO,59WO!,YQ#tO,59WO5jQ#tO,59WO!,eQWO,5:oO!,mQWO'#GpO!,uQWO'#JZO)uQYO,5;cOKeQ&jO,5;eO!,}QWO,5=ZO!-SQWO,5=ZO!-XQWO,5=ZO5]Q!LYO,5=ZO5eQWO,5<nO!-gQWO'#EWO!-xQ&jO'#EXOOQ!LQ'#Ix'#IxO!.ZQ!LYO'#JWO5]Q!LYO,5<rO7_QWO,5<xOOQO'#Cq'#CqO!.fQpO,5<uO!.nQ#tO,5<vO!.yQWO,5<xO!/OQ`O,5<{O9{QWO'#GfO5eQWO'#GhO!/WQWO'#GhO5jQ#tO'#GkO!/]QWO'#GkOOQQ,5=O,5=OO!/bQWO'#GlO!/jQWO'#ClO!/oQWO,58}O!/yQWO,58}O!1xQYO,58}OOQQ,58},58}O!2VQ!LYO,58}O)uQYO,58}O!2bQYO'#GsOOQQ'#Gt'#GtOOQQ'#Gu'#GuO`QYO,5=]O!2rQWO,5=]O)uQYO'#DtO`QYO,5=cO`QYO,5=eO!2wQWO,5=gO`QYO,5=iO!2|QWO,5=lO!3RQYO,5=rOOQQ,5=v,5=vO)uQYO,5=vO5]Q!LYO,5=xOOQQ,5=z,5=zO!7PQWO,5=zOOQQ,5=|,5=|O!7PQWO,5=|OOQQ,5>O,5>OO!7UQ`O,5?ZOOOS-E;h-E;hOOQ!LS1G/Y1G/YO!7ZQbO,5>VO)uQYO,5>VOOQO-E;i-E;iO!7eQWO,5?[O!7mQbO,5?[O!7tQWO,5?eOOQ!LS1G/_1G/_O!7|QpO'#DQOOQO'#Ir'#IrO)uQYO'#IrO!8kQpO'#IrO!9YQpO'#D_O!9kQ&jO'#D_O!;sQYO'#D_O!;zQWO'#IqO!<SQWO,59xO!<XQWO'#EYO!<gQWO'#I{O!<oQWO,5:sO!=VQ&jO'#D_O)uQYO,5?fO!=aQWO'#HpO!7tQWO,5?eOOQ!LQ1G0^1G0^O!>gQ&jO'#DxOOQ!LS,5:a,5:aO)uQYO,5:aOHiQWO,5:aO!>nQWO,5:aO9{QWO,5:nO!,QQpO,5:nO!,YQ#tO,5:nO5jQ#tO,5:nOOQ!LS1G/j1G/jOOQ!LS1G/z1G/zOOQ!LQ'#EP'#EPO)uQYO,5?cO!>yQ!LYO,5?cO!?[Q!LYO,5?cO!?cQWO,5?bO!?kQWO'#HrO!?cQWO,5?bOOQ!LQ1G0]1G0]O6tQWO,5?bOOQ!LS1G0Z1G0ZO!@VQ!LdO1G0ZO!@vQ!LbO,5:lOOQ!LS'#Fi'#FiO!AdQ!LdO'#IhOFlQYO1G0ZO!CcQ#tO'#IsO!CmQWO,5:SO!CrQbO'#ItO)uQYO'#ItO!C|QWO,5:XOOQ!LS'#DQ'#DQOOQ!LS1G0d1G0dO!DRQWO1G0dO!FdQ!LdO1G0eO!FkQ!LdO1G0eO!IOQ!LdO1G0eO!IVQ!LdO1G0eO!K^Q!LdO1G0eO!KqQ!LdO1G0eO!NbQ!LdO1G0eO!NiQ!LdO1G0eO#!|Q!LdO1G0eO##TQ!LdO1G0eO#$xQ!LdO1G0eO#'rQ7^O'#CgO#)mQ7^O1G0uO#+hQ7^O'#InOOQ!LS1G0{1G0{O#+{Q!LdO,5>aOOQ!LQ-E;s-E;sO#,lQ!LdO1G0eOOQ!LS1G0e1G0eO#.nQ!LdO1G0xO#/_QpO,5;kO#/dQpO,5;lO#/iQpO'#FSO#/}QWO'#FROOQO'#JP'#JPOOQO'#Hs'#HsO#0SQpO1G1TOOQ!LS1G1T1G1TOOQO1G1^1G1^O#0bQ7^O'#ImO#0lQWO,5;uOKjQYO,5;uOOOO-E;r-E;rOOQ!LS1G1Q1G1QOOQ!LS,5;w,5;wO#0qQpO,5;wOOQ!LS,59`,59`OHiQWO'#IjOOOS'#Hi'#HiO#0vOSO,59dOOQ!LS,59d,59dO)uQYO1G1dOKeQ&jO'#HwO#1RQWO,5<]OOQ!LS,5<Y,5<YOOQO'#F}'#F}OIxQWO,5<hOOQO'#GP'#GPOIxQWO,5<jOIxQWO,5<lOOQO1G1f1G1fO#1^Q`O'#CoO#1qQ`O,5<UO#1xQWO'#JSO5eQWO'#JSO#2WQWO,5<WOIxQWO,5<VO#2]Q`O'#FiO#2jQ`O'#JTO#2tQWO'#JTOHiQWO'#JTO#2yQWO,5<ZOOQ!LQ'#Dc'#DcO#3OQWO'#FlO#3ZQpO'#FtO!&VQ&jO'#FtO!&VQ&jO'#FvO#3lQWO'#FwO!(OQWO'#FzOOQO'#Hy'#HyO#3qQ&jO,5<_OOQ!LS,5<_,5<_O#3xQ&jO'#FtO#4WQ&jO'#FuO#4`Q&jO'#FuOOQ!LS,5<m,5<mOIxQWO,5?ROIxQWO,5?RO#4eQWO'#HzO#4pQWO,5?QOOQ!LS'#Cg'#CgO#5dQ#tO,59gOOQ!LS,59g,59gO#6VQ#tO,5;|O#6xQ#tO,5<OO#7SQWO,5<QOOQ!LS,5<R,5<RO#7XQWO,5<XO#7^Q#tO,5<^OFlQYO1G1eO#7nQWO1G1eOOQQ1G3l1G3lOOQ!LS1G/l1G/lOMgQWO1G/lOOQQ1G2Y1G2YOHiQWO1G2YO)uQYO1G2YOHiQWO1G2YO#7sQWO1G2YO#8RQWO,59[O#9[QWO'#EQOOQ!LQ,5>},5>}O#9fQ!LYO,5>}OOQQ1G.r1G.rO9{QWO1G.rO!,QQpO1G.rO!,YQ#tO1G.rO#9tQWO1G0ZO#9yQWO'#CgO#:UQWO'#J[O#:^QWO,5=[O#:cQWO'#J[O#:hQWO'#ISO#:vQWO,5?uO#;OQbO1G0}OOQ!LS1G1P1G1PO5eQWO1G2uO#;VQWO1G2uO#;[QWO1G2uO#;aQWO1G2uOOQQ1G2u1G2uO#;fQ#tO1G2YO6tQWO'#IyO6tQWO'#EYO6tQWO'#H|O#;wQ!LYO,5?rOOQQ1G2^1G2^O!.yQWO1G2dOHiQWO1G2aO#<SQWO1G2aOOQQ1G2b1G2bOHiQWO1G2bO#<XQWO1G2bO#<aQ&jO'#G`OOQQ1G2d1G2dO!&VQ&jO'#IOO!/OQ`O1G2gOOQQ1G2g1G2gOOQQ,5=Q,5=QO#<iQ#tO,5=SO5eQWO,5=SO#3lQWO,5=VO5RQWO,5=VO!,QQpO,5=VO!,YQ#tO,5=VO5jQ#tO,5=VO#<zQWO'#JYO#=VQWO,5=WOOQQ1G.i1G.iO#=[Q!LYO1G.iO#=gQWO1G.iO!'oQWO1G.iO5]Q!LYO1G.iO#=lQbO,5?wO#=vQWO,5?wO#>RQYO,5=_O#>YQWO,5=_O6tQWO,5?wOOQQ1G2w1G2wO`QYO1G2wOOQQ1G2}1G2}OOQQ1G3P1G3PO9vQWO1G3RO#>_QYO1G3TO#BVQYO'#HSOOQQ1G3W1G3WO9{QWO1G3^O#BdQWO1G3^O5]Q!LYO1G3bOOQQ1G3d1G3dOOQ!LQ'#Fp'#FpO5]Q!LYO1G3fO5]Q!LYO1G3hOOOS1G4u1G4uO#BlQ`O,5;{O#BtQbO1G3qO#COQWO1G4vO#CWQWO1G5PO#C`QWO,5?^OKjQYO,5:tO6tQWO,5:tO9{QWO,59yOKjQYO,59yO!,QQpO,59yO#CeQ7^O,59yOOQO,5:t,5:tO#CoQ&jO'#HlO#DVQWO,5?]OOQ!LS1G/d1G/dO#D_Q&jO'#HqO#DsQWO,5?gOOQ!LQ1G0_1G0_O!9kQ&jO,59yO#D{QbO1G5QOOQO,5>[,5>[O6tQWO,5>[OOQO-E;n-E;nO#EVQ!LrO'#D}O!&VQ&jO'#DyOOQO'#Ho'#HoO#EqQ&jO,5:dOOQ!LS,5:d,5:dO#ExQ&jO'#DyO#FWQ&jO'#D}O#FlQ&jO'#D}O!&VQ&jO'#D}O#FvQWO1G/{O#F{Q`O1G/{OOQ!LS1G/{1G/{O)uQYO1G/{OHiQWO1G/{OOQ!LS1G0Y1G0YO9{QWO1G0YO!,QQpO1G0YO!,YQ#tO1G0YO#GSQ!LdO1G4}O)uQYO1G4}O#GdQ!LYO1G4}O#GuQWO1G4|O6tQWO,5>^OOQO,5>^,5>^O#G}QWO,5>^OOQO-E;p-E;pO#GuQWO1G4|O#H]Q!LdO,59gO#J[Q!LdO,5;|O#L^Q!LdO,5<OO#N`Q!LdO,5<^OOQ!LS7+%u7+%uO$!hQ!LdO7+%uO$#XQWO'#HmO$#cQWO,5?_OOQ!LS1G/n1G/nO$#kQYO'#HnO$#xQWO,5?`O$$QQbO,5?`OOQ!LS1G/s1G/sOOQ!LS7+&O7+&OO$$[Q7^O,5:YO)uQYO7+&aO$$fQ7^O,5:QOOQO1G1V1G1VOOQO1G1W1G1WO$$sQMhO,5;nOKjQYO,5;mOOQO-E;q-E;qOOQ!LS7+&o7+&oOOQO7+&x7+&xOOOO1G1a1G1aO$%OQWO1G1aOOQ!LS1G1c1G1cO$%TQ`O,5?UOOOS-E;g-E;gOOQ!LS1G/O1G/OO$%[Q!LdO7+'OOOQ!LS,5>c,5>cO$%{QWO,5>cOOQ!LS1G1w1G1wP$&QQWO'#HwPOQ!LS-E;u-E;uO$&qQ#tO1G2SO$'dQ#tO1G2UO$'nQ#tO1G2WOOQ!LS1G1p1G1pO$'uQWO'#HvO$(TQWO,5?nO$(TQWO,5?nO$(]QWO,5?nO$(hQWO,5?nOOQO1G1r1G1rO$(vQ#tO1G1qO$)WQWO'#HxO$)hQWO,5?oOHiQWO,5?oO$)pQ`O,5?oOOQ!LS1G1u1G1uO5]Q!LYO,5<`O5]Q!LYO,5<aO$)zQWO,5<aO#3gQWO,5<aO!,QQpO,5<`O$*PQWO,5<bO5]Q!LYO,5<cO$)zQWO,5<fOOQO-E;w-E;wOOQ!LS1G1y1G1yO!&VQ&jO,5<`O$*XQWO,5<aO!&VQ&jO,5<bO!&VQ&jO,5<aO$*dQ#tO1G4mO$*nQ#tO1G4mOOQO,5>f,5>fOOQO-E;x-E;xOKeQ&jO,59iO)uQYO,59iO$*{QWO1G1lOIxQWO1G1sO$+QQ!LdO7+'POOQ!LS7+'P7+'POFlQYO7+'POOQ!LS7+%W7+%WO$+qQ`O'#JUO#FvQWO7+'tO$+{QWO7+'tO$,TQ`O7+'tOOQQ7+'t7+'tOHiQWO7+'tO)uQYO7+'tOHiQWO7+'tOOQO1G.v1G.vO$,_Q!LbO'#CgO$,oQ!LbO,5<dO$-^QWO,5<dOOQ!LQ1G4i1G4iOOQQ7+$^7+$^O9{QWO7+$^O!,QQpO7+$^OFlQYO7+%uO$-cQWO'#IRO$-nQWO,5?vOOQO1G2v1G2vO5eQWO,5?vOOQO,5>n,5>nOOQO-E<Q-E<QOOQ!LS7+&i7+&iO$-vQWO7+(aO5]Q!LYO7+(aO5eQWO7+(aO$-{QWO7+(aO$.QQWO7+'tOOQ!LQ,5>h,5>hOOQ!LQ-E;z-E;zOOQQ7+(O7+(OO$.`Q!LbO7+'{OHiQWO7+'{O$.jQ`O7+'|OOQQ7+'|7+'|OHiQWO7+'|O$.qQWO'#JXO$.|QWO,5<zOOQO,5>j,5>jOOQO-E;|-E;|OOQQ7+(R7+(RO$/sQ&jO'#GiOOQQ1G2n1G2nOHiQWO1G2nO)uQYO1G2nOHiQWO1G2nO$/zQWO1G2nO$0YQ#tO1G2nO5]Q!LYO1G2qO#3lQWO1G2qO5RQWO1G2qO!,QQpO1G2qO!,YQ#tO1G2qO$0kQWO'#IQO$0vQWO,5?tO$1OQ&jO,5?tOOQ!LQ1G2r1G2rOOQQ7+$T7+$TO$1TQWO7+$TO5]Q!LYO7+$TO$1YQWO7+$TO)uQYO1G5cO)uQYO1G5dO$1_QYO1G2yO$1fQWO1G2yO$1kQYO1G2yO$1rQ!LYO1G5cOOQQ7+(c7+(cO5]Q!LYO7+(mO`QYO7+(oOOQQ'#J_'#J_OOQQ'#IT'#ITO$1|QYO,5=nOOQQ,5=n,5=nO)uQYO'#HTO$2ZQWO'#HVOOQQ7+(x7+(xO$2`QYO7+(xO6tQWO7+(xOOQQ7+(|7+(|OOQQ7+)Q7+)QOOQQ7+)S7+)SOOQO1G4x1G4xO$6ZQ7^O1G0`O$6eQWO1G0`OOQO1G/e1G/eO$6pQ7^O1G/eO9{QWO1G/eOKjQYO'#D_OOQO,5>W,5>WOOQO-E;j-E;jOOQO,5>],5>]OOQO-E;o-E;oO!,QQpO1G/eOOQO1G3v1G3vO9{QWO,5:eOOQO,5:i,5:iO)uQYO,5:iO$6zQ!LYO,5:iO$7VQ!LYO,5:iO!,QQpO,5:eOOQO-E;m-E;mOOQ!LS1G0O1G0OO!&VQ&jO,5:eO$7eQ!LrO,5:iO$8PQ&jO,5:eO!&VQ&jO,5:iO$8_Q&jO,5:iO$8sQ!LYO,5:iOOQ!LS7+%g7+%gO#FvQWO7+%gO#F{Q`O7+%gOOQ!LS7+%t7+%tO9{QWO7+%tO!,QQpO7+%tO$9XQ!LdO7+*iO)uQYO7+*iOOQO1G3x1G3xO6tQWO1G3xO$9iQWO7+*hO$9qQ!LdO1G2SO$;sQ!LdO1G2UO$=uQ!LdO1G1qO$?}Q#tO,5>XOOQO-E;k-E;kO$@XQbO,5>YO)uQYO,5>YOOQO-E;l-E;lO$@cQWO1G4zO$@kQ7^O1G0ZO$BrQ7^O1G0eO$ByQ7^O1G0eO$DzQ7^O1G0eO$ERQ7^O1G0eO$FvQ7^O1G0eO$GZQ7^O1G0eO$IhQ7^O1G0eO$IoQ7^O1G0eO$KpQ7^O1G0eO$KwQ7^O1G0eO$MlQ7^O1G0eO$NPQ!LdO<<I{O$NpQ7^O1G0eO%!`Q7^O'#IhO%$]Q7^O1G0xOKjQYO'#FUOOQO'#JQ'#JQOOQO1G1Y1G1YO%$jQWO1G1XO%$oQ7^O,5>aOOOO7+&{7+&{OOOS1G4p1G4pOOQ!LS1G3}1G3}OIxQWO7+'rO%$yQWO,5>bO5eQWO,5>bOOQO-E;t-E;tO%%XQWO1G5YO%%XQWO1G5YO%%aQWO1G5YO%%lQ`O,5>dO%%vQWO,5>dOHiQWO,5>dOOQO-E;v-E;vO%%{Q`O1G5ZO%&VQWO1G5ZOOQO1G1z1G1zOOQO1G1{1G1{O5]Q!LYO1G1{O$)zQWO1G1{O5]Q!LYO1G1zO%&_QWO1G1|OHiQWO1G1|OOQO1G1}1G1}O5]Q!LYO1G2QO!,QQpO1G1zO#3gQWO1G1{O%&dQWO1G1|O%&lQWO1G1{OIxQWO7+*XOOQ!LS1G/T1G/TO%&wQWO1G/TOOQ!LS7+'W7+'WO%&|Q#tO7+'_O%'^Q!LdO<<JkOOQ!LS<<Jk<<JkOHiQWO'#H{O%'}QWO,5?pOOQQ<<K`<<K`OHiQWO<<K`O#FvQWO<<K`O%(VQWO<<K`O%(_Q`O<<K`OHiQWO1G2OOOQQ<<Gx<<GxO9{QWO<<GxO%(iQ!LdO<<IaOOQ!LS<<Ia<<IaOOQO,5>m,5>mO%)YQWO,5>mOOQO-E<P-E<PO%)_QWO1G5bO%)gQWO<<K{OOQQ<<K{<<K{O%)lQWO<<K{O5]Q!LYO<<K{O)uQYO<<K`OHiQWO<<K`OOQQ<<Kg<<KgO$.`Q!LbO<<KgOOQQ<<Kh<<KhO$.jQ`O<<KhO%)qQ&jO'#H}O%)|QWO,5?sOKjQYO,5?sOOQQ1G2f1G2fO#EVQ!LrO'#D}O!&VQ&jO'#GjOOQO'#IP'#IPO%*UQ&jO,5=TOOQQ,5=T,5=TO#4WQ&jO'#D}O%*]Q&jO'#D}O%*qQ&jO'#D}O%*{Q&jO'#GjO%+ZQWO7+(YO%+`QWO7+(YO%+hQ`O7+(YOOQQ7+(Y7+(YOHiQWO7+(YO)uQYO7+(YOHiQWO7+(YO%+rQWO7+(YOOQQ7+(]7+(]O5]Q!LYO7+(]O#3lQWO7+(]O5RQWO7+(]O!,QQpO7+(]O%,QQWO,5>lOOQO-E<O-E<OOOQO'#Gm'#GmO%,]QWO1G5`O5]Q!LYO<<GoOOQQ<<Go<<GoO%,eQWO<<GoO%,jQWO7+*}O%,oQWO7++OOOQQ7+(e7+(eO%,tQWO7+(eO%,yQYO7+(eO%-QQWO7+(eO)uQYO7+*}O)uQYO7++OOOQQ<<LX<<LXOOQQ<<LZ<<LZOOQQ-E<R-E<ROOQQ1G3Y1G3YO%-VQWO,5=oOOQQ,5=q,5=qO9{QWO<<LdO%-[QWO<<LdOKjQYO7+%zOOQO7+%P7+%PO%-aQ7^O1G5QO9{QWO7+%POOQO1G0P1G0PO%-kQ!LdO1G0TOOQO1G0T1G0TO)uQYO1G0TO%-uQ!LYO1G0TO9{QWO1G0PO!,QQpO1G0PO%.QQ!LYO1G0TO!&VQ&jO1G0PO%.`Q!LYO1G0TO%.tQ!LrO1G0TO%/OQ&jO1G0PO!&VQ&jO1G0TOOQ!LS<<IR<<IROOQ!LS<<I`<<I`O9{QWO<<I`O%/^Q!LdO<<NTOOQO7+)d7+)dO%/nQ!LdO7+'_O%1vQbO1G3tO%2QQ7^O7+%uO%2_Q7^O,59gO%4[Q7^O,5;|O%6XQ7^O,5<OO%8UQ7^O,5<^O%9tQ7^O7+'OO%:RQ7^O7+'PO%:`QWO,5;pOOQO7+&s7+&sO%:eQ#tO<<K^OOQO1G3|1G3|O%:uQWO1G3|O%;QQWO1G3|O%;`QWO7+*tO%;`QWO7+*tOHiQWO1G4OO%;hQ`O1G4OO%;rQWO7+*uOOQO7+'g7+'gO5]Q!LYO7+'gOOQO7+'f7+'fO$)zQWO7+'hO%;zQ`O7+'hOOQO7+'l7+'lO5]Q!LYO7+'fO$)zQWO7+'gO%<RQWO7+'hOHiQWO7+'hO#3gQWO7+'gO%<WQ#tO<<MsOOQ!LS7+$o7+$oO%<bQ`O,5>gOOQO-E;y-E;yO#FvQWOAN@zOOQQAN@zAN@zOHiQWOAN@zO%<lQ!LbO7+'jOOQQAN=dAN=dO5eQWO1G4XO%<yQWO7+*|O5]Q!LYOANAgO%=RQWOANAgOOQQANAgANAgO%=WQWOAN@zO%=`Q`OAN@zOOQQANARANAROOQQANASANASO%=jQWO,5>iOOQO-E;{-E;{O%=uQ7^O1G5_O#3lQWO,5=UO5RQWO,5=UO!,QQpO,5=UOOQO-E;}-E;}OOQQ1G2o1G2oO$7eQ!LrO,5:iO!&VQ&jO,5=UO%>PQ&jO,5=UO%>_Q&jO,5:iOOQQ<<Kt<<KtOHiQWO<<KtO%+ZQWO<<KtO%>sQWO<<KtO%>{Q`O<<KtO)uQYO<<KtOHiQWO<<KtOOQQ<<Kw<<KwO5]Q!LYO<<KwO#3lQWO<<KwO5RQWO<<KwO%?VQ&jO1G4WO%?[QWO7+*zOOQQAN=ZAN=ZO5]Q!LYOAN=ZOOQQ<<Ni<<NiOOQQ<<Nj<<NjOOQQ<<LP<<LPO%?dQWO<<LPO%?iQYO<<LPO%?pQWO<<NiO%?uQWO<<NjOOQQ1G3Z1G3ZOOQQANBOANBOO9{QWOANBOO%?zQ7^O<<IfOOQO<<Hk<<HkOOQO7+%o7+%oO%-kQ!LdO7+%oO)uQYO7+%oOOQO7+%k7+%kO9{QWO7+%kO%@UQ!LYO7+%oO!,QQpO7+%kO%@aQ!LYO7+%oO!&VQ&jO7+%kO%@oQ!LYO7+%oOOQ!LSAN>zAN>zO%ATQ!LdO<<K^O%C]Q7^O<<I{O%CjQ7^O1G1qO%EYQ7^O1G2SO%GVQ7^O1G2UO%ISQ7^O<<JkO%IaQ7^O<<IaOOQO1G1[1G1[OOQO7+)h7+)hO%InQWO7+)hO%IyQWO<<N`O%JRQ`O7+)jOOQO<<KR<<KRO5]Q!LYO<<KSO$)zQWO<<KSOOQO<<KQ<<KQO5]Q!LYO<<KRO%J]Q`O<<KSO$)zQWO<<KROOQQG26fG26fO#FvQWOG26fOOQO7+)s7+)sOOQQG27RG27RO5]Q!LYOG27ROHiQWOG26fOKjQYO1G4TO%JdQWO7+*yO5]Q!LYO1G2pO#3lQWO1G2pO5RQWO1G2pO!,QQpO1G2pO!&VQ&jO1G2pO%.tQ!LrO1G0TO%JlQ&jO1G2pO%+ZQWOANA`OOQQANA`ANA`OHiQWOANA`O%JzQWOANA`O%KSQ`OANA`OOQQANAcANAcO5]Q!LYOANAcO#3lQWOANAcOOQO'#Gn'#GnOOQO7+)r7+)rOOQQG22uG22uOOQQANAkANAkO%K^QWOANAkOOQQANDTANDTOOQQANDUANDUO%KcQYOG27jOOQO<<IZ<<IZO%-kQ!LdO<<IZOOQO<<IV<<IVO)uQYO<<IZO9{QWO<<IVO& ^Q!LYO<<IZO!,QQpO<<IVO& iQ!LYO<<IZO& wQ7^O7+'_OOQO<<MS<<MSOOQOAN@nAN@nO5]Q!LYOAN@nOOQOAN@mAN@mO$)zQWOAN@nO5]Q!LYOAN@mOOQQLD,QLD,QOOQQLD,mLD,mO#FvQWOLD,QO&#gQ7^O7+)oOOQO7+([7+([O5]Q!LYO7+([O#3lQWO7+([O5RQWO7+([O!,QQpO7+([O!&VQ&jO7+([OOQQG26zG26zO%+ZQWOG26zOHiQWOG26zOOQQG26}G26}O5]Q!LYOG26}OOQQG27VG27VO9{QWOLD-UOOQOAN>uAN>uO%-kQ!LdOAN>uOOQOAN>qAN>qO)uQYOAN>uO9{QWOAN>qO&#qQ!LYOAN>uO&#|Q7^O<<K^OOQOG26YG26YO5]Q!LYOG26YOOQOG26XG26XOOQQ!$( l!$( lOOQO<<Kv<<KvO5]Q!LYO<<KvO#3lQWO<<KvO5RQWO<<KvO!,QQpO<<KvOOQQLD,fLD,fO%+ZQWOLD,fOOQQLD,iLD,iOOQQ!$(!p!$(!pOOQOG24aG24aO%-kQ!LdOG24aOOQOG24]G24]O)uQYOG24aOOQOLD+tLD+tOOQOANAbANAbO5]Q!LYOANAbO#3lQWOANAbO5RQWOANAbOOQQ!$(!Q!$(!QOOQOLD){LD){O%-kQ!LdOLD){OOQOG26|G26|O5]Q!LYOG26|O#3lQWOG26|OOQO!$'Mg!$'MgOOQOLD,hLD,hO5]Q!LYOLD,hOOQO!$(!S!$(!SOKjQYO'#DnO&%lQbO'#ImOKjQYO'#DfO&%sQ!LdO'#CgO&&^QbO'#CgO&&nQYO,5:oOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO'#HuO&(kQWO,5;{O&)}QWO,5:yOKjQYO,5;^O!'oQWO'#C{O!'oQWO'#C{OHiQWO'#FbO&(sQWO'#FbOHiQWO'#FdO&(sQWO'#FdOHiQWO'#FrO&(sQWO'#FrOKjQYO,5?fO&&nQYO1G0ZO&*UQ7^O'#CgOKjQYO1G1dOHiQWO,5<hO&(sQWO,5<hOHiQWO,5<jO&(sQWO,5<jOHiQWO,5<VO&(sQWO,5<VO&&nQYO1G1eOKjQYO7+&aOHiQWO1G1sO&(sQWO1G1sO&&nQYO7+'PO&&nQYO7+%uOHiQWO7+'rO&(sQWO7+'rO&*`QWO'#ETO&*eQWO'#ETO&*mQWO'#ErO&*rQWO'#IzO&*}QWO'#IxO&+YQWO,5:oO&+_Q#tO,5;xO&+fQWO'#FkO&+kQWO'#FkO&+pQWO,5;yO&+xQWO,5:oO&,QQ7^O1G0uO&,XQWO,5<XO&,^QWO,5<XO&,cQWO1G1eO&,hQWO1G0ZO&,mQ#tO1G2WO&,tQ#tO1G2WO3tQWO'#F`O5RQWO'#F_OB`QWO'#ESOKjQYO,5;ZO!(OQWO'#FmO!(OQWO'#FmOIxQWO,5<lOIxQWO,5<l\",\n  stateData: \"&-p~O'POS'QOSSOSTOS~OPTOQTOWwO]bO^gOamOblOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!PSO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!jkO#[qO#lnO#p]O$woO$yrO${pO$|pO%PsO%RtO%UuO%VuO%XvO%fxO%lyO%nzO%p{O%r|O%u}O%{!OO&P!PO&R!QO&T!RO&V!SO&X!TO'SPO']QO'u`O~OPZXYZX^ZXiZXrZXsZXuZX}ZX!]ZX!^ZX!`ZX!fZX!uZX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX&}ZX']ZX'iZX'pZX'qZX~O!X$dX~P$wO&z!VO&{!UO&|!XO~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S!YO']QO'u`O~O|!^O}!ZOz'dPz'mP~P'aO!O!jO~P`OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S8lO']QO'u`O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O']QO'u`O~O|!oO!}!rO#O!oO'S8mO!_'jP~P+rO#P!sO~O!X!tO#P!sO~OP#ZOY#aOi#OOr!xOs!xOu!yO}#_O!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~O^'aX&}'aX!_'aXz'aX!P'aX$x'aX!X'aX~P.^O!u#bO#g#bOP'bXY'bX^'bXi'bXr'bXs'bXu'bX}'bX!]'bX!^'bX!`'bX!f'bX#S'bX#T'bX#U'bX#V'bX#W'bX#X'bX#Z'bX#]'bX#_'bX#a'bX#b'bX']'bX'i'bX'p'bX'q'bX~O#Y'bX&}'bXz'bX!_'bX'_'bX!P'bX$x'bX!X'bX~P0nO!u#bO~O#r#cO#y#gO~O!P#hO#p]O#|#iO$O#kO~O]#nOg#{Oi#oOj#nOk#nOn#|Op#}Ou#uO!P#vO!Z$SO!`#sO#O$TO#l$QO$V$OO$X$PO$[$RO'S#mO']#pO'W'YP~O!`$UO~O!X$WO~O^$XO&}$XO~O'S$]O~O!`$UO'S$]O'T$_O'X$`O~Ob$fO!`$UO'S$]O~O]$oOr$kO!P$hO!`$jO$y$nO'S$]O'T$_O['}P~O!j$pO~Ou$qO!P$rO'S$]O~Ou$qO!P$rO%R$vO'S$]O~O'S$wO~O#[qO$yrO${pO$|pO%PsO%RtO%UuO%VuO~Oa%QOb%PO!j$}O$w%OO%Z$|O~P7dOa%TOblO!P%SO!jkO#[qO$woO${pO$|pO%PsO%RtO%UuO%VuO%XvO~O_%WO!u%ZO$y%UO'T$_O~P8cO!`%[O!c%`O~O!`%aO~O!PSO~O^$XO&y%iO&}$XO~O^$XO&y%lO&}$XO~O^$XO&y%nO&}$XO~O&z!VO&{!UO&|%rO~OPZXYZXiZXrZXsZXuZX}ZX}cX!]ZX!^ZX!`ZX!fZX!uZX!ucX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX']ZX'iZX'pZX'qZX~OzZXzcX~P;OO|%tOz&_X}&_X~P)uO}!ZOz'dX~OP#ZOY#aOi#OOr!xOs!xOu!yO}!ZO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~Oz'dX~P=uOz%yO~Ou%|O!S&WO!T&PO!U&PO'T$_O~O]%}Oj%}O|&QO'`%zO!O'eP!O'oP~P?xOz'lX}'lX!X'lX!_'lX'i'lX~O!u'lX#P!xX!O'lX~P@qO!u&XOz'nX}'nX~O}&YOz'mX~Oz&[O~O!u#bO~P@qOR&`O!P&]O!k&_O'S$]O~Ob&eO!`$UO'S$]O~Or$kO!`$jO~O!O&fO~P`Or!xOs!xOu!yO!^!vO!`!wO']QOP!baY!bai!ba}!ba!]!ba!f!ba#S!ba#T!ba#U!ba#V!ba#W!ba#X!ba#Y!ba#Z!ba#]!ba#_!ba#a!ba#b!ba'i!ba'p!ba'q!ba~O^!ba&}!baz!ba!_!ba'_!ba!P!ba$x!ba!X!ba~PBzO!_&gO~O!X!tO!u&iO'i&hO}'kX^'kX&}'kX~O!_'kX~PEdO}&mO!_'jX~O!_&oO~Ou$qO!P$rO#O&pO'S$]O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!PSO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S8lO']QO'u`O~O]#nOg#{Oi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO'S&tO']#pO~O#P&vO~O]#nOg#{Oi#oOj#nOk#nOn#|Op#}Ou#uO!P#vO!Z$SO!`#sO#O$TO#l$QO$V$OO$X$PO$[$RO'S&tO']#pO~O'W'gP~PIxO|&zO!_'hP~P)uO'`&|O~OP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!P!`O!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O'S'[O']QO'u9|O~O!`!wO~O}#_O^$Ta&}$Ta!_$Taz$Ta!P$Ta$x$Ta!X$Ta~O#['cO~PHiO!X'eO!P'rX#o'rX#r'rX#y'rX~Or'fO~PN_Or'fO!P'rX#o'rX#r'rX#y'rX~O!P'hO#o'lO#r'gO#y'mO~O|'pO~PKjO#r#cO#y'sO~Or$]Xu$]X!^$]X'i$]X'p$]X'q$]X~OReX}eX!ueX'WeX'W$]X~P! wOj'uO~O&z'wO&{'vO&|'yO~Or'{Ou'|O'i#XO'p(OO'q(QO~O'W'zO~P!#QO'W(TO~O]#nOg#{Oi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO']#pO~O|(XO'S(UO!_'vP~P!#oO#P(ZO~O|(_O'S([Oz'wP~P!#oO^(hOi(mOu(eO!S(kO!T(dO!U(dO!`(bO!r(lO$o(gO'T$_O'`(aO~O!O(jO~P!%gO!^!vOr'[Xu'[X'i'[X'p'[X'q'[X}'[X!u'[X~O'W'[X#e'[X~P!&cOR(pO!u(oO}'ZX'W'ZX~O}(qO'W'YX~O'S(sO~O!`(xO~O'S&tO~O!`(bO~Ou$qO|!oO!P$rO!}!rO#O!oO'S$]O!_'jP~O!X!tO#P(|O~OP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~O^!Ya}!Ya&}!Yaz!Ya!_!Ya'_!Ya!P!Ya$x!Ya!X!Ya~P!(tOR)UO!P&]O!k)TO$x)SO'X$`O~O'S$wO'W'YP~O!X)XO!P'VX^'VX&}'VX~O!`$UO'X$`O~O!`$UO'S$]O'X$`O~O!X!tO#P&vO~O'S)aO!O(OP~O})eO['}X~OY)iO~O[)jO~O!P$hO'S$]O'T$_O['}P~Ou$qO|)oO!P$rO'S$]Oz'mP~O]&TOj&TO|)pO'`&|O!O'oP~O})qO^'zX&}'zX~O!u)uO'X$`O~OR)xO!P#vO'X$`O~O!P)zO~Or)|O!PSO~O!j*RO~Ob*WO~O'S(sO!O'|P~Ob$fO~O$yrO'S$wO~P8cOY*^O[*]O~OPTOQTO]bOamOblOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!jkO#p]O$woO']QO'u`O~O!P!`O#l!iO'S8lO~P!0RO[*]O^$XO&}$XO~O^*bO#[*dO${*dO$|*dO~P)uO!`%[O~O%l*iO~O!P*kO~O%|*nO%}*mOP%zaQ%zaW%za]%za^%zaa%zab%zag%zai%zaj%zak%zan%zap%zau%zaw%zax%zay%za!P%za!Z%za!`%za!c%za!d%za!e%za!f%za!g%za!j%za#[%za#l%za#p%za$w%za$y%za${%za$|%za%P%za%R%za%U%za%V%za%X%za%f%za%l%za%n%za%p%za%r%za%u%za%{%za&P%za&R%za&T%za&V%za&X%za&x%za'S%za']%za'u%za!O%za%s%za_%za%x%za~O'S*qO~O'_*tO~Oz&_a}&_a~P!(tO}!ZOz'da~Oz'da~P=uO}&YOz'ma~O}tX}!VX!OtX!O!VX!XtX!X!VX!`!VX!utX'X!VX~O!X*{O!u*zO}!|X}'fX!O!|X!O'fX!X'fX!`'fX'X'fX~O!X*}O!`$UO'X$`O}!RX!O!RX~O]%{Oj%{Ou%|O'`(aO~OP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!P!`O!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O']QO'u9|O~O'S9YO~P!9yO}+RO!O'eX~O!O+TO~O!X*{O!u*zO}!|X!O!|X~O}+UO!O'oX~O!O+WO~O]%{Oj%{Ou%|O'T$_O'`(aO~O!T+XO!U+XO~P!<tOu$qO|+[O!P$rO'S$]Oz&dX}&dX~O^+`O!S+cO!T+_O!U+_O!n+eO!o+dO!p+dO!r+fO'T$_O'`(aO~O!O+bO~P!=uOR+kO!P&]O!k+jO~O!u+qO}'ka!_'ka^'ka&}'ka~O!X!tO~P!>yO}&mO!_'ja~Ou$qO|+tO!P$rO!}+vO#O+tO'S$]O}&fX!_&fX~O^!wi}!wi&}!wiz!wi!_!wi'_!wi!P!wi$x!wi!X!wi~P!(tO#P!ta}!ta!_!ta!u!ta!P!ta^!ta&}!taz!ta~P!#QO#P'[XP'[XY'[X^'[Xi'[Xs'[X!]'[X!`'[X!f'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#a'[X#b'[X&}'[X']'[X!_'[Xz'[X!P'[X'_'[X$x'[X!X'[X~P!&cO},PO'W'gX~P!#QO'W,RO~O},SO!_'hX~P!(tO!_,VO~Oz,WO~OP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO']QOY#Ri^#Rii#Ri}#Ri!]#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O#S#Ri~P!DWO#S!|O~P!DWOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O']QOY#Ri^#Ri}#Ri!]#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~Oi#Ri~P!FrOi#OO~P!FrOP#ZOi#OOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO']QO^#Ri}#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~OY#Ri!]#Ri#X#Ri#Y#Ri#Z#Ri~P!I^OY#aO!]#QO#X#QO#Y#QO#Z#QO~P!I^OP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO']QO^#Ri}#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O'p#Ri~P!LUO'p!zO~P!LUOP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO']QO'p!zO^#Ri}#Ri#a#Ri#b#Ri&}#Ri'i#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O'q#Ri~P!NpO'q!{O~P!NpOP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO']QO'p!zO'q!{O~O^#Ri}#Ri#b#Ri&}#Ri'i#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~P##[OPZXYZXiZXrZXsZXuZX!]ZX!^ZX!`ZX!fZX!uZX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX']ZX'iZX'pZX'qZX}ZX!OZX~O#eZX~P#%oOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO#a8xO#b8yO']QO'i#XO'p!zO'q!{O~O#e,YO~P#'yOP'bXY'bXi'bXr'bXs'bXu'bX!]'bX!^'bX!`'bX!f'bX#S'bX#T'bX#U'bX#V'bX#W'bX#X'bX#Z'bX#]'bX#_'bX#a'bX#b'bX']'bX'i'bX'p'bX'q'bX}'bX~O!u8}O#g8}O#Y'bX#e'bX!O'bX~P#)tO^&ia}&ia&}&ia!_&ia'_&iaz&ia!P&ia$x&ia!X&ia~P!(tOP#RiY#Ri^#Rii#Ris#Ri}#Ri!]#Ri!^#Ri!`#Ri!f#Ri#S#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri']#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~P!#QO^#fi}#fi&}#fiz#fi!_#fi'_#fi!P#fi$x#fi!X#fi~P!(tO#r,[O~O#r,]O~O!X'eO!u,^O!P#vX#o#vX#r#vX#y#vX~O|,_O~O!P'hO#o,aO#r'gO#y,bO~O}8zO!O'aX~P#'yO!O,cO~O#y,eO~O&z'wO&{'vO&|,hO~O],kOj,kOz,lO~O}cX!XcX!_cX!_$]X'icX~P! wO!_,rO~P!#QO},sO!X!tO'i&hO!_'vX~O!_,xO~Oz$]X}$]X!X$dX~P! wO},zOz'wX~P!#QO!X,|O~Oz-OO~O|(XO'S$]O!_'vP~Oi-SO!X!tO!`$UO'X$`O'i&hO~O!X)XO~O!O-YO~P!%gO!T-ZO!U-ZO'T$_O'`(aO~Ou-]O'`(aO~O!r-^O~O'S$wO}&nX'W&nX~O}(qO'W'Ya~Or-cOs-cOu-dO'ioa'poa'qoa}oa!uoa~O'Woa#eoa~P#4xOr'{Ou'|O'i$Ua'p$Ua'q$Ua}$Ua!u$Ua~O'W$Ua#e$Ua~P#5nOr'{Ou'|O'i$Wa'p$Wa'q$Wa}$Wa!u$Wa~O'W$Wa#e$Wa~P#6aO]-eO~O#P-fO~O'W$fa}$fa#e$fa!u$fa~P!#QO#P-iO~OR-rO!P&]O!k-qO$x-pO~O'W-sO~O]#nOi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO']#pO~Og-uO'S-tO~P#8WO!X)XO!P'Va^'Va&}'Va~O#P-{O~OYZX}cX!OcX~O}-|O!O(OX~O!O.OO~OY.PO~O!P$hO'S$]O[&vX}&vX~O})eO['}a~O!_.SO~P!(tO].UO~OY.VO~O[.WO~OR-rO!P&]O!k-qO$x-pO'X$`O~O})qO^'za&}'za~O!u.^O~OR.aO!P#vO~O'`&|O!O'{P~OR.kO!P.gO!k.jO$x.iO'X$`O~OY.uO}.sO!O'|X~O!O.vO~O[.xO^$XO&}$XO~O].yO~O#Y.{O%j.|O~P0nO!u#bO#Y.{O%j.|O~O^.}O~P)uO^/PO~O%s/TOP%qiQ%qiW%qi]%qi^%qia%qib%qig%qii%qij%qik%qin%qip%qiu%qiw%qix%qiy%qi!P%qi!Z%qi!`%qi!c%qi!d%qi!e%qi!f%qi!g%qi!j%qi#[%qi#l%qi#p%qi$w%qi$y%qi${%qi$|%qi%P%qi%R%qi%U%qi%V%qi%X%qi%f%qi%l%qi%n%qi%p%qi%r%qi%u%qi%{%qi&P%qi&R%qi&T%qi&V%qi&X%qi&x%qi'S%qi']%qi'u%qi!O%qi_%qi%x%qi~O_/ZO!O/XO%x/YO~P`O!PSO!`/^O~O}#_O'_$Ta~Oz&_i}&_i~P!(tO}!ZOz'di~O}&YOz'mi~Oz/bO~O}!Ra!O!Ra~P#'yO]%{Oj%{O|/hO'`(aO}&`X!O&`X~P?xO}+RO!O'ea~O]&TOj&TO|)pO'`&|O}&eX!O&eX~O}+UO!O'oa~Oz'ni}'ni~P!(tO^$XO!X!tO!`$UO!f/sO!u/qO&}$XO'X$`O'i&hO~O!O/vO~P!=uO!T/wO!U/wO'T$_O'`(aO~O!S/yO!T/wO!U/wO!r/zO'T$_O'`(aO~O!o/{O!p/{O~P#FWO!P&]O~O!P&]O~P!#QO}'ki!_'ki^'ki&}'ki~P!(tO!u0UO}'ki!_'ki^'ki&}'ki~O}&mO!_'ji~Ou$qO!P$rO#O0WO'S$]O~O#PoaPoaYoa^oaioa!]oa!^oa!`oa!foa#Soa#Toa#Uoa#Voa#Woa#Xoa#Yoa#Zoa#]oa#_oa#aoa#boa&}oa']oa!_oazoa!Poa'_oa$xoa!Xoa~P#4xO#P$UaP$UaY$Ua^$Uai$Uas$Ua!]$Ua!^$Ua!`$Ua!f$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#a$Ua#b$Ua&}$Ua']$Ua!_$Uaz$Ua!P$Ua'_$Ua$x$Ua!X$Ua~P#5nO#P$WaP$WaY$Wa^$Wai$Was$Wa!]$Wa!^$Wa!`$Wa!f$Wa#S$Wa#T$Wa#U$Wa#V$Wa#W$Wa#X$Wa#Y$Wa#Z$Wa#]$Wa#_$Wa#a$Wa#b$Wa&}$Wa']$Wa!_$Waz$Wa!P$Wa'_$Wa$x$Wa!X$Wa~P#6aO#P$faP$faY$fa^$fai$fas$fa}$fa!]$fa!^$fa!`$fa!f$fa#S$fa#T$fa#U$fa#V$fa#W$fa#X$fa#Y$fa#Z$fa#]$fa#_$fa#a$fa#b$fa&}$fa']$fa!_$faz$fa!P$fa!u$fa'_$fa$x$fa!X$fa~P!#QO^!wq}!wq&}!wqz!wq!_!wq'_!wq!P!wq$x!wq!X!wq~P!(tO}&aX'W&aX~PIxO},PO'W'ga~O|0`O}&bX!_&bX~P)uO},SO!_'ha~O},SO!_'ha~P!(tO#e!ba!O!ba~PBzO#e!Ya}!Ya!O!Ya~P#'yO!P0sO#p]O#w0tO~O!O0xO~O'_0yO~P!#QO^$Qq}$Qq&}$Qqz$Qq!_$Qq'_$Qq!P$Qq$x$Qq!X$Qq~P!(tOz0zO~O],kOj,kO~Or'{Ou'|O'q(QO'i$pi'p$pi}$pi!u$pi~O'W$pi#e$pi~P$&YOr'{Ou'|O'i$ri'p$ri'q$ri}$ri!u$ri~O'W$ri#e$ri~P$&{O#e0{O~P!#QO|0}O'S$]O}&jX!_&jX~O},sO!_'va~O},sO!X!tO!_'va~O},sO!X!tO'i&hO!_'va~O'W$_i}$_i#e$_i!u$_i~P!#QO|1UO'S([Oz&lX}&lX~P!#oO},zOz'wa~O},zOz'wa~P!#QO!X!tO~O!X!tO#Y1`O~Oi1dO!X!tO'i&hO~O}'Zi'W'Zi~P!#QO!u1gO}'Zi'W'Zi~P!#QO!_1jO~O^$Rq}$Rq&}$Rqz$Rq!_$Rq'_$Rq!P$Rq$x$Rq!X$Rq~P!(tO}1nO!P'xX~P!#QO!P&]O$x1qO~O!P&]O$x1qO~P!#QO!P$]X$mZX^$]X&}$]X~P! wO$m1uOrfXufX!PfX'ifX'pfX'qfX^fX&}fX~O$m1uO~O'S)aO}&uX!O&uX~O}-|O!O(Oa~O[2OO~O]2RO~OR2TO!P&]O!k2SO$x1qO~O^$XO&}$XO~P!#QO!P#vO~P!#QO}2YO!u2[O!O'{X~O!O2]O~Ou(eO!S2fO!T2_O!U2_O!n2eO!o2dO!p2dO!r2cO'T$_O'`(aO~O!O2bO~P$/ROR2mO!P.gO!k2lO$x2kO~OR2mO!P.gO!k2lO$x2kO'X$`O~O'S(sO}&tX!O&tX~O}.sO!O'|a~O'`2vO~O]2xO~O[2zO~O!_2}O~P)uO^3PO~O^3PO~P)uO#Y3RO%j3SO~PEdO_/ZO!O3WO%x/YO~P`O!X3YO~O%}3ZOP%zqQ%zqW%zq]%zq^%zqa%zqb%zqg%zqi%zqj%zqk%zqn%zqp%zqu%zqw%zqx%zqy%zq!P%zq!Z%zq!`%zq!c%zq!d%zq!e%zq!f%zq!g%zq!j%zq#[%zq#l%zq#p%zq$w%zq$y%zq${%zq$|%zq%P%zq%R%zq%U%zq%V%zq%X%zq%f%zq%l%zq%n%zq%p%zq%r%zq%u%zq%{%zq&P%zq&R%zq&T%zq&V%zq&X%zq&x%zq'S%zq']%zq'u%zq!O%zq%s%zq_%zq%x%zq~O}!|i!O!|i~P#'yO!u3]O}!|i!O!|i~O}!Ri!O!Ri~P#'yO^$XO!u3dO&}$XO~O^$XO!X!tO!u3dO&}$XO~O^$XO!X!tO!`$UO!f3hO!u3dO&}$XO'X$`O'i&hO~O!T3iO!U3iO'T$_O'`(aO~O!S3lO!T3iO!U3iO!r3mO'T$_O'`(aO~O^$XO!X!tO!f3hO!u3dO&}$XO'i&hO~O}'kq!_'kq^'kq&}'kq~P!(tO}&mO!_'jq~O#P$piP$piY$pi^$pii$pis$pi!]$pi!^$pi!`$pi!f$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#a$pi#b$pi&}$pi']$pi!_$piz$pi!P$pi'_$pi$x$pi!X$pi~P$&YO#P$riP$riY$ri^$rii$ris$ri!]$ri!^$ri!`$ri!f$ri#S$ri#T$ri#U$ri#V$ri#W$ri#X$ri#Y$ri#Z$ri#]$ri#_$ri#a$ri#b$ri&}$ri']$ri!_$riz$ri!P$ri'_$ri$x$ri!X$ri~P$&{O#P$_iP$_iY$_i^$_ii$_is$_i}$_i!]$_i!^$_i!`$_i!f$_i#S$_i#T$_i#U$_i#V$_i#W$_i#X$_i#Y$_i#Z$_i#]$_i#_$_i#a$_i#b$_i&}$_i']$_i!_$_iz$_i!P$_i!u$_i'_$_i$x$_i!X$_i~P!#QO}&aa'W&aa~P!#QO}&ba!_&ba~P!(tO},SO!_'hi~O#e!wi}!wi!O!wi~P#'yOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO']QOY#Rii#Ri!]#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~O#S#Ri~P$@xO#S8oO~P$@xOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO']QOY#Ri!]#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~Oi#Ri~P$CQOi8qO~P$CQOP#ZOi8qOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO']QO#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~OY#Ri!]#Ri#X#Ri#Y#Ri#Z#Ri~P$EYOY8|O!]8sO#X8sO#Y8sO#Z8sO~P$EYOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO']QO#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'q#Ri}#Ri!O#Ri~O'p#Ri~P$GnO'p!zO~P$GnOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO']QO'p!zO#a#Ri#b#Ri#e#Ri'i#Ri}#Ri!O#Ri~O'q#Ri~P$IvO'q!{O~P$IvOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO#a8xO']QO'p!zO'q!{O~O#b#Ri#e#Ri'i#Ri}#Ri!O#Ri~P$LOO^#cy}#cy&}#cyz#cy!_#cy'_#cy!P#cy$x#cy!X#cy~P!(tOP#RiY#Rii#Ris#Ri!]#Ri!^#Ri!`#Ri!f#Ri#S#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri']#Ri}#Ri!O#Ri~P!#QO!^!vOP'[XY'[Xi'[Xr'[Xs'[Xu'[X!]'[X!`'[X!f'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#a'[X#b'[X#e'[X']'[X'i'[X'p'[X'q'[X}'[X!O'[X~O#e#fi}#fi!O#fi~P#'yO!O3}O~O}&ia!O&ia~P#'yO!X!tO'i&hO}&ja!_&ja~O},sO!_'vi~O},sO!X!tO!_'vi~Oz&la}&la~P!#QO!X4UO~O},zOz'wi~P!#QO},zOz'wi~Oz4[O~O!X!tO#Y4bO~Oi4cO!X!tO'i&hO~Oz4eO~O'W$aq}$aq#e$aq!u$aq~P!#QO^$Ry}$Ry&}$Ryz$Ry!_$Ry'_$Ry!P$Ry$x$Ry!X$Ry~P!(tO}1nO!P'xa~O!P&]O$x4jO~O!P&]O$x4jO~P!#QO^!wy}!wy&}!wyz!wy!_!wy'_!wy!P!wy$x!wy!X!wy~P!(tOY4mO~O}-|O!O(Oi~O]4oO~O[4pO~O'`&|O}&qX!O&qX~O}2YO!O'{a~O!O4}O~P$/RO!S5QO!T5PO!U5PO!r/zO'T$_O'`(aO~O!o5RO!p5RO~P%*]O!T5PO!U5PO'T$_O'`(aO~O!P.gO~O!P.gO$x5TO~O!P.gO$x5TO~P!#QOR5YO!P.gO!k5XO$x5TO~OY5_O}&ta!O&ta~O}.sO!O'|i~O]5bO~O!_5cO~O!_5dO~O!_5eO~O!_5eO~P)uO^5gO~O!X5jO~O!_5lO~O}'ni!O'ni~P#'yO^$XO&}$XO~P!(tO^$XO!u5qO&}$XO~O^$XO!X!tO!u5qO&}$XO~O^$XO!X!tO!f5vO!u5qO&}$XO'i&hO~O!`$UO'X$`O~P%.`O!T5wO!U5wO'T$_O'`(aO~O}'ky!_'ky^'ky&}'ky~P!(tO#P$aqP$aqY$aq^$aqi$aqs$aq}$aq!]$aq!^$aq!`$aq!f$aq#S$aq#T$aq#U$aq#V$aq#W$aq#X$aq#Y$aq#Z$aq#]$aq#_$aq#a$aq#b$aq&}$aq']$aq!_$aqz$aq!P$aq!u$aq'_$aq$x$aq!X$aq~P!#QO}&bi!_&bi~P!(tO#e!wq}!wq!O!wq~P#'yOr-cOs-cOu-dOPoaYoaioa!]oa!^oa!`oa!foa#Soa#Toa#Uoa#Voa#Woa#Xoa#Yoa#Zoa#]oa#_oa#aoa#boa#eoa']oa'ioa'poa'qoa}oa!Ooa~Or'{Ou'|OP$UaY$Uai$Uas$Ua!]$Ua!^$Ua!`$Ua!f$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#a$Ua#b$Ua#e$Ua']$Ua'i$Ua'p$Ua'q$Ua}$Ua!O$Ua~Or'{Ou'|OP$WaY$Wai$Was$Wa!]$Wa!^$Wa!`$Wa!f$Wa#S$Wa#T$Wa#U$Wa#V$Wa#W$Wa#X$Wa#Y$Wa#Z$Wa#]$Wa#_$Wa#a$Wa#b$Wa#e$Wa']$Wa'i$Wa'p$Wa'q$Wa}$Wa!O$Wa~OP$faY$fai$fas$fa!]$fa!^$fa!`$fa!f$fa#S$fa#T$fa#U$fa#V$fa#W$fa#X$fa#Y$fa#Z$fa#]$fa#_$fa#a$fa#b$fa#e$fa']$fa}$fa!O$fa~P!#QO#e$Qq}$Qq!O$Qq~P#'yO#e$Rq}$Rq!O$Rq~P#'yO!O6RO~O'W$ty}$ty#e$ty!u$ty~P!#QO!X!tO}&ji!_&ji~O!X!tO'i&hO}&ji!_&ji~O},sO!_'vq~Oz&li}&li~P!#QO},zOz'wq~Oz6YO~P!#QOz6YO~O}'Zy'W'Zy~P!#QO}&oa!P&oa~P!#QO!P$lq^$lq&}$lq~P!#QO}-|O!O(Oq~O]6cO~O!P&]O$x6dO~O!P&]O$x6dO~P!#QO!u6eO}&qa!O&qa~O}2YO!O'{i~P#'yO!T6kO!U6kO'T$_O'`(aO~O!S6mO!T6kO!U6kO!r3mO'T$_O'`(aO~O!P.gO$x6pO~O!P.gO$x6pO~P!#QO'`6vO~O}.sO!O'|q~O!_6yO~O!_6yO~P)uO!_6{O~O!_6|O~O}!|y!O!|y~P#'yO^$XO!u7RO&}$XO~O^$XO!X!tO!u7RO&}$XO~O^$XO!X!tO!f7VO!u7RO&}$XO'i&hO~O#P$tyP$tyY$ty^$tyi$tys$ty}$ty!]$ty!^$ty!`$ty!f$ty#S$ty#T$ty#U$ty#V$ty#W$ty#X$ty#Y$ty#Z$ty#]$ty#_$ty#a$ty#b$ty&}$ty']$ty!_$tyz$ty!P$ty!u$ty'_$ty$x$ty!X$ty~P!#QO#e#cy}#cy!O#cy~P#'yOP$_iY$_ii$_is$_i!]$_i!^$_i!`$_i!f$_i#S$_i#T$_i#U$_i#V$_i#W$_i#X$_i#Y$_i#Z$_i#]$_i#_$_i#a$_i#b$_i#e$_i']$_i}$_i!O$_i~P!#QOr'{Ou'|O'q(QOP$piY$pii$pis$pi!]$pi!^$pi!`$pi!f$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#a$pi#b$pi#e$pi']$pi'i$pi'p$pi}$pi!O$pi~Or'{Ou'|OP$riY$rii$ris$ri!]$ri!^$ri!`$ri!f$ri#S$ri#T$ri#U$ri#V$ri#W$ri#X$ri#Y$ri#Z$ri#]$ri#_$ri#a$ri#b$ri#e$ri']$ri'i$ri'p$ri'q$ri}$ri!O$ri~O#e$Ry}$Ry!O$Ry~P#'yO#e!wy}!wy!O!wy~P#'yO!X!tO}&jq!_&jq~O},sO!_'vy~Oz&lq}&lq~P!#QOz7]O~P!#QO}2YO!O'{q~O!T7hO!U7hO'T$_O'`(aO~O!P.gO$x7kO~O!P.gO$x7kO~P!#QO!_7nO~O%}7oOP%z!ZQ%z!ZW%z!Z]%z!Z^%z!Za%z!Zb%z!Zg%z!Zi%z!Zj%z!Zk%z!Zn%z!Zp%z!Zu%z!Zw%z!Zx%z!Zy%z!Z!P%z!Z!Z%z!Z!`%z!Z!c%z!Z!d%z!Z!e%z!Z!f%z!Z!g%z!Z!j%z!Z#[%z!Z#l%z!Z#p%z!Z$w%z!Z$y%z!Z${%z!Z$|%z!Z%P%z!Z%R%z!Z%U%z!Z%V%z!Z%X%z!Z%f%z!Z%l%z!Z%n%z!Z%p%z!Z%r%z!Z%u%z!Z%{%z!Z&P%z!Z&R%z!Z&T%z!Z&V%z!Z&X%z!Z&x%z!Z'S%z!Z']%z!Z'u%z!Z!O%z!Z%s%z!Z_%z!Z%x%z!Z~O^$XO!u7sO&}$XO~O^$XO!X!tO!u7sO&}$XO~OP$aqY$aqi$aqs$aq!]$aq!^$aq!`$aq!f$aq#S$aq#T$aq#U$aq#V$aq#W$aq#X$aq#Y$aq#Z$aq#]$aq#_$aq#a$aq#b$aq#e$aq']$aq}$aq!O$aq~P!#QO}&qq!O&qq~P#'yO^$XO!u8XO&}$XO~OP$tyY$tyi$tys$ty!]$ty!^$ty!`$ty!f$ty#S$ty#T$ty#U$ty#V$ty#W$ty#X$ty#Y$ty#Z$ty#]$ty#_$ty#a$ty#b$ty#e$ty']$ty}$ty!O$ty~P!#QO'_'aX~P.^O'_ZXzZX!_ZX%jZX!PZX$xZX!XZX~P$wO!XcX!_ZX!_cX'icX~P;OOP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!PSO!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O'S'[O']QO'u9|O~O}8zO!O$Ta~O]#nOg#{Oi#oOj#nOk#nOn#|Op9POu#uO!P#vO!Z:RO!`#sO#O9VO#l$QO$V9RO$X9TO$[$RO'S&tO']#pO~O#['cO~P&(sO!OZX!OcX~P;OO#P8nO~O!X!tO#P8nO~O!u8}O~O!u9WO}'nX!O'nX~O!u8}O}'lX!O'lX~O#P9XO~O'W9ZO~P!#QO#P9`O~O#P9aO~O!X!tO#P9bO~O!X!tO#P9XO~O#e9cO~P#'yO#P9dO~O#P9eO~O#P9fO~O#P9gO~O#e9hO~P!#QO#e9iO~P!#QO#p~!^!n!p!}#O'u$V$X$[$m$w$x$y%P%R%U%V%X%Z~TS#p'u#Ty'P'Q#r'P'S'`~\",\n  goto: \"#=a(SPPPPPPP(TP(eP*QPPPP-aPP-v2z4m5QP5QPPP5Q5QP5QP6nPP6sP7[PPPP;kPPPP;k>ZPPP>a@dP;kPBwPPPPDo;kPPPPPFh;kPPIgJdPPPJhPJpKqP;k;kNx!#q!(a!(a!+nPPP!+u;kPPPPPPPPPP!.iP!/zPP;k!1XP;kP;k;k;k;kP;k!3lPP!6cP!9U!9^!9b!9bP!6`P!9f!9fP!<XP!<];k;k!<c!?T5QP5QP5Q5QP!@W5Q5Q!A{5Q5Q5Q!C}5Q5Q!Dk!Fe!Fe!Fi!Fe!FqP!FeP5Q!Gm5Q!Hw5Q5Q-aPPP!JUPP!Jn!JnP!JnP!KT!JnPP!KZP!KQP!KQ!KmJl!KQ!L[!Lb!Le(T!Lh(TP!Lo!Lo!LoP(TP(TP(TP(TPP(TP!Lu!LxP!Lx(TPPP(TP(TP(TP(TP(TP(T(T!L|!MW!M^!Md!Mr!Mx!NO!NY!N`!Nj!Np# O# U# [# j#!P##c##q##w##}#$T#$Z#$e#$k#$q#${#%V#%]PPPPPPPPP#%cPP#&V#*TPP#+h#+o#+wP#0TPP#0X#2l#8f#8j#8m#8p#8{#9OP#9R#9V#9t#:i#:m#;PPP#;T#;Z#;_P#;b#;f#;i#<X#<o#<t#<w#<z#=Q#=T#=X#=]mgOSi{!k$W%_%b%c%e*f*k/T/WQ$elQ$lnQ%VwS&P!`+RQ&d!gS(d#v(iQ)_$fQ)k$nQ*V%PQ+X&WS+_&]+aQ+o&eQ-Z(kQ.r*WU/w+c+d+eS2_.g2aS3i/y/{U5P2d2e2fQ5w3lS6k5Q5RR7h6m$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!j'^#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ(t#}Q)d$hQ*X%SQ*`%[Q+y9OQ-v)XQ.z*^Q1{-|Q2t.sR3v9PpdOSiw{!k$W%U%_%b%c%e*f*k/T/WR*Z%W&WVOSTijm{!Q!U!Z!h!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:O:PW!aRU!^&QQ$^kQ$dlS$in$nv$spq!o!r$U$q&Y&m&p)o)p)q*d*{+[+t+v/^0WQ${uQ&a!fQ&c!gS(W#s(bS)^$e$fQ)b$hQ)n$pQ*Q$}Q*U%PS+n&d&eQ,w(XQ-z)_Q.Q)eQ.T)iQ.m*RS.q*V*WQ0S+oQ0|,sQ1z-|Q1}.PQ2Q.VQ2s.rQ4R0}R6a4m!W$bl!g$d$e$f&O&c&d&e(c)^)_+O+^+n+o-T-z/m/t/x0S1c3g3k5u7UQ)V$^Q)v$xQ)y$yQ*T%PQ.X)nQ.l*QU.p*U*V*WQ2n.mS2r.q.rQ4z2^Q5^2sS6i4{5OS7f6j6lQ8O7gR8^8PW#y`$`(q9|S$xr%UQ$ysQ$ztR)t$v$V#x`!t!v#a#s#u$O$P$T&`'v(P(R(S(Z(_(o(p)S)U)X)u)x+k,P,z,|-f-p-r.^.a.i.k0{1U1`1g1n1q1u2T2k2m4U4b4j5T5Y6d6p7k8|9Q9R9S9T9U9V9[9]9^9_9`9a9d9e9h9i9|:S:TV(u#}9O9PU&T!`$r+UQ&}!xQ)h$kQ,j'{Q.b)zQ1h-cR4v2Y&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:P$]#^Y!]!l$[%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,Z,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9u&ZbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ&R!`R/i+RY%{!`&P&W+R+XS(c#v(iS+^&]+aS-T(d(kQ-U(eQ-[(lQ.d)|S/t+_+cS/x+d+eS/|+f2cQ1c-ZQ1e-]Q1f-^S2^.g2aS3g/w/yQ3j/zQ3k/{S4{2_2fS5O2d2eS5u3i3lQ5x3mS6j5P5QQ6l5RQ7U5wS7g6k6mR8P7hlgOSi{!k$W%_%b%c%e*f*k/T/WQ%g!OS&q!s8nQ)[$cQ*O${Q*P$|Q+l&bS+}&v9XS-h(|9bQ-x)]Q.f)}Q/[*mQ/]*nQ/e*|Q0Q+mS1m-i9fQ1v-yS1y-{9gQ3^/gQ3a/oQ3o0RQ4l1wQ5k3ZQ5n3`Q5r3fQ5y3pQ6}5lQ7Q5sQ7r7SQ8T7oR8W7t$W#]Y!]!l%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9uU(n#w&u0qT)Q$[,Z$W#[Y!]!l%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9uQ'_#]S)P$[,ZR-j)Q&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ%byQ%czQ%e|Q%f}R/S*iQ&^!fQ)R$^Q+i&aS-o)V)nS/}+g+hW1p-l-m-n.XS3n0O0PU4i1r1s1tU6_4h4r4sQ7_6`R7z7aT+`&]+aS+`&]+aT2`.g2aS&k!n/QQ,v(WQ-R(cS/s+^2^Q1R,wS1]-S-[U3h/x/|5OQ4Q0|S4`1d1fU5v3j3k6lQ6T4RQ6^4cR7V5xQ!uXS&j!n/QQ(}$VQ)Y$aQ)`$gQ+r&kQ,u(WQ-Q(cQ-V(fQ-w)ZQ.n*SS/r+^2^S1Q,v,wS1[-R-[Q1_-UQ1b-WQ2p.oW3e/s/x/|5OQ4P0|Q4T1RS4Y1]1fQ4a1eQ5[2qW5t3h3j3k6lS6S4Q4RQ6X4[Q6[4`Q6g4yQ6t5]S7T5v5xQ7X6TQ7Z6YQ7^6^Q7d6hQ7m6uQ7u7VQ7x7]Q7|7eQ8[7}Q8c8]Q8g8dQ9o9kQ9x9sR9y9t$nWORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XS!um!h!j9j#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR9o:O$nXORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XQ$Va!W$al!g$d$e$f&O&c&d&e(c)^)_+O+^+n+o-T-z/m/t/x0S1c3g3k5u7US$gm!hQ)Z$bQ*S%PW.o*T*U*V*WU2q.p.q.rQ4y2^S5]2r2sU6h4z4{5OQ6u5^U7e6i6j6lS7}7f7gS8]8O8PQ8d8^!j9k#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ9s9}R9t:O$f[OSTij{!Q!U!Z!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XU!eRU!^v$spq!o!r$U$q&Y&m&p)o)p)q*d*{+[+t+v/^0WQ*a%[!h9l#Y#h'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR9n&QS&U!`$rR/k+U$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!j'^#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR*`%[!h#SY!]$[%s%w&r&y'W'X'Y'Z'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8j!R8u']'n+P,Z/c/f0c0k0l0m0n0r0w3_3u3z3{4x5m5{6P6Q7b9u!d#UY!]$[%s%w&r&y'Y'Z'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8j}8w']'n+P,Z/c/f0c0m0n0r0w3_3u3z3{4x5m5{6P6Q7b9u!`#YY!]$[%s%w&r&y'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8jl(S#q&w({,q,y-_-`0]1k4O4d9p9z9{x:P']'n+P,Z/c/f0c0r0w3_3u3z3{4x5m5{6P6Q7b9u!`:S&s'b(V(]+h+|,f,}-k-n.]._0P0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6rZ:T0p3y5|7W7v&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PS#i_#jR0t,^&a^ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,^,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PS#d]#kT'g#f'kT#e]#kT'i#f'k&a_ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,^,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PT#i_#jQ#l_R'r#j$naORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!k9}#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:P#RcOSUi{!Q!U!k!y#h$W%W%Z%[%_%a%b%c%e%i%|&_'p)T*b*f*k+j,_-d-q.j.{.|.}/P/T/W/Y0s2S2l3P3R3S5X5gt#w`!v$O$P$T(P(R(S(Z(o(p,P-f0{1g9|:S:T!|&u!t#a#s#u&`'v(_)S)U)X)u)x+k,z,|-p-r.^.a.i.k1U1`1n1q1u2T2k2m4U4b4j5T5Y6d6p7k9Q9S9U9[9^9`9d9hQ(y$Rc0q8|9R9T9V9]9_9a9e9it#t`!v$O$P$T(P(R(S(Z(o(p,P-f0{1g9|:S:TS(f#v(iQ(z$SQ-W(g!|9q!t#a#s#u&`'v(_)S)U)X)u)x+k,z,|-p-r.^.a.i.k1U1`1n1q1u2T2k2m4U4b4j5T5Y6d6p7k9Q9S9U9[9^9`9d9hb9r8|9R9T9V9]9_9a9e9iQ9v:QR9w:RleOSi{!k$W%_%b%c%e*f*k/T/WQ(^#uQ*r%lQ*s%nR1T,z$U#x`!t!v#a#s#u$O$P$T&`'v(P(R(S(Z(_(o(p)S)U)X)u)x+k,P,z,|-f-p-r.^.a.i.k0{1U1`1g1n1q1u2T2k2m4U4b4j5T5Y6d6p7k8|9Q9R9S9T9U9V9[9]9^9_9`9a9d9e9h9i9|:S:TQ)w$yQ.`)yQ2W._R4u2XT(h#v(iS(h#v(iT2`.g2aQ)Y$aQ-V(fQ-w)ZQ.n*SQ2p.oQ5[2qQ6g4yQ6t5]Q7d6hQ7m6uQ7|7eQ8[7}Q8c8]R8g8dl(P#q&w({,q,y-_-`0]1k4O4d9p9z9{!`9[&s'b(V(]+h+|,f,}-k-n.]._0P0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6rZ9]0p3y5|7W7vn(R#q&w({,o,q,y-_-`0]1k4O4d9p9z9{!b9^&s'b(V(]+h+|,f,}-k-n.]._0P0Y0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6r]9_0p3y5|5}7W7vpdOSiw{!k$W%U%_%b%c%e*f*k/T/WQ%RvR*b%[pdOSiw{!k$W%U%_%b%c%e*f*k/T/WR%RvQ){$zR.[)tqdOSiw{!k$W%U%_%b%c%e*f*k/T/WQ.h*QS2j.l.mW5S2g2h2i2nU6o5U5V5WU7i6n6q6rQ8Q7jR8_8RQ%YwR*[%UR2w.uR6w5_S$in$nR.Q)eQ%_xR*f%`R*l%fT/U*k/WQiOQ!kST$Zi!kQ'x#pR,g'xQ!WQR%q!WQ![RU%u![%v*wQ%v!]R*w%wQ+S&RR/j+SQ,Q&wR0^,QQ,T&yS0a,T0bR0b,UQ+a&]R/u+aQ&Z!cQ*x%xT+]&Z*xQ+V&UR/l+VQ&n!pQ+s&lU+w&n+s0XR0X+xQ'k#fR,`'kQ#j_R'q#jQ#`YU'a#`*u8{Q*u8jR8{'nQ,t(WW1O,t1P4S6UU1P,u,v,wS4S1Q1RR6U4T#q'}#q&s&w'b(V(](v(w({+h+z+{+|,f,o,p,q,y,}-_-`-k-n.]._0P0Y0Z0[0]0p1S1W1k1t2V2X2i3s3w3x3y4O4V4]4d4f4k4s5W5z5|5}6O6V6]6r7W7v9p9z9{Q,{(]U1V,{1X4WQ1X,}R4W1WQ(i#vR-X(iQ(r#zR-b(rQ1o-kR4g1oQ)r$tR.Z)rQ2Z.bS4w2Z6fR6f4xQ)}${R.e)}Q2a.gR4|2aQ.t*XS2u.t5`R5`2wQ-})bS1|-}4nR4n1}Q)f$iR.R)fQ/W*kR3V/WWhOSi!kQ%d{Q)O$WQ*e%_Q*g%bQ*h%cQ*j%eQ/R*fS/U*k/WR3U/TQ$YfQ%h!PQ%k!RQ%m!SQ%o!TQ)m$oQ)s$uQ*Z%YQ*p%jS.w*[*_Q/_*oQ/`*rQ/a*sS/p+^2^Q1Y-PQ1Z-QQ1a-VQ2P.UQ2U.]Q2o.nQ2y.yQ3T/SY3c/r/s/x/|5OQ4X1[Q4Z1^Q4^1bQ4q2RQ4t2VQ5Z2pQ5a2x[5o3b3e3h3j3k6lQ6W4YQ6Z4_Q6b4oQ6s5[Q6x5bW7O5p5t5v5xQ7Y6XQ7[6[Q7`6cQ7c6gQ7l6tU7p7P7T7VQ7w7ZQ7y7^Q7{7dQ8S7mS8U7q7uQ8Y7xQ8Z7|Q8`8VQ8b8[Q8e8aQ8f8cR8h8gQ$clQ&b!gU)]$d$e$fQ*|&OU+m&c&d&eQ-P(cS-y)^)_Q/g+OQ/o+^S0R+n+oQ1^-TQ1w-zQ3`/mS3f/t/xQ3p0SQ4_1cS5s3g3kQ7S5uR7t7US#r`9|R)W$`U#z`$`9|R-a(qQ#q`S&s!t)XQ&w!vQ'b#aQ(V#sQ(]#uQ(v$OQ(w$PQ({$TQ+h&`Q+z9QQ+{9SQ+|9UQ,f'vQ,o(PQ,p(RQ,q(SQ,y(ZQ,}(_Q-_(oQ-`(pd-k)S-p.i1q2k4j5T6d6p7kQ-n)UQ.])uQ._)xQ0P+kQ0Y9[Q0Z9^Q0[9`Q0],PQ0p8|Q1S,zQ1W,|Q1k-fQ1t-rQ2V.^Q2X.aQ2i.kQ3s9dQ3w9RQ3x9TQ3y9VQ4O0{Q4V1UQ4]1`Q4d1gQ4f1nQ4k1uQ4s2TQ5W2mQ5z9hQ5|9aQ5}9]Q6O9_Q6V4UQ6]4bQ6r5YQ7W9eQ7v9iQ9p9|Q9z:SR9{:TT'w#p'xlfOSi{!k$W%_%b%c%e*f*k/T/WS!mU%aQ%j!QQ%p!UQ'O!yQ'o#hS*_%W%ZQ*c%[Q*o%iQ*y%|Q+g&_Q,d'pQ-m)TQ/O*bQ0O+jQ0v,_Q1i-dQ1s-qQ2h.jQ2{.{Q2|.|Q3O.}Q3Q/PQ3X/YQ3|0sQ4r2SQ5V2lQ5f3PQ5h3RQ5i3SQ6q5XR6z5g!vYOSUi{!Q!k!y$W%W%Z%[%_%a%b%c%e%i%|&_)T*b*f*k+j-d-q.j.{.|.}/P/T/W/Y2S2l3P3R3S5X5gQ!]RQ!lTQ$[jQ%s!ZQ%w!^Q&r!sQ&y!wQ'P!|Q'Q!}Q'R#OQ'S#PQ'T#QQ'U#RQ'V#SQ'W#TQ'X#UQ'Y#VQ'Z#WQ']#YQ'`#_Q'd#bW'n#h'p,_0sQ)g$jQ*v%tS+P&Q/hQ+Y&XQ+p&iQ,O&vQ,U&zQ,X8iQ,Z8kQ,i'zQ-g(|Q/c*zQ/f*}Q0T+qQ0_,SQ0c8nQ0d8oQ0e8pQ0f8qQ0g8rQ0h8sQ0i8tQ0j8uQ0k8vQ0l8wQ0m8xQ0n8yQ0o,YQ0r8}Q0w8zQ1l-iQ1x-{Q3_9WQ3b/qQ3q0UQ3t0`Q3u9XQ3z9ZQ3{9bQ4x2[Q5m3]Q5p3dQ5{9cQ6P9fQ6Q9gQ7P5qQ7b6eQ7q7RQ8V7sQ8a8XQ8j!UR9u:PT!VQ!WR!_RR&S!`S&O!`+RS+O&P&WR/m+XR&x!vR&{!wT!qU$US!pU$UU$tpq*dS&l!o!rQ+u&mQ+x&pQ.Y)qS0V+t+vR3r0W[!bR!^$q&Y)o+[h!nUpq!o!r$U&m&p)q+t+v0WQ/Q*dQ/d*{Q3[/^T9m&Q)pT!dR$qS!cR$qS%x!^)oS+Q&Q)pQ+Z&YR/n+[T&V!`$rQ#f]R't#kT'j#f'kR0u,^T(Y#s(bR(`#uQ-l)SQ1r-pQ2g.iQ4h1qQ5U2kQ6`4jQ6n5TQ7a6dQ7j6pR8R7klgOSi{!k$W%_%b%c%e*f*k/T/WQ%XwR*Z%UV$upq*dR.c)zR*Y%SQ$mnR)l$nR)c$hT%]x%`T%^x%`T/V*k/W\",\n  nodeNames: \"⚠ ArithOp ArithOp extends LineComment BlockComment Script ExportDeclaration export Star as VariableName from String ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyNameDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract PropertyDeclaration readonly Optional TypeAnnotation Equals FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp in instanceof const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplatExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement\",\n  maxTerm: 325,\n  context: trackNewline,\n  nodeProps: [\n    [NodeProp.group, -26,7,14,16,54,176,180,183,184,186,189,192,203,205,211,213,215,217,220,226,230,232,234,236,238,240,241,\"Statement\",-30,11,13,23,26,27,38,39,40,41,43,48,56,64,70,71,84,85,94,95,111,114,116,117,118,119,121,122,140,141,143,\"Expression\",-22,22,24,28,29,31,144,146,148,149,151,152,153,155,156,157,159,160,161,170,172,174,175,\"Type\",-2,75,79,\"ClassItem\"],\n    [NodeProp.closedBy, 37,\"]\",47,\"}\",62,\")\",124,\"JSXSelfCloseEndTag JSXEndTag\",138,\"JSXEndTag\"],\n    [NodeProp.openedBy, 42,\"[\",46,\"{\",61,\"(\",123,\"JSXStartTag\",133,\"JSXStartTag JSXStartCloseTag\"]\n  ],\n  skippedNodes: [0,4,5],\n  repeatNodeCount: 28,\n  tokenData: \"!As~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst%Ttu0huv2xvw3mwx4kxy;Ryz;cz{;s{|<s|}=W}!O<s!O!P=h!P!QAt!Q!R!.d!R![!/y![!]!5i!]!^!5{!^!_!6]!_!`!7Y!`!a!8Q!a!b!9w!b!c%T!c!}0h!}#O!;Y#O#P%T#P#Q!;j#Q#R!;z#R#S0h#S#T!<_#T#o0h#o#p!<o#p#q!<t#q#r!=[#r#s!=n#s$f%T$f$g%c$g#BY0h#BY#BZ!>O#BZ$IS0h$IS$I_!>O$I_$I|0h$I|$I}!@g$I}$JO!@g$JO$JT0h$JT$JU!>O$JU$KV0h$KV$KW!>O$KW&FU0h&FU&FV!>O&FV?HT0h?HT?HU!>O?HU~0hW%YR#|WO!^%T!_#o%T#p~%T,T%jg#|W'P+{OX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T,T'YR#|W'Q+{O!^%T!_#o%T#p~%T$T'jS#|W!f#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#]#v#|WO!^%T!_!`(Z!`#o%T#p~%T$O(bR#]#v#|WO!^%T!_#o%T#p~%T'u(rZ#|W]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV#|WOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR#w&j#|WO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO#w&j'u*{R#w&j#|W]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO#w&j]!R'm+zROr+Urs,Ts~+U'm,[U#w&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV#|WOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ#w&j#|W]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ#|W]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR#|W]!RO!^%T!_#o%T#p~%T!Z0XT#|WO!^.x!^!_,n!_#o.x#o#p,n#p~.x&i0s_#|W#rS'S%k'`pOt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$g%T$g~0h[1y_#|W#rSOt%Ttu1ru}%T}!O1r!O!Q%T!Q![1r![!^%T!_!c%T!c!}1r!}#R%T#R#S1r#S#T%T#T#o1r#p$g%T$g~1r$O3PS#U#v#|WO!^%T!_!`3]!`#o%T#p~%T$O3dR#|W#g#vO!^%T!_#o%T#p~%T%r3tU'q%j#|WOv%Tvw4Ww!^%T!_!`3]!`#o%T#p~%T$O4_S#|W#a#vO!^%T!_!`3]!`#o%T#p~%T'u4rZ#|W]!ROY4kYZ5eZw4kwx*rx!^4k!^!_6]!_#O4k#O#P8]#P#o4k#o#p6]#p~4k&r5jV#|WOw5ewx*Px!^5e!^!_6P!_#o5e#o#p6P#p~5e&j6SROw6Pwx*mx~6P'm6bV]!ROY6]YZ6PZw6]wx+px#O6]#O#P6w#P~6]'m6zROw6]wx7Tx~6]'m7[U#w&j]!ROY7nZw7nwx-Vx#O7n#O#P8V#P~7n!R7sU]!ROY7nZw7nwx-Vx#O7n#O#P8V#P~7n!R8YPO~7n'u8bV#|WOw4kwx8wx!^4k!^!_6]!_#o4k#o#p6]#p~4k'u9QZ#w&j#|W]!ROY9sYZ%TZw9swx/rx!^9s!^!_7n!_#O9s#O#P:m#P#o9s#o#p7n#p~9s!Z9zZ#|W]!ROY9sYZ%TZw9swx/rx!^9s!^!_7n!_#O9s#O#P:m#P#o9s#o#p7n#p~9s!Z:rT#|WO!^9s!^!_7n!_#o9s#o#p7n#p~9s%V;YR!`$}#|WO!^%T!_#o%T#p~%TZ;jR!_R#|WO!^%T!_#o%T#p~%T%R;|U'T!R#V#v#|WOz%Tz{<`{!^%T!_!`3]!`#o%T#p~%T$O<gS#S#v#|WO!^%T!_!`3]!`#o%T#p~%T$u<zSi$m#|WO!^%T!_!`3]!`#o%T#p~%T&i=_R}&a#|WO!^%T!_#o%T#p~%T&i=oVr%n#|WO!O%T!O!P>U!P!Q%T!Q![>z![!^%T!_#o%T#p~%Ty>ZT#|WO!O%T!O!P>j!P!^%T!_#o%T#p~%Ty>qR|q#|WO!^%T!_#o%T#p~%Ty?RZ#|WjqO!Q%T!Q![>z![!^%T!_!g%T!g!h?t!h#R%T#R#S>z#S#X%T#X#Y?t#Y#o%T#p~%Ty?yZ#|WO{%T{|@l|}%T}!O@l!O!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%Ty@qV#|WO!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%TyA_V#|WjqO!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%T,TA{`#|W#T#vOYB}YZ%TZzB}z{Ht{!PB}!P!Q!+m!Q!^B}!^!_EQ!_!`!,f!`!a!-e!a!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}XCU[#|WyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}XDR_#|WyPO!^%T!_#Z%T#Z#[Cz#[#]%T#]#^Cz#^#a%T#a#bCz#b#g%T#g#hCz#h#i%T#i#jCz#j#m%T#m#nCz#n#o%T#p~%TPEVVyPOYEQZ!PEQ!P!QEl!Q!}EQ!}#OFT#O#PFp#P~EQPEqUyP#Z#[El#]#^El#a#bEl#g#hEl#i#jEl#m#nElPFWTOYFTZ#OFT#O#PFg#P#QEQ#Q~FTPFjQOYFTZ~FTPFsQOYEQZ~EQXGOY#|WOYFyYZ%TZ!^Fy!^!_FT!_#OFy#O#PGn#P#QB}#Q#oFy#o#pFT#p~FyXGsV#|WOYFyYZ%TZ!^Fy!^!_FT!_#oFy#o#pFT#p~FyXH_V#|WOYB}YZ%TZ!^B}!^!_EQ!_#oB}#o#pEQ#p~B},TH{^#|WyPOYHtYZIwZzHtz{LY{!PHt!P!Q!*Z!Q!^Ht!^!_Ne!_!}Ht!}#O!&U#O#P!)i#P#oHt#o#pNe#p~Ht,TI|V#|WOzIwz{Jc{!^Iw!^!_Ke!_#oIw#o#pKe#p~Iw,TJhX#|WOzIwz{Jc{!PIw!P!QKT!Q!^Iw!^!_Ke!_#oIw#o#pKe#p~Iw,TK[R#|WT+{O!^%T!_#o%T#p~%T+{KhROzKez{Kq{~Ke+{KtTOzKez{Kq{!PKe!P!QLT!Q~Ke+{LYOT+{,TLa^#|WyPOYHtYZIwZzHtz{LY{!PHt!P!QM]!Q!^Ht!^!_Ne!_!}Ht!}#O!&U#O#P!)i#P#oHt#o#pNe#p~Ht,TMf_#|WT+{yPO!^%T!_#Z%T#Z#[Cz#[#]%T#]#^Cz#^#a%T#a#bCz#b#g%T#g#hCz#h#i%T#i#jCz#j#m%T#m#nCz#n#o%T#p~%T+{NjYyPOYNeYZKeZzNez{! Y{!PNe!P!Q!%Q!Q!}Ne!}#O!!h#O#P!$n#P~Ne+{! _YyPOYNeYZKeZzNez{! Y{!PNe!P!Q! }!Q!}Ne!}#O!!h#O#P!$n#P~Ne+{!!UUT+{yP#Z#[El#]#^El#a#bEl#g#hEl#i#jEl#m#nEl+{!!kWOY!!hYZKeZz!!hz{!#T{#O!!h#O#P!$[#P#QNe#Q~!!h+{!#WYOY!!hYZKeZz!!hz{!#T{!P!!h!P!Q!#v!Q#O!!h#O#P!$[#P#QNe#Q~!!h+{!#{TT+{OYFTZ#OFT#O#PFg#P#QEQ#Q~FT+{!$_TOY!!hYZKeZz!!hz{!#T{~!!h+{!$qTOYNeYZKeZzNez{! Y{~Ne+{!%V_yPOzKez{Kq{#ZKe#Z#[!%Q#[#]Ke#]#^!%Q#^#aKe#a#b!%Q#b#gKe#g#h!%Q#h#iKe#i#j!%Q#j#mKe#m#n!%Q#n~Ke,T!&Z[#|WOY!&UYZIwZz!&Uz{!'P{!^!&U!^!_!!h!_#O!&U#O#P!(w#P#QHt#Q#o!&U#o#p!!h#p~!&U,T!'U^#|WOY!&UYZIwZz!&Uz{!'P{!P!&U!P!Q!(Q!Q!^!&U!^!_!!h!_#O!&U#O#P!(w#P#QHt#Q#o!&U#o#p!!h#p~!&U,T!(XY#|WT+{OYFyYZ%TZ!^Fy!^!_FT!_#OFy#O#PGn#P#QB}#Q#oFy#o#pFT#p~Fy,T!(|X#|WOY!&UYZIwZz!&Uz{!'P{!^!&U!^!_!!h!_#o!&U#o#p!!h#p~!&U,T!)nX#|WOYHtYZIwZzHtz{LY{!^Ht!^!_Ne!_#oHt#o#pNe#p~Ht,T!*bc#|WyPOzIwz{Jc{!^Iw!^!_Ke!_#ZIw#Z#[!*Z#[#]Iw#]#^!*Z#^#aIw#a#b!*Z#b#gIw#g#h!*Z#h#iIw#i#j!*Z#j#mIw#m#n!*Z#n#oIw#o#pKe#p~Iw,T!+tV#|WS+{OY!+mYZ%TZ!^!+m!^!_!,Z!_#o!+m#o#p!,Z#p~!+m+{!,`QS+{OY!,ZZ~!,Z$P!,o[#|W#g#vyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}]!-n[#oS#|WyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}y!.kd#|WjqO!O%T!O!P>z!P!Q%T!Q![!/y![!^%T!_!g%T!g!h?t!h#R%T#R#S!/y#S#U%T#U#V!1a#V#X%T#X#Y?t#Y#b%T#b#c!1P#c#d!2o#d#l%T#l#m!3w#m#o%T#p~%Ty!0Q_#|WjqO!O%T!O!P>z!P!Q%T!Q![!/y![!^%T!_!g%T!g!h?t!h#R%T#R#S!/y#S#X%T#X#Y?t#Y#b%T#b#c!1P#c#o%T#p~%Ty!1WR#|WjqO!^%T!_#o%T#p~%Ty!1fW#|WO!Q%T!Q!R!2O!R!S!2O!S!^%T!_#R%T#R#S!2O#S#o%T#p~%Ty!2VW#|WjqO!Q%T!Q!R!2O!R!S!2O!S!^%T!_#R%T#R#S!2O#S#o%T#p~%Ty!2tV#|WO!Q%T!Q!Y!3Z!Y!^%T!_#R%T#R#S!3Z#S#o%T#p~%Ty!3bV#|WjqO!Q%T!Q!Y!3Z!Y!^%T!_#R%T#R#S!3Z#S#o%T#p~%Ty!3|Z#|WO!Q%T!Q![!4o![!^%T!_!c%T!c!i!4o!i#R%T#R#S!4o#S#T%T#T#Z!4o#Z#o%T#p~%Ty!4vZ#|WjqO!Q%T!Q![!4o![!^%T!_!c%T!c!i!4o!i#R%T#R#S!4o#S#T%T#T#Z!4o#Z#o%T#p~%T%w!5rR!XV#|W#e%hO!^%T!_#o%T#p~%T!P!6SR^w#|WO!^%T!_#o%T#p~%T+c!6hR'Xd!]%Y#p&s'uP!P!Q!6q!^!_!6v!_!`!7TW!6vO$OW#v!6{P#W#v!_!`!7O#v!7TO#g#v#v!7YO#X#v%w!7aT!u%o#|WO!^%T!_!`'v!`!a!7p!a#o%T#p~%T$P!7wR#P#w#|WO!^%T!_#o%T#p~%T%w!8]T'W!s#X#v#yS#|WO!^%T!_!`!8l!`!a!8|!a#o%T#p~%T$O!8sR#X#v#|WO!^%T!_#o%T#p~%T$O!9TT#W#v#|WO!^%T!_!`3]!`!a!9d!a#o%T#p~%T$O!9kS#W#v#|WO!^%T!_!`3]!`#o%T#p~%T%w!:OV'i%o#|WO!O%T!O!P!:e!P!^%T!_!a%T!a!b!:u!b#o%T#p~%T$`!:lRs$W#|WO!^%T!_#o%T#p~%T$O!:|S#|W#b#vO!^%T!_!`3]!`#o%T#p~%T&e!;aRu&]#|WO!^%T!_#o%T#p~%TZ!;qRzR#|WO!^%T!_#o%T#p~%T$O!<RS#_#v#|WO!^%T!_!`3]!`#o%T#p~%T$P!<fR#|W']#wO!^%T!_#o%T#p~%T~!<tO!P~%r!<{T'p%j#|WO!^%T!_!`3]!`#o%T#p#q!:u#q~%T$u!=eR!O$k#|W'_QO!^%T!_#o%T#p~%TX!=uR!gP#|WO!^%T!_#o%T#p~%T,T!>]r#|W'P+{#rS'S%k'`pOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$f%T$f$g%c$g#BY0h#BY#BZ!>O#BZ$IS0h$IS$I_!>O$I_$JT0h$JT$JU!>O$JU$KV0h$KV$KW!>O$KW&FU0h&FU&FV!>O&FV?HT0h?HT?HU!>O?HU~0h,T!@t_#|W'Q+{#rS'S%k'`pOt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$g%T$g~0h\",\n  tokenizers: [noSemicolon, incdecToken, template, 0, 1, 2, 3, 4, 5, 6, 7, 8, insertSemicolon],\n  topRules: {\"Script\":[0,6]},\n  dialects: {jsx: 11129, ts: 11131},\n  dynamicPrecedences: {\"141\":1,\"168\":1},\n  specialized: [{term: 280, get: (value, stack) => (tsExtends(value, stack) << 1) | 1},{term: 280, get: value => spec_identifier[value] || -1},{term: 292, get: value => spec_word[value] || -1},{term: 59, get: value => spec_LessThan[value] || -1}],\n  tokenPrec: 11151\n});\n\nexport { parser };\n","// Compressed representation of the Grapheme_Cluster_Break=Extend\n// information from\n// http://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakProperty.txt.\n// Each pair of elements represents a range, as an offet from the\n// previous range and a length. Numbers are in base-36, with the empty\n// string being a shorthand for 1.\nlet extend = /*@__PURE__*/\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(s => s ? parseInt(s, 36) : 1);\n// Convert offsets into absolute values\nfor (let i = 1; i < extend.length; i++)\n    extend[i] += extend[i - 1];\nfunction isExtendingChar(code) {\n    for (let i = 1; i < extend.length; i += 2)\n        if (extend[i] > code)\n            return extend[i - 1] <= code;\n    return false;\n}\nfunction isRegionalIndicator(code) {\n    return code >= 0x1F1E6 && code <= 0x1F1FF;\n}\nconst ZWJ = 0x200d;\n/**\nReturns a next grapheme cluster break _after_ (not equal to)\n`pos`, if `forward` is true, or before otherwise. Returns `pos`\nitself if no further cluster break is available in the string.\nMoves across surrogate pairs, extending characters, characters\njoined with zero-width joiners, and flag emoji.\n*/\nfunction findClusterBreak(str, pos, forward = true) {\n    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos);\n}\nfunction nextClusterBreak(str, pos) {\n    if (pos == str.length)\n        return pos;\n    // If pos is in the middle of a surrogate pair, move to its start\n    if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1)))\n        pos--;\n    let prev = codePointAt(str, pos);\n    pos += codePointSize(prev);\n    while (pos < str.length) {\n        let next = codePointAt(str, pos);\n        if (prev == ZWJ || next == ZWJ || isExtendingChar(next)) {\n            pos += codePointSize(next);\n            prev = next;\n        }\n        else if (isRegionalIndicator(next)) {\n            let countBefore = 0, i = pos - 2;\n            while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {\n                countBefore++;\n                i -= 2;\n            }\n            if (countBefore % 2 == 0)\n                break;\n            else\n                pos += 2;\n        }\n        else {\n            break;\n        }\n    }\n    return pos;\n}\nfunction prevClusterBreak(str, pos) {\n    while (pos > 0) {\n        let found = nextClusterBreak(str, pos - 2);\n        if (found < pos)\n            return found;\n        pos--;\n    }\n    return 0;\n}\nfunction surrogateLow(ch) { return ch >= 0xDC00 && ch < 0xE000; }\nfunction surrogateHigh(ch) { return ch >= 0xD800 && ch < 0xDC00; }\n/**\nFind the code point at the given position in a string (like the\n[`codePointAt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt)\nstring method).\n*/\nfunction codePointAt(str, pos) {\n    let code0 = str.charCodeAt(pos);\n    if (!surrogateHigh(code0) || pos + 1 == str.length)\n        return code0;\n    let code1 = str.charCodeAt(pos + 1);\n    if (!surrogateLow(code1))\n        return code0;\n    return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000;\n}\n/**\nGiven a Unicode codepoint, return the JavaScript string that\nrespresents it (like\n[`String.fromCodePoint`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)).\n*/\nfunction fromCodePoint(code) {\n    if (code <= 0xffff)\n        return String.fromCharCode(code);\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xd800, (code & 1023) + 0xdc00);\n}\n/**\nThe first character that takes up two positions in a JavaScript\nstring. It is often useful to compare with this after calling\n`codePointAt`, to figure out whether your character takes up 1 or\n2 index positions.\n*/\nfunction codePointSize(code) { return code < 0x10000 ? 1 : 2; }\n\n/**\nCount the column position at the given offset into the string,\ntaking extending characters and tab size into account.\n*/\nfunction countColumn(string, tabSize, to = string.length) {\n    let n = 0;\n    for (let i = 0; i < to;) {\n        if (string.charCodeAt(i) == 9) {\n            n += tabSize - (n % tabSize);\n            i++;\n        }\n        else {\n            n++;\n            i = findClusterBreak(string, i);\n        }\n    }\n    return n;\n}\n/**\nFind the offset that corresponds to the given column position in a\nstring, taking extending characters and tab size into account. By\ndefault, the string length is returned when it is too short to\nreach the column. Pass `strict` true to make it return -1 in that\nsituation.\n*/\nfunction findColumn(string, col, tabSize, strict) {\n    for (let i = 0, n = 0;;) {\n        if (n >= col)\n            return i;\n        if (i == string.length)\n            break;\n        n += string.charCodeAt(i) == 9 ? tabSize - (n % tabSize) : 1;\n        i = findClusterBreak(string, i);\n    }\n    return strict === true ? -1 : string.length;\n}\n\n/**\nThe data structure for documents.\n*/\nclass Text {\n    /**\n    @internal\n    */\n    constructor() { }\n    /**\n    Get the line description around the given position.\n    */\n    lineAt(pos) {\n        if (pos < 0 || pos > this.length)\n            throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);\n        return this.lineInner(pos, false, 1, 0);\n    }\n    /**\n    Get the description for the given (1-based) line number.\n    */\n    line(n) {\n        if (n < 1 || n > this.lines)\n            throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);\n        return this.lineInner(n, true, 1, 0);\n    }\n    /**\n    Replace a range of the text with the given content.\n    */\n    replace(from, to, text) {\n        let parts = [];\n        this.decompose(0, from, parts, 2 /* To */);\n        if (text.length)\n            text.decompose(0, text.length, parts, 1 /* From */ | 2 /* To */);\n        this.decompose(to, this.length, parts, 1 /* From */);\n        return TextNode.from(parts, this.length - (to - from) + text.length);\n    }\n    /**\n    Append another document to this one.\n    */\n    append(other) {\n        return this.replace(this.length, this.length, other);\n    }\n    /**\n    Retrieve the text between the given points.\n    */\n    slice(from, to = this.length) {\n        let parts = [];\n        this.decompose(from, to, parts, 0);\n        return TextNode.from(parts, to - from);\n    }\n    /**\n    Test whether this text is equal to another instance.\n    */\n    eq(other) {\n        if (other == this)\n            return true;\n        if (other.length != this.length || other.lines != this.lines)\n            return false;\n        let start = this.scanIdentical(other, 1), end = this.length - this.scanIdentical(other, -1);\n        let a = new RawTextCursor(this), b = new RawTextCursor(other);\n        for (let skip = start, pos = start;;) {\n            a.next(skip);\n            b.next(skip);\n            skip = 0;\n            if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)\n                return false;\n            pos += a.value.length;\n            if (a.done || pos >= end)\n                return true;\n        }\n    }\n    /**\n    Iterate over the text. When `dir` is `-1`, iteration happens\n    from end to start. This will return lines and the breaks between\n    them as separate strings, and for long lines, might split lines\n    themselves into multiple chunks as well.\n    */\n    iter(dir = 1) { return new RawTextCursor(this, dir); }\n    /**\n    Iterate over a range of the text. When `from` > `to`, the\n    iterator will run in reverse.\n    */\n    iterRange(from, to = this.length) { return new PartialTextCursor(this, from, to); }\n    /**\n    Return a cursor that iterates over the given range of lines,\n    _without_ returning the line breaks between, and yielding empty\n    strings for empty lines.\n    \n    When `from` and `to` are given, they should be 1-based line numbers.\n    */\n    iterLines(from, to) {\n        let inner;\n        if (from == null) {\n            inner = this.iter();\n        }\n        else {\n            if (to == null)\n                to = this.lines + 1;\n            let start = this.line(from).from;\n            inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));\n        }\n        return new LineCursor(inner);\n    }\n    /**\n    @internal\n    */\n    toString() { return this.sliceString(0); }\n    /**\n    Convert the document to an array of lines (which can be\n    deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#text.Text^of)).\n    */\n    toJSON() {\n        let lines = [];\n        this.flatten(lines);\n        return lines;\n    }\n    /**\n    Create a `Text` instance for the given array of lines.\n    */\n    static of(text) {\n        if (text.length == 0)\n            throw new RangeError(\"A document must have at least one line\");\n        if (text.length == 1 && !text[0])\n            return Text.empty;\n        return text.length <= 32 /* Branch */ ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));\n    }\n}\n// Leaves store an array of line strings. There are always line breaks\n// between these strings. Leaves are limited in size and have to be\n// contained in TextNode instances for bigger documents.\nclass TextLeaf extends Text {\n    constructor(text, length = textLength(text)) {\n        super();\n        this.text = text;\n        this.length = length;\n    }\n    get lines() { return this.text.length; }\n    get children() { return null; }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let string = this.text[i], end = offset + string.length;\n            if ((isLine ? line : end) >= target)\n                return new Line(offset, end, line, string);\n            offset = end + 1;\n            line++;\n        }\n    }\n    decompose(from, to, target, open) {\n        let text = from <= 0 && to >= this.length ? this\n            : new TextLeaf(sliceText(this.text, from, to), Math.min(to, this.length) - Math.max(0, from));\n        if (open & 1 /* From */) {\n            let prev = target.pop();\n            let joined = appendText(text.text, prev.text.slice(), 0, text.length);\n            if (joined.length <= 32 /* Branch */) {\n                target.push(new TextLeaf(joined, prev.length + text.length));\n            }\n            else {\n                let mid = joined.length >> 1;\n                target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));\n            }\n        }\n        else {\n            target.push(text);\n        }\n    }\n    replace(from, to, text) {\n        if (!(text instanceof TextLeaf))\n            return super.replace(from, to, text);\n        let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from)), to);\n        let newLen = this.length + text.length - (to - from);\n        if (lines.length <= 32 /* Branch */)\n            return new TextLeaf(lines, newLen);\n        return TextNode.from(TextLeaf.split(lines, []), newLen);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {\n            let line = this.text[i], end = pos + line.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += line.slice(Math.max(0, from - pos), to - pos);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let line of this.text)\n            target.push(line);\n    }\n    scanIdentical() { return 0; }\n    static split(text, target) {\n        let part = [], len = -1;\n        for (let line of text) {\n            part.push(line);\n            len += line.length + 1;\n            if (part.length == 32 /* Branch */) {\n                target.push(new TextLeaf(part, len));\n                part = [];\n                len = -1;\n            }\n        }\n        if (len > -1)\n            target.push(new TextLeaf(part, len));\n        return target;\n    }\n}\n// Nodes provide the tree structure of the `Text` type. They store a\n// number of other nodes or leaves, taking care to balance themselves\n// on changes. There are implied line breaks _between_ the children of\n// a node (but not before the first or after the last child).\nclass TextNode extends Text {\n    constructor(children, length) {\n        super();\n        this.children = children;\n        this.length = length;\n        this.lines = 0;\n        for (let child of children)\n            this.lines += child.lines;\n    }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n            if ((isLine ? endLine : end) >= target)\n                return child.lineInner(target, isLine, line, offset);\n            offset = end + 1;\n            line = endLine + 1;\n        }\n    }\n    decompose(from, to, target, open) {\n        for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (from <= end && to >= pos) {\n                let childOpen = open & ((pos <= from ? 1 /* From */ : 0) | (end >= to ? 2 /* To */ : 0));\n                if (pos >= from && end <= to && !childOpen)\n                    target.push(child);\n                else\n                    child.decompose(from - pos, to - pos, target, childOpen);\n            }\n            pos = end + 1;\n        }\n    }\n    replace(from, to, text) {\n        if (text.lines < this.lines)\n            for (let i = 0, pos = 0; i < this.children.length; i++) {\n                let child = this.children[i], end = pos + child.length;\n                // Fast path: if the change only affects one child and the\n                // child's size remains in the acceptable range, only update\n                // that child\n                if (from >= pos && to <= end) {\n                    let updated = child.replace(from - pos, to - pos, text);\n                    let totalLines = this.lines - child.lines + updated.lines;\n                    if (updated.lines < (totalLines >> (5 /* BranchShift */ - 1)) &&\n                        updated.lines > (totalLines >> (5 /* BranchShift */ + 1))) {\n                        let copy = this.children.slice();\n                        copy[i] = updated;\n                        return new TextNode(copy, this.length - (to - from) + text.length);\n                    }\n                    return super.replace(pos, end, updated);\n                }\n                pos = end + 1;\n            }\n        return super.replace(from, to, text);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += child.sliceString(from - pos, to - pos, lineSep);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let child of this.children)\n            child.flatten(target);\n    }\n    scanIdentical(other, dir) {\n        if (!(other instanceof TextNode))\n            return 0;\n        let length = 0;\n        let [iA, iB, eA, eB] = dir > 0 ? [0, 0, this.children.length, other.children.length]\n            : [this.children.length - 1, other.children.length - 1, -1, -1];\n        for (;; iA += dir, iB += dir) {\n            if (iA == eA || iB == eB)\n                return length;\n            let chA = this.children[iA], chB = other.children[iB];\n            if (chA != chB)\n                return length + chA.scanIdentical(chB, dir);\n            length += chA.length + 1;\n        }\n    }\n    static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {\n        let lines = 0;\n        for (let ch of children)\n            lines += ch.lines;\n        if (lines < 32 /* Branch */) {\n            let flat = [];\n            for (let ch of children)\n                ch.flatten(flat);\n            return new TextLeaf(flat, length);\n        }\n        let chunk = Math.max(32 /* Branch */, lines >> 5 /* BranchShift */), maxChunk = chunk << 1, minChunk = chunk >> 1;\n        let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];\n        function add(child) {\n            let last;\n            if (child.lines > maxChunk && child instanceof TextNode) {\n                for (let node of child.children)\n                    add(node);\n            }\n            else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {\n                flush();\n                chunked.push(child);\n            }\n            else if (child instanceof TextLeaf && currentLines &&\n                (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                child.lines + last.lines <= 32 /* Branch */) {\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);\n            }\n            else {\n                if (currentLines + child.lines > chunk)\n                    flush();\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk.push(child);\n            }\n        }\n        function flush() {\n            if (currentLines == 0)\n                return;\n            chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));\n            currentLen = -1;\n            currentLines = currentChunk.length = 0;\n        }\n        for (let child of children)\n            add(child);\n        flush();\n        return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n    }\n}\nText.empty = /*@__PURE__*/new TextLeaf([\"\"], 0);\nfunction textLength(text) {\n    let length = -1;\n    for (let line of text)\n        length += line.length + 1;\n    return length;\n}\nfunction appendText(text, target, from = 0, to = 1e9) {\n    for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n        let line = text[i], end = pos + line.length;\n        if (end >= from) {\n            if (end > to)\n                line = line.slice(0, to - pos);\n            if (pos < from)\n                line = line.slice(from - pos);\n            if (first) {\n                target[target.length - 1] += line;\n                first = false;\n            }\n            else\n                target.push(line);\n        }\n        pos = end + 1;\n    }\n    return target;\n}\nfunction sliceText(text, from, to) {\n    return appendText(text, [\"\"], from, to);\n}\nclass RawTextCursor {\n    constructor(text, dir = 1) {\n        this.dir = dir;\n        this.done = false;\n        this.lineBreak = false;\n        this.value = \"\";\n        this.nodes = [text];\n        this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];\n    }\n    nextInner(skip, dir) {\n        this.done = this.lineBreak = false;\n        for (;;) {\n            let last = this.nodes.length - 1;\n            let top = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;\n            let size = top instanceof TextLeaf ? top.text.length : top.children.length;\n            if (offset == (dir > 0 ? size : 0)) {\n                if (last == 0) {\n                    this.done = true;\n                    this.value = \"\";\n                    return this;\n                }\n                if (dir > 0)\n                    this.offsets[last - 1]++;\n                this.nodes.pop();\n                this.offsets.pop();\n            }\n            else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {\n                this.offsets[last] += dir;\n                if (skip == 0) {\n                    this.lineBreak = true;\n                    this.value = \"\\n\";\n                    return this;\n                }\n                skip--;\n            }\n            else if (top instanceof TextLeaf) {\n                // Move to the next string\n                let next = top.text[offset + (dir < 0 ? -1 : 0)];\n                this.offsets[last] += dir;\n                if (next.length > Math.max(0, skip)) {\n                    this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                    return this;\n                }\n                skip -= next.length;\n            }\n            else {\n                let next = top.children[offset + (dir < 0 ? -1 : 0)];\n                if (skip > next.length) {\n                    skip -= next.length;\n                    this.offsets[last] += dir;\n                }\n                else {\n                    if (dir < 0)\n                        this.offsets[last]--;\n                    this.nodes.push(next);\n                    this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);\n                }\n            }\n        }\n    }\n    next(skip = 0) {\n        if (skip < 0) {\n            this.nextInner(-skip, (-this.dir));\n            skip = this.value.length;\n        }\n        return this.nextInner(skip, this.dir);\n    }\n}\nclass PartialTextCursor {\n    constructor(text, start, end) {\n        this.value = \"\";\n        this.done = false;\n        this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n        this.pos = start > end ? text.length : 0;\n        this.from = Math.min(start, end);\n        this.to = Math.max(start, end);\n    }\n    nextInner(skip, dir) {\n        if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {\n            this.value = \"\";\n            this.done = true;\n            return this;\n        }\n        skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);\n        let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;\n        if (skip > limit)\n            skip = limit;\n        limit -= skip;\n        let { value } = this.cursor.next(skip);\n        this.pos += (value.length + skip) * dir;\n        this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);\n        this.done = !this.value;\n        return this;\n    }\n    next(skip = 0) {\n        if (skip < 0)\n            skip = Math.max(skip, this.from - this.pos);\n        else if (skip > 0)\n            skip = Math.min(skip, this.to - this.pos);\n        return this.nextInner(skip, this.cursor.dir);\n    }\n    get lineBreak() { return this.cursor.lineBreak && this.value != \"\"; }\n}\nclass LineCursor {\n    constructor(inner) {\n        this.inner = inner;\n        this.afterBreak = true;\n        this.value = \"\";\n        this.done = false;\n    }\n    next(skip = 0) {\n        let { done, lineBreak, value } = this.inner.next(skip);\n        if (done) {\n            this.done = true;\n            this.value = \"\";\n        }\n        else if (lineBreak) {\n            if (this.afterBreak) {\n                this.value = \"\";\n            }\n            else {\n                this.afterBreak = true;\n                this.next();\n            }\n        }\n        else {\n            this.value = value;\n            this.afterBreak = false;\n        }\n        return this;\n    }\n    get lineBreak() { return false; }\n}\nif (typeof Symbol != \"undefined\") {\n    Text.prototype[Symbol.iterator] = function () { return this.iter(); };\n    RawTextCursor.prototype[Symbol.iterator] = PartialTextCursor.prototype[Symbol.iterator] =\n        LineCursor.prototype[Symbol.iterator] = function () { return this; };\n}\n/**\nThis type describes a line in the document. It is created\non-demand when lines are [queried](https://codemirror.net/6/docs/ref/#text.Text.lineAt).\n*/\nclass Line {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position of the start of the line.\n    */\n    from, \n    /**\n    The position at the end of the line (_before_ the line break,\n    or at the end of document for the last line).\n    */\n    to, \n    /**\n    This line's line number (1-based).\n    */\n    number, \n    /**\n    The line's content.\n    */\n    text) {\n        this.from = from;\n        this.to = to;\n        this.number = number;\n        this.text = text;\n    }\n    /**\n    The length of the line (not including any line break after it).\n    */\n    get length() { return this.to - this.from; }\n}\n\nexport { Line, Text, codePointAt, codePointSize, countColumn, findClusterBreak, findColumn, fromCodePoint };\n","import { Text, findClusterBreak } from '@codemirror/text';\nexport { Text } from '@codemirror/text';\n\nconst DefaultSplit = /\\r\\n?|\\n/;\n/**\nDistinguishes different ways in which positions can be mapped.\n*/\nvar MapMode = /*@__PURE__*/(function (MapMode) {\n    /**\n    Map a position to a valid new position, even when its context\n    was deleted.\n    */\n    MapMode[MapMode[\"Simple\"] = 0] = \"Simple\";\n    /**\n    Return null if deletion happens across the position.\n    */\n    MapMode[MapMode[\"TrackDel\"] = 1] = \"TrackDel\";\n    /**\n    Return null if the character _before_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackBefore\"] = 2] = \"TrackBefore\";\n    /**\n    Return null if the character _after_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackAfter\"] = 3] = \"TrackAfter\";\nreturn MapMode})(MapMode || (MapMode = {}));\n/**\nA change description is a variant of [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet)\nthat doesn't store the inserted text. As such, it can't be\napplied, but is cheaper to store and manipulate.\n*/\nclass ChangeDesc {\n    // Sections are encoded as pairs of integers. The first is the\n    // length in the current document, and the second is -1 for\n    // unaffected sections, and the length of the replacement content\n    // otherwise. So an insertion would be (0, n>0), a deletion (n>0,\n    // 0), and a replacement two positive numbers.\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    sections) {\n        this.sections = sections;\n    }\n    /**\n    The length of the document before the change.\n    */\n    get length() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2)\n            result += this.sections[i];\n        return result;\n    }\n    /**\n    The length of the document after the change.\n    */\n    get newLength() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let ins = this.sections[i + 1];\n            result += ins < 0 ? this.sections[i] : ins;\n        }\n        return result;\n    }\n    /**\n    False when there are actual changes in this set.\n    */\n    get empty() { return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0; }\n    /**\n    Iterate over the unchanged parts left by these changes.\n    */\n    iterGaps(f) {\n        for (let i = 0, posA = 0, posB = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0) {\n                f(posA, posB, len);\n                posB += len;\n            }\n            else {\n                posB += ins;\n            }\n            posA += len;\n        }\n    }\n    /**\n    Iterate over the ranges changed by these changes. (See\n    [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a\n    variant that also provides you with the inserted text.)\n    \n    When `individual` is true, adjacent changes (which are kept\n    separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are\n    reported separately.\n    */\n    iterChangedRanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a description of the inverted form of these changes.\n    */\n    get invertedDesc() {\n        let sections = [];\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0)\n                sections.push(len, ins);\n            else\n                sections.push(ins, len);\n        }\n        return new ChangeDesc(sections);\n    }\n    /**\n    Compute the combined effect of applying another set of changes\n    after this one. The length of the document after this set should\n    match the length before `other`.\n    */\n    composeDesc(other) { return this.empty ? other : other.empty ? this : composeSets(this, other); }\n    /**\n    Map this description, which should start with the same document\n    as `other`, over another set of changes, so that it can be\n    applied after it. When `before` is true, map as if the changes\n    in `other` happened before the ones in `this`.\n    */\n    mapDesc(other, before = false) { return other.empty ? this : mapSet(this, other, before); }\n    mapPos(pos, assoc = -1, mode = MapMode.Simple) {\n        let posA = 0, posB = 0;\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;\n            if (ins < 0) {\n                if (endA > pos)\n                    return posB + (pos - posA);\n                posB += len;\n            }\n            else {\n                if (mode != MapMode.Simple && endA >= pos &&\n                    (mode == MapMode.TrackDel && posA < pos && endA > pos ||\n                        mode == MapMode.TrackBefore && posA < pos ||\n                        mode == MapMode.TrackAfter && endA > pos))\n                    return null;\n                if (endA > pos || endA == pos && assoc < 0 && !len)\n                    return pos == posA || assoc < 0 ? posB : posB + ins;\n                posB += ins;\n            }\n            posA = endA;\n        }\n        if (pos > posA)\n            throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);\n        return posB;\n    }\n    /**\n    Check whether these changes touch a given range. When one of the\n    changes entirely covers the range, the string `\"cover\"` is\n    returned.\n    */\n    touchesRange(from, to = from) {\n        for (let i = 0, pos = 0; i < this.sections.length && pos <= to;) {\n            let len = this.sections[i++], ins = this.sections[i++], end = pos + len;\n            if (ins >= 0 && pos <= to && end >= from)\n                return pos < from && end > to ? \"cover\" : true;\n            pos = end;\n        }\n        return false;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let result = \"\";\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            result += (result ? \" \" : \"\") + len + (ins >= 0 ? \":\" + ins : \"\");\n        }\n        return result;\n    }\n    /**\n    Serialize this change desc to a JSON-representable value.\n    */\n    toJSON() { return this.sections; }\n    /**\n    Create a change desc from its JSON representation (as produced\n    by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json) || json.length % 2 || json.some(a => typeof a != \"number\"))\n            throw new RangeError(\"Invalid JSON representation of ChangeDesc\");\n        return new ChangeDesc(json);\n    }\n}\n/**\nA change set represents a group of modifications to a document. It\nstores the document length, and can only be applied to documents\nwith exactly that length.\n*/\nclass ChangeSet extends ChangeDesc {\n    /**\n    @internal\n    */\n    constructor(sections, \n    /**\n    @internal\n    */\n    inserted) {\n        super(sections);\n        this.inserted = inserted;\n    }\n    /**\n    Apply the changes to a document, returning the modified\n    document.\n    */\n    apply(doc) {\n        if (this.length != doc.length)\n            throw new RangeError(\"Applying change set to a document with the wrong length\");\n        iterChanges(this, (fromA, toA, fromB, _toB, text) => doc = doc.replace(fromB, fromB + (toA - fromA), text), false);\n        return doc;\n    }\n    mapDesc(other, before = false) { return mapSet(this, other, before, true); }\n    /**\n    Given the document as it existed _before_ the changes, return a\n    change set that represents the inverse of this set, which could\n    be used to go from the document created by the changes back to\n    the document as it existed before the changes.\n    */\n    invert(doc) {\n        let sections = this.sections.slice(), inserted = [];\n        for (let i = 0, pos = 0; i < sections.length; i += 2) {\n            let len = sections[i], ins = sections[i + 1];\n            if (ins >= 0) {\n                sections[i] = ins;\n                sections[i + 1] = len;\n                let index = i >> 1;\n                while (inserted.length < index)\n                    inserted.push(Text.empty);\n                inserted.push(len ? doc.slice(pos, pos + len) : Text.empty);\n            }\n            pos += len;\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    Combine two subsequent change sets into a single set. `other`\n    must start in the document produced by `this`. If `this` goes\n    `docA` → `docB` and `other` represents `docB` → `docC`, the\n    returned value will represent the change `docA` → `docC`.\n    */\n    compose(other) { return this.empty ? other : other.empty ? this : composeSets(this, other, true); }\n    /**\n    Given another change set starting in the same document, maps this\n    change set over the other, producing a new change set that can be\n    applied to the document produced by applying `other`. When\n    `before` is `true`, order changes as if `this` comes before\n    `other`, otherwise (the default) treat `other` as coming first.\n    \n    Given two changes `A` and `B`, `A.compose(B.map(A))` and\n    `B.compose(A.map(B, true))` will produce the same document. This\n    provides a basic form of [operational\n    transformation](https://en.wikipedia.org/wiki/Operational_transformation),\n    and can be used for collaborative editing.\n    */\n    map(other, before = false) { return other.empty ? this : mapSet(this, other, before, true); }\n    /**\n    Iterate over the changed ranges in the document, calling `f` for\n    each.\n    \n    When `individual` is true, adjacent changes are reported\n    separately.\n    */\n    iterChanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change\n    set.\n    */\n    get desc() { return new ChangeDesc(this.sections); }\n    /**\n    @internal\n    */\n    filter(ranges) {\n        let resultSections = [], resultInserted = [], filteredSections = [];\n        let iter = new SectionIter(this);\n        done: for (let i = 0, pos = 0;;) {\n            let next = i == ranges.length ? 1e9 : ranges[i++];\n            while (pos < next || pos == next && iter.len == 0) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, next - pos);\n                addSection(filteredSections, len, -1);\n                let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;\n                addSection(resultSections, len, ins);\n                if (ins > 0)\n                    addInsert(resultInserted, resultSections, iter.text);\n                iter.forward(len);\n                pos += len;\n            }\n            let end = ranges[i++];\n            while (pos < end) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, end - pos);\n                addSection(resultSections, len, -1);\n                addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);\n                iter.forward(len);\n                pos += len;\n            }\n        }\n        return { changes: new ChangeSet(resultSections, resultInserted),\n            filtered: new ChangeDesc(filteredSections) };\n    }\n    /**\n    Serialize this change set to a JSON-representable value.\n    */\n    toJSON() {\n        let parts = [];\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let len = this.sections[i], ins = this.sections[i + 1];\n            if (ins < 0)\n                parts.push(len);\n            else if (ins == 0)\n                parts.push([len]);\n            else\n                parts.push([len].concat(this.inserted[i >> 1].toJSON()));\n        }\n        return parts;\n    }\n    /**\n    Create a change set for the given changes, for a document of the\n    given length, using `lineSep` as line separator.\n    */\n    static of(changes, length, lineSep) {\n        let sections = [], inserted = [], pos = 0;\n        let total = null;\n        function flush(force = false) {\n            if (!force && !sections.length)\n                return;\n            if (pos < length)\n                addSection(sections, length - pos, -1);\n            let set = new ChangeSet(sections, inserted);\n            total = total ? total.compose(set.map(total)) : set;\n            sections = [];\n            inserted = [];\n            pos = 0;\n        }\n        function process(spec) {\n            if (Array.isArray(spec)) {\n                for (let sub of spec)\n                    process(sub);\n            }\n            else if (spec instanceof ChangeSet) {\n                if (spec.length != length)\n                    throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);\n                flush();\n                total = total ? total.compose(spec.map(total)) : spec;\n            }\n            else {\n                let { from, to = from, insert } = spec;\n                if (from > to || from < 0 || to > length)\n                    throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);\n                let insText = !insert ? Text.empty : typeof insert == \"string\" ? Text.of(insert.split(lineSep || DefaultSplit)) : insert;\n                let insLen = insText.length;\n                if (from == to && insLen == 0)\n                    return;\n                if (from < pos)\n                    flush();\n                if (from > pos)\n                    addSection(sections, from - pos, -1);\n                addSection(sections, to - from, insLen);\n                addInsert(inserted, sections, insText);\n                pos = to;\n            }\n        }\n        process(changes);\n        flush(!total);\n        return total;\n    }\n    /**\n    Create an empty changeset of the given length.\n    */\n    static empty(length) {\n        return new ChangeSet(length ? [length, -1] : [], []);\n    }\n    /**\n    Create a changeset from its JSON representation (as produced by\n    [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json))\n            throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n        let sections = [], inserted = [];\n        for (let i = 0; i < json.length; i++) {\n            let part = json[i];\n            if (typeof part == \"number\") {\n                sections.push(part, -1);\n            }\n            else if (!Array.isArray(part) || typeof part[0] != \"number\" || part.some((e, i) => i && typeof e != \"string\")) {\n                throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n            }\n            else if (part.length == 1) {\n                sections.push(part[0], 0);\n            }\n            else {\n                while (inserted.length < i)\n                    inserted.push(Text.empty);\n                inserted[i] = Text.of(part.slice(1));\n                sections.push(part[0], inserted[i].length);\n            }\n        }\n        return new ChangeSet(sections, inserted);\n    }\n}\nfunction addSection(sections, len, ins, forceJoin = false) {\n    if (len == 0 && ins <= 0)\n        return;\n    let last = sections.length - 2;\n    if (last >= 0 && ins <= 0 && ins == sections[last + 1])\n        sections[last] += len;\n    else if (len == 0 && sections[last] == 0)\n        sections[last + 1] += ins;\n    else if (forceJoin) {\n        sections[last] += len;\n        sections[last + 1] += ins;\n    }\n    else\n        sections.push(len, ins);\n}\nfunction addInsert(values, sections, value) {\n    if (value.length == 0)\n        return;\n    let index = (sections.length - 2) >> 1;\n    if (index < values.length) {\n        values[values.length - 1] = values[values.length - 1].append(value);\n    }\n    else {\n        while (values.length < index)\n            values.push(Text.empty);\n        values.push(value);\n    }\n}\nfunction iterChanges(desc, f, individual) {\n    let inserted = desc.inserted;\n    for (let posA = 0, posB = 0, i = 0; i < desc.sections.length;) {\n        let len = desc.sections[i++], ins = desc.sections[i++];\n        if (ins < 0) {\n            posA += len;\n            posB += len;\n        }\n        else {\n            let endA = posA, endB = posB, text = Text.empty;\n            for (;;) {\n                endA += len;\n                endB += ins;\n                if (ins && inserted)\n                    text = text.append(inserted[(i - 2) >> 1]);\n                if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)\n                    break;\n                len = desc.sections[i++];\n                ins = desc.sections[i++];\n            }\n            f(posA, endA, posB, endB, text);\n            posA = endA;\n            posB = endB;\n        }\n    }\n}\nfunction mapSet(setA, setB, before, mkSet = false) {\n    let sections = [], insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let posA = 0, posB = 0;;) {\n        if (a.ins == -1) {\n            posA += a.len;\n            a.next();\n        }\n        else if (b.ins == -1 && posB < posA) {\n            let skip = Math.min(b.len, posA - posB);\n            b.forward(skip);\n            addSection(sections, skip, -1);\n            posB += skip;\n        }\n        else if (b.ins >= 0 && (a.done || posB < posA || posB == posA && (b.len < a.len || b.len == a.len && !before))) {\n            addSection(sections, b.ins, -1);\n            while (posA > posB && !a.done && posA + a.len < posB + b.len) {\n                posA += a.len;\n                a.next();\n            }\n            posB += b.len;\n            b.next();\n        }\n        else if (a.ins >= 0) {\n            let len = 0, end = posA + a.len;\n            for (;;) {\n                if (b.ins >= 0 && posB > posA && posB + b.len < end) {\n                    len += b.ins;\n                    posB += b.len;\n                    b.next();\n                }\n                else if (b.ins == -1 && posB < end) {\n                    let skip = Math.min(b.len, end - posB);\n                    len += skip;\n                    b.forward(skip);\n                    posB += skip;\n                }\n                else {\n                    break;\n                }\n            }\n            addSection(sections, len, a.ins);\n            if (insert)\n                addInsert(insert, sections, a.text);\n            posA = end;\n            a.next();\n        }\n        else if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n    }\n}\nfunction composeSets(setA, setB, mkSet = false) {\n    let sections = [];\n    let insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let open = false;;) {\n        if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else if (a.ins == 0) { // Deletion in A\n            addSection(sections, a.len, 0, open);\n            a.next();\n        }\n        else if (b.len == 0 && !b.done) { // Insertion in B\n            addSection(sections, 0, b.ins, open);\n            if (insert)\n                addInsert(insert, sections, b.text);\n            b.next();\n        }\n        else if (a.done || b.done) {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n        else {\n            let len = Math.min(a.len2, b.len), sectionLen = sections.length;\n            if (a.ins == -1) {\n                let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;\n                addSection(sections, len, insB, open);\n                if (insert && insB)\n                    addInsert(insert, sections, b.text);\n            }\n            else if (b.ins == -1) {\n                addSection(sections, a.off ? 0 : a.len, len, open);\n                if (insert)\n                    addInsert(insert, sections, a.textBit(len));\n            }\n            else {\n                addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);\n                if (insert && !b.off)\n                    addInsert(insert, sections, b.text);\n            }\n            open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);\n            a.forward2(len);\n            b.forward(len);\n        }\n    }\n}\nclass SectionIter {\n    constructor(set) {\n        this.set = set;\n        this.i = 0;\n        this.next();\n    }\n    next() {\n        let { sections } = this.set;\n        if (this.i < sections.length) {\n            this.len = sections[this.i++];\n            this.ins = sections[this.i++];\n        }\n        else {\n            this.len = 0;\n            this.ins = -2;\n        }\n        this.off = 0;\n    }\n    get done() { return this.ins == -2; }\n    get len2() { return this.ins < 0 ? this.len : this.ins; }\n    get text() {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length ? Text.empty : inserted[index];\n    }\n    textBit(len) {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length && !len ? Text.empty\n            : inserted[index].slice(this.off, len == null ? undefined : this.off + len);\n    }\n    forward(len) {\n        if (len == this.len)\n            this.next();\n        else {\n            this.len -= len;\n            this.off += len;\n        }\n    }\n    forward2(len) {\n        if (this.ins == -1)\n            this.forward(len);\n        else if (len == this.ins)\n            this.next();\n        else {\n            this.ins -= len;\n            this.off += len;\n        }\n    }\n}\n\n/**\nA single selection range. When\n[`allowMultipleSelections`](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\nis enabled, a [selection](https://codemirror.net/6/docs/ref/#state.EditorSelection) may hold\nmultiple ranges. By default, selections hold exactly one range.\n*/\nclass SelectionRange {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The lower boundary of the range.\n    */\n    from, \n    /**\n    The upper boundary of the range.\n    */\n    to, flags) {\n        this.from = from;\n        this.to = to;\n        this.flags = flags;\n    }\n    /**\n    The anchor of the range—the side that doesn't move when you\n    extend it.\n    */\n    get anchor() { return this.flags & 16 /* Inverted */ ? this.to : this.from; }\n    /**\n    The head of the range, which is moved when the range is\n    [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).\n    */\n    get head() { return this.flags & 16 /* Inverted */ ? this.from : this.to; }\n    /**\n    True when `anchor` and `head` are at the same position.\n    */\n    get empty() { return this.from == this.to; }\n    /**\n    If this is a cursor that is explicitly associated with the\n    character on one of its sides, this returns the side. -1 means\n    the character before its position, 1 the character after, and 0\n    means no association.\n    */\n    get assoc() { return this.flags & 4 /* AssocBefore */ ? -1 : this.flags & 8 /* AssocAfter */ ? 1 : 0; }\n    /**\n    The bidirectional text level associated with this cursor, if\n    any.\n    */\n    get bidiLevel() {\n        let level = this.flags & 3 /* BidiLevelMask */;\n        return level == 3 ? null : level;\n    }\n    /**\n    The goal column (stored vertical offset) associated with a\n    cursor. This is used to preserve the vertical position when\n    [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across\n    lines of different length.\n    */\n    get goalColumn() {\n        let value = this.flags >> 5 /* GoalColumnOffset */;\n        return value == 33554431 /* NoGoalColumn */ ? undefined : value;\n    }\n    /**\n    Map this range through a change, producing a valid range in the\n    updated document.\n    */\n    map(change, assoc = -1) {\n        let from = change.mapPos(this.from, assoc), to = change.mapPos(this.to, assoc);\n        return from == this.from && to == this.to ? this : new SelectionRange(from, to, this.flags);\n    }\n    /**\n    Extend this range to cover at least `from` to `to`.\n    */\n    extend(from, to = from) {\n        if (from <= this.anchor && to >= this.anchor)\n            return EditorSelection.range(from, to);\n        let head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n        return EditorSelection.range(this.anchor, head);\n    }\n    /**\n    Compare this range to another range.\n    */\n    eq(other) {\n        return this.anchor == other.anchor && this.head == other.head;\n    }\n    /**\n    Return a JSON-serializable object representing the range.\n    */\n    toJSON() { return { anchor: this.anchor, head: this.head }; }\n    /**\n    Convert a JSON representation of a range to a `SelectionRange`\n    instance.\n    */\n    static fromJSON(json) {\n        if (!json || typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid JSON representation for SelectionRange\");\n        return EditorSelection.range(json.anchor, json.head);\n    }\n}\n/**\nAn editor selection holds one or more selection ranges.\n*/\nclass EditorSelection {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The ranges in the selection, sorted by position. Ranges cannot\n    overlap (but they may touch, if they aren't empty).\n    */\n    ranges, \n    /**\n    The index of the _main_ range in the selection (which is\n    usually the range that was added last).\n    */\n    mainIndex = 0) {\n        this.ranges = ranges;\n        this.mainIndex = mainIndex;\n    }\n    /**\n    Map a selection through a change. Used to adjust the selection\n    position for changes.\n    */\n    map(change, assoc = -1) {\n        if (change.empty)\n            return this;\n        return EditorSelection.create(this.ranges.map(r => r.map(change, assoc)), this.mainIndex);\n    }\n    /**\n    Compare this selection to another selection.\n    */\n    eq(other) {\n        if (this.ranges.length != other.ranges.length ||\n            this.mainIndex != other.mainIndex)\n            return false;\n        for (let i = 0; i < this.ranges.length; i++)\n            if (!this.ranges[i].eq(other.ranges[i]))\n                return false;\n        return true;\n    }\n    /**\n    Get the primary selection range. Usually, you should make sure\n    your code applies to _all_ ranges, by using methods like\n    [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).\n    */\n    get main() { return this.ranges[this.mainIndex]; }\n    /**\n    Make sure the selection only has one range. Returns a selection\n    holding only the main range from this selection.\n    */\n    asSingle() {\n        return this.ranges.length == 1 ? this : new EditorSelection([this.main]);\n    }\n    /**\n    Extend this selection with an extra range.\n    */\n    addRange(range, main = true) {\n        return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);\n    }\n    /**\n    Replace a given range with another range, and then normalize the\n    selection to merge and sort ranges if necessary.\n    */\n    replaceRange(range, which = this.mainIndex) {\n        let ranges = this.ranges.slice();\n        ranges[which] = range;\n        return EditorSelection.create(ranges, this.mainIndex);\n    }\n    /**\n    Convert this selection to an object that can be serialized to\n    JSON.\n    */\n    toJSON() {\n        return { ranges: this.ranges.map(r => r.toJSON()), main: this.mainIndex };\n    }\n    /**\n    Create a selection from a JSON representation.\n    */\n    static fromJSON(json) {\n        if (!json || !Array.isArray(json.ranges) || typeof json.main != \"number\" || json.main >= json.ranges.length)\n            throw new RangeError(\"Invalid JSON representation for EditorSelection\");\n        return new EditorSelection(json.ranges.map((r) => SelectionRange.fromJSON(r)), json.main);\n    }\n    /**\n    Create a selection holding a single range.\n    */\n    static single(anchor, head = anchor) {\n        return new EditorSelection([EditorSelection.range(anchor, head)], 0);\n    }\n    /**\n    Sort and merge the given set of ranges, creating a valid\n    selection.\n    */\n    static create(ranges, mainIndex = 0) {\n        if (ranges.length == 0)\n            throw new RangeError(\"A selection needs at least one range\");\n        for (let pos = 0, i = 0; i < ranges.length; i++) {\n            let range = ranges[i];\n            if (range.empty ? range.from <= pos : range.from < pos)\n                return normalized(ranges.slice(), mainIndex);\n            pos = range.to;\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n    /**\n    Create a cursor selection range at the given position. You can\n    safely ignore the optional arguments in most situations.\n    */\n    static cursor(pos, assoc = 0, bidiLevel, goalColumn) {\n        return new SelectionRange(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 4 /* AssocBefore */ : 8 /* AssocAfter */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel)) |\n            ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */));\n    }\n    /**\n    Create a selection range.\n    */\n    static range(anchor, head, goalColumn) {\n        let goal = (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */;\n        return head < anchor ? new SelectionRange(head, anchor, 16 /* Inverted */ | goal) : new SelectionRange(anchor, head, goal);\n    }\n}\nfunction normalized(ranges, mainIndex = 0) {\n    let main = ranges[mainIndex];\n    ranges.sort((a, b) => a.from - b.from);\n    mainIndex = ranges.indexOf(main);\n    for (let i = 1; i < ranges.length; i++) {\n        let range = ranges[i], prev = ranges[i - 1];\n        if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n            let from = prev.from, to = Math.max(range.to, prev.to);\n            if (i <= mainIndex)\n                mainIndex--;\n            ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from) : EditorSelection.range(from, to));\n        }\n    }\n    return new EditorSelection(ranges, mainIndex);\n}\nfunction checkSelection(selection, docLength) {\n    for (let range of selection.ranges)\n        if (range.to > docLength)\n            throw new RangeError(\"Selection points outside of document\");\n}\n\nlet nextID = 0;\n/**\nA facet is a labeled value that is associated with an editor\nstate. It takes inputs from any number of extensions, and combines\nthose into a single output value.\n\nExamples of facets are the [theme](https://codemirror.net/6/docs/ref/#view.EditorView^theme) styles\nassociated with an editor or the [tab\nsize](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) (which is reduced to a single\nvalue, using the input with the hightest precedence).\n*/\nclass Facet {\n    constructor(\n    /**\n    @internal\n    */\n    combine, \n    /**\n    @internal\n    */\n    compareInput, \n    /**\n    @internal\n    */\n    compare, isStatic, \n    /**\n    @internal\n    */\n    extensions) {\n        this.combine = combine;\n        this.compareInput = compareInput;\n        this.compare = compare;\n        this.isStatic = isStatic;\n        this.extensions = extensions;\n        /**\n        @internal\n        */\n        this.id = nextID++;\n        this.default = combine([]);\n    }\n    /**\n    Define a new facet.\n    */\n    static define(config = {}) {\n        return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray : (a, b) => a === b), !!config.static, config.enables);\n    }\n    /**\n    Returns an extension that adds the given value for this facet.\n    */\n    of(value) {\n        return new FacetProvider([], this, 0 /* Static */, value);\n    }\n    /**\n    Create an extension that computes a value for the facet from a\n    state. You must take care to declare the parts of the state that\n    this value depends on, since your function is only called again\n    for a new state when one of those parts changed.\n    \n    In most cases, you'll want to use the\n    [`provide`](https://codemirror.net/6/docs/ref/#state.StateField^define^config.provide) option when\n    defining a field instead.\n    */\n    compute(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 1 /* Single */, get);\n    }\n    /**\n    Create an extension that computes zero or more values for this\n    facet from a state.\n    */\n    computeN(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 2 /* Multi */, get);\n    }\n    from(field, get) {\n        if (!get)\n            get = x => x;\n        return this.compute([field], state => get(state.field(field)));\n    }\n}\nfunction sameArray(a, b) {\n    return a == b || a.length == b.length && a.every((e, i) => e === b[i]);\n}\nclass FacetProvider {\n    constructor(dependencies, facet, type, value) {\n        this.dependencies = dependencies;\n        this.facet = facet;\n        this.type = type;\n        this.value = value;\n        this.id = nextID++;\n    }\n    dynamicSlot(addresses) {\n        var _a;\n        let getter = this.value;\n        let compare = this.facet.compareInput;\n        let idx = addresses[this.id] >> 1, multi = this.type == 2 /* Multi */;\n        let depDoc = false, depSel = false, depAddrs = [];\n        for (let dep of this.dependencies) {\n            if (dep == \"doc\")\n                depDoc = true;\n            else if (dep == \"selection\")\n                depSel = true;\n            else if ((((_a = addresses[dep.id]) !== null && _a !== void 0 ? _a : 1) & 1) == 0)\n                depAddrs.push(addresses[dep.id]);\n        }\n        return (state, tr) => {\n            let oldVal = state.values[idx];\n            if (oldVal === Uninitialized) {\n                state.values[idx] = getter(state);\n                return 1 /* Changed */;\n            }\n            if (tr) {\n                let depChanged = (depDoc && tr.docChanged) || (depSel && (tr.docChanged || tr.selection)) ||\n                    depAddrs.some(addr => (ensureAddr(state, addr) & 1 /* Changed */) > 0);\n                if (depChanged) {\n                    let newVal = getter(state);\n                    if (multi ? !compareArray(newVal, oldVal, compare) : !compare(newVal, oldVal)) {\n                        state.values[idx] = newVal;\n                        return 1 /* Changed */;\n                    }\n                }\n            }\n            return 0;\n        };\n    }\n}\nfunction compareArray(a, b, compare) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!compare(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction dynamicFacetSlot(addresses, facet, providers) {\n    let providerAddrs = providers.map(p => addresses[p.id]);\n    let providerTypes = providers.map(p => p.type);\n    let dynamic = providerAddrs.filter(p => !(p & 1));\n    let idx = addresses[facet.id] >> 1;\n    return (state, tr) => {\n        let oldVal = state.values[idx], changed = oldVal === Uninitialized || !tr;\n        for (let dynAddr of dynamic) {\n            if (ensureAddr(state, dynAddr) & 1 /* Changed */)\n                changed = true;\n        }\n        if (!changed)\n            return 0;\n        let values = [];\n        for (let i = 0; i < providerAddrs.length; i++) {\n            let value = getAddr(state, providerAddrs[i]);\n            if (providerTypes[i] == 2 /* Multi */)\n                for (let val of value)\n                    values.push(val);\n            else\n                values.push(value);\n        }\n        let value = facet.combine(values);\n        if (facet.compare(value, oldVal))\n            return 0;\n        state.values[idx] = value;\n        return 1 /* Changed */;\n    };\n}\nconst initField = /*@__PURE__*/Facet.define({ static: true });\n/**\nFields can store additional information in an editor state, and\nkeep it in sync with the rest of the state.\n*/\nclass StateField {\n    constructor(\n    /**\n    @internal\n    */\n    id, createF, updateF, compareF, \n    /**\n    @internal\n    */\n    spec) {\n        this.id = id;\n        this.createF = createF;\n        this.updateF = updateF;\n        this.compareF = compareF;\n        this.spec = spec;\n        /**\n        @internal\n        */\n        this.provides = undefined;\n    }\n    /**\n    Define a state field.\n    */\n    static define(config) {\n        let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);\n        if (config.provide)\n            field.provides = config.provide(field);\n        return field;\n    }\n    create(state) {\n        let init = state.facet(initField).find(i => i.field == this);\n        return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);\n    }\n    /**\n    @internal\n    */\n    slot(addresses) {\n        let idx = addresses[this.id] >> 1;\n        return (state, tr) => {\n            let oldVal = state.values[idx];\n            if (oldVal === Uninitialized) {\n                state.values[idx] = this.create(state);\n                return 1 /* Changed */;\n            }\n            if (tr) {\n                let value = this.updateF(oldVal, tr);\n                if (!this.compareF(oldVal, value)) {\n                    state.values[idx] = value;\n                    return 1 /* Changed */;\n                }\n            }\n            return 0;\n        };\n    }\n    /**\n    Returns an extension that enables this field and overrides the\n    way it is initialized. Can be useful when you need to provide a\n    non-default starting value for the field.\n    */\n    init(create) {\n        return [this, initField.of({ field: this, create })];\n    }\n    /**\n    State field instances can be used as\n    [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a\n    given state.\n    */\n    get extension() { return this; }\n}\nconst Prec_ = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };\nfunction prec(value) {\n    return (ext) => new PrecExtension(ext, value);\n}\n/**\nBy default extensions are registered in the order they are found\nin the flattened form of nested array that was provided.\nIndividual extension values can be assigned a precedence to\noverride this. Extensions that do not have a precedence set get\nthe precedence of the nearest parent with a precedence, or\n[`default`](https://codemirror.net/6/docs/ref/#state.Prec.default) if there is no such parent. The\nfinal ordering of extensions is determined by first sorting by\nprecedence and then by order within each precedence.\n*/\nconst Prec = {\n    /**\n    The lowest precedence level. Meant for things that should end up\n    near the end of the extension order.\n    */\n    lowest: /*@__PURE__*/prec(Prec_.lowest),\n    /**\n    A lower-than-default precedence, for extensions.\n    */\n    low: /*@__PURE__*/prec(Prec_.low),\n    /**\n    The default precedence, which is also used for extensions\n    without an explicit precedence.\n    */\n    default: /*@__PURE__*/prec(Prec_.default),\n    /**\n    A higher-than-default precedence, for extensions that should\n    come before those with default precedence.\n    */\n    high: /*@__PURE__*/prec(Prec_.high),\n    /**\n    The highest precedence level, for extensions that should end up\n    near the start of the precedence ordering.\n    */\n    highest: /*@__PURE__*/prec(Prec_.highest),\n    // FIXME Drop these in some future breaking version\n    /**\n    Backwards-compatible synonym for `Prec.lowest`.\n    */\n    fallback: /*@__PURE__*/prec(Prec_.lowest),\n    /**\n    Backwards-compatible synonym for `Prec.high`.\n    */\n    extend: /*@__PURE__*/prec(Prec_.high),\n    /**\n    Backwards-compatible synonym for `Prec.highest`.\n    */\n    override: /*@__PURE__*/prec(Prec_.highest)\n};\nclass PrecExtension {\n    constructor(inner, prec) {\n        this.inner = inner;\n        this.prec = prec;\n    }\n}\n/**\nExtension compartments can be used to make a configuration\ndynamic. By [wrapping](https://codemirror.net/6/docs/ref/#state.Compartment.of) part of your\nconfiguration in a compartment, you can later\n[replace](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure) that part through a\ntransaction.\n*/\nclass Compartment {\n    /**\n    Create an instance of this compartment to add to your [state\n    configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).\n    */\n    of(ext) { return new CompartmentInstance(this, ext); }\n    /**\n    Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that\n    reconfigures this compartment.\n    */\n    reconfigure(content) {\n        return Compartment.reconfigure.of({ compartment: this, extension: content });\n    }\n    /**\n    Get the current content of the compartment in the state, or\n    `undefined` if it isn't present.\n    */\n    get(state) {\n        return state.config.compartments.get(this);\n    }\n}\nclass CompartmentInstance {\n    constructor(compartment, inner) {\n        this.compartment = compartment;\n        this.inner = inner;\n    }\n}\nclass Configuration {\n    constructor(base, compartments, dynamicSlots, address, staticValues) {\n        this.base = base;\n        this.compartments = compartments;\n        this.dynamicSlots = dynamicSlots;\n        this.address = address;\n        this.staticValues = staticValues;\n        this.statusTemplate = [];\n        while (this.statusTemplate.length < dynamicSlots.length)\n            this.statusTemplate.push(0 /* Unresolved */);\n    }\n    staticFacet(facet) {\n        let addr = this.address[facet.id];\n        return addr == null ? facet.default : this.staticValues[addr >> 1];\n    }\n    static resolve(base, compartments, oldState) {\n        let fields = [];\n        let facets = Object.create(null);\n        let newCompartments = new Map();\n        for (let ext of flatten(base, compartments, newCompartments)) {\n            if (ext instanceof StateField)\n                fields.push(ext);\n            else\n                (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);\n        }\n        let address = Object.create(null);\n        let staticValues = [];\n        let dynamicSlots = [];\n        for (let field of fields) {\n            address[field.id] = dynamicSlots.length << 1;\n            dynamicSlots.push(a => field.slot(a));\n        }\n        for (let id in facets) {\n            let providers = facets[id], facet = providers[0].facet;\n            if (providers.every(p => p.type == 0 /* Static */)) {\n                address[facet.id] = (staticValues.length << 1) | 1;\n                let value = facet.combine(providers.map(p => p.value));\n                let oldAddr = oldState ? oldState.config.address[facet.id] : null;\n                if (oldAddr != null) {\n                    let oldVal = getAddr(oldState, oldAddr);\n                    if (facet.compare(value, oldVal))\n                        value = oldVal;\n                }\n                staticValues.push(value);\n            }\n            else {\n                for (let p of providers) {\n                    if (p.type == 0 /* Static */) {\n                        address[p.id] = (staticValues.length << 1) | 1;\n                        staticValues.push(p.value);\n                    }\n                    else {\n                        address[p.id] = dynamicSlots.length << 1;\n                        dynamicSlots.push(a => p.dynamicSlot(a));\n                    }\n                }\n                address[facet.id] = dynamicSlots.length << 1;\n                dynamicSlots.push(a => dynamicFacetSlot(a, facet, providers));\n            }\n        }\n        return new Configuration(base, newCompartments, dynamicSlots.map(f => f(address)), address, staticValues);\n    }\n}\nfunction flatten(extension, compartments, newCompartments) {\n    let result = [[], [], [], [], []];\n    let seen = new Map();\n    function inner(ext, prec) {\n        let known = seen.get(ext);\n        if (known != null) {\n            if (known >= prec)\n                return;\n            let found = result[known].indexOf(ext);\n            if (found > -1)\n                result[known].splice(found, 1);\n            if (ext instanceof CompartmentInstance)\n                newCompartments.delete(ext.compartment);\n        }\n        seen.set(ext, prec);\n        if (Array.isArray(ext)) {\n            for (let e of ext)\n                inner(e, prec);\n        }\n        else if (ext instanceof CompartmentInstance) {\n            if (newCompartments.has(ext.compartment))\n                throw new RangeError(`Duplicate use of compartment in extensions`);\n            let content = compartments.get(ext.compartment) || ext.inner;\n            newCompartments.set(ext.compartment, content);\n            inner(content, prec);\n        }\n        else if (ext instanceof PrecExtension) {\n            inner(ext.inner, ext.prec);\n        }\n        else if (ext instanceof StateField) {\n            result[prec].push(ext);\n            if (ext.provides)\n                inner(ext.provides, prec);\n        }\n        else if (ext instanceof FacetProvider) {\n            result[prec].push(ext);\n            if (ext.facet.extensions)\n                inner(ext.facet.extensions, prec);\n        }\n        else {\n            let content = ext.extension;\n            if (!content)\n                throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);\n            inner(content, prec);\n        }\n    }\n    inner(extension, Prec_.default);\n    return result.reduce((a, b) => a.concat(b));\n}\nconst Uninitialized = {};\nfunction ensureAddr(state, addr) {\n    if (addr & 1)\n        return 2 /* Computed */;\n    let idx = addr >> 1;\n    let status = state.status[idx];\n    if (status == 4 /* Computing */)\n        throw new Error(\"Cyclic dependency between fields and/or facets\");\n    if (status & 2 /* Computed */)\n        return status;\n    state.status[idx] = 4 /* Computing */;\n    let changed = state.config.dynamicSlots[idx](state, state.applying);\n    return state.status[idx] = 2 /* Computed */ | changed;\n}\nfunction getAddr(state, addr) {\n    return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];\n}\n\nconst languageData = /*@__PURE__*/Facet.define();\nconst allowMultipleSelections = /*@__PURE__*/Facet.define({\n    combine: values => values.some(v => v),\n    static: true\n});\nconst lineSeparator = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : undefined,\n    static: true\n});\nconst changeFilter = /*@__PURE__*/Facet.define();\nconst transactionFilter = /*@__PURE__*/Facet.define();\nconst transactionExtender = /*@__PURE__*/Facet.define();\nconst readOnly = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : false\n});\n\n/**\nAnnotations are tagged values that are used to add metadata to\ntransactions in an extensible way. They should be used to model\nthings that effect the entire transaction (such as its [time\nstamp](https://codemirror.net/6/docs/ref/#state.Transaction^time) or information about its\n[origin](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent)). For effects that happen\n_alongside_ the other changes made by the transaction, [state\neffects](https://codemirror.net/6/docs/ref/#state.StateEffect) are more appropriate.\n*/\nclass Annotation {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The annotation type.\n    */\n    type, \n    /**\n    The value of this annotation.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Define a new type of annotation.\n    */\n    static define() { return new AnnotationType(); }\n}\n/**\nMarker that identifies a type of [annotation](https://codemirror.net/6/docs/ref/#state.Annotation).\n*/\nclass AnnotationType {\n    /**\n    Create an instance of this annotation.\n    */\n    of(value) { return new Annotation(this, value); }\n}\n/**\nRepresentation of a type of state effect. Defined with\n[`StateEffect.define`](https://codemirror.net/6/docs/ref/#state.StateEffect^define).\n*/\nclass StateEffectType {\n    /**\n    @internal\n    */\n    constructor(\n    // The `any` types in these function types are there to work\n    // around TypeScript issue #37631, where the type guard on\n    // `StateEffect.is` mysteriously stops working when these properly\n    // have type `Value`.\n    /**\n    @internal\n    */\n    map) {\n        this.map = map;\n    }\n    /**\n    Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this\n    type.\n    */\n    of(value) { return new StateEffect(this, value); }\n}\n/**\nState effects can be used to represent additional effects\nassociated with a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction.effects). They\nare often useful to model changes to custom [state\nfields](https://codemirror.net/6/docs/ref/#state.StateField), when those changes aren't implicit in\ndocument or selection changes.\n*/\nclass StateEffect {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    type, \n    /**\n    The value of this effect.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Map this effect through a position mapping. Will return\n    `undefined` when that ends up deleting the effect.\n    */\n    map(mapping) {\n        let mapped = this.type.map(this.value, mapping);\n        return mapped === undefined ? undefined : mapped == this.value ? this : new StateEffect(this.type, mapped);\n    }\n    /**\n    Tells you whether this effect object is of a given\n    [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).\n    */\n    is(type) { return this.type == type; }\n    /**\n    Define a new effect type. The type parameter indicates the type\n    of values that his effect holds.\n    */\n    static define(spec = {}) {\n        return new StateEffectType(spec.map || (v => v));\n    }\n    /**\n    Map an array of effects through a change set.\n    */\n    static mapEffects(effects, mapping) {\n        if (!effects.length)\n            return effects;\n        let result = [];\n        for (let effect of effects) {\n            let mapped = effect.map(mapping);\n            if (mapped)\n                result.push(mapped);\n        }\n        return result;\n    }\n}\n/**\nThis effect can be used to reconfigure the root extensions of\nthe editor. Doing this will discard any extensions\n[appended](https://codemirror.net/6/docs/ref/#state.StateEffect^appendConfig), but does not reset\nthe content of [reconfigured](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure)\ncompartments.\n*/\nStateEffect.reconfigure = /*@__PURE__*/StateEffect.define();\n/**\nAppend extensions to the top-level configuration of the editor.\n*/\nStateEffect.appendConfig = /*@__PURE__*/StateEffect.define();\n/**\nChanges to the editor state are grouped into transactions.\nTypically, a user action creates a single transaction, which may\ncontain any number of document changes, may change the selection,\nor have other effects. Create a transaction by calling\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n*/\nclass Transaction {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The state from which the transaction starts.\n    */\n    startState, \n    /**\n    The document changes made by this transaction.\n    */\n    changes, \n    /**\n    The selection set by this transaction, or undefined if it\n    doesn't explicitly set a selection.\n    */\n    selection, \n    /**\n    The effects added to the transaction.\n    */\n    effects, \n    /**\n    @internal\n    */\n    annotations, \n    /**\n    Whether the selection should be scrolled into view after this\n    transaction is dispatched.\n    */\n    scrollIntoView) {\n        this.startState = startState;\n        this.changes = changes;\n        this.selection = selection;\n        this.effects = effects;\n        this.annotations = annotations;\n        this.scrollIntoView = scrollIntoView;\n        /**\n        @internal\n        */\n        this._doc = null;\n        /**\n        @internal\n        */\n        this._state = null;\n        if (selection)\n            checkSelection(selection, changes.newLength);\n        if (!annotations.some((a) => a.type == Transaction.time))\n            this.annotations = annotations.concat(Transaction.time.of(Date.now()));\n    }\n    /**\n    The new document produced by the transaction. Contrary to\n    [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't\n    force the entire new state to be computed right away, so it is\n    recommended that [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter\n    when they need to look at the new document.\n    */\n    get newDoc() {\n        return this._doc || (this._doc = this.changes.apply(this.startState.doc));\n    }\n    /**\n    The new selection produced by the transaction. If\n    [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,\n    this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's\n    current selection through the changes made by the transaction.\n    */\n    get newSelection() {\n        return this.selection || this.startState.selection.map(this.changes);\n    }\n    /**\n    The new state created by the transaction. Computed on demand\n    (but retained for subsequent access), so itis recommended not to\n    access it in [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.\n    */\n    get state() {\n        if (!this._state)\n            this.startState.applyTransaction(this);\n        return this._state;\n    }\n    /**\n    Get the value of the given annotation type, if any.\n    */\n    annotation(type) {\n        for (let ann of this.annotations)\n            if (ann.type == type)\n                return ann.value;\n        return undefined;\n    }\n    /**\n    Indicates whether the transaction changed the document.\n    */\n    get docChanged() { return !this.changes.empty; }\n    /**\n    Indicates whether this transaction reconfigures the state\n    (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or\n    with a top-level configuration\n    [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).\n    */\n    get reconfigured() { return this.startState.config != this.state.config; }\n    /**\n    Returns true if the transaction has a [user\n    event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to\n    or more specific than `event`. For example, if the transaction\n    has `\"select.pointer\"` as user event, `\"select\"` and\n    `\"select.pointer\"` will match it.\n    */\n    isUserEvent(event) {\n        let e = this.annotation(Transaction.userEvent);\n        return !!(e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == \".\"));\n    }\n}\n/**\nAnnotation used to store transaction timestamps.\n*/\nTransaction.time = /*@__PURE__*/Annotation.define();\n/**\nAnnotation used to associate a transaction with a user interface\nevent. Holds a string identifying the event, using a\ndot-separated format to support attaching more specific\ninformation. The events used by the core libraries are:\n\n - `\"input\"` when content is entered\n   - `\"input.type\"` for typed input\n     - `\"input.type.compose\"` for composition\n   - `\"input.paste\"` for pasted input\n   - `\"input.drop\"` when adding content with drag-and-drop\n   - `\"input.complete\"` when autocompleting\n - `\"delete\"` when the user deletes content\n   - `\"delete.selection\"` when deleting the selection\n   - `\"delete.forward\"` when deleting forward from the selection\n   - `\"delete.backward\"` when deleting backward from the selection\n   - `\"delete.cut\"` when cutting to the clipboard\n - `\"move\"` when content is moved\n   - `\"move.drop\"` when content is moved within the editor through drag-and-drop\n - `\"select\"` when explicitly changing the selection\n   - `\"select.pointer\"` when selecting with a mouse or other pointing device\n - `\"undo\"` and `\"redo\"` for history actions\n\nUse [`isUserEvent`](https://codemirror.net/6/docs/ref/#state.Transaction.isUserEvent) to check\nwhether the annotation matches a given event.\n*/\nTransaction.userEvent = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating whether a transaction should be added to\nthe undo history or not.\n*/\nTransaction.addToHistory = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating (when present and true) that a transaction\nrepresents a change made by some other actor, not the user. This\nis used, for example, to tag other people's changes in\ncollaborative editing.\n*/\nTransaction.remote = /*@__PURE__*/Annotation.define();\nfunction joinRanges(a, b) {\n    let result = [];\n    for (let iA = 0, iB = 0;;) {\n        let from, to;\n        if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {\n            from = a[iA++];\n            to = a[iA++];\n        }\n        else if (iB < b.length) {\n            from = b[iB++];\n            to = b[iB++];\n        }\n        else\n            return result;\n        if (!result.length || result[result.length - 1] < from)\n            result.push(from, to);\n        else if (result[result.length - 1] < to)\n            result[result.length - 1] = to;\n    }\n}\nfunction mergeTransaction(a, b, sequential) {\n    var _a;\n    let mapForA, mapForB, changes;\n    if (sequential) {\n        mapForA = b.changes;\n        mapForB = ChangeSet.empty(b.changes.length);\n        changes = a.changes.compose(b.changes);\n    }\n    else {\n        mapForA = b.changes.map(a.changes);\n        mapForB = a.changes.mapDesc(b.changes, true);\n        changes = a.changes.compose(mapForA);\n    }\n    return {\n        changes,\n        selection: b.selection ? b.selection.map(mapForB) : (_a = a.selection) === null || _a === void 0 ? void 0 : _a.map(mapForA),\n        effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),\n        annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,\n        scrollIntoView: a.scrollIntoView || b.scrollIntoView\n    };\n}\nfunction resolveTransactionInner(state, spec, docSize) {\n    let sel = spec.selection, annotations = asArray(spec.annotations);\n    if (spec.userEvent)\n        annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));\n    return {\n        changes: spec.changes instanceof ChangeSet ? spec.changes\n            : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),\n        selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),\n        effects: asArray(spec.effects),\n        annotations,\n        scrollIntoView: !!spec.scrollIntoView\n    };\n}\nfunction resolveTransaction(state, specs, filter) {\n    let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);\n    if (specs.length && specs[0].filter === false)\n        filter = false;\n    for (let i = 1; i < specs.length; i++) {\n        if (specs[i].filter === false)\n            filter = false;\n        let seq = !!specs[i].sequential;\n        s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);\n    }\n    let tr = new Transaction(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);\n    return extendTransaction(filter ? filterTransaction(tr) : tr);\n}\n// Finish a transaction by applying filters if necessary.\nfunction filterTransaction(tr) {\n    let state = tr.startState;\n    // Change filters\n    let result = true;\n    for (let filter of state.facet(changeFilter)) {\n        let value = filter(tr);\n        if (value === false) {\n            result = false;\n            break;\n        }\n        if (Array.isArray(value))\n            result = result === true ? value : joinRanges(result, value);\n    }\n    if (result !== true) {\n        let changes, back;\n        if (result === false) {\n            back = tr.changes.invertedDesc;\n            changes = ChangeSet.empty(state.doc.length);\n        }\n        else {\n            let filtered = tr.changes.filter(result);\n            changes = filtered.changes;\n            back = filtered.filtered.invertedDesc;\n        }\n        tr = new Transaction(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);\n    }\n    // Transaction filters\n    let filters = state.facet(transactionFilter);\n    for (let i = filters.length - 1; i >= 0; i--) {\n        let filtered = filters[i](tr);\n        if (filtered instanceof Transaction)\n            tr = filtered;\n        else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)\n            tr = filtered[0];\n        else\n            tr = resolveTransaction(state, asArray(filtered), false);\n    }\n    return tr;\n}\nfunction extendTransaction(tr) {\n    let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;\n    for (let i = extenders.length - 1; i >= 0; i--) {\n        let extension = extenders[i](tr);\n        if (extension && Object.keys(extension).length)\n            spec = mergeTransaction(tr, resolveTransactionInner(state, extension, tr.changes.newLength), true);\n    }\n    return spec == tr ? tr : new Transaction(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);\n}\nconst none = [];\nfunction asArray(value) {\n    return value == null ? none : Array.isArray(value) ? value : [value];\n}\n\n/**\nThe categories produced by a [character\ncategorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer). These are used\ndo things like selecting by word.\n*/\nvar CharCategory = /*@__PURE__*/(function (CharCategory) {\n    /**\n    Word characters.\n    */\n    CharCategory[CharCategory[\"Word\"] = 0] = \"Word\";\n    /**\n    Whitespace.\n    */\n    CharCategory[CharCategory[\"Space\"] = 1] = \"Space\";\n    /**\n    Anything else.\n    */\n    CharCategory[CharCategory[\"Other\"] = 2] = \"Other\";\nreturn CharCategory})(CharCategory || (CharCategory = {}));\nconst nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) { }\nfunction hasWordChar(str) {\n    if (wordChar)\n        return wordChar.test(str);\n    for (let i = 0; i < str.length; i++) {\n        let ch = str[i];\n        if (/\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))\n            return true;\n    }\n    return false;\n}\nfunction makeCategorizer(wordChars) {\n    return (char) => {\n        if (!/\\S/.test(char))\n            return CharCategory.Space;\n        if (hasWordChar(char))\n            return CharCategory.Word;\n        for (let i = 0; i < wordChars.length; i++)\n            if (char.indexOf(wordChars[i]) > -1)\n                return CharCategory.Word;\n        return CharCategory.Other;\n    };\n}\n\n/**\nThe editor state class is a persistent (immutable) data structure.\nTo update a state, you [create](https://codemirror.net/6/docs/ref/#state.EditorState.update) a\n[transaction](https://codemirror.net/6/docs/ref/#state.Transaction), which produces a _new_ state\ninstance, without modifying the original object.\n\nAs such, _never_ mutate properties of a state directly. That'll\njust break things.\n*/\nclass EditorState {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    config, \n    /**\n    The current document.\n    */\n    doc, \n    /**\n    The current selection.\n    */\n    selection, \n    /**\n    @internal\n    */\n    values, tr = null) {\n        this.config = config;\n        this.doc = doc;\n        this.selection = selection;\n        this.values = values;\n        /**\n        @internal\n        */\n        this.applying = null;\n        this.status = config.statusTemplate.slice();\n        this.applying = tr;\n        // Fill in the computed state immediately, so that further queries\n        // for it made during the update return this state\n        if (tr)\n            tr._state = this;\n        for (let i = 0; i < this.config.dynamicSlots.length; i++)\n            ensureAddr(this, i << 1);\n        this.applying = null;\n    }\n    field(field, require = true) {\n        let addr = this.config.address[field.id];\n        if (addr == null) {\n            if (require)\n                throw new RangeError(\"Field is not present in this state\");\n            return undefined;\n        }\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this\n    state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)\n    can be passed. Unless\n    [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the\n    [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec\n    are assumed to start in the _current_ document (not the document\n    produced by previous specs), and its\n    [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and\n    [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer\n    to the document created by its _own_ changes. The resulting\n    transaction contains the combined effect of all the different\n    specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later\n    specs take precedence over earlier ones.\n    */\n    update(...specs) {\n        return resolveTransaction(this, specs, true);\n    }\n    /**\n    @internal\n    */\n    applyTransaction(tr) {\n        let conf = this.config, { base, compartments } = conf;\n        for (let effect of tr.effects) {\n            if (effect.is(Compartment.reconfigure)) {\n                if (conf) {\n                    compartments = new Map;\n                    conf.compartments.forEach((val, key) => compartments.set(key, val));\n                    conf = null;\n                }\n                compartments.set(effect.value.compartment, effect.value.extension);\n            }\n            else if (effect.is(StateEffect.reconfigure)) {\n                conf = null;\n                base = effect.value;\n            }\n            else if (effect.is(StateEffect.appendConfig)) {\n                conf = null;\n                base = asArray(base).concat(effect.value);\n            }\n        }\n        let startValues;\n        if (!conf) {\n            conf = Configuration.resolve(base, compartments, this);\n            let updatedValues = conf.dynamicSlots.map(_ => Uninitialized);\n            // Copy over old values for shared facets/fields\n            for (let id in conf.address) {\n                let cur = conf.address[id], prev = this.config.address[id];\n                if (prev != null && (cur & 1) == 0)\n                    updatedValues[cur >> 1] = getAddr(this, prev);\n            }\n            let intermediateState = new EditorState(conf, this.doc, this.selection, updatedValues, null);\n            startValues = intermediateState.values;\n        }\n        else {\n            startValues = tr.startState.values.slice();\n        }\n        new EditorState(conf, tr.newDoc, tr.newSelection, startValues, tr);\n    }\n    /**\n    Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that\n    replaces every selection range with the given content.\n    */\n    replaceSelection(text) {\n        if (typeof text == \"string\")\n            text = this.toText(text);\n        return this.changeByRange(range => ({ changes: { from: range.from, to: range.to, insert: text },\n            range: EditorSelection.cursor(range.from + text.length) }));\n    }\n    /**\n    Create a set of changes and a new selection by running the given\n    function for each range in the active selection. The function\n    can return an optional set of changes (in the coordinate space\n    of the start document), plus an updated range (in the coordinate\n    space of the document produced by the call's own changes). This\n    method will merge all the changes and ranges into a single\n    changeset and selection, and return it as a [transaction\n    spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to\n    [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n    */\n    changeByRange(f) {\n        let sel = this.selection;\n        let result1 = f(sel.ranges[0]);\n        let changes = this.changes(result1.changes), ranges = [result1.range];\n        let effects = asArray(result1.effects);\n        for (let i = 1; i < sel.ranges.length; i++) {\n            let result = f(sel.ranges[i]);\n            let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);\n            for (let j = 0; j < i; j++)\n                ranges[j] = ranges[j].map(newMapped);\n            let mapBy = changes.mapDesc(newChanges, true);\n            ranges.push(result.range.map(mapBy));\n            changes = changes.compose(newMapped);\n            effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));\n        }\n        return {\n            changes,\n            selection: EditorSelection.create(ranges, sel.mainIndex),\n            effects\n        };\n    }\n    /**\n    Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change\n    description, taking the state's document length and line\n    separator into account.\n    */\n    changes(spec = []) {\n        if (spec instanceof ChangeSet)\n            return spec;\n        return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));\n    }\n    /**\n    Using the state's [line\n    separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a\n    [`Text`](https://codemirror.net/6/docs/ref/#text.Text) instance from the given string.\n    */\n    toText(string) {\n        return Text.of(string.split(this.facet(EditorState.lineSeparator) || DefaultSplit));\n    }\n    /**\n    Return the given range of the document as a string.\n    */\n    sliceDoc(from = 0, to = this.doc.length) {\n        return this.doc.sliceString(from, to, this.lineBreak);\n    }\n    /**\n    Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).\n    */\n    facet(facet) {\n        let addr = this.config.address[facet.id];\n        if (addr == null)\n            return facet.default;\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Convert this state to a JSON-serializable object. When custom\n    fields should be serialized, you can pass them in as an object\n    mapping property names (in the resulting object, which should\n    not use `doc` or `selection`) to fields.\n    */\n    toJSON(fields) {\n        let result = {\n            doc: this.sliceDoc(),\n            selection: this.selection.toJSON()\n        };\n        if (fields)\n            for (let prop in fields) {\n                let value = fields[prop];\n                if (value instanceof StateField)\n                    result[prop] = value.spec.toJSON(this.field(fields[prop]), this);\n            }\n        return result;\n    }\n    /**\n    Deserialize a state from its JSON representation. When custom\n    fields should be deserialized, pass the same object you passed\n    to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as\n    third argument.\n    */\n    static fromJSON(json, config = {}, fields) {\n        if (!json || typeof json.doc != \"string\")\n            throw new RangeError(\"Invalid JSON representation for EditorState\");\n        let fieldInit = [];\n        if (fields)\n            for (let prop in fields) {\n                let field = fields[prop], value = json[prop];\n                fieldInit.push(field.init(state => field.spec.fromJSON(value, state)));\n            }\n        return EditorState.create({\n            doc: json.doc,\n            selection: EditorSelection.fromJSON(json.selection),\n            extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit\n        });\n    }\n    /**\n    Create a new state. You'll usually only need this when\n    initializing an editor—updated states are created by applying\n    transactions.\n    */\n    static create(config = {}) {\n        let configuration = Configuration.resolve(config.extensions || [], new Map);\n        let doc = config.doc instanceof Text ? config.doc\n            : Text.of((config.doc || \"\").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));\n        let selection = !config.selection ? EditorSelection.single(0)\n            : config.selection instanceof EditorSelection ? config.selection\n                : EditorSelection.single(config.selection.anchor, config.selection.head);\n        checkSelection(selection, doc.length);\n        if (!configuration.staticFacet(allowMultipleSelections))\n            selection = selection.asSingle();\n        return new EditorState(configuration, doc, selection, configuration.dynamicSlots.map(_ => Uninitialized));\n    }\n    /**\n    The size (in columns) of a tab in the document, determined by\n    the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.\n    */\n    get tabSize() { return this.facet(EditorState.tabSize); }\n    /**\n    Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)\n    string for this state.\n    */\n    get lineBreak() { return this.facet(EditorState.lineSeparator) || \"\\n\"; }\n    /**\n    Returns true when the editor is\n    [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.\n    */\n    get readOnly() { return this.facet(readOnly); }\n    /**\n    Look up a translation for the given phrase (via the\n    [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the\n    original string if no translation is found.\n    */\n    phrase(phrase) {\n        for (let map of this.facet(EditorState.phrases))\n            if (Object.prototype.hasOwnProperty.call(map, phrase))\n                return map[phrase];\n        return phrase;\n    }\n    /**\n    Find the values for a given language data field, provided by the\n    the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.\n    */\n    languageDataAt(name, pos, side = -1) {\n        let values = [];\n        for (let provider of this.facet(languageData)) {\n            for (let result of provider(this, pos, side)) {\n                if (Object.prototype.hasOwnProperty.call(result, name))\n                    values.push(result[name]);\n            }\n        }\n        return values;\n    }\n    /**\n    Return a function that can categorize strings (expected to\n    represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak))\n    into one of:\n    \n     - Word (contains an alphanumeric character or a character\n       explicitly listed in the local language's `\"wordChars\"`\n       language data, which should be a string)\n     - Space (contains only whitespace)\n     - Other (anything else)\n    */\n    charCategorizer(at) {\n        return makeCategorizer(this.languageDataAt(\"wordChars\", at).join(\"\"));\n    }\n    /**\n    Find the word at the given position, meaning the range\n    containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters\n    around it. If no word characters are adjacent to the position,\n    this returns null.\n    */\n    wordAt(pos) {\n        let { text, from, length } = this.doc.lineAt(pos);\n        let cat = this.charCategorizer(pos);\n        let start = pos - from, end = pos - from;\n        while (start > 0) {\n            let prev = findClusterBreak(text, start, false);\n            if (cat(text.slice(prev, start)) != CharCategory.Word)\n                break;\n            start = prev;\n        }\n        while (end < length) {\n            let next = findClusterBreak(text, end);\n            if (cat(text.slice(end, next)) != CharCategory.Word)\n                break;\n            end = next;\n        }\n        return start == end ? null : EditorSelection.range(start + from, end + from);\n    }\n}\n/**\nA facet that, when enabled, causes the editor to allow multiple\nranges to be selected. Be careful though, because by default the\neditor relies on the native DOM selection, which cannot handle\nmultiple selections. An extension like\n[`drawSelection`](https://codemirror.net/6/docs/ref/#view.drawSelection) can be used to make\nsecondary selections visible to the user.\n*/\nEditorState.allowMultipleSelections = allowMultipleSelections;\n/**\nConfigures the tab size to use in this state. The first\n(highest-precedence) value of the facet is used. If no value is\ngiven, this defaults to 4.\n*/\nEditorState.tabSize = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : 4\n});\n/**\nThe line separator to use. By default, any of `\"\\n\"`, `\"\\r\\n\"`\nand `\"\\r\"` is treated as a separator when splitting lines, and\nlines are joined with `\"\\n\"`.\n\nWhen you configure a value here, only that precise separator\nwill be used, allowing you to round-trip documents through the\neditor without normalizing line separators.\n*/\nEditorState.lineSeparator = lineSeparator;\n/**\nThis facet controls the value of the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) getter, which is\nconsulted by commands and extensions that implement editing\nfunctionality to determine whether they should apply. It\ndefaults to false, but when its highest-precedence value is\n`true`, such functionality disables itself.\n\nNot to be confused with\n[`EditorView.editable`](https://codemirror.net/6/docs/ref/#view.EditorView^editable), which\ncontrols whether the editor's DOM is set to be editable (and\nthus focusable).\n*/\nEditorState.readOnly = readOnly;\n/**\nRegisters translation phrases. The\n[`phrase`](https://codemirror.net/6/docs/ref/#state.EditorState.phrase) method will look through\nall objects registered with this facet to find translations for\nits argument.\n*/\nEditorState.phrases = /*@__PURE__*/Facet.define();\n/**\nA facet used to register [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) providers.\n*/\nEditorState.languageData = languageData;\n/**\nFacet used to register change filters, which are called for each\ntransaction (unless explicitly\n[disabled](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter)), and can suppress\npart of the transaction's changes.\n\nSuch a function can return `true` to indicate that it doesn't\nwant to do anything, `false` to completely stop the changes in\nthe transaction, or a set of ranges in which changes should be\nsuppressed. Such ranges are represented as an array of numbers,\nwith each pair of two number indicating the start and end of a\nrange. So for example `[10, 20, 100, 110]` suppresses changes\nbetween 10 and 20, and between 100 and 110.\n*/\nEditorState.changeFilter = changeFilter;\n/**\nFacet used to register a hook that gets a chance to update or\nreplace transaction specs before they are applied. This will\nonly be applied for transactions that don't have\n[`filter`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter) set to `false`. You\ncan either return a single transaction spec (possibly the input\ntransaction), or an array of specs (which will be combined in\nthe same way as the arguments to\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update)).\n\nWhen possible, it is recommended to avoid accessing\n[`Transaction.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state) in a filter,\nsince it will force creation of a state that will then be\ndiscarded again, if the transaction is actually filtered.\n\n(This functionality should be used with care. Indiscriminately\nmodifying transaction is likely to break something or degrade\nthe user experience.)\n*/\nEditorState.transactionFilter = transactionFilter;\n/**\nThis is a more limited form of\n[`transactionFilter`](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter),\nwhich can only add\n[annotations](https://codemirror.net/6/docs/ref/#state.TransactionSpec.annotations) and\n[effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects). _But_, this type\nof filter runs even the transaction has disabled regular\n[filtering](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter), making it suitable\nfor effects that don't need to touch the changes or selection,\nbut do want to process every transaction.\n\nExtenders run _after_ filters, when both are applied.\n*/\nEditorState.transactionExtender = transactionExtender;\nCompartment.reconfigure = /*@__PURE__*/StateEffect.define();\n\n/**\nUtility function for combining behaviors to fill in a config\nobject from an array of provided configs. Will, by default, error\nwhen a field gets two values that aren't `===`-equal, but you can\nprovide combine functions per field to do something else.\n*/\nfunction combineConfig(configs, defaults, // Should hold only the optional properties of Config, but I haven't managed to express that\ncombine = {}) {\n    let result = {};\n    for (let config of configs)\n        for (let key of Object.keys(config)) {\n            let value = config[key], current = result[key];\n            if (current === undefined)\n                result[key] = value;\n            else if (current === value || value === undefined) ; // No conflict\n            else if (Object.hasOwnProperty.call(combine, key))\n                result[key] = combine[key](current, value);\n            else\n                throw new Error(\"Config merge conflict for field \" + key);\n        }\n    for (let key in defaults)\n        if (result[key] === undefined)\n            result[key] = defaults[key];\n    return result;\n}\n\nexport { Annotation, AnnotationType, ChangeDesc, ChangeSet, CharCategory, Compartment, EditorSelection, EditorState, Facet, MapMode, Prec, SelectionRange, StateEffect, StateEffectType, StateField, Transaction, combineConfig };\n","const C = \"\\u037c\"\nconst COUNT = typeof Symbol == \"undefined\" ? \"__\" + C : Symbol.for(C)\nconst SET = typeof Symbol == \"undefined\" ? \"__styleSet\" + Math.floor(Math.random() * 1e8) : Symbol(\"styleSet\")\nconst top = typeof globalThis != \"undefined\" ? globalThis : typeof window != \"undefined\" ? window : {}\n\n// :: - Style modules encapsulate a set of CSS rules defined from\n// JavaScript. Their definitions are only available in a given DOM\n// root after it has been _mounted_ there with `StyleModule.mount`.\n//\n// Style modules should be created once and stored somewhere, as\n// opposed to re-creating them every time you need them. The amount of\n// CSS rules generated for a given DOM root is bounded by the amount\n// of style modules that were used. So to avoid leaking rules, don't\n// create these dynamically, but treat them as one-time allocations.\nexport class StyleModule {\n  // :: (Object<Style>, ?{finish: ?(string) → string})\n  // Create a style module from the given spec.\n  //\n  // When `finish` is given, it is called on regular (non-`@`)\n  // selectors (after `&` expansion) to compute the final selector.\n  constructor(spec, options) {\n    this.rules = []\n    let {finish} = options || {}\n\n    function splitSelector(selector) {\n      return /^@/.test(selector) ? [selector] : selector.split(/,\\s*/)\n    }\n\n    function render(selectors, spec, target, isKeyframes) {\n      let local = [], isAt = /^@(\\w+)\\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == \"keyframes\"\n      if (isAt && spec == null) return target.push(selectors[0] + \";\")\n      for (let prop in spec) {\n        let value = spec[prop]\n        if (/&/.test(prop)) {\n          render(prop.split(/,\\s*/).map(part => selectors.map(sel => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),\n                 value, target)\n        } else if (value && typeof value == \"object\") {\n          if (!isAt) throw new RangeError(\"The value of a property (\" + prop + \") should be a primitive value.\")\n          render(splitSelector(prop), value, local, keyframes)\n        } else if (value != null) {\n          local.push(prop.replace(/_.*/, \"\").replace(/[A-Z]/g, l => \"-\" + l.toLowerCase()) + \": \" + value + \";\")\n        }\n      }\n      if (local.length || keyframes) {\n        target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(\", \") +\n                    \" {\" + local.join(\" \") + \"}\")\n      }\n    }\n\n    for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules)\n  }\n\n  // :: () → string\n  // Returns a string containing the module's CSS rules.\n  getRules() { return this.rules.join(\"\\n\") }\n\n  // :: () → string\n  // Generate a new unique CSS class name.\n  static newName() {\n    let id = top[COUNT] || 1\n    top[COUNT] = id + 1\n    return C + id.toString(36)\n  }\n\n  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>)\n  //\n  // Mount the given set of modules in the given DOM root, which ensures\n  // that the CSS rules defined by the module are available in that\n  // context.\n  //\n  // Rules are only added to the document once per root.\n  //\n  // Rule order will follow the order of the modules, so that rules from\n  // modules later in the array take precedence of those from earlier\n  // modules. If you call this function multiple times for the same root\n  // in a way that changes the order of already mounted modules, the old\n  // order will be changed.\n  static mount(root, modules) {\n    (root[SET] || new StyleSet(root)).mount(Array.isArray(modules) ? modules : [modules])\n  }\n}\n\nlet adoptedSet = null\n\nclass StyleSet {\n  constructor(root) {\n    if (!root.head && root.adoptedStyleSheets && typeof CSSStyleSheet != \"undefined\") {\n      if (adoptedSet) {\n        root.adoptedStyleSheets = [adoptedSet.sheet].concat(root.adoptedStyleSheets)\n        return root[SET] = adoptedSet\n      }\n      this.sheet = new CSSStyleSheet\n      root.adoptedStyleSheets = [this.sheet].concat(root.adoptedStyleSheets)\n      adoptedSet = this\n    } else {\n      this.styleTag = (root.ownerDocument || root).createElement(\"style\")\n      let target = root.head || root\n      target.insertBefore(this.styleTag, target.firstChild)\n    }\n    this.modules = []\n    root[SET] = this\n  }\n\n  mount(modules) {\n    let sheet = this.sheet\n    let pos = 0 /* Current rule offset */, j = 0 /* Index into this.modules */\n    for (let i = 0; i < modules.length; i++) {\n      let mod = modules[i], index = this.modules.indexOf(mod)\n      if (index < j && index > -1) { // Ordering conflict\n        this.modules.splice(index, 1)\n        j--\n        index = -1\n      }\n      if (index == -1) {\n        this.modules.splice(j++, 0, mod)\n        if (sheet) for (let k = 0; k < mod.rules.length; k++)\n          sheet.insertRule(mod.rules[k], pos++)\n      } else {\n        while (j < index) pos += this.modules[j++].rules.length\n        pos += mod.rules.length\n        j++\n      }\n    }\n\n    if (!sheet) {\n      let text = \"\"\n      for (let i = 0; i < this.modules.length; i++)\n        text += this.modules[i].getRules() + \"\\n\"\n      this.styleTag.textContent = text\n    }\n  }\n}\n\n// Style::Object<union<Style,string>>\n//\n// A style is an object that, in the simple case, maps CSS property\n// names to strings holding their values, as in `{color: \"red\",\n// fontWeight: \"bold\"}`. The property names can be given in\n// camel-case—the library will insert a dash before capital letters\n// when converting them to CSS.\n//\n// If you include an underscore in a property name, it and everything\n// after it will be removed from the output, which can be useful when\n// providing a property multiple times, for browser compatibility\n// reasons.\n//\n// A property in a style object can also be a sub-selector, which\n// extends the current context to add a pseudo-selector or a child\n// selector. Such a property should contain a `&` character, which\n// will be replaced by the current selector. For example `{\"&:before\":\n// {content: '\"hi\"'}}`. Sub-selectors and regular properties can\n// freely be mixed in a given object. Any property containing a `&` is\n// assumed to be a sub-selector.\n//\n// Finally, a property can specify an @-block to be wrapped around the\n// styles defined inside the object that's the property's value. For\n// example to create a media query you can do `{\"@media screen and\n// (min-width: 400px)\": {...}}`.\n","import { MapMode } from '@codemirror/state';\n\n/**\nEach range is associated with a value, which must inherit from\nthis class.\n*/\nclass RangeValue {\n    /**\n    Compare this value with another value. The default\n    implementation compares by identity.\n    */\n    eq(other) { return this == other; }\n    /**\n    Create a [range](https://codemirror.net/6/docs/ref/#rangeset.Range) with this value.\n    */\n    range(from, to = from) { return new Range(from, to, this); }\n}\nRangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;\nRangeValue.prototype.point = false;\nRangeValue.prototype.mapMode = MapMode.TrackDel;\n/**\nA range associates a value with a range of positions.\n*/\nclass Range {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The range's start position.\n    */\n    from, \n    /**\n    Its end position.\n    */\n    to, \n    /**\n    The value associated with this range.\n    */\n    value) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n}\nfunction cmpRange(a, b) {\n    return a.from - b.from || a.value.startSide - b.value.startSide;\n}\nclass Chunk {\n    constructor(from, to, value, \n    // Chunks are marked with the largest point that occurs\n    // in them (or -1 for no points), so that scans that are\n    // only interested in points (such as the\n    // heightmap-related logic) can skip range-only chunks.\n    maxPoint) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n        this.maxPoint = maxPoint;\n    }\n    get length() { return this.to[this.to.length - 1]; }\n    // Find the index of the given position and side. Use the ranges'\n    // `from` pos when `end == false`, `to` when `end == true`.\n    findIndex(pos, side, end, startAt = 0) {\n        let arr = end ? this.to : this.from;\n        for (let lo = startAt, hi = arr.length;;) {\n            if (lo == hi)\n                return lo;\n            let mid = (lo + hi) >> 1;\n            let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;\n            if (mid == lo)\n                return diff >= 0 ? lo : hi;\n            if (diff >= 0)\n                hi = mid;\n            else\n                lo = mid + 1;\n        }\n    }\n    between(offset, from, to, f) {\n        for (let i = this.findIndex(from, -1000000000 /* Far */, true), e = this.findIndex(to, 1000000000 /* Far */, false, i); i < e; i++)\n            if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)\n                return false;\n    }\n    map(offset, changes) {\n        let value = [], from = [], to = [], newPos = -1, maxPoint = -1;\n        for (let i = 0; i < this.value.length; i++) {\n            let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;\n            if (curFrom == curTo) {\n                let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);\n                if (mapped == null)\n                    continue;\n                newFrom = newTo = mapped;\n            }\n            else {\n                newFrom = changes.mapPos(curFrom, val.startSide);\n                newTo = changes.mapPos(curTo, val.endSide);\n                if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)\n                    continue;\n            }\n            if ((newTo - newFrom || val.endSide - val.startSide) < 0)\n                continue;\n            if (newPos < 0)\n                newPos = newFrom;\n            if (val.point)\n                maxPoint = Math.max(maxPoint, newTo - newFrom);\n            value.push(val);\n            from.push(newFrom - newPos);\n            to.push(newTo - newPos);\n        }\n        return { mapped: value.length ? new Chunk(from, to, value, maxPoint) : null, pos: newPos };\n    }\n}\n/**\nA range set stores a collection of [ranges](https://codemirror.net/6/docs/ref/#rangeset.Range) in a\nway that makes them efficient to [map](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.map) and\n[update](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.update). This is an immutable data\nstructure.\n*/\nclass RangeSet {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    chunkPos, \n    /**\n    @internal\n    */\n    chunk, \n    /**\n    @internal\n    */\n    nextLayer = RangeSet.empty, \n    /**\n    @internal\n    */\n    maxPoint) {\n        this.chunkPos = chunkPos;\n        this.chunk = chunk;\n        this.nextLayer = nextLayer;\n        this.maxPoint = maxPoint;\n    }\n    /**\n    @internal\n    */\n    get length() {\n        let last = this.chunk.length - 1;\n        return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);\n    }\n    /**\n    The number of ranges in the set.\n    */\n    get size() {\n        if (this.isEmpty)\n            return 0;\n        let size = this.nextLayer.size;\n        for (let chunk of this.chunk)\n            size += chunk.value.length;\n        return size;\n    }\n    /**\n    @internal\n    */\n    chunkEnd(index) {\n        return this.chunkPos[index] + this.chunk[index].length;\n    }\n    /**\n    Update the range set, optionally adding new ranges or filtering\n    out existing ones.\n    \n    (The extra type parameter is just there as a kludge to work\n    around TypeScript variance issues that prevented `RangeSet<X>`\n    from being a subtype of `RangeSet<Y>` when `X` is a subtype of\n    `Y`.)\n    */\n    update(updateSpec) {\n        let { add = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;\n        let filter = updateSpec.filter;\n        if (add.length == 0 && !filter)\n            return this;\n        if (sort)\n            add.slice().sort(cmpRange);\n        if (this.isEmpty)\n            return add.length ? RangeSet.of(add) : this;\n        let cur = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];\n        let builder = new RangeSetBuilder();\n        while (cur.value || i < add.length) {\n            if (i < add.length && (cur.from - add[i].from || cur.startSide - add[i].value.startSide) >= 0) {\n                let range = add[i++];\n                if (!builder.addInner(range.from, range.to, range.value))\n                    spill.push(range);\n            }\n            else if (cur.rangeIndex == 1 && cur.chunkIndex < this.chunk.length &&\n                (i == add.length || this.chunkEnd(cur.chunkIndex) < add[i].from) &&\n                (!filter || filterFrom > this.chunkEnd(cur.chunkIndex) || filterTo < this.chunkPos[cur.chunkIndex]) &&\n                builder.addChunk(this.chunkPos[cur.chunkIndex], this.chunk[cur.chunkIndex])) {\n                cur.nextChunk();\n            }\n            else {\n                if (!filter || filterFrom > cur.to || filterTo < cur.from || filter(cur.from, cur.to, cur.value)) {\n                    if (!builder.addInner(cur.from, cur.to, cur.value))\n                        spill.push(new Range(cur.from, cur.to, cur.value));\n                }\n                cur.next();\n            }\n        }\n        return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty\n            : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));\n    }\n    /**\n    Map this range set through a set of changes, return the new set.\n    */\n    map(changes) {\n        if (changes.length == 0 || this.isEmpty)\n            return this;\n        let chunks = [], chunkPos = [], maxPoint = -1;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            let touch = changes.touchesRange(start, start + chunk.length);\n            if (touch === false) {\n                maxPoint = Math.max(maxPoint, chunk.maxPoint);\n                chunks.push(chunk);\n                chunkPos.push(changes.mapPos(start));\n            }\n            else if (touch === true) {\n                let { mapped, pos } = chunk.map(start, changes);\n                if (mapped) {\n                    maxPoint = Math.max(maxPoint, mapped.maxPoint);\n                    chunks.push(mapped);\n                    chunkPos.push(pos);\n                }\n            }\n        }\n        let next = this.nextLayer.map(changes);\n        return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next, maxPoint);\n    }\n    /**\n    Iterate over the ranges that touch the region `from` to `to`,\n    calling `f` for each. There is no guarantee that the ranges will\n    be reported in any specific order. When the callback returns\n    `false`, iteration stops.\n    */\n    between(from, to, f) {\n        if (this.isEmpty)\n            return;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            if (to >= start && from <= start + chunk.length &&\n                chunk.between(start, from - start, to - start, f) === false)\n                return;\n        }\n        this.nextLayer.between(from, to, f);\n    }\n    /**\n    Iterate over the ranges in this set, in order, including all\n    ranges that end at or after `from`.\n    */\n    iter(from = 0) {\n        return HeapCursor.from([this]).goto(from);\n    }\n    /**\n    @internal\n    */\n    get isEmpty() { return this.nextLayer == this; }\n    /**\n    Iterate over the ranges in a collection of sets, in order,\n    starting from `from`.\n    */\n    static iter(sets, from = 0) {\n        return HeapCursor.from(sets).goto(from);\n    }\n    /**\n    Iterate over two groups of sets, calling methods on `comparator`\n    to notify it of possible differences.\n    */\n    static compare(oldSets, newSets, \n    /**\n    This indicates how the underlying data changed between these\n    ranges, and is needed to synchronize the iteration. `from` and\n    `to` are coordinates in the _new_ space, after these changes.\n    */\n    textDiff, comparator, \n    /**\n    Can be used to ignore all non-point ranges, and points below\n    the given size. When -1, all ranges are compared.\n    */\n    minPointSize = -1) {\n        let a = oldSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && newSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let b = newSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && oldSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, minPointSize);\n        let sideB = new SpanCursor(b, sharedChunks, minPointSize);\n        textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));\n        if (textDiff.empty && textDiff.length == 0)\n            compare(sideA, 0, sideB, 0, 0, comparator);\n    }\n    /**\n    Compare the contents of two groups of range sets, returning true\n    if they are equivalent in the given range.\n    */\n    static eq(oldSets, newSets, from = 0, to) {\n        if (to == null)\n            to = 1000000000 /* Far */;\n        let a = oldSets.filter(set => !set.isEmpty && newSets.indexOf(set) < 0);\n        let b = newSets.filter(set => !set.isEmpty && oldSets.indexOf(set) < 0);\n        if (a.length != b.length)\n            return false;\n        if (!a.length)\n            return true;\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, 0).goto(from), sideB = new SpanCursor(b, sharedChunks, 0).goto(from);\n        for (;;) {\n            if (sideA.to != sideB.to ||\n                !sameValues(sideA.active, sideB.active) ||\n                sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))\n                return false;\n            if (sideA.to >= to)\n                return true;\n            sideA.next();\n            sideB.next();\n        }\n    }\n    /**\n    Iterate over a group of range sets at the same time, notifying\n    the iterator about the ranges covering every given piece of\n    content. Returns the open count (see\n    [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#rangeset.SpanIterator.span)) at the end\n    of the iteration.\n    */\n    static spans(sets, from, to, iterator, \n    /**\n    When given and greater than -1, only points of at least this\n    size are taken into account.\n    */\n    minPointSize = -1) {\n        let cursor = new SpanCursor(sets, null, minPointSize).goto(from), pos = from;\n        let open = cursor.openStart;\n        for (;;) {\n            let curTo = Math.min(cursor.to, to);\n            if (cursor.point) {\n                iterator.point(pos, curTo, cursor.point, cursor.activeForPoint(cursor.to), open);\n                open = cursor.openEnd(curTo) + (cursor.to > curTo ? 1 : 0);\n            }\n            else if (curTo > pos) {\n                iterator.span(pos, curTo, cursor.active, open);\n                open = cursor.openEnd(curTo);\n            }\n            if (cursor.to > to)\n                break;\n            pos = cursor.to;\n            cursor.next();\n        }\n        return open;\n    }\n    /**\n    Create a range set for the given range or array of ranges. By\n    default, this expects the ranges to be _sorted_ (by start\n    position and, if two start at the same position,\n    `value.startSide`). You can pass `true` as second argument to\n    cause the method to sort them.\n    */\n    static of(ranges, sort = false) {\n        let build = new RangeSetBuilder();\n        for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)\n            build.add(range.from, range.to, range.value);\n        return build.finish();\n    }\n}\n/**\nThe empty set of ranges.\n*/\nRangeSet.empty = /*@__PURE__*/new RangeSet([], [], null, -1);\nfunction lazySort(ranges) {\n    if (ranges.length > 1)\n        for (let prev = ranges[0], i = 1; i < ranges.length; i++) {\n            let cur = ranges[i];\n            if (cmpRange(prev, cur) > 0)\n                return ranges.slice().sort(cmpRange);\n            prev = cur;\n        }\n    return ranges;\n}\nRangeSet.empty.nextLayer = RangeSet.empty;\n/**\nA range set builder is a data structure that helps build up a\n[range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) directly, without first allocating\nan array of [`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range) objects.\n*/\nclass RangeSetBuilder {\n    /**\n    Create an empty builder.\n    */\n    constructor() {\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunkStart = -1;\n        this.last = null;\n        this.lastFrom = -1000000000 /* Far */;\n        this.lastTo = -1000000000 /* Far */;\n        this.from = [];\n        this.to = [];\n        this.value = [];\n        this.maxPoint = -1;\n        this.setMaxPoint = -1;\n        this.nextLayer = null;\n    }\n    finishChunk(newArrays) {\n        this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));\n        this.chunkPos.push(this.chunkStart);\n        this.chunkStart = -1;\n        this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);\n        this.maxPoint = -1;\n        if (newArrays) {\n            this.from = [];\n            this.to = [];\n            this.value = [];\n        }\n    }\n    /**\n    Add a range. Ranges should be added in sorted (by `from` and\n    `value.startSide`) order.\n    */\n    add(from, to, value) {\n        if (!this.addInner(from, to, value))\n            (this.nextLayer || (this.nextLayer = new RangeSetBuilder)).add(from, to, value);\n    }\n    /**\n    @internal\n    */\n    addInner(from, to, value) {\n        let diff = from - this.lastTo || value.startSide - this.last.endSide;\n        if (diff <= 0 && (from - this.lastFrom || value.startSide - this.last.startSide) < 0)\n            throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");\n        if (diff < 0)\n            return false;\n        if (this.from.length == 250 /* ChunkSize */)\n            this.finishChunk(true);\n        if (this.chunkStart < 0)\n            this.chunkStart = from;\n        this.from.push(from - this.chunkStart);\n        this.to.push(to - this.chunkStart);\n        this.last = value;\n        this.lastFrom = from;\n        this.lastTo = to;\n        this.value.push(value);\n        if (value.point)\n            this.maxPoint = Math.max(this.maxPoint, to - from);\n        return true;\n    }\n    /**\n    @internal\n    */\n    addChunk(from, chunk) {\n        if ((from - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)\n            return false;\n        if (this.from.length)\n            this.finishChunk(true);\n        this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);\n        this.chunks.push(chunk);\n        this.chunkPos.push(from);\n        let last = chunk.value.length - 1;\n        this.last = chunk.value[last];\n        this.lastFrom = chunk.from[last] + from;\n        this.lastTo = chunk.to[last] + from;\n        return true;\n    }\n    /**\n    Finish the range set. Returns the new set. The builder can't be\n    used anymore after this has been called.\n    */\n    finish() { return this.finishInner(RangeSet.empty); }\n    /**\n    @internal\n    */\n    finishInner(next) {\n        if (this.from.length)\n            this.finishChunk(false);\n        if (this.chunks.length == 0)\n            return next;\n        let result = new RangeSet(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);\n        this.from = null; // Make sure further `add` calls produce errors\n        return result;\n    }\n}\nfunction findSharedChunks(a, b) {\n    let inA = new Map();\n    for (let set of a)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (set.chunk[i].maxPoint < 500 /* BigPointSize */)\n                inA.set(set.chunk[i], set.chunkPos[i]);\n    let shared = new Set();\n    for (let set of b)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (inA.get(set.chunk[i]) == set.chunkPos[i])\n                shared.add(set.chunk[i]);\n    return shared;\n}\nclass LayerCursor {\n    constructor(layer, skip, minPoint, rank = 0) {\n        this.layer = layer;\n        this.skip = skip;\n        this.minPoint = minPoint;\n        this.rank = rank;\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    get endSide() { return this.value ? this.value.endSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.chunkIndex = this.rangeIndex = 0;\n        this.gotoInner(pos, side, false);\n        return this;\n    }\n    gotoInner(pos, side, forward) {\n        while (this.chunkIndex < this.layer.chunk.length) {\n            let next = this.layer.chunk[this.chunkIndex];\n            if (!(this.skip && this.skip.has(next) ||\n                this.layer.chunkEnd(this.chunkIndex) < pos ||\n                next.maxPoint < this.minPoint))\n                break;\n            this.chunkIndex++;\n            forward = false;\n        }\n        if (this.chunkIndex < this.layer.chunk.length) {\n            let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);\n            if (!forward || this.rangeIndex < rangeIndex)\n                this.setRangeIndex(rangeIndex);\n        }\n        this.next();\n    }\n    forward(pos, side) {\n        if ((this.to - pos || this.endSide - side) < 0)\n            this.gotoInner(pos, side, true);\n    }\n    next() {\n        for (;;) {\n            if (this.chunkIndex == this.layer.chunk.length) {\n                this.from = this.to = 1000000000 /* Far */;\n                this.value = null;\n                break;\n            }\n            else {\n                let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];\n                let from = chunkPos + chunk.from[this.rangeIndex];\n                this.from = from;\n                this.to = chunkPos + chunk.to[this.rangeIndex];\n                this.value = chunk.value[this.rangeIndex];\n                this.setRangeIndex(this.rangeIndex + 1);\n                if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)\n                    break;\n            }\n        }\n    }\n    setRangeIndex(index) {\n        if (index == this.layer.chunk[this.chunkIndex].value.length) {\n            this.chunkIndex++;\n            if (this.skip) {\n                while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))\n                    this.chunkIndex++;\n            }\n            this.rangeIndex = 0;\n        }\n        else {\n            this.rangeIndex = index;\n        }\n    }\n    nextChunk() {\n        this.chunkIndex++;\n        this.rangeIndex = 0;\n        this.next();\n    }\n    compare(other) {\n        return this.from - other.from || this.startSide - other.startSide || this.to - other.to || this.endSide - other.endSide;\n    }\n}\nclass HeapCursor {\n    constructor(heap) {\n        this.heap = heap;\n    }\n    static from(sets, skip = null, minPoint = -1) {\n        let heap = [];\n        for (let i = 0; i < sets.length; i++) {\n            for (let cur = sets[i]; !cur.isEmpty; cur = cur.nextLayer) {\n                if (cur.maxPoint >= minPoint)\n                    heap.push(new LayerCursor(cur, skip, minPoint, i));\n            }\n        }\n        return heap.length == 1 ? heap[0] : new HeapCursor(heap);\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        for (let cur of this.heap)\n            cur.goto(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        for (let cur of this.heap)\n            cur.forward(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        if ((this.to - pos || this.value.endSide - side) < 0)\n            this.next();\n    }\n    next() {\n        if (this.heap.length == 0) {\n            this.from = this.to = 1000000000 /* Far */;\n            this.value = null;\n            this.rank = -1;\n        }\n        else {\n            let top = this.heap[0];\n            this.from = top.from;\n            this.to = top.to;\n            this.value = top.value;\n            this.rank = top.rank;\n            if (top.value)\n                top.next();\n            heapBubble(this.heap, 0);\n        }\n    }\n}\nfunction heapBubble(heap, index) {\n    for (let cur = heap[index];;) {\n        let childIndex = (index << 1) + 1;\n        if (childIndex >= heap.length)\n            break;\n        let child = heap[childIndex];\n        if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {\n            child = heap[childIndex + 1];\n            childIndex++;\n        }\n        if (cur.compare(child) < 0)\n            break;\n        heap[childIndex] = cur;\n        heap[index] = child;\n        index = childIndex;\n    }\n}\nclass SpanCursor {\n    constructor(sets, skip, minPoint) {\n        this.minPoint = minPoint;\n        this.active = [];\n        this.activeTo = [];\n        this.activeRank = [];\n        this.minActive = -1;\n        // A currently active point range, if any\n        this.point = null;\n        this.pointFrom = 0;\n        this.pointRank = 0;\n        this.to = -1000000000 /* Far */;\n        this.endSide = 0;\n        this.openStart = -1;\n        this.cursor = HeapCursor.from(sets, skip, minPoint);\n    }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.cursor.goto(pos, side);\n        this.active.length = this.activeTo.length = this.activeRank.length = 0;\n        this.minActive = -1;\n        this.to = pos;\n        this.endSide = side;\n        this.openStart = -1;\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)\n            this.removeActive(this.minActive);\n        this.cursor.forward(pos, side);\n    }\n    removeActive(index) {\n        remove(this.active, index);\n        remove(this.activeTo, index);\n        remove(this.activeRank, index);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    addActive(trackOpen) {\n        let i = 0, { value, to, rank } = this.cursor;\n        while (i < this.activeRank.length && this.activeRank[i] <= rank)\n            i++;\n        insert(this.active, i, value);\n        insert(this.activeTo, i, to);\n        insert(this.activeRank, i, rank);\n        if (trackOpen)\n            insert(trackOpen, i, this.cursor.from);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    // After calling this, if `this.point` != null, the next range is a\n    // point. Otherwise, it's a regular range, covered by `this.active`.\n    next() {\n        let from = this.to, wasPoint = this.point;\n        this.point = null;\n        let trackOpen = this.openStart < 0 ? [] : null, trackExtra = 0;\n        for (;;) {\n            let a = this.minActive;\n            if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {\n                if (this.activeTo[a] > from) {\n                    this.to = this.activeTo[a];\n                    this.endSide = this.active[a].endSide;\n                    break;\n                }\n                this.removeActive(a);\n                if (trackOpen)\n                    remove(trackOpen, a);\n            }\n            else if (!this.cursor.value) {\n                this.to = this.endSide = 1000000000 /* Far */;\n                break;\n            }\n            else if (this.cursor.from > from) {\n                this.to = this.cursor.from;\n                this.endSide = this.cursor.startSide;\n                break;\n            }\n            else {\n                let nextVal = this.cursor.value;\n                if (!nextVal.point) { // Opening a range\n                    this.addActive(trackOpen);\n                    this.cursor.next();\n                }\n                else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to && nextVal.endSide == this.endSide) {\n                    // Ignore any non-empty points that end precisely at the end of the prev point\n                    this.cursor.next();\n                }\n                else { // New point\n                    this.point = nextVal;\n                    this.pointFrom = this.cursor.from;\n                    this.pointRank = this.cursor.rank;\n                    this.to = this.cursor.to;\n                    this.endSide = nextVal.endSide;\n                    if (this.cursor.from < from)\n                        trackExtra = 1;\n                    this.cursor.next();\n                    if (this.to > from)\n                        this.forward(this.to, this.endSide);\n                    break;\n                }\n            }\n        }\n        if (trackOpen) {\n            let openStart = 0;\n            while (openStart < trackOpen.length && trackOpen[openStart] < from)\n                openStart++;\n            this.openStart = openStart + trackExtra;\n        }\n    }\n    activeForPoint(to) {\n        if (!this.active.length)\n            return this.active;\n        let active = [];\n        for (let i = this.active.length - 1; i >= 0; i--) {\n            if (this.activeRank[i] < this.pointRank)\n                break;\n            if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)\n                active.push(this.active[i]);\n        }\n        return active.reverse();\n    }\n    openEnd(to) {\n        let open = 0;\n        for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)\n            open++;\n        return open;\n    }\n}\nfunction compare(a, startA, b, startB, length, comparator) {\n    a.goto(startA);\n    b.goto(startB);\n    let endB = startB + length;\n    let pos = startB, dPos = startB - startA;\n    for (;;) {\n        let diff = (a.to + dPos) - b.to || a.endSide - b.endSide;\n        let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);\n        if (a.point || b.point) {\n            if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) &&\n                sameValues(a.activeForPoint(a.to + dPos), b.activeForPoint(b.to))))\n                comparator.comparePoint(pos, clipEnd, a.point, b.point);\n        }\n        else {\n            if (clipEnd > pos && !sameValues(a.active, b.active))\n                comparator.compareRange(pos, clipEnd, a.active, b.active);\n        }\n        if (end > endB)\n            break;\n        pos = end;\n        if (diff <= 0)\n            a.next();\n        if (diff >= 0)\n            b.next();\n    }\n}\nfunction sameValues(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (a[i] != b[i] && !a[i].eq(b[i]))\n            return false;\n    return true;\n}\nfunction remove(array, index) {\n    for (let i = index, e = array.length - 1; i < e; i++)\n        array[i] = array[i + 1];\n    array.pop();\n}\nfunction insert(array, index, value) {\n    for (let i = array.length - 1; i >= index; i--)\n        array[i + 1] = array[i];\n    array[index] = value;\n}\nfunction findMinIndex(value, array) {\n    let found = -1, foundPos = 1000000000 /* Far */;\n    for (let i = 0; i < array.length; i++)\n        if ((array[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {\n            found = i;\n            foundPos = array[i];\n        }\n    return found;\n}\n\nexport { Range, RangeSet, RangeSetBuilder, RangeValue };\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\",\n  229: \"q\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\",\n  229: \"Q\"\n}\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar safari = typeof navigator != \"undefined\" && /Apple Computer/.test(navigator.vendor)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nvar brokenModifierNames = chrome && (mac || +chrome[1] < 57) || gecko && mac\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // Don't trust event.key in Chrome when there are modifiers until\n  // they fix https://bugs.chromium.org/p/chromium/issues/detail?id=633838\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    (safari || ie) && event.shiftKey && event.key && event.key.length == 1\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","import { MapMode, Text as Text$1, Facet, StateEffect, ChangeSet, EditorSelection, CharCategory, EditorState, Transaction, Prec, combineConfig } from '@codemirror/state';\nimport { StyleModule } from 'style-mod';\nimport { RangeSet, RangeValue, RangeSetBuilder } from '@codemirror/rangeset';\nexport { Range } from '@codemirror/rangeset';\nimport { Text, findClusterBreak, findColumn, codePointAt, countColumn } from '@codemirror/text';\nimport { keyName, base } from 'w3c-keyname';\n\nfunction getSelection(root) {\n    let target;\n    // Browsers differ on whether shadow roots have a getSelection\n    // method. If it exists, use that, otherwise, call it on the\n    // document.\n    if (root.nodeType == 11) { // Shadow root\n        target = root.getSelection ? root : root.ownerDocument;\n    }\n    else {\n        target = root;\n    }\n    return target.getSelection();\n}\nfunction contains(dom, node) {\n    return node ? dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement() {\n    let elt = document.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nconst ScrollSpace = 5;\nfunction scrollRectIntoView(dom, rect, side, center) {\n    let doc = dom.ownerDocument, win = doc.defaultView;\n    for (let cur = dom; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (center) {\n                let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                let targetTop;\n                if (rectHeight <= boundingHeight)\n                    targetTop = rect.top + rectHeight / 2 - boundingHeight / 2;\n                else if (side < 0)\n                    targetTop = rect.top - ScrollSpace;\n                else\n                    targetTop = rect.bottom + ScrollSpace - boundingHeight;\n                moveY = targetTop - bounding.top;\n                if (Math.abs(moveY) <= 1)\n                    moveY = 0;\n            }\n            else if (rect.top < bounding.top) {\n                moveY = -(bounding.top - rect.top + ScrollSpace);\n                if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                    moveY = rect.bottom - bounding.bottom + moveY + ScrollSpace;\n            }\n            else if (rect.bottom > bounding.bottom) {\n                moveY = rect.bottom - bounding.bottom + ScrollSpace;\n                if (side < 0 && (rect.top - moveY) < bounding.top)\n                    moveY = -(bounding.top + moveY - rect.top + ScrollSpace);\n            }\n            if (rect.left < bounding.left) {\n                moveX = -(bounding.left - rect.left + ScrollSpace);\n                if (side > 0 && rect.right > bounding.right + moveX)\n                    moveX = rect.right - bounding.right + moveX + ScrollSpace;\n            }\n            else if (rect.right > bounding.right) {\n                moveX = rect.right - bounding.right + ScrollSpace;\n                if (side < 0 && rect.left < bounding.left + moveX)\n                    moveX = -(bounding.left + moveX - rect.left + ScrollSpace);\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        moveY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        moveX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - moveX, top: rect.top - moveY,\n                        right: rect.right - moveX, bottom: rect.bottom - moveY };\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n            center = false;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nclass DOMSelection {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    set(domSel) {\n        this.anchorNode = domSel.anchorNode;\n        this.anchorOffset = domSel.anchorOffset;\n        this.focusNode = domSel.focusNode;\n        this.focusOffset = domSel.focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nfunction getRoot(node) {\n    while (node) {\n        if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n            return node;\n        node = node.assignedSlot || node.parentNode;\n    }\n    return null;\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst none$3 = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        var _a;\n        if (this.dirty & 2 /* Node */) {\n            let parent = this.dom;\n            let pos = parent.firstChild;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    if (!child.dom && pos && !((_a = ContentView.get(pos)) === null || _a === void 0 ? void 0 : _a.parent))\n                        child.reuseDOM(pos);\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n                if (track && !track.written && track.node == parent && pos != child.dom)\n                    track.written = true;\n                if (child.dom.parentNode == parent) {\n                    while (pos && pos != child.dom)\n                        pos = rm(pos);\n                    pos = child.dom.nextSibling;\n                }\n                else {\n                    parent.insertBefore(child.dom, pos);\n                }\n            }\n            if (pos && track && track.node == parent)\n                track.written = true;\n            while (pos)\n                pos = rm(pos);\n        }\n        else if (this.dirty & 1 /* Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { return false; }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.dirty |= 2 /* Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Node */;\n            if (parent.dirty & 1 /* Child */)\n                return;\n            parent.dirty |= 1 /* Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = none$3) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.parent = null;\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n    get isEditable() { return true; }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\n\nlet [nav, doc] = typeof navigator != \"undefined\"\n    ? [navigator, document]\n    : [{ userAgent: \"\", vendor: \"\", platform: \"\" }, { documentElement: { style: {} } }];\nconst ie_edge = /*@__PURE__*//Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /*@__PURE__*//MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /*@__PURE__*//Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /*@__PURE__*//gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /*@__PURE__*//Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /*@__PURE__*//Apple Computer/.test(nav.vendor);\nconst ios = safari && (/*@__PURE__*//Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\nvar browser = {\n    mac: ios || /*@__PURE__*//Mac/.test(nav.platform),\n    windows: /*@__PURE__*//Win/.test(nav.platform),\n    linux: /*@__PURE__*//Linux|X11/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/*@__PURE__*//Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios,\n    android: /*@__PURE__*//Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/*@__PURE__*//\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst none$2 = [];\nclass InlineView extends ContentView {\n    /**\n    Return true when this view is equivalent to `other` and can take\n    on its role.\n    */\n    become(_other) { return false; }\n    // When this is a zero-length view with a side, this should return a\n    // negative number to indicate it is before its position, or a\n    // positive number when after its position.\n    getSide() { return 0; }\n}\nInlineView.prototype.children = none$2;\nconst MaxJoinLen = 256;\nclass TextView extends InlineView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType != 3)\n            return false;\n        this.createDOM(dom);\n        return true;\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends InlineView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    createDOM() {\n        let dom = document.createElement(this.mark.tagName);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        this.setDOM(dom);\n    }\n    sync(track) {\n        if (!this.dom || (this.dirty & 4 /* Attrs */))\n            this.createDOM();\n        super.sync(track);\n    }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeInlineChildren(this, from, to, source ? source.children : none$2, openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.slice(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1)\n            this.replaceChildren(detachFrom, this.children.length);\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends InlineView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    slice(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return (pos == 0 && side > 0 || pos == this.length && side <= 0) ? rect : flattenRect(rect, pos == 0);\n    }\n    get isEditable() { return false; }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) { return new DOMPos(this.widget.text, pos); }\n    sync() { if (!this.dom)\n        this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        return !offset ? 0 : node.nodeType == 3 ? Math.min(offset, this.length) : this.length;\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) { return textCoords(this.widget.text, pos, side); }\n    get isEditable() { return true; }\n}\n// These are drawn around uneditable widgets to avoid a number of\n// browser bugs that show up when the cursor is directly next to\n// uneditable inline content.\nclass WidgetBufferView extends InlineView {\n    constructor(side) {\n        super();\n        this.side = side;\n    }\n    get length() { return 0; }\n    merge() { return false; }\n    become(other) {\n        return other instanceof WidgetBufferView && other.side == this.side;\n    }\n    slice() { return new WidgetBufferView(this.side); }\n    sync() {\n        if (!this.dom)\n            this.setDOM(document.createTextNode(\"\\u200b\"));\n        else if (this.dirty && this.dom.nodeValue != \"\\u200b\")\n            this.dom.nodeValue = \"\\u200b\";\n    }\n    getSide() { return this.side; }\n    domAtPos(pos) { return DOMPos.before(this.dom); }\n    domBoundsAround() { return null; }\n    coordsAt(pos) {\n        let rects = clientRectsFor(this.dom);\n        return rects[rects.length - 1];\n    }\n    get overrideDOMText() {\n        return Text.of([this.dom.nodeValue.replace(/\\u200b/g, \"\")]);\n    }\n}\nfunction mergeInlineChildren(parent, from, to, elts, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of elts)\n        dLen += view.length;\n    parent.length += dLen;\n    let { children } = parent;\n    // Both from and to point into the same child view\n    if (fromI == toI && fromOff) {\n        let start = children[fromI];\n        // Maybe just update that view and be done\n        if (elts.length == 1 && start.merge(fromOff, toOff, elts[0], openStart, openEnd))\n            return;\n        if (elts.length == 0) {\n            start.merge(fromOff, toOff, null, openStart, openEnd);\n            return;\n        }\n        // Otherwise split it, so that we don't have to worry about aliasing front/end afterwards\n        let after = start.slice(toOff);\n        if (after.merge(0, 0, elts[elts.length - 1], 0, openEnd))\n            elts[elts.length - 1] = after;\n        else\n            elts.push(after);\n        toI++;\n        openEnd = toOff = 0;\n    }\n    // Make sure start and end positions fall on node boundaries\n    // (fromOff/toOff are no longer used after this), and that if the\n    // start or end of the elts can be merged with adjacent nodes,\n    // this is done\n    if (toOff) {\n        let end = children[toI];\n        if (elts.length && end.merge(0, toOff, elts[elts.length - 1], 0, openEnd)) {\n            elts.pop();\n            openEnd = elts.length ? 0 : openStart;\n        }\n        else {\n            end.merge(0, toOff, null, 0, 0);\n        }\n    }\n    else if (toI < children.length && elts.length &&\n        children[toI].merge(0, 0, elts[elts.length - 1], 0, openEnd)) {\n        elts.pop();\n        openEnd = elts.length ? 0 : openStart;\n    }\n    if (fromOff) {\n        let start = children[fromI];\n        if (elts.length && start.merge(fromOff, start.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n        else {\n            start.merge(fromOff, start.length, null, 0, 0);\n        }\n        fromI++;\n    }\n    else if (fromI && elts.length) {\n        let end = children[fromI - 1];\n        if (end.merge(end.length, end.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n    }\n    // Then try to merge any mergeable nodes at the start and end of\n    // the changed range\n    while (fromI < toI && elts.length && children[toI - 1].become(elts[elts.length - 1])) {\n        elts.pop();\n        toI--;\n        openEnd = elts.length ? 0 : openStart;\n    }\n    while (fromI < toI && elts.length && children[fromI].become(elts[0])) {\n        elts.shift();\n        fromI++;\n        openStart = elts.length ? 0 : openEnd;\n    }\n    if (!elts.length && fromI && toI < children.length &&\n        children[toI].merge(0, 0, children[fromI - 1], openStart, openEnd))\n        fromI--;\n    // And if anything remains, splice the child array to insert the new elts\n    if (elts.length || fromI != toI)\n        parent.replaceChildren(fromI, toI, elts);\n}\nfunction inlineDOMAtPos(dom, children, pos) {\n    let i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (; i > 0; i--) {\n        let before = children[i - 1].dom;\n        if (before.parentNode == dom)\n            return DOMPos.after(before);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    for (let off = 0, i = 0; i < view.children.length; i++) {\n        let child = view.children[i], end = off + child.length, next;\n        if ((side <= 0 || end == view.length || child.getSide() > 0 ? end >= pos : end > pos) &&\n            (pos < end || i + 1 == view.children.length || (next = view.children[i + 1]).length || next.getSide() > 0)) {\n            let flatten = 0;\n            if (end == off) {\n                if (child.getSide() <= 0)\n                    continue;\n                flatten = side = -child.getSide();\n            }\n            let rect = child.coordsAt(pos - off, side);\n            return flatten && rect ? flattenRect(rect, side < 0) : rect;\n        }\n        off = end;\n    }\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1];\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(name, attrs[name]);\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even when the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(_widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(_dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(_event) { return true; }\n    /**\n    @internal\n    */\n    get customView() { return null; }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nvar BlockType = /*@__PURE__*/(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\nreturn BlockType})(BlockType || (BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range), which adds a start and end position.\n*/\nclass Decoration extends RangeValue {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations) or\n    (below the facet-provided decorations) [view\n    plugin](https://codemirror.net/6/docs/ref/#view.PluginSpec.decorations). Such elements are split\n    on line boundaries and on the boundaries of higher-precedence\n    decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which adds an element at the given\n    position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0;\n        if (spec.block)\n            side += (200000000 /* BigBlock */ + 1) * (side > 0 ? 1 : -1);\n        return new PointDecoration(spec, side, side, !!spec.block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block;\n        let { start, end } = getInclusive(spec);\n        let startSide = block ? -200000000 /* BigBlock */ * (start ? 2 : 1) : 100000000 /* BigInline */ * (start ? -1 : 1);\n        let endSide = block ? 200000000 /* BigBlock */ * (end ? 2 : 1) : 100000000 /* BigInline */ * (end ? 1 : -1);\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(100000000 /* BigInline */ * (start ? -1 : 1), 100000000 /* BigInline */ * (end ? 1 : -1), null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-100000000 /* BigInline */, -100000000 /* BigInline */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? MapMode.TrackDel : startSide < 0 ? MapMode.TrackBefore : MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? BlockType.WidgetRange\n            : this.startSide < 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide < 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start || false, end: end || false };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin > from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, takeDeco, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (takeDeco)\n            this.setDeco(source ? source.attrs : null);\n        mergeInlineChildren(this, from, to, source ? source.children : none$1, openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].slice(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0) {\n            this.children[i - 1].parent = null;\n            i--;\n        }\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    // Only called when building a line view in ContentBuilder\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes, cls = deco.spec.class;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n        if (cls)\n            this.attrs = combineAttrs(attrs, { class: cls });\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    sync(track) {\n        var _a;\n        if (!this.dom || (this.dirty & 4 /* Attrs */)) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last ||\n            last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return { lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    match(_other) { return false; }\n    get type() { return BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0;; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (block.length)\n                    return null;\n            }\n            off = end + block.breakAfter;\n        }\n    }\n}\nconst none$1 = [];\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        return new BlockWidgetView(this.widget, len, this.type);\n    }\n    get children() { return none$1; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text$1.empty;\n    }\n    domBoundsAround() { return null; }\n    match(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.pendingBuffer = 0 /* No */;\n        // Set to false directly after a widget that covers the position after it\n        this.atCursorPos = true;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine) {\n            this.content.push(this.curLine = new LineView);\n            this.atCursorPos = true;\n        }\n        return this.curLine;\n    }\n    flushBuffer(active) {\n        if (this.pendingBuffer) {\n            this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n            this.pendingBuffer = 0 /* No */;\n        }\n    }\n    addBlockWidget(view) {\n        this.flushBuffer([]);\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish(openEnd) {\n        if (!openEnd)\n            this.flushBuffer([]);\n        else\n            this.pendingBuffer = 0 /* No */;\n        if (!this.posCovered())\n            this.getLine();\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.flushBuffer([]);\n                    this.curLine = null;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* Chunk */);\n            this.flushBuffer(active);\n            this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.atCursorPos = true;\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart) {\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let view = WidgetView.create(deco.widget || new NullWidget(\"span\"), len, deco.startSide);\n                let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from < to || deco.startSide > 0);\n                let cursorAfter = !view.isEditable && (from < to || deco.startSide <= 0);\n                let line = this.getLine();\n                if (this.pendingBuffer == 2 /* IfCursor */ && !cursorBefore)\n                    this.pendingBuffer = 0 /* No */;\n                this.flushBuffer(active);\n                if (cursorBefore) {\n                    line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                    openStart = active.length + Math.max(0, openStart - active.length);\n                }\n                line.append(wrapMarks(view, active), openStart);\n                this.atCursorPos = cursorAfter;\n                this.pendingBuffer = !cursorAfter ? 0 /* No */ : from < to ? 1 /* Yes */ : 2 /* IfCursor */;\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations) {\n        let builder = new ContentBuilder(text, from, to);\n        builder.openEnd = RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish(builder.openEnd);\n        return builder;\n    }\n}\nfunction wrapMarks(view, active) {\n    for (let mark of active)\n        view = new MarkView(mark, [view], view.length);\n    return view;\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst none = [];\nconst clickAddsSelectionRange = /*@__PURE__*/Facet.define();\nconst dragMovesSelection$1 = /*@__PURE__*/Facet.define();\nconst mouseSelectionStyle = /*@__PURE__*/Facet.define();\nconst exceptionSink = /*@__PURE__*/Facet.define();\nconst updateListener = /*@__PURE__*/Facet.define();\nconst inputHandler = /*@__PURE__*/Facet.define();\nconst scrollTo = /*@__PURE__*/StateEffect.define({\n    map: (range, changes) => range.map(changes)\n});\nconst centerOn = /*@__PURE__*/StateEffect.define({\n    map: (range, changes) => range.map(changes)\n});\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : true });\n/**\nUsed to [declare](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide) which\n[fields](https://codemirror.net/6/docs/ref/#view.PluginValue) a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin)\nprovides.\n*/\nclass PluginFieldProvider {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    field, \n    /**\n    @internal\n    */\n    get) {\n        this.field = field;\n        this.get = get;\n    }\n}\n/**\nPlugin fields are a mechanism for allowing plugins to provide\nvalues that can be retrieved through the\n[`pluginField`](https://codemirror.net/6/docs/ref/#view.EditorView.pluginField) view method.\n*/\nclass PluginField {\n    /**\n    Create a [provider](https://codemirror.net/6/docs/ref/#view.PluginFieldProvider) for this field,\n    to use with a plugin's [provide](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide)\n    option.\n    */\n    from(get) {\n        return new PluginFieldProvider(this, get);\n    }\n    /**\n    Define a new plugin field.\n    */\n    static define() { return new PluginField(); }\n}\n/**\nThis field can be used by plugins to provide\n[decorations](https://codemirror.net/6/docs/ref/#view.Decoration).\n\n**Note**: For reasons of data flow (plugins are only updated\nafter the viewport is computed), decorations produced by plugins\nare _not_ taken into account when predicting the vertical layout\nstructure of the editor. Thus, things like large widgets or big\nreplacements (i.e. code folding) should be provided through the\nstate-level [`decorations` facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations),\nnot this plugin field. Specifically, replacing decorations that\ncross line boundaries will break if provided through a plugin.\n*/\nPluginField.decorations = /*@__PURE__*/PluginField.define();\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nPluginField.atomicRanges = /*@__PURE__*/PluginField.define();\n/**\nPlugins can provide additional scroll margins (space around the\nsides of the scrolling element that should be considered\ninvisible) through this field. This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nPluginField.scrollMargins = /*@__PURE__*/PluginField.define();\nlet nextPluginID = 0;\nconst viewPlugin = /*@__PURE__*/Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    fields) {\n        this.id = id;\n        this.create = create;\n        this.fields = fields;\n        this.extension = viewPlugin.of(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        let { eventHandlers, provide, decorations } = spec || {};\n        let fields = [];\n        if (provide)\n            for (let provider of Array.isArray(provide) ? provide : [provide])\n                fields.push(provider);\n        if (eventHandlers)\n            fields.push(domEventHandlers.from((value) => ({ plugin: value, handlers: eventHandlers })));\n        if (decorations)\n            fields.push(PluginField.decorations.from(decorations));\n        return new ViewPlugin(nextPluginID++, create, fields);\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nconst domEventHandlers = /*@__PURE__*/PluginField.define();\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    takeField(type, target) {\n        for (let { field, get } of this.spec.fields)\n            if (field == type)\n                target.push(get(this.value));\n    }\n    update(view) {\n        if (!this.value) {\n            try {\n                this.value = this.spec.create(view);\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n                return PluginInstance.dummy;\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (!this.value.update)\n                return this;\n            try {\n                this.value.update(update);\n            }\n            catch (e) {\n                logException(update.state, e, \"CodeMirror plugin crashed\");\n                if (this.value.destroy)\n                    try {\n                        this.value.destroy();\n                    }\n                    catch (_) { }\n                return PluginInstance.dummy;\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n}\nPluginInstance.dummy = /*@__PURE__*/new PluginInstance(/*@__PURE__*/ViewPlugin.define(() => ({})));\nconst editorAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\nconst contentAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\n// Provide decorations\nconst decorations = /*@__PURE__*/Facet.define();\nconst styleModule = /*@__PURE__*/Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions = none) {\n        this.view = view;\n        this.state = state;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* Focus */;\n        }\n        if (this.docChanged)\n            this.flags |= 2 /* Height */;\n    }\n    /**\n    Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n    [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n    update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* Viewport */) > 0;\n    }\n    /**\n    Indicates whether the line height in the editor changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* Height */) > 0;\n    }\n    /**\n    Returns true when the document changed or the size of the editor\n    or the lines or characters within it has changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (8 /* Geometry */ | 2 /* Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return this.transactions.some(tr => tr.docChanged);\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // checkLayout, this is updated to point at the width of a given\n        // element and its extent in the document. When a change happens in\n        // that range, these are reset. That way, once we've seen a\n        // line/element of a given length, we keep the editor wide enough to\n        // fit at least that element, until it is changed, at which point we\n        // forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], this.updateDeco(), 0);\n    }\n    get root() { return this.view.root; }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        let forceSelection = (browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        let pointerSel = update.transactions.some(tr => tr.isUserEvent(\"select.pointer\"));\n        if (this.dirty == 0 /* Not */ && changedRanges.length == 0 &&\n            !(update.flags & 4 /* Viewport */) &&\n            update.state.selection.main.from >= this.view.viewport.from &&\n            update.state.selection.main.to <= this.view.viewport.to) {\n            this.updateSelection(forceSelection, pointerSel);\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, deco, update.startState.doc.length, forceSelection, pointerSel);\n            return true;\n        }\n    }\n    reset(sel) {\n        if (this.dirty) {\n            this.view.observer.ignore(() => this.view.docView.sync());\n            this.dirty = 0 /* Not */;\n        }\n        if (sel)\n            this.updateSelection();\n    }\n    // Used both by update and checkLayout do perform the actual DOM\n    // update\n    updateInner(changes, deco, oldLength, forceSelection = false, pointerSel = false) {\n        this.updateChildren(changes, deco, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.domHeight + \"px\";\n            this.dom.style.minWidth = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                forceSelection = true;\n            this.updateSelection(forceSelection, pointerSel);\n            this.dom.style.height = \"\";\n        });\n        let gaps = [];\n        if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n            for (let child of this.children)\n                if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                    gaps.push(child.dom);\n        observer.updateGaps(gaps);\n    }\n    updateChildren(changes, deco, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, deco);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            this.replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd) {\n        let before = this.children[fromI], last = content.length ? content[content.length - 1] : null;\n        let breakAtEnd = last ? last.breakAfter : breakAtStart;\n        // Change within a single line\n        if (fromI == toI && !breakAtStart && !breakAtEnd && content.length < 2 &&\n            before.merge(fromOff, toOff, content.length ? last : null, fromOff == 0, openStart, openEnd))\n            return;\n        let after = this.children[toI];\n        // Make sure the end of the line after the update is preserved in `after`\n        if (toOff < after.length) {\n            // If we're splitting a line, separate part of the start line to\n            // avoid that being mangled when updating the start line.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                content[content.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                content.push(after);\n            }\n        }\n        else if (after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && content.length && before.merge(fromOff, before.length, content[0], false, openStart, 0)) {\n                before.breakAfter = content.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n        // Try to merge widgets on the boundaries of the replacement\n        while (fromI < toI && content.length) {\n            if (this.children[toI - 1].match(content[content.length - 1]))\n                toI--, content.pop();\n            else if (this.children[fromI].match(content[0]))\n                fromI++, content.shift();\n            else\n                break;\n        }\n        if (fromI < toI || content.length)\n            this.replaceChildren(fromI, toI, content);\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(force = false, fromPointer = false) {\n        if (!(fromPointer || this.mayControlSelection()) ||\n            browser.ios && this.view.inputState.rapidCompositionStart)\n            return;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                // Chrome Android will hide the virtual keyboard when tapping\n                // inside an uneditable node, and not bring it back when we\n                // move the cursor to its proper position. This tries to\n                // restore the keyboard by cycling focus.\n                if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) && inUneditable(domSel.focusNode, this.dom)) {\n                    this.dom.blur();\n                    this.dom.focus({ preventScroll: true });\n                }\n                let rawSel = getSelection(this.root);\n                if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* Before */ | 2 /* After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    rawSel.extend(head.node, head.offset);\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.view.composing)\n            return;\n        let cursor = this.view.state.selection.main;\n        let sel = getSelection(this.root);\n        if (!cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n    }\n    mayControlSelection() {\n        return this.view.state.facet(editable) ? this.root.activeElement == this.dom\n            : hasSelection(this.dom, this.view.observer.selectionRange);\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != BlockType.WidgetBefore && child.type != BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights() {\n        let result = [], { from, to } = this.view.viewState.viewport;\n        let minWidth = Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                result.push(child.dom.getBoundingClientRect().height);\n                let width = child.dom.scrollWidth;\n                if (width > minWidth) {\n                    this.minWidth = minWidth = width;\n                    this.minWidthFrom = pos;\n                    this.minWidthTo = end;\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineAt(end, 0).bottom - vs.lineAt(pos, 0).top;\n                deco.push(Decoration.replace({ widget: new BlockGapWidget(height), block: true, inclusive: true }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        return this.decorations = [\n            ...this.view.pluginField(PluginField.decorations),\n            ...this.view.state.facet(decorations),\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollIntoView({ range, center }) {\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.pluginField(PluginField.scrollMargins))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        scrollRectIntoView(this.view.scrollDOM, {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        }, range.head < range.anchor ? -1 : 1, center);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction computeCompositionDeco(view, changes) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return Decoration.none;\n    let cView = view.docView.nearest(textNode);\n    let from, to, topNode = textNode;\n    if (cView instanceof InlineView) {\n        while (cView.parent instanceof InlineView)\n            cView = cView.parent;\n        from = cView.posAtStart;\n        to = from + cView.length;\n        topNode = cView.dom;\n    }\n    else if (cView instanceof LineView) {\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        from = to = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n    }\n    else {\n        return Decoration.none;\n    }\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let text = textNode.nodeValue, { state } = view;\n    if (newTo - newFrom < text.length) {\n        if (state.sliceDoc(newFrom, Math.min(state.doc.length, newFrom + text.length)) == text)\n            newTo = newFrom + text.length;\n        else if (state.sliceDoc(Math.max(0, newTo - text.length), newTo) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.sliceDoc(newFrom, newTo) != text) {\n        return Decoration.none;\n    }\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(topNode, textNode) }).range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text) {\n        super();\n        this.top = top;\n        this.text = text;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\nfunction inUneditable(node, inside) {\n    for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n        if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nvar Direction = /*@__PURE__*/(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\nreturn Direction})(Direction || (Direction = {}));\nconst LTR = Direction.LTR, RTL = Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = /*@__PURE__*/dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = /*@__PURE__*/dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = /*@__PURE__*/Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = /*@__PURE__*/p.charCodeAt(0), r = /*@__PURE__*/p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* NI */ :\n                        ch == 0x200c ? 256 /* NI */ : 1 /* L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* L */ : 2 /* R */, oppositeType = direction == LTR ? 2 /* R */ : 1 /* L */;\n    if (!line || outerType == 1 /* L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* NSM */)\n            type = prev;\n        else if (type == 8 /* EN */ && prevStrong == 4 /* AL */)\n            type = 16 /* AN */;\n        types[i] = type == 4 /* AL */ ? 2 /* R */ : type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* NI */;\n        }\n        else if (type == 64 /* ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* ET */)\n                end++;\n            let replace = (i && prev == 8 /* EN */) || (end < len && types[end] == 8 /* EN */) ? (prevStrong == 1 /* L */ ? 1 /* L */ : 8 /* EN */) : 256 /* NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* EN */ && prevStrong == 1 /* L */) {\n            types[i] = 1 /* L */;\n        }\n        prev = type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* EmbedInside */) ? outerType :\n                            !(flags & 4 /* OppositeInside */) ? 0 :\n                                (flags & 1 /* OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* R */ || type == 1 /* L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* L */ : 2 /* R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* L */;\n            while (i < len && rtl == (types[i] != 1 /* L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* R */;\n                    while (j > start && l == (types[j - 1] != 2 /* R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* R */;\n            while (i < len && rtl == (types[i] == 2 /* R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nfunction groupAt(state, pos, bias = 1) {\n    let categorize = state.charCategorizer(pos);\n    let line = state.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = findClusterBreak(line.text, linePos, false);\n    else\n        to = findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (!closestX && closest.contentEditable == \"true\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    var _a;\n    let content = view.contentDOM.getBoundingClientRect(), block;\n    let halfLine = view.defaultLineHeight / 2;\n    for (let bounced = false;;) {\n        block = view.blockAtHeight(y, content.top);\n        if (block.top > y || block.bottom < y) {\n            bias = block.top > y ? -1 : 1;\n            y = Math.min(block.bottom - halfLine, Math.max(block.top + halfLine, y));\n            if (bounced)\n                return precise ? null : 0;\n            else\n                bounced = true;\n        }\n        if (block.type == BlockType.Text)\n            break;\n        y = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n    }\n    let lineStart = block.from;\n    // Clip x to the viewport sides\n    x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length : posAtCoordsImprecise(view, content, block, x, y);\n    // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n    let doc = view.dom.ownerDocument;\n    let element = (view.root.elementFromPoint ? view.root : doc).elementFromPoint(x, y);\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && view.contentDOM.contains(element) && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n        if (doc.caretPositionFromPoint) {\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (doc.caretRangeFromPoint) {\n            let range = doc.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (browser.safari && isSuspiciousCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let pos = view.posAtCoords({ x: forward == (view.textDirection == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, view.textDirection, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return EditorSelection.cursor(startPos);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos);\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineAt(startPos, view.dom.getBoundingClientRect().top);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = dir < 0 ? line.top : line.bottom;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return EditorSelection.cursor(pos, undefined, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.pluginField(PluginField.atomicRanges);\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.from > pos.from ? EditorSelection.cursor(from, 1) : EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        // On Chrome Android, backspace near widgets is just completely\n        // broken, and there are no key events, so we need to handle the\n        // beforeinput event. Deleting stuff will often create a flurry of\n        // events, and interrupting it before it is done just makes\n        // subsequent events even more broken, so again, we hold off doing\n        // anything until the browser is finished with whatever it is trying\n        // to do.\n        this.pendingAndroidKey = undefined;\n        // On iOS, some keys need to have their default behavior happen\n        // (after which we retroactively handle them and reset the DOM) to\n        // avoid messing up the virtual keyboard state.\n        this.pendingIOSKey = undefined;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        this.compositionEndedAt = 0;\n        this.rapidCompositionStart = false;\n        this.mouseSelection = null;\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, (event) => {\n                if (type == \"keydown\" && this.keydown(view, event))\n                    return;\n                if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))\n                    return;\n                if (this.mustFlushObserver(event))\n                    view.observer.forceFlush();\n                if (this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            });\n            this.registeredEvents.push(type);\n        }\n        this.notifiedFocused = view.hasFocus;\n        this.ensureHandlers(view);\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view) {\n        let handlers = this.customHandlers = view.pluginField(domEventHandlers);\n        for (let set of handlers) {\n            for (let type in set.handlers)\n                if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                    this.registeredEvents.push(type);\n                    view.contentDOM.addEventListener(type, (event) => {\n                        if (!eventBelongsToEditor(view, event))\n                            return;\n                        if (this.runCustomHandlers(type, view, event))\n                            event.preventDefault();\n                    });\n                }\n        }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type], handled = false;\n            if (handler) {\n                try {\n                    handled = handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n                if (handled || event.defaultPrevented) {\n                    // Chrome for Android often applies a bunch of nonsensical\n                    // DOM changes after an enter press, even when\n                    // preventDefault-ed. This tries to ignore those.\n                    if (browser.android && type == \"keydown\" && event.keyCode == 13)\n                        view.observer.flushSoon();\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (this.screenKeyEvent(view, event))\n            return true;\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        let pending;\n        if (browser.ios && (pending = PendingKeys.find(key => key.keyCode == event.keyCode)) &&\n            !(event.ctrlKey || event.altKey || event.metaKey) && !event.synthetic) {\n            this.pendingIOSKey = pending;\n            setTimeout(() => this.flushIOSKey(view), 250);\n            return true;\n        }\n        return false;\n    }\n    flushIOSKey(view) {\n        let key = this.pendingIOSKey;\n        if (!key)\n            return false;\n        this.pendingIOSKey = undefined;\n        return dispatchKey(view.contentDOM, key.key, key.keyCode);\n    }\n    // This causes the DOM observer to pause for a bit, and sets an\n    // animation frame (which seems the most reliable way to detect\n    // 'Chrome is done flailing about messing with the DOM') to fire a\n    // fake key event and re-sync the view again.\n    setPendingAndroidKey(view, pending) {\n        this.pendingAndroidKey = pending;\n        requestAnimationFrame(() => {\n            let key = this.pendingAndroidKey;\n            if (!key)\n                return;\n            this.pendingAndroidKey = undefined;\n            view.observer.processRecords();\n            let startState = view.state;\n            dispatchKey(view.contentDOM, key.key, key.keyCode);\n            if (view.state == startState)\n                view.docView.reset(true);\n        });\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && Date.now() - this.compositionEndedAt < 500) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    screenKeyEvent(view, event) {\n        let protectedTab = event.keyCode == 9 && Date.now() < this.lastEscPress + 2000;\n        if (event.keyCode == 27)\n            this.lastEscPress = Date.now();\n        else if (modifierCodes.indexOf(event.keyCode) < 0)\n            this.lastEscPress = 0;\n        return protectedTab;\n    }\n    mustFlushObserver(event) {\n        return (event.type == \"keydown\" && event.keyCode != 229) ||\n            event.type == \"compositionend\" && !browser.ios;\n    }\n    startMouseSelection(view, event, style) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = new MouseSelection(this, view, event, style);\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\nconst PendingKeys = [\n    { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n    { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n];\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nclass MouseSelection {\n    constructor(inputState, view, startEvent, style) {\n        this.inputState = inputState;\n        this.view = view;\n        this.style = style;\n        this.lastEvent = startEvent;\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.inputState.mouseSelection = null;\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (!selection.eq(this.view.state.selection) || selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\",\n                scrollIntoView: true\n            });\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = /*@__PURE__*/Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API—all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state } = view, changes, i = 1, text = state.toText(input);\n    let byLine = text.lines == state.selection.ranges.length;\n    let linewise = lastLinewiseCopy != null && state.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state.changeByRange(range => {\n            let line = state.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n};\nlet lastTouch = 0;\nhandlers.touchstart = (view, e) => {\n    lastTouch = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (lastTouch > Date.now() - 2000)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        if (view.root.activeElement != view.contentDOM)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(view, event, style);\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    let last = start, lastEvent = event;\n    return {\n        update(update) {\n            if (update.changes) {\n                if (start)\n                    start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n                lastEvent = null;\n            }\n        },\n        get(event, extend, multiple) {\n            let cur;\n            if (lastEvent && event.clientX == lastEvent.clientX && event.clientY == lastEvent.clientY)\n                cur = last;\n            else {\n                cur = last = queryPos(view, event);\n                lastEvent = event;\n            }\n            if (!cur || !start)\n                return startSel;\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? EditorSelection.range(from, to) : EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return EditorSelection.create([range]);\n        }\n    };\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY });\n    if (dropPos == null || !text)\n        return;\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return;\n    if (view.state.readOnly)\n        return event.preventDefault();\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return event.preventDefault();\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        doPaste(view, data.getData(\"text/plain\"));\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text && !linewise)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n};\nhandlers.focus = handlers.blur = view => {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n};\nhandlers.beforeprint = view => {\n    view.viewState.printing = true;\n    view.requestMeasure();\n    setTimeout(() => {\n        view.viewState.printing = false;\n        view.requestMeasure();\n    }, 2000);\n};\nfunction forceClearComposition(view, rapid) {\n    if (view.docView.compositionDeco.size) {\n        view.inputState.rapidCompositionStart = rapid;\n        try {\n            view.update([]);\n        }\n        finally {\n            view.inputState.rapidCompositionStart = false;\n        }\n    }\n}\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        if (view.docView.compositionDeco.size) {\n            view.observer.flush();\n            forceClearComposition(view, true);\n        }\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionFirstChange = null;\n    setTimeout(() => {\n        if (view.inputState.composing < 0)\n            forceClearComposition(view, false);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\nhandlers.beforeinput = (view, event) => {\n    var _a;\n    // Because Chrome Android doesn't fire useful key events, use\n    // beforeinput to detect backspace (and possibly enter and delete,\n    // but those usually don't even seem to fire beforeinput events at\n    // the moment) and fake a key event for it.\n    //\n    // (preventDefault on beforeinput, though supported in the spec,\n    // seems to do nothing at all on Chrome).\n    let pending;\n    if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n        view.inputState.setPendingAndroidKey(view, pending);\n        if (pending.key == \"Backspace\" || pending.key == \"Delete\") {\n            let startViewHeight = ((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0;\n            setTimeout(() => {\n                var _a;\n                // Backspacing near uneditable nodes on Chrome Android sometimes\n                // closes the virtual keyboard. This tries to crudely detect\n                // that and refocus to get it back.\n                if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                    view.contentDOM.blur();\n                    view.focus();\n                }\n            }, 100);\n        }\n    }\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\"];\nclass HeightOracle {\n    constructor() {\n        this.doc = Text.empty;\n        this.lineWrapping = false;\n        this.direction = Direction.LTR;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefresh(lineHeights, whiteSpace, direction) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight || (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping || this.direction != direction;\n    }\n    refresh(whiteSpace, direction, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) ||\n            this.lineWrapping != lineWrapping ||\n            this.direction != direction;\n        this.lineWrapping = lineWrapping;\n        this.direction = direction;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element.\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType = /*@__PURE__*/(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\nreturn QueryType})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-4;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Outdated */ : 0) | (this.flags & ~2 /* Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(_from, _to, doc, top, offset, f) {\n        f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from);\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let line = new HeightMapText(len, measured.heights[measured.index++]);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            oracle.heightChanged = true;\n            return HeightMap.of(nodes);\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid || this.right.height == 0 ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop || this.right.height == 0 : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? Math.max(0, deco.widget.estimatedHeight) : 0;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let left = Math.max(0, rect.left), right = Math.min(innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(innerHeight, rect.bottom);\n    let body = dom.ownerDocument.body;\n    for (let parent = dom.parentNode; parent && parent != body;) {\n        if (parent.nodeType == 1) {\n            let elt = parent;\n            let style = window.getComputedStyle(elt);\n            if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = elt.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? elt.offsetParent : elt.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: right - rect.left,\n        top: top - (rect.top + paddingTop), bottom: bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ScrollTarget {\n    constructor(range, center = false) {\n        this.range = range;\n        this.center = center;\n    }\n    map(changes) {\n        return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.center);\n    }\n}\nclass ViewState {\n    constructor(state) {\n        this.state = state;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentWidth = 0;\n        this.heightOracle = new HeightOracle;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTarget = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        this.heightMap = HeightMap.empty().applyChanges(state.facet(decorations), Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineAt(pos, 0);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    update(update, scrollTarget = null) {\n        let prev = this.state;\n        this.state = update.state;\n        let newDeco = this.state.facet(decorations);\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(update.startState.facet(decorations), newDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(newDeco, prev.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n            !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTarget);\n        this.viewport = viewport;\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 4000 /* DoubleMargin */)\n            this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        update.flags |= this.computeVisibleRanges();\n        if (scrollTarget)\n            this.scrollTarget = scrollTarget;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc)\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(docView, repeated) {\n        let dom = docView.dom, whiteSpace = \"\", direction = Direction.LTR;\n        let result = 0;\n        if (!repeated) {\n            // Vertical padding\n            let style = window.getComputedStyle(dom);\n            whiteSpace = style.whiteSpace, direction = (style.direction == \"rtl\" ? Direction.RTL : Direction.LTR);\n            let paddingTop = parseInt(style.paddingTop) || 0, paddingBottom = parseInt(style.paddingBottom) || 0;\n            if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n                result |= 8 /* Geometry */;\n                this.paddingTop = paddingTop;\n                this.paddingBottom = paddingBottom;\n            }\n        }\n        // Pixel viewport\n        let pixelViewport = this.printing ? { top: -1e8, bottom: 1e8, left: -1e8, right: 1e8 } : visiblePixelRange(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        this.inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (!this.inView)\n            return 0;\n        let lineHeights = docView.measureVisibleLineHeights();\n        let refresh = false, bias = 0, oracle = this.heightOracle;\n        if (!repeated) {\n            let contentWidth = docView.dom.clientWidth;\n            if (oracle.mustRefresh(lineHeights, whiteSpace, direction) ||\n                oracle.lineWrapping && Math.abs(contentWidth - this.contentWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = docView.measureTextSize();\n                refresh = oracle.refresh(whiteSpace, direction, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    docView.minWidth = 0;\n                    result |= 8 /* Geometry */;\n                }\n            }\n            if (this.contentWidth != contentWidth) {\n                this.contentWidth = contentWidth;\n                result |= 8 /* Geometry */;\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n        }\n        oracle.heightChanged = false;\n        this.heightMap = this.heightMap.updateHeight(oracle, 0, refresh, new MeasuredHeights(this.viewport.from, lineHeights));\n        if (oracle.heightChanged)\n            result |= 2 /* Height */;\n        if (!this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to))\n            this.viewport = this.getViewport(bias, this.scrollTarget);\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 4000 /* DoubleMargin */)\n            this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps));\n        result |= this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top, 0); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom, 0); }\n    getViewport(bias, scrollTarget) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTarget is given, make sure the viewport includes that position\n        if (scrollTarget) {\n            let { head } = scrollTarget.range, viewHeight = visibleBottom - visibleTop;\n            if (head < viewport.from || head > viewport.to) {\n                let block = map.lineAt(head, QueryType.ByPos, doc, 0, 0), topPos;\n                if (scrollTarget.center)\n                    topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                else if (head < viewport.from)\n                    topPos = block.top;\n                else\n                    topPos = block.bottom - viewHeight;\n                viewport = new Viewport(map.lineAt(topPos - 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* MinCoverMargin */, Math.min(-bias, 250 /* MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* MinCoverMargin */, Math.min(bias, 250 /* MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* Margin */ && bottom < visibleBottom + 2 * 1000 /* Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current) {\n        let gaps = [];\n        // This won't work at all in predominantly right-to-left text.\n        if (this.heightOracle.direction != Direction.LTR)\n            return gaps;\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, line => {\n            if (line.length < 4000 /* DoubleMargin */)\n                return;\n            let structure = lineStructure(line.from, line.to, this.state);\n            if (structure.total < 4000 /* DoubleMargin */)\n                return;\n            let viewFrom, viewTo;\n            if (this.heightOracle.lineWrapping) {\n                let marginHeight = (2000 /* Margin */ / this.heightOracle.lineLength) * this.heightOracle.lineHeight;\n                viewFrom = findPosition(structure, (this.visibleTop - line.top - marginHeight) / line.height);\n                viewTo = findPosition(structure, (this.visibleBottom - line.top + marginHeight) / line.height);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                let marginWidth = 2000 /* Margin */ * this.heightOracle.charWidth;\n                viewFrom = findPosition(structure, (this.pixelViewport.left - marginWidth) / totalWidth);\n                viewTo = findPosition(structure, (this.pixelViewport.right + marginWidth) / totalWidth);\n            }\n            let outside = [];\n            if (viewFrom > line.from)\n                outside.push({ from: line.from, to: viewFrom });\n            if (viewTo < line.to)\n                outside.push({ from: viewTo, to: line.to });\n            let sel = this.state.selection.main;\n            // Make sure the gaps don't cover a selection end\n            if (sel.from >= line.from && sel.from <= line.to)\n                cutRange(outside, sel.from - 10 /* SelectionMargin */, sel.from + 10 /* SelectionMargin */);\n            if (!sel.empty && sel.to >= line.from && sel.to <= line.to)\n                cutRange(outside, sel.to - 10 /* SelectionMargin */, sel.to + 10 /* SelectionMargin */);\n            for (let { from, to } of outside)\n                if (to - from > 1000 /* HalfMargin */) {\n                    gaps.push(find(current, gap => gap.from >= line.from && gap.to <= line.to &&\n                        Math.abs(gap.from - from) < 1000 /* HalfMargin */ && Math.abs(gap.to - to) < 1000 /* HalfMargin */) ||\n                        new LineGap(from, to, this.gapSize(line, from, to, structure)));\n                }\n        });\n        return gaps;\n    }\n    gapSize(line, from, to, structure) {\n        let fraction = findFraction(structure, to) - findFraction(structure, from);\n        if (this.heightOracle.lineWrapping) {\n            return line.height * fraction;\n        }\n        else {\n            return structure.total * this.heightOracle.charWidth * fraction;\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n        }\n    }\n    computeVisibleRanges() {\n        let deco = this.state.facet(decorations);\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        let changed = ranges.length != this.visibleRanges.length ||\n            this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);\n        this.visibleRanges = ranges;\n        return changed ? 4 /* Viewport */ : 0;\n    }\n    lineAt(pos, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    lineAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height, editorTop), QueryType.ByHeight, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    blockAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height, editorTop), this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    forEachLine(from, to, f, editorTop) {\n        editorTop += this.paddingTop;\n        return this.heightMap.forEachLine(from, to, this.state.doc, editorTop, 0, this.scaler.scale == 1 ? f : b => f(scaleBlock(b, this.scaler, editorTop)));\n    }\n    get contentHeight() {\n        return this.domHeight + this.paddingTop + this.paddingBottom;\n    }\n    get domHeight() {\n        return this.scaler.toDOM(this.heightMap.height, this.paddingTop);\n    }\n}\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\nfunction lineStructure(from, to, state) {\n    let ranges = [], pos = from, total = 0;\n    RangeSet.spans(state.facet(decorations), from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction cutRange(ranges, from, to) {\n    for (let i = 0; i < ranges.length; i++) {\n        let r = ranges[i];\n        if (r.from < to && r.to > from) {\n            let pieces = [];\n            if (r.from < from)\n                pieces.push({ from: r.from, to: from });\n            if (r.to > to)\n                pieces.push({ from: to, to: r.to });\n            ranges.splice(i, 1, ...pieces);\n            i += pieces.length - 1;\n        }\n    }\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale + top;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale + top;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler, top) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top, top), bBottom = scaler.toDOM(block.bottom, top);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler, top)) : block.type);\n}\n\nconst theme = /*@__PURE__*/Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = /*@__PURE__*/Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = /*@__PURE__*/StyleModule.newName(), baseLightID = /*@__PURE__*/StyleModule.newName(), baseDarkID = /*@__PURE__*/StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme = /*@__PURE__*/buildTheme(\".\" + baseThemeID, {\n    \"&.cm-editor\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        minHeight: \"100%\",\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\",\n        \"&[contenteditable=true]\": {\n            WebkitUserModify: \"read-write-plaintext-only\",\n        }\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\"\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 4px\"\n    },\n    \".cm-selectionLayer\": {\n        zIndex: -1,\n        contain: \"size style\"\n    },\n    \".cm-selectionBackground\": {\n        position: \"absolute\",\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        zIndex: 100,\n        contain: \"size style\",\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \".cm-cursor\": {\n        position: \"absolute\",\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#f3f9ff\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#223039\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\"\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"3px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view, onChange, onScrollChanged) {\n        this.view = view;\n        this.onChange = onChange;\n        this.onScrollChanged = onScrollChanged;\n        this.active = false;\n        this.ignoreSelection = new DOMSelection;\n        this.delayedFlush = -1;\n        this.queue = [];\n        this.lastFlush = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.intersecting = false;\n        this.gapIntersection = null;\n        this.gaps = [];\n        // Used to work around a Safari Selection/shadow DOM bug (#414)\n        this._selectionRange = null;\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            this._selectionRange = null;\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.start();\n        this.onScroll = this.onScroll.bind(this);\n        window.addEventListener(\"scroll\", this.onScroll);\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0 != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n            this.gapIntersection = new IntersectionObserver(entries => {\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                    this.onScrollChanged(document.createEvent(\"Event\"));\n            }, {});\n        }\n        this.listenForScroll();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush();\n        this.onScrollChanged(e);\n    }\n    updateGaps(gaps) {\n        if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n            this.gapIntersection.disconnect();\n            for (let gap of gaps)\n                this.gapIntersection.observe(gap);\n            this.gaps = gaps;\n        }\n    }\n    onSelectionChange(event) {\n        if (this.lastFlush < Date.now() - 50)\n            this._selectionRange = null;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event))\n            return;\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // (Selection.isCollapsed isn't reliable on IE)\n        if (browser.ie && browser.ie_version <= 11 && !view.state.selection.main.empty &&\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush();\n    }\n    get selectionRange() {\n        if (!this._selectionRange) {\n            let { root } = this.view, sel = getSelection(root);\n            // The Selection object is broken in shadow roots in Safari. See\n            // https://github.com/codemirror/codemirror.next/issues/414\n            if (browser.safari && root.nodeType == 11 && deepActiveElement() == this.view.contentDOM)\n                sel = safariSelectionRangeHack(this.view) || sel;\n            this._selectionRange = sel;\n        }\n        return this._selectionRange;\n    }\n    setSelectionRange(anchor, head) {\n        var _a;\n        if (!((_a = this._selectionRange) === null || _a === void 0 ? void 0 : _a.type))\n            this._selectionRange = { anchorNode: anchor.node, anchorOffset: anchor.offset,\n                focusNode: head.node, focusOffset: head.offset };\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        this.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        this.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    clearSelection() {\n        this.ignoreSelection.set(this.selectionRange);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.observer.takeRecords();\n        this.queue.length = 0;\n        this.clearSelection();\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = window.setTimeout(() => { this.delayedFlush = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            window.clearTimeout(this.delayedFlush);\n            this.delayedFlush = -1;\n            this.flush();\n        }\n    }\n    processRecords() {\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        return { from, to, typeOver };\n    }\n    // Apply pending changes, if any\n    flush() {\n        // Completely hold off flushing when pending keys are set—the code\n        // managing those will make sure processRecords is called and the\n        // view is resynchronized after\n        if (this.delayedFlush >= 0 || this.view.inputState.pendingAndroidKey)\n            return;\n        this.lastFlush = Date.now();\n        let { from, to, typeOver } = this.processRecords();\n        let selection = this.selectionRange;\n        let newSel = !this.ignoreSelection.eq(selection) && hasSelection(this.dom, selection);\n        if (from < 0 && !newSel)\n            return;\n        let startState = this.view.state;\n        this.onChange(from, to, typeOver);\n        // The view wasn't updated\n        if (this.view.state == startState)\n            this.view.docView.reset(newSel);\n        this.clearSelection();\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.dirty |= 4 /* Attrs */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this.intersection)\n            this.intersection.disconnect();\n        if (this.gapIntersection)\n            this.gapIntersection.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        window.removeEventListener(\"scroll\", this.onScroll);\n        clearTimeout(this.parentCheck);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at it—using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    document.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\nfunction applyDOMChange(view, start, end, typeOver) {\n    let change, newSel;\n    let sel = view.state.selection.main;\n    if (start > -1) {\n        let bounds = view.docView.domBoundsAround(start, end, 0);\n        if (!bounds || view.state.readOnly)\n            return;\n        let { from, to } = bounds;\n        let selPoints = view.docView.impreciseHead || view.docView.impreciseAnchor ? [] : selectionPoints(view);\n        let reader = new DOMReader(selPoints, view);\n        reader.readRange(bounds.startDOM, bounds.endDOM);\n        newSel = selectionFromPoints(selPoints, from);\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && reader.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.sliceDoc(from, to), reader.text, preferredPos - from, preferredSide);\n        if (diff)\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: view.state.toText(reader.text.slice(diff.from, diff.toB)) };\n    }\n    else if (view.hasFocus || !view.state.facet(editable)) {\n        let domSel = view.observer.selectionRange;\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n            !contains(view.contentDOM, domSel.focusNode)\n            ? view.state.selection.main.head\n            : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n        let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n            !contains(view.contentDOM, domSel.anchorNode)\n            ? view.state.selection.main.anchor\n            : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n        if (head != sel.head || anchor != sel.anchor)\n            newSel = EditorSelection.single(anchor, head);\n    }\n    if (!change && !newSel)\n        return;\n    // Heuristic to notice typing over a selected character\n    if (!change && typeOver && !sel.empty && newSel && newSel.main.empty)\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    // If the change is inside the selection and covers most of it,\n    // assume it is a selection replace (with identical characters at\n    // the start/end not included in the diff)\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    if (change) {\n        let startState = view.state;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events.\n        if (browser.ios && view.inputState.flushIOSKey(view))\n            return;\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length)) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) +\n                after));\n        }\n        else {\n            let changes = startState.changes(change);\n            tr = {\n                changes,\n                selection: newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                    ? startState.selection.replaceRange(newSel.main) : undefined\n            };\n        }\n        let userEvent = \"input.type\";\n        if (view.composing) {\n            userEvent += \".compose\";\n            if (view.inputState.compositionFirstChange) {\n                userEvent += \".start\";\n                view.inputState.compositionFirstChange = false;\n            }\n        }\n        view.dispatch(tr, { scrollIntoView: true, userEvent });\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nclass DOMReader {\n    constructor(points, view) {\n        this.points = points;\n        this.view = view;\n        this.text = \"\";\n        this.lineBreak = view.state.lineBreak;\n    }\n    readRange(start, end) {\n        if (!start)\n            return;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if (view && nextView ? view.breakAfter :\n                (view ? view.breakAfter : isBlockElement(cur)) ||\n                    (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore)))\n                this.text += this.lineBreak;\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        let text;\n        if (fromView != null)\n            text = fromView.sliceString(0, undefined, this.lineBreak);\n        else if (node.nodeType == 3)\n            text = node.nodeValue;\n        else if (node.nodeName == \"BR\")\n            text = node.nextSibling ? this.lineBreak : \"\";\n        else if (node.nodeType == 1)\n            this.readRange(node.firstChild, null);\n        if (text != null) {\n            this.findPointIn(node, text.length);\n            this.text += text;\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. This drops one of those.\n            if (browser.chrome && this.view.inputState.lastKeyCode == 13 && !node.nextSibling && /\\n\\n$/.test(this.text))\n                this.text = this.text.slice(0, -1);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointIn(node, maxLen) {\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, maxLen);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle → Updating ⇆ Idle (unchecked) → Measuring → Idle\n//                                         ↑      ↓\n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll usually want to put `view.dom` into\n    your document after creating a view, so that the user can see\n    it.\n    */\n    constructor(\n    /**\n    Initialization options.\n    */\n    config = {}) {\n        this.plugins = [];\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        this.destroyed = false;\n        /**\n        @internal\n        */\n        this.updateState = 2 /* Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: absolute; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this.root = (config.root || getRoot(config.parent) || document);\n        this.viewState = new ViewState(config.state || EditorState.create());\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n        this.observer = new DOMObserver(this, (from, to, typeOver) => {\n            applyDOMChange(this, from, to, typeOver);\n        }, event => {\n            this.inputState.runScrollHandlers(this, event);\n            if (this.observer.intersecting)\n                this.measure();\n        });\n        this.inputState = new InputState(this);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* Idle */;\n        ensureGlobalHandler();\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method).\n    */\n    get composing() { return this.inputState.composing > 0; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, update;\n        let state = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state = tr.state;\n        }\n        if (this.destroyed) {\n            this.viewState.state = state;\n            return;\n        }\n        // When the phrases change, redraw the editor\n        if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))\n            return this.setState(state);\n        update = new ViewUpdate(this, state, transactions);\n        let scrollTarget = null;\n        try {\n            this.updateState = 2 /* Updating */;\n            for (let tr of transactions) {\n                if (scrollTarget)\n                    scrollTarget = scrollTarget.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollTarget = new ScrollTarget(main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                }\n                for (let e of tr.effects) {\n                    if (e.is(scrollTo))\n                        scrollTarget = new ScrollTarget(e.value);\n                    else if (e.is(centerOn))\n                        scrollTarget = new ScrollTarget(e.value, true);\n                }\n            }\n            this.viewState.update(update, scrollTarget);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            this.updateAttrs();\n            this.showAnnouncements(transactions);\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        if (redrawn || scrollTarget || this.viewState.mustEnforceCursorAssoc)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        if (this.destroyed) {\n            this.viewState.state = newState;\n            return;\n        }\n        this.updateState = 2 /* Updating */;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.inputState.ensureHandlers(this);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i] = this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.destroyed)\n            return;\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = -1; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.flush();\n        let updated = null;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* Measuring */;\n                let oldViewport = this.viewport;\n                let changed = this.viewState.measure(this.docView, i > 0);\n                if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                    break;\n                if (i > 5) {\n                    console.warn(\"Viewport failed to stabilize\");\n                    break;\n                }\n                let measuring = [];\n                // Only run measure requests in this cycle when the viewport didn't change\n                if (!(changed & 4 /* Viewport */))\n                    [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = new ViewUpdate(this, this.state);\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                }\n                this.updateAttrs();\n                if (changed)\n                    this.docView.update(update);\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            measuring[i].write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.scrollTarget) {\n                    this.docView.scrollIntoView(this.viewState.scrollTarget);\n                    this.viewState.scrollTarget = null;\n                }\n                if (this.viewport.from == oldViewport.from && this.viewport.to == oldViewport.to && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.measureScheduled = -1;\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = combineAttrs(this.state.facet(editorAttributes), {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n        this.editorAttrs = editorAttrs;\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            translate: \"no\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        combineAttrs(this.state.facet(contentAttributes), contentAttrs);\n        updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n        this.contentAttrs = contentAttrs;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        StyleModule.mount(this.root, this.styleModules.concat(baseTheme).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Collect all values provided by the active plugins for a given\n    field.\n    */\n    pluginField(field) {\n        let result = [];\n        for (let plugin of this.plugins)\n            plugin.update(this).takeField(field, result);\n        return result;\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        for (let inst of this.plugins)\n            if (inst.spec == plugin)\n                return inst.update(this).value;\n        return null;\n    }\n    /**\n    Find the line or block widget at the given vertical position.\n    \n    By default, this position is interpreted as a screen position,\n    meaning `docTop` is set to the DOM top position of the editor\n    content (forcing a layout). You can pass a different `docTop`\n    value—for example 0 to interpret `height` as a document-relative\n    position, or a precomputed document top\n    (`view.contentDOM.getBoundingClientRect().top`) to limit layout\n    queries.\n    */\n    blockAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.blockAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find information for the visual line (see\n    [`visualLineAt`](https://codemirror.net/6/docs/ref/#view.EditorView.visualLineAt)) at the given\n    vertical position. The resulting block info might hold another\n    array of block info structs in its `type` field if this line\n    consists of more than one block.\n    \n    Defaults to treating `height` as a screen position. See\n    [`blockAtHeight`](https://codemirror.net/6/docs/ref/#view.EditorView.blockAtHeight) for the\n    interpretation of the `docTop` parameter.\n    */\n    visualLineAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.lineAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Iterate over the height information of the visual lines in the\n    viewport. The heights of lines are reported relative to the\n    given document top, which defaults to the screen position of the\n    document (forcing a layout).\n    */\n    viewportLines(f, docTop) {\n        let { from, to } = this.viewport;\n        this.viewState.forEachLine(from, to, f, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find the extent and height of the visual line (a range delimited\n    on both sides by either non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^range)\n    line breaks, or the start/end of the document) at the given position.\n    \n    Vertical positions are computed relative to the `docTop`\n    argument, which defaults to 0 for this method. You can pass\n    `view.contentDOM.getBoundingClientRect().top` here to get screen\n    coordinates.\n    */\n    visualLineAt(pos, docTop = 0) {\n        return this.viewState.lineAt(pos, docTop);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. Motion in\n    bidirectional text is in visual order, in the editor's [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). When the start\n    position was the last one on the line, the returned position\n    will be across the line break. If there is no further line, the\n    original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    // FIXME remove on next major version\n    scrollPosIntoView(pos) {\n        this.dispatch({ effects: scrollTo.of(EditorSelection.cursor(pos)) });\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor.\n    */\n    get textDirection() { return this.viewState.heightOracle.direction; }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)—if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirection;\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, this.textDirection);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (document.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.plugins = [];\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.destroyed = true;\n    }\n    /**\n    Facet that can be used to add DOM event handlers. The value\n    should be an object mapping event names to handler functions. The\n    first such function to return true will be assumed to have handled\n    that event, and no other handlers or built-in behavior will be\n    activated for it.\n    These are registered on the [content\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except for `scroll`\n    handlers, which will be called any time the editor's [scroll\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of its parent nodes\n    is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)—to which the scope class will be\n    added—need to be explicitly differentiated by adding an `&` to\n    the selector for that element—for example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return Prec.lowest(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n}\n/**\nEffect that can be [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a\ntransaction to make it scroll the given range into view.\n*/\nEditorView.scrollTo = scrollTo;\n/**\nEffect that makes the editor scroll the given range to the\ncenter of the visible view.\n*/\nEditorView.centerOn = centerOn;\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot longer have its `contenteditable` attribute set. (Note that\nthis doesn't affect API calls that change the editor content,\neven when those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds\na new range to the existing selection or replaces it entirely.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. See also [view\nplugins](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), which have a separate\nmechanism for providing decorations.\n*/\nEditorView.decorations = decorations;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = /*@__PURE__*/EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = /*@__PURE__*/StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nfunction ensureTop(given, dom) {\n    return given == null ? dom.getBoundingClientRect().top : given;\n}\nlet resizeDebounce = -1;\nfunction ensureGlobalHandler() {\n    window.addEventListener(\"resize\", () => {\n        if (resizeDebounce == -1)\n            resizeDebounce = setTimeout(handleResize, 50);\n    });\n}\nfunction handleResize() {\n    resizeDebounce = -1;\n    let found = document.querySelectorAll(\".cm-content\");\n    for (let i = 0; i < found.length; i++) {\n        let docView = ContentView.get(found[i]);\n        if (docView)\n            docView.editorView.requestMeasure();\n    }\n}\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\n\nconst currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = /*@__PURE__*/EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n});\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = /*@__PURE__*/Facet.define({ enables: handleKeyEvents });\nconst Keymaps = /*@__PURE__*/new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    commands: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, commands: [] });\n        binding.commands.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of b.scope ? b.scope.split(\" \") : [\"editor\"]) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = keyName(event), isChar = name.length == 1 && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.commands)\n                if (cmd(view))\n                    return true;\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n    }\n    return fallthrough;\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        drawSelectionPlugin,\n        hideNativeSelection\n    ];\n}\nclass Piece {\n    constructor(left, top, width, height, className) {\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n        this.className = className;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width >= 0)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nconst drawSelectionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.selectionLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.selectionLayer.className = \"cm-selectionLayer\";\n        this.selectionLayer.setAttribute(\"aria-hidden\", \"true\");\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = this.view.state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n    }\n    update(update) {\n        let confChanged = update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n        if (confChanged || update.selectionSet || update.geometryChanged || update.viewportChanged)\n            this.view.requestMeasure(this.measureReq);\n        if (update.transactions.some(tr => tr.scrollIntoView))\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        if (confChanged)\n            this.setBlinkRate();\n    }\n    readPos() {\n        let { state } = this.view, conf = state.facet(selectionConfig);\n        let rangePieces = state.selection.ranges.map(r => r.empty ? [] : measureRange(this.view, r)).reduce((a, b) => a.concat(b));\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let piece = measureCursor(this.view, r, prim);\n                if (piece)\n                    cursors.push(piece);\n            }\n        }\n        return { rangePieces, cursors };\n    }\n    drawSel({ rangePieces, cursors }) {\n        if (rangePieces.length != this.rangePieces.length || rangePieces.some((p, i) => !p.eq(this.rangePieces[i]))) {\n            this.selectionLayer.textContent = \"\";\n            for (let p of rangePieces)\n                this.selectionLayer.appendChild(p.draw());\n            this.rangePieces = rangePieces;\n        }\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.selectionLayer.remove();\n        this.cursorLayer.remove();\n    }\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.visualLineAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction measureRange(view, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft);\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && blockAt(view, (top.bottom + bottom.top) / 2).type == BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new Piece(left - base.left, top - base.top, right - left, bottom - top, \"cm-selectionBackground\");\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction measureCursor(view, cursor, primary) {\n    let pos = view.coordsAtPos(cursor.head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    return new Piece(pos.left - base.left, pos.top - base.top, -1, pos.bottom - pos.top, primary ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\");\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, pos + m.index + m[0].length, m);\n    }\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        let { regexp, decoration, boundary } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        this.getDeco = typeof decoration == \"function\" ? decoration : () => decoration;\n        this.boundary = boundary;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges)\n            iterMatches(view.state.doc, this.regexp, from, to, (a, b, m) => build.add(a, b, this.getDeco(m, view, a)));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from) {\n                        let pos = m.index + fromLine.from;\n                        ranges.push(this.getDeco(m, view, pos).range(pos, pos + m[0].length));\n                    }\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, to, m) => ranges.push(this.getDeco(m, view, from).range(from, to)));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = /*@__PURE__*/new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8237: \"left-to-right override\",\n    8238: \"right-to-left override\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let config = combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.height = -1;\n        this.measure = {\n            read: view => Math.max(0, view.scrollDOM.clientHeight - view.defaultLineHeight),\n            write: (value, view) => {\n                if (Math.abs(value - this.height) > 1) {\n                    this.height = value;\n                    view.contentDOM.style.paddingBottom = value + \"px\";\n                }\n            }\n        };\n        view.requestMeasure(this.measure);\n    }\n    update(update) {\n        if (update.geometryChanged)\n            update.view.requestMeasure(this.measure);\n    }\n});\n/**\nReturns a plugin that makes sure the content has a bottom margin\nequivalent to the height of the editor, minus one line height, so\nthat every line in the document can be scrolled to the top of the\neditor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return plugin;\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = /*@__PURE__*/Decoration.line({ class: \"cm-activeLine\" });\nconst activeLineHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            if (!r.empty)\n                return Decoration.none;\n            let line = view.visualLineAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholder—a piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexport { BidiSpan, BlockInfo, BlockType, Decoration, Direction, EditorView, MatchDecorator, PluginField, PluginFieldProvider, ViewPlugin, ViewUpdate, WidgetType, __test, drawSelection, highlightActiveLine, highlightSpecialChars, keymap, logException, placeholder, runScopeHandlers, scrollPastEnd };\n","import { NodeProp, Tree, TreeFragment, Parser, NodeType } from '@lezer/common';\nimport { Facet, EditorState, StateEffect, StateField } from '@codemirror/state';\nimport { ViewPlugin } from '@codemirror/view';\nimport { countColumn } from '@codemirror/text';\n\n/**\nNode prop stored in a grammar's top syntax node to provide the\nfacet that stores language data for that language.\n*/\nconst languageDataProp = /*@__PURE__*/new NodeProp();\n/**\nHelper function to define a facet (to be added to the top syntax\nnode(s) for a language via\n[`languageDataProp`](https://codemirror.net/6/docs/ref/#language.languageDataProp)), that will be\nused to associate language data with the language. You\nprobably only need this when subclassing\n[`Language`](https://codemirror.net/6/docs/ref/#language.Language).\n*/\nfunction defineLanguageFacet(baseData) {\n    return Facet.define({\n        combine: baseData ? values => values.concat(baseData) : undefined\n    });\n}\n/**\nA language object manages parsing and per-language\n[metadata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt). Parse data is\nmanaged as a [Lezer](https://lezer.codemirror.net) tree. You'll\nwant to subclass this class for custom parsers, or use the\n[`LRLanguage`](https://codemirror.net/6/docs/ref/#language.LRLanguage) or\n[`StreamLanguage`](https://codemirror.net/6/docs/ref/#stream-parser.StreamLanguage) abstractions for\n[Lezer](https://lezer.codemirror.net/) or stream parsers.\n*/\nclass Language {\n    /**\n    Construct a language object. You usually don't need to invoke\n    this directly. But when you do, make sure you use\n    [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet) to create\n    the first argument.\n    */\n    constructor(\n    /**\n    The [language data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) data\n    facet used for this language.\n    */\n    data, parser, \n    /**\n    The node type of the top node of trees produced by this parser.\n    */\n    topNode, extraExtensions = []) {\n        this.data = data;\n        this.topNode = topNode;\n        // Kludge to define EditorState.tree as a debugging helper,\n        // without the EditorState package actually knowing about\n        // languages and lezer trees.\n        if (!EditorState.prototype.hasOwnProperty(\"tree\"))\n            Object.defineProperty(EditorState.prototype, \"tree\", { get() { return syntaxTree(this); } });\n        this.parser = parser;\n        this.extension = [\n            language.of(this),\n            EditorState.languageData.of((state, pos, side) => state.facet(languageDataFacetAt(state, pos, side)))\n        ].concat(extraExtensions);\n    }\n    /**\n    Query whether this language is active at the given position.\n    */\n    isActiveAt(state, pos, side = -1) {\n        return languageDataFacetAt(state, pos, side) == this.data;\n    }\n    /**\n    Find the document regions that were parsed using this language.\n    The returned regions will _include_ any nested languages rooted\n    in this language, when those exist.\n    */\n    findRegions(state) {\n        let lang = state.facet(language);\n        if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)\n            return [{ from: 0, to: state.doc.length }];\n        if (!lang || !lang.allowsNesting)\n            return [];\n        let result = [];\n        let explore = (tree, from) => {\n            if (tree.prop(languageDataProp) == this.data) {\n                result.push({ from, to: from + tree.length });\n                return;\n            }\n            let mount = tree.prop(NodeProp.mounted);\n            if (mount) {\n                if (mount.tree.prop(languageDataProp) == this.data) {\n                    if (mount.overlay)\n                        for (let r of mount.overlay)\n                            result.push({ from: r.from + from, to: r.to + from });\n                    else\n                        result.push({ from: from, to: from + tree.length });\n                    return;\n                }\n                else if (mount.overlay) {\n                    let size = result.length;\n                    explore(mount.tree, mount.overlay[0].from + from);\n                    if (result.length > size)\n                        return;\n                }\n            }\n            for (let i = 0; i < tree.children.length; i++) {\n                let ch = tree.children[i];\n                if (ch instanceof Tree)\n                    explore(ch, tree.positions[i] + from);\n            }\n        };\n        explore(syntaxTree(state), 0);\n        return result;\n    }\n    /**\n    Indicates whether this language allows nested languages. The\n    default implementation returns true.\n    */\n    get allowsNesting() { return true; }\n}\n/**\n@internal\n*/\nLanguage.setState = /*@__PURE__*/StateEffect.define();\nfunction languageDataFacetAt(state, pos, side) {\n    let topLang = state.facet(language);\n    if (!topLang)\n        return null;\n    let facet = topLang.data;\n    if (topLang.allowsNesting) {\n        for (let node = syntaxTree(state).topNode; node; node = node.enter(pos, side, true, false))\n            facet = node.type.prop(languageDataProp) || facet;\n    }\n    return facet;\n}\n/**\nA subclass of [`Language`](https://codemirror.net/6/docs/ref/#language.Language) for use with Lezer\n[LR parsers](https://lezer.codemirror.net/docs/ref#lr.LRParser)\nparsers.\n*/\nclass LRLanguage extends Language {\n    constructor(data, parser) {\n        super(data, parser, parser.topNode);\n        this.parser = parser;\n    }\n    /**\n    Define a language from a parser.\n    */\n    static define(spec) {\n        let data = defineLanguageFacet(spec.languageData);\n        return new LRLanguage(data, spec.parser.configure({\n            props: [languageDataProp.add(type => type.isTop ? data : undefined)]\n        }));\n    }\n    /**\n    Create a new instance of this language with a reconfigured\n    version of its parser.\n    */\n    configure(options) {\n        return new LRLanguage(this.data, this.parser.configure(options));\n    }\n    get allowsNesting() { return this.parser.wrappers.length > 0; } // FIXME\n}\n/**\nGet the syntax tree for a state, which is the current (possibly\nincomplete) parse tree of active [language](https://codemirror.net/6/docs/ref/#language.Language),\nor the empty tree if there is no language available.\n*/\nfunction syntaxTree(state) {\n    let field = state.field(Language.state, false);\n    return field ? field.tree : Tree.empty;\n}\n/**\nTry to get a parse tree that spans at least up to `upto`. The\nmethod will do at most `timeout` milliseconds of work to parse\nup to that point if the tree isn't already available.\n*/\nfunction ensureSyntaxTree(state, upto, timeout = 50) {\n    var _a;\n    let parse = (_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context;\n    return !parse ? null : parse.treeLen >= upto || parse.work(timeout, upto) ? parse.tree : null;\n}\n// Lezer-style Input object for a Text document.\nclass DocInput {\n    constructor(doc, length = doc.length) {\n        this.doc = doc;\n        this.length = length;\n        this.cursorPos = 0;\n        this.string = \"\";\n        this.cursor = doc.iter();\n    }\n    syncTo(pos) {\n        this.string = this.cursor.next(pos - this.cursorPos).value;\n        this.cursorPos = pos + this.string.length;\n        return this.cursorPos - this.string.length;\n    }\n    chunk(pos) {\n        this.syncTo(pos);\n        return this.string;\n    }\n    get lineChunks() { return true; }\n    read(from, to) {\n        let stringStart = this.cursorPos - this.string.length;\n        if (from < stringStart || to >= this.cursorPos)\n            return this.doc.sliceString(from, to);\n        else\n            return this.string.slice(from - stringStart, to - stringStart);\n    }\n}\nlet currentContext = null;\n/**\nA parse context provided to parsers working on the editor content.\n*/\nclass ParseContext {\n    /**\n    @internal\n    */\n    constructor(parser, \n    /**\n    The current editor state.\n    */\n    state, \n    /**\n    Tree fragments that can be reused by incremental re-parses.\n    */\n    fragments = [], \n    /**\n    @internal\n    */\n    tree, treeLen, \n    /**\n    The current editor viewport (or some overapproximation\n    thereof). Intended to be used for opportunistically avoiding\n    work (in which case\n    [`skipUntilInView`](https://codemirror.net/6/docs/ref/#language.ParseContext.skipUntilInView)\n    should be called to make sure the parser is restarted when the\n    skipped region becomes visible).\n    */\n    viewport, \n    /**\n    @internal\n    */\n    skipped, \n    /**\n    This is where skipping parsers can register a promise that,\n    when resolved, will schedule a new parse. It is cleared when\n    the parse worker picks up the promise. @internal\n    */\n    scheduleOn) {\n        this.parser = parser;\n        this.state = state;\n        this.fragments = fragments;\n        this.tree = tree;\n        this.treeLen = treeLen;\n        this.viewport = viewport;\n        this.skipped = skipped;\n        this.scheduleOn = scheduleOn;\n        this.parse = null;\n        /**\n        @internal\n        */\n        this.tempSkipped = [];\n    }\n    startParse() {\n        return this.parser.startParse(new DocInput(this.state.doc), this.fragments);\n    }\n    /**\n    @internal\n    */\n    work(time, upto) {\n        if (upto != null && upto >= this.state.doc.length)\n            upto = undefined;\n        if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {\n            this.takeTree();\n            return true;\n        }\n        return this.withContext(() => {\n            var _a;\n            if (!this.parse)\n                this.parse = this.startParse();\n            if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) &&\n                upto < this.state.doc.length)\n                this.parse.stopAt(upto);\n            let endTime = Date.now() + time;\n            for (;;) {\n                let done = this.parse.advance();\n                if (done) {\n                    this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));\n                    this.treeLen = (_a = this.parse.stoppedAt) !== null && _a !== void 0 ? _a : this.state.doc.length;\n                    this.tree = done;\n                    this.parse = null;\n                    if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))\n                        this.parse = this.startParse();\n                    else\n                        return true;\n                }\n                if (Date.now() > endTime)\n                    return false;\n            }\n        });\n    }\n    /**\n    @internal\n    */\n    takeTree() {\n        let pos, tree;\n        if (this.parse && (pos = this.parse.parsedPos) > this.treeLen) {\n            if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)\n                this.parse.stopAt(pos);\n            this.withContext(() => { while (!(tree = this.parse.advance())) { } });\n            this.tree = tree;\n            this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));\n            this.parse = null;\n        }\n    }\n    withContext(f) {\n        let prev = currentContext;\n        currentContext = this;\n        try {\n            return f();\n        }\n        finally {\n            currentContext = prev;\n        }\n    }\n    withoutTempSkipped(fragments) {\n        for (let r; r = this.tempSkipped.pop();)\n            fragments = cutFragments(fragments, r.from, r.to);\n        return fragments;\n    }\n    /**\n    @internal\n    */\n    changes(changes, newState) {\n        let { fragments, tree, treeLen, viewport, skipped } = this;\n        this.takeTree();\n        if (!changes.empty) {\n            let ranges = [];\n            changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));\n            fragments = TreeFragment.applyChanges(fragments, ranges);\n            tree = Tree.empty;\n            treeLen = 0;\n            viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };\n            if (this.skipped.length) {\n                skipped = [];\n                for (let r of this.skipped) {\n                    let from = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);\n                    if (from < to)\n                        skipped.push({ from, to });\n                }\n            }\n        }\n        return new ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);\n    }\n    /**\n    @internal\n    */\n    updateViewport(viewport) {\n        if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)\n            return false;\n        this.viewport = viewport;\n        let startLen = this.skipped.length;\n        for (let i = 0; i < this.skipped.length; i++) {\n            let { from, to } = this.skipped[i];\n            if (from < viewport.to && to > viewport.from) {\n                this.fragments = cutFragments(this.fragments, from, to);\n                this.skipped.splice(i--, 1);\n            }\n        }\n        if (this.skipped.length >= startLen)\n            return false;\n        this.reset();\n        return true;\n    }\n    /**\n    @internal\n    */\n    reset() {\n        if (this.parse) {\n            this.takeTree();\n            this.parse = null;\n        }\n    }\n    /**\n    Notify the parse scheduler that the given region was skipped\n    because it wasn't in view, and the parse should be restarted\n    when it comes into view.\n    */\n    skipUntilInView(from, to) {\n        this.skipped.push({ from, to });\n    }\n    /**\n    Returns a parser intended to be used as placeholder when\n    asynchronously loading a nested parser. It'll skip its input and\n    mark it as not-really-parsed, so that the next update will parse\n    it again.\n    \n    When `until` is given, a reparse will be scheduled when that\n    promise resolves.\n    */\n    static getSkippingParser(until) {\n        return new class extends Parser {\n            createParse(input, fragments, ranges) {\n                let from = ranges[0].from, to = ranges[ranges.length - 1].to;\n                let parser = {\n                    parsedPos: from,\n                    advance() {\n                        let cx = currentContext;\n                        if (cx) {\n                            for (let r of ranges)\n                                cx.tempSkipped.push(r);\n                            if (until)\n                                cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;\n                        }\n                        this.parsedPos = to;\n                        return new Tree(NodeType.none, [], [], to - from);\n                    },\n                    stoppedAt: null,\n                    stopAt() { }\n                };\n                return parser;\n            }\n        };\n    }\n    /**\n    @internal\n    */\n    movedPast(pos) {\n        return this.treeLen < pos && this.parse && this.parse.parsedPos >= pos;\n    }\n    /**\n    @internal\n    */\n    isDone(upto) {\n        let frags = this.fragments;\n        return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;\n    }\n    /**\n    Get the context for the current parse, or `null` if no editor\n    parse is in progress.\n    */\n    static get() { return currentContext; }\n}\nfunction cutFragments(fragments, from, to) {\n    return TreeFragment.applyChanges(fragments, [{ fromA: from, toA: to, fromB: from, toB: to }]);\n}\nclass LanguageState {\n    constructor(\n    // A mutable parse state that is used to preserve work done during\n    // the lifetime of a state when moving to the next state.\n    context) {\n        this.context = context;\n        this.tree = context.tree;\n    }\n    apply(tr) {\n        if (!tr.docChanged)\n            return this;\n        let newCx = this.context.changes(tr.changes, tr.state);\n        // If the previous parse wasn't done, go forward only up to its\n        // end position or the end of the viewport, to avoid slowing down\n        // state updates with parse work beyond the viewport.\n        let upto = this.context.treeLen == tr.startState.doc.length ? undefined\n            : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);\n        if (!newCx.work(25 /* Apply */, upto))\n            newCx.takeTree();\n        return new LanguageState(newCx);\n    }\n    static init(state) {\n        let parseState = new ParseContext(state.facet(language).parser, state, [], Tree.empty, 0, { from: 0, to: state.doc.length }, [], null);\n        if (!parseState.work(25 /* Apply */))\n            parseState.takeTree();\n        return new LanguageState(parseState);\n    }\n}\nLanguage.state = /*@__PURE__*/StateField.define({\n    create: LanguageState.init,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(Language.setState))\n                return e.value;\n        if (tr.startState.facet(language) != tr.state.facet(language))\n            return LanguageState.init(tr.state);\n        return value.apply(tr);\n    }\n});\nlet requestIdle = typeof window != \"undefined\" && window.requestIdleCallback ||\n    ((callback, { timeout }) => setTimeout(callback, timeout));\nlet cancelIdle = typeof window != \"undefined\" && window.cancelIdleCallback || clearTimeout;\nconst parseWorker = /*@__PURE__*/ViewPlugin.fromClass(class ParseWorker {\n    constructor(view) {\n        this.view = view;\n        this.working = -1;\n        // End of the current time chunk\n        this.chunkEnd = -1;\n        // Milliseconds of budget left for this chunk\n        this.chunkBudget = -1;\n        this.work = this.work.bind(this);\n        this.scheduleWork();\n    }\n    update(update) {\n        let cx = this.view.state.field(Language.state).context;\n        if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)\n            this.scheduleWork();\n        if (update.docChanged) {\n            if (this.view.hasFocus)\n                this.chunkBudget += 50 /* ChangeBonus */;\n            this.scheduleWork();\n        }\n        this.checkAsyncSchedule(cx);\n    }\n    scheduleWork() {\n        if (this.working > -1)\n            return;\n        let { state } = this.view, field = state.field(Language.state);\n        if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))\n            this.working = requestIdle(this.work, { timeout: 500 /* Pause */ });\n    }\n    work(deadline) {\n        this.working = -1;\n        let now = Date.now();\n        if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) { // Start a new chunk\n            this.chunkEnd = now + 30000 /* ChunkTime */;\n            this.chunkBudget = 3000 /* ChunkBudget */;\n        }\n        if (this.chunkBudget <= 0)\n            return; // No more budget\n        let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);\n        if (field.tree == field.context.tree && field.context.treeLen >= vpTo + 1000000 /* MaxParseAhead */)\n            return;\n        let time = Math.min(this.chunkBudget, deadline ? Math.max(25 /* MinSlice */, deadline.timeRemaining()) : 100 /* Slice */);\n        let done = field.context.work(time, vpTo + 1000000 /* MaxParseAhead */);\n        this.chunkBudget -= Date.now() - now;\n        if (done || this.chunkBudget <= 0 || field.context.movedPast(vpTo)) {\n            field.context.takeTree();\n            this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });\n        }\n        if (!done && this.chunkBudget > 0)\n            this.scheduleWork();\n        this.checkAsyncSchedule(field.context);\n    }\n    checkAsyncSchedule(cx) {\n        if (cx.scheduleOn) {\n            cx.scheduleOn.then(() => this.scheduleWork());\n            cx.scheduleOn = null;\n        }\n    }\n    destroy() {\n        if (this.working >= 0)\n            cancelIdle(this.working);\n    }\n}, {\n    eventHandlers: { focus() { this.scheduleWork(); } }\n});\n/**\nThe facet used to associate a language with an editor state.\n*/\nconst language = /*@__PURE__*/Facet.define({\n    combine(languages) { return languages.length ? languages[0] : null; },\n    enables: [Language.state, parseWorker]\n});\n/**\nThis class bundles a [language object](https://codemirror.net/6/docs/ref/#language.Language) with an\noptional set of supporting extensions. Language packages are\nencouraged to export a function that optionally takes a\nconfiguration object and returns a `LanguageSupport` instance, as\nthe main way for client code to use the package.\n*/\nclass LanguageSupport {\n    /**\n    Create a support object.\n    */\n    constructor(\n    /**\n    The language object.\n    */\n    language, \n    /**\n    An optional set of supporting extensions. When nesting a\n    language in another language, the outer language is encouraged\n    to include the supporting extensions for its inner languages\n    in its own set of support extensions.\n    */\n    support = []) {\n        this.language = language;\n        this.support = support;\n        this.extension = [language, support];\n    }\n}\n/**\nLanguage descriptions are used to store metadata about languages\nand to dynamically load them. Their main role is finding the\nappropriate language for a filename or dynamically loading nested\nparsers.\n*/\nclass LanguageDescription {\n    constructor(\n    /**\n    The name of this language.\n    */\n    name, \n    /**\n    Alternative names for the mode (lowercased, includes `this.name`).\n    */\n    alias, \n    /**\n    File extensions associated with this language.\n    */\n    extensions, \n    /**\n    Optional filename pattern that should be associated with this\n    language.\n    */\n    filename, loadFunc) {\n        this.name = name;\n        this.alias = alias;\n        this.extensions = extensions;\n        this.filename = filename;\n        this.loadFunc = loadFunc;\n        /**\n        If the language has been loaded, this will hold its value.\n        */\n        this.support = undefined;\n        this.loading = null;\n    }\n    /**\n    Start loading the the language. Will return a promise that\n    resolves to a [`LanguageSupport`](https://codemirror.net/6/docs/ref/#language.LanguageSupport)\n    object when the language successfully loads.\n    */\n    load() {\n        return this.loading || (this.loading = this.loadFunc().then(support => this.support = support, err => { this.loading = null; throw err; }));\n    }\n    /**\n    Create a language description.\n    */\n    static of(spec) {\n        return new LanguageDescription(spec.name, (spec.alias || []).concat(spec.name).map(s => s.toLowerCase()), spec.extensions || [], spec.filename, spec.load);\n    }\n    /**\n    Look for a language in the given array of descriptions that\n    matches the filename. Will first match\n    [`filename`](https://codemirror.net/6/docs/ref/#language.LanguageDescription.filename) patterns,\n    and then [extensions](https://codemirror.net/6/docs/ref/#language.LanguageDescription.extensions),\n    and return the first language that matches.\n    */\n    static matchFilename(descs, filename) {\n        for (let d of descs)\n            if (d.filename && d.filename.test(filename))\n                return d;\n        let ext = /\\.([^.]+)$/.exec(filename);\n        if (ext)\n            for (let d of descs)\n                if (d.extensions.indexOf(ext[1]) > -1)\n                    return d;\n        return null;\n    }\n    /**\n    Look for a language whose name or alias matches the the given\n    name (case-insensitively). If `fuzzy` is true, and no direct\n    matchs is found, this'll also search for a language whose name\n    or alias occurs in the string (for names shorter than three\n    characters, only when surrounded by non-word characters).\n    */\n    static matchLanguageName(descs, name, fuzzy = true) {\n        name = name.toLowerCase();\n        for (let d of descs)\n            if (d.alias.some(a => a == name))\n                return d;\n        if (fuzzy)\n            for (let d of descs)\n                for (let a of d.alias) {\n                    let found = name.indexOf(a);\n                    if (found > -1 && (a.length > 2 || !/\\w/.test(name[found - 1]) && !/\\w/.test(name[found + a.length])))\n                        return d;\n                }\n        return null;\n    }\n}\n\n/**\nFacet that defines a way to provide a function that computes the\nappropriate indentation depth at the start of a given line, or\n`null` to indicate no appropriate indentation could be determined.\n*/\nconst indentService = /*@__PURE__*/Facet.define();\n/**\nFacet for overriding the unit by which indentation happens.\nShould be a string consisting either entirely of spaces or\nentirely of tabs. When not set, this defaults to 2 spaces.\n*/\nconst indentUnit = /*@__PURE__*/Facet.define({\n    combine: values => {\n        if (!values.length)\n            return \"  \";\n        if (!/^(?: +|\\t+)$/.test(values[0]))\n            throw new Error(\"Invalid indent unit: \" + JSON.stringify(values[0]));\n        return values[0];\n    }\n});\n/**\nReturn the _column width_ of an indent unit in the state.\nDetermined by the [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit)\nfacet, and [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) when that\ncontains tabs.\n*/\nfunction getIndentUnit(state) {\n    let unit = state.facet(indentUnit);\n    return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;\n}\n/**\nCreate an indentation string that covers columns 0 to `cols`.\nWill use tabs for as much of the columns as possible when the\n[`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit) facet contains\ntabs.\n*/\nfunction indentString(state, cols) {\n    let result = \"\", ts = state.tabSize;\n    if (state.facet(indentUnit).charCodeAt(0) == 9)\n        while (cols >= ts) {\n            result += \"\\t\";\n            cols -= ts;\n        }\n    for (let i = 0; i < cols; i++)\n        result += \" \";\n    return result;\n}\n/**\nGet the indentation at the given position. Will first consult any\n[indent services](https://codemirror.net/6/docs/ref/#language.indentService) that are registered,\nand if none of those return an indentation, this will check the\nsyntax tree for the [indent node prop](https://codemirror.net/6/docs/ref/#language.indentNodeProp)\nand use that if found. Returns a number when an indentation could\nbe determined, and null otherwise.\n*/\nfunction getIndentation(context, pos) {\n    if (context instanceof EditorState)\n        context = new IndentContext(context);\n    for (let service of context.state.facet(indentService)) {\n        let result = service(context, pos);\n        if (result != null)\n            return result;\n    }\n    let tree = syntaxTree(context.state);\n    return tree ? syntaxIndentation(context, tree, pos) : null;\n}\n/**\nIndentation contexts are used when calling [indentation\nservices](https://codemirror.net/6/docs/ref/#language.indentService). They provide helper utilities\nuseful in indentation logic, and can selectively override the\nindentation reported for some lines.\n*/\nclass IndentContext {\n    /**\n    Create an indent context.\n    */\n    constructor(\n    /**\n    The editor state.\n    */\n    state, \n    /**\n    @internal\n    */\n    options = {}) {\n        this.state = state;\n        this.options = options;\n        this.unit = getIndentUnit(state);\n    }\n    /**\n    Get a description of the line at the given position, taking\n    [simulated line\n    breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    into account. If there is such a break at `pos`, the `bias`\n    argument determines whether the part of the line line before or\n    after the break is used.\n    */\n    lineAt(pos, bias = 1) {\n        let line = this.state.doc.lineAt(pos);\n        let { simulateBreak } = this.options;\n        if (simulateBreak != null && simulateBreak >= line.from && simulateBreak <= line.to) {\n            if (bias < 0 ? simulateBreak < pos : simulateBreak <= pos)\n                return { text: line.text.slice(simulateBreak - line.from), from: simulateBreak };\n            else\n                return { text: line.text.slice(0, simulateBreak - line.from), from: line.from };\n        }\n        return line;\n    }\n    /**\n    Get the text directly after `pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    textAfterPos(pos, bias = 1) {\n        if (this.options.simulateDoubleBreak && pos == this.options.simulateBreak)\n            return \"\";\n        let { text, from } = this.lineAt(pos, bias);\n        return text.slice(pos - from, Math.min(text.length, pos + 100 - from));\n    }\n    /**\n    Find the column for the given position.\n    */\n    column(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let result = this.countColumn(text, pos - from);\n        let override = this.options.overrideIndentation ? this.options.overrideIndentation(from) : -1;\n        if (override > -1)\n            result += override - this.countColumn(text, text.search(/\\S|$/));\n        return result;\n    }\n    /**\n    Find the column position (taking tabs into account) of the given\n    position in the given string.\n    */\n    countColumn(line, pos = line.length) {\n        return countColumn(line, this.state.tabSize, pos);\n    }\n    /**\n    Find the indentation column of the line at the given point.\n    */\n    lineIndent(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let override = this.options.overrideIndentation;\n        if (override) {\n            let overriden = override(from);\n            if (overriden > -1)\n                return overriden;\n        }\n        return this.countColumn(text, text.search(/\\S|$/));\n    }\n    /**\n    Returns the [simulated line\n    break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    for this context, if any.\n    */\n    get simulatedBreak() {\n        return this.options.simulateBreak || null;\n    }\n}\n/**\nA syntax tree node prop used to associate indentation strategies\nwith node types. Such a strategy is a function from an indentation\ncontext to a column number or null, where null indicates that no\ndefinitive indentation can be determined.\n*/\nconst indentNodeProp = /*@__PURE__*/new NodeProp();\n// Compute the indentation for a given position from the syntax tree.\nfunction syntaxIndentation(cx, ast, pos) {\n    return indentFrom(ast.resolveInner(pos).enterUnfinishedNodesBefore(pos), pos, cx);\n}\nfunction ignoreClosed(cx) {\n    return cx.pos == cx.options.simulateBreak && cx.options.simulateDoubleBreak;\n}\nfunction indentStrategy(tree) {\n    let strategy = tree.type.prop(indentNodeProp);\n    if (strategy)\n        return strategy;\n    let first = tree.firstChild, close;\n    if (first && (close = first.type.prop(NodeProp.closedBy))) {\n        let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;\n        return cx => delimitedStrategy(cx, true, 1, undefined, closed && !ignoreClosed(cx) ? last.from : undefined);\n    }\n    return tree.parent == null ? topIndent : null;\n}\nfunction indentFrom(node, pos, base) {\n    for (; node; node = node.parent) {\n        let strategy = indentStrategy(node);\n        if (strategy)\n            return strategy(new TreeIndentContext(base, pos, node));\n    }\n    return null;\n}\nfunction topIndent() { return 0; }\n/**\nObjects of this type provide context information and helper\nmethods to indentation functions.\n*/\nclass TreeIndentContext extends IndentContext {\n    /**\n    @internal\n    */\n    constructor(base, \n    /**\n    The position at which indentation is being computed.\n    */\n    pos, \n    /**\n    The syntax tree node to which the indentation strategy\n    applies.\n    */\n    node) {\n        super(base.state, base.options);\n        this.base = base;\n        this.pos = pos;\n        this.node = node;\n    }\n    /**\n    Get the text directly after `this.pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    get textAfter() {\n        return this.textAfterPos(this.pos);\n    }\n    /**\n    Get the indentation at the reference line for `this.node`, which\n    is the line on which it starts, unless there is a node that is\n    _not_ a parent of this node covering the start of that line. If\n    so, the line at the start of that node is tried, again skipping\n    on if it is covered by another such node.\n    */\n    get baseIndent() {\n        let line = this.state.doc.lineAt(this.node.from);\n        // Skip line starts that are covered by a sibling (or cousin, etc)\n        for (;;) {\n            let atBreak = this.node.resolve(line.from);\n            while (atBreak.parent && atBreak.parent.from == atBreak.from)\n                atBreak = atBreak.parent;\n            if (isParent(atBreak, this.node))\n                break;\n            line = this.state.doc.lineAt(atBreak.from);\n        }\n        return this.lineIndent(line.from);\n    }\n    /**\n    Continue looking for indentations in the node's parent nodes,\n    and return the result of that.\n    */\n    continue() {\n        let parent = this.node.parent;\n        return parent ? indentFrom(parent, this.pos, this.base) : 0;\n    }\n}\nfunction isParent(parent, of) {\n    for (let cur = of; cur; cur = cur.parent)\n        if (parent == cur)\n            return true;\n    return false;\n}\n// Check whether a delimited node is aligned (meaning there are\n// non-skipped nodes on the same line as the opening delimiter). And\n// if so, return the opening token.\nfunction bracketedAligned(context) {\n    let tree = context.node;\n    let openToken = tree.childAfter(tree.from), last = tree.lastChild;\n    if (!openToken)\n        return null;\n    let sim = context.options.simulateBreak;\n    let openLine = context.state.doc.lineAt(openToken.from);\n    let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);\n    for (let pos = openToken.to;;) {\n        let next = tree.childAfter(pos);\n        if (!next || next == last)\n            return null;\n        if (!next.type.isSkipped)\n            return next.from < lineEnd ? openToken : null;\n        pos = next.to;\n    }\n}\n/**\nAn indentation strategy for delimited (usually bracketed) nodes.\nWill, by default, indent one unit more than the parent's base\nindent unless the line starts with a closing token. When `align`\nis true and there are non-skipped nodes on the node's opening\nline, the content of the node will be aligned with the end of the\nopening node, like this:\n\n    foo(bar,\n        baz)\n*/\nfunction delimitedIndent({ closing, align = true, units = 1 }) {\n    return (context) => delimitedStrategy(context, align, units, closing);\n}\nfunction delimitedStrategy(context, align, units, closing, closedAt) {\n    let after = context.textAfter, space = after.match(/^\\s*/)[0].length;\n    let closed = closing && after.slice(space, space + closing.length) == closing || closedAt == context.pos + space;\n    let aligned = align ? bracketedAligned(context) : null;\n    if (aligned)\n        return closed ? context.column(aligned.from) : context.column(aligned.to);\n    return context.baseIndent + (closed ? 0 : context.unit * units);\n}\n/**\nAn indentation strategy that aligns a node's content to its base\nindentation.\n*/\nconst flatIndent = (context) => context.baseIndent;\n/**\nCreates an indentation strategy that, by default, indents\ncontinued lines one unit more than the node's base indentation.\nYou can provide `except` to prevent indentation of lines that\nmatch a pattern (for example `/^else\\b/` in `if`/`else`\nconstructs), and you can change the amount of units used with the\n`units` option.\n*/\nfunction continuedIndent({ except, units = 1 } = {}) {\n    return (context) => {\n        let matchExcept = except && except.test(context.textAfter);\n        return context.baseIndent + (matchExcept ? 0 : units * context.unit);\n    };\n}\nconst DontIndentBeyond = 200;\n/**\nEnables reindentation on input. When a language defines an\n`indentOnInput` field in its [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt), which must hold a regular\nexpression, the line at the cursor will be reindented whenever new\ntext is typed and the input from the start of the line up to the\ncursor matches that regexp.\n\nTo avoid unneccesary reindents, it is recommended to start the\nregexp with `^` (usually followed by `\\s*`), and end it with `$`.\nFor example, `/^\\s*\\}$/` will reindent when a closing brace is\nadded at the start of a line.\n*/\nfunction indentOnInput() {\n    return EditorState.transactionFilter.of(tr => {\n        if (!tr.docChanged || !tr.isUserEvent(\"input.type\"))\n            return tr;\n        let rules = tr.startState.languageDataAt(\"indentOnInput\", tr.startState.selection.main.head);\n        if (!rules.length)\n            return tr;\n        let doc = tr.newDoc, { head } = tr.newSelection.main, line = doc.lineAt(head);\n        if (head > line.from + DontIndentBeyond)\n            return tr;\n        let lineStart = doc.sliceString(line.from, head);\n        if (!rules.some(r => r.test(lineStart)))\n            return tr;\n        let { state } = tr, last = -1, changes = [];\n        for (let { head } of state.selection.ranges) {\n            let line = state.doc.lineAt(head);\n            if (line.from == last)\n                continue;\n            last = line.from;\n            let indent = getIndentation(state, line.from);\n            if (indent == null)\n                continue;\n            let cur = /^\\s*/.exec(line.text)[0];\n            let norm = indentString(state, indent);\n            if (cur != norm)\n                changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n        return changes.length ? [tr, { changes, sequential: true }] : tr;\n    });\n}\n\n/**\nA facet that registers a code folding service. When called with\nthe extent of a line, such a function should return a foldable\nrange that starts on that line (but continues beyond it), if one\ncan be found.\n*/\nconst foldService = /*@__PURE__*/Facet.define();\n/**\nThis node prop is used to associate folding information with\nsyntax node types. Given a syntax node, it should check whether\nthat tree is foldable and return the range that can be collapsed\nwhen it is.\n*/\nconst foldNodeProp = /*@__PURE__*/new NodeProp();\n/**\n[Fold](https://codemirror.net/6/docs/ref/#language.foldNodeProp) function that folds everything but\nthe first and the last child of a syntax node. Useful for nodes\nthat start and end with delimiters.\n*/\nfunction foldInside(node) {\n    let first = node.firstChild, last = node.lastChild;\n    return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;\n}\nfunction syntaxFolding(state, start, end) {\n    let tree = syntaxTree(state);\n    if (tree.length == 0)\n        return null;\n    let inner = tree.resolveInner(end);\n    let found = null;\n    for (let cur = inner; cur; cur = cur.parent) {\n        if (cur.to <= end || cur.from > end)\n            continue;\n        if (found && cur.from < start)\n            break;\n        let prop = cur.type.prop(foldNodeProp);\n        if (prop) {\n            let value = prop(cur, state);\n            if (value && value.from <= end && value.from >= start && value.to > end)\n                found = value;\n        }\n    }\n    return found;\n}\n/**\nCheck whether the given line is foldable. First asks any fold\nservices registered through\n[`foldService`](https://codemirror.net/6/docs/ref/#language.foldService), and if none of them return\na result, tries to query the [fold node\nprop](https://codemirror.net/6/docs/ref/#language.foldNodeProp) of syntax nodes that cover the end\nof the line.\n*/\nfunction foldable(state, lineStart, lineEnd) {\n    for (let service of state.facet(foldService)) {\n        let result = service(state, lineStart, lineEnd);\n        if (result)\n            return result;\n    }\n    return syntaxFolding(state, lineStart, lineEnd);\n}\n\nexport { IndentContext, LRLanguage, Language, LanguageDescription, LanguageSupport, ParseContext, TreeIndentContext, continuedIndent, defineLanguageFacet, delimitedIndent, ensureSyntaxTree, flatIndent, foldInside, foldNodeProp, foldService, foldable, getIndentUnit, getIndentation, indentNodeProp, indentOnInput, indentService, indentString, indentUnit, language, languageDataProp, syntaxTree };\n","import { NodeProp, NodeType } from '@lezer/common';\nimport { StyleModule } from 'style-mod';\nimport { EditorView, ViewPlugin, Decoration } from '@codemirror/view';\nimport { Facet, Prec } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\n\nlet nextTagID = 0;\n/**\nHighlighting tags are markers that denote a highlighting category.\nThey are [associated](https://codemirror.net/6/docs/ref/#highlight.styleTags) with parts of a syntax\ntree by a language mode, and then mapped to an actual CSS style by\na [highlight style](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle).\n\nBecause syntax tree node types and highlight styles have to be\nable to talk the same language, CodeMirror uses a mostly _closed_\n[vocabulary](https://codemirror.net/6/docs/ref/#highlight.tags) of syntax tags (as opposed to\ntraditional open string-based systems, which make it hard for\nhighlighting themes to cover all the tokens produced by the\nvarious languages).\n\nIt _is_ possible to [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) your own\nhighlighting tags for system-internal use (where you control both\nthe language package and the highlighter), but such tags will not\nbe picked up by regular highlighters (though you can derive them\nfrom standard tags to allow highlighters to fall back to those).\n*/\nclass Tag {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The set of tags that match this tag, starting with this one\n    itself, sorted in order of decreasing specificity. @internal\n    */\n    set, \n    /**\n    The base unmodified tag that this one is based on, if it's\n    modified @internal\n    */\n    base, \n    /**\n    The modifiers applied to this.base @internal\n    */\n    modified) {\n        this.set = set;\n        this.base = base;\n        this.modified = modified;\n        /**\n        @internal\n        */\n        this.id = nextTagID++;\n    }\n    /**\n    Define a new tag. If `parent` is given, the tag is treated as a\n    sub-tag of that parent, and [highlight\n    styles](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle) that don't mention this tag\n    will try to fall back to the parent tag (or grandparent tag,\n    etc).\n    */\n    static define(parent) {\n        if (parent === null || parent === void 0 ? void 0 : parent.base)\n            throw new Error(\"Can not derive from a modified tag\");\n        let tag = new Tag([], null, []);\n        tag.set.push(tag);\n        if (parent)\n            for (let t of parent.set)\n                tag.set.push(t);\n        return tag;\n    }\n    /**\n    Define a tag _modifier_, which is a function that, given a tag,\n    will return a tag that is a subtag of the original. Applying the\n    same modifier to a twice tag will return the same value (`m1(t1)\n    == m1(t1)`) and applying multiple modifiers will, regardless or\n    order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).\n    \n    When multiple modifiers are applied to a given base tag, each\n    smaller set of modifiers is registered as a parent, so that for\n    example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,\n    `m1(m3(t1)`, and so on.\n    */\n    static defineModifier() {\n        let mod = new Modifier;\n        return (tag) => {\n            if (tag.modified.indexOf(mod) > -1)\n                return tag;\n            return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));\n        };\n    }\n}\nlet nextModifierID = 0;\nclass Modifier {\n    constructor() {\n        this.instances = [];\n        this.id = nextModifierID++;\n    }\n    static get(base, mods) {\n        if (!mods.length)\n            return base;\n        let exists = mods[0].instances.find(t => t.base == base && sameArray(mods, t.modified));\n        if (exists)\n            return exists;\n        let set = [], tag = new Tag(set, base, mods);\n        for (let m of mods)\n            m.instances.push(tag);\n        let configs = permute(mods);\n        for (let parent of base.set)\n            for (let config of configs)\n                set.push(Modifier.get(parent, config));\n        return tag;\n    }\n}\nfunction sameArray(a, b) {\n    return a.length == b.length && a.every((x, i) => x == b[i]);\n}\nfunction permute(array) {\n    let result = [array];\n    for (let i = 0; i < array.length; i++) {\n        for (let a of permute(array.slice(0, i).concat(array.slice(i + 1))))\n            result.push(a);\n    }\n    return result;\n}\n/**\nThis function is used to add a set of tags to a language syntax\nvia\n[`LRParser.configure`](https://lezer.codemirror.net/docs/ref#lr.LRParser.configure).\n\nThe argument object maps node selectors to [highlighting\ntags](https://codemirror.net/6/docs/ref/#highlight.Tag) or arrays of tags.\n\nNode selectors may hold one or more (space-separated) node paths.\nSuch a path can be a [node\nname](https://lezer.codemirror.net/docs/ref#common.NodeType.name),\nor multiple node names (or `*` wildcards) separated by slash\ncharacters, as in `\"Block/Declaration/VariableName\"`. Such a path\nmatches the final node but only if its direct parent nodes are the\nother nodes mentioned. A `*` in such a path matches any parent,\nbut only a single level—wildcards that match multiple parents\naren't supported, both for efficiency reasons and because Lezer\ntrees make it rather hard to reason about what they would match.)\n\nA path can be ended with `/...` to indicate that the tag assigned\nto the node should also apply to all child nodes, even if they\nmatch their own style (by default, only the innermost style is\nused).\n\nWhen a path ends in `!`, as in `Attribute!`, no further matching\nhappens for the node's child nodes, and the entire node gets the\ngiven style.\n\nIn this notation, node names that contain `/`, `!`, `*`, or `...`\nmust be quoted as JSON strings.\n\nFor example:\n\n```javascript\nparser.withProps(\n  styleTags({\n    // Style Number and BigNumber nodes\n    \"Number BigNumber\": tags.number,\n    // Style Escape nodes whose parent is String\n    \"String/Escape\": tags.escape,\n    // Style anything inside Attributes nodes\n    \"Attributes!\": tags.meta,\n    // Add a style to all content inside Italic nodes\n    \"Italic/...\": tags.emphasis,\n    // Style InvalidString nodes as both `string` and `invalid`\n    \"InvalidString\": [tags.string, tags.invalid],\n    // Style the node named \"/\" as punctuation\n    '\"/\"': tags.punctuation\n  })\n)\n```\n*/\nfunction styleTags(spec) {\n    let byName = Object.create(null);\n    for (let prop in spec) {\n        let tags = spec[prop];\n        if (!Array.isArray(tags))\n            tags = [tags];\n        for (let part of prop.split(\" \"))\n            if (part) {\n                let pieces = [], mode = 2 /* Normal */, rest = part;\n                for (let pos = 0;;) {\n                    if (rest == \"...\" && pos > 0 && pos + 3 == part.length) {\n                        mode = 1 /* Inherit */;\n                        break;\n                    }\n                    let m = /^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(rest);\n                    if (!m)\n                        throw new RangeError(\"Invalid path: \" + part);\n                    pieces.push(m[0] == \"*\" ? null : m[0][0] == '\"' ? JSON.parse(m[0]) : m[0]);\n                    pos += m[0].length;\n                    if (pos == part.length)\n                        break;\n                    let next = part[pos++];\n                    if (pos == part.length && next == \"!\") {\n                        mode = 0 /* Opaque */;\n                        break;\n                    }\n                    if (next != \"/\")\n                        throw new RangeError(\"Invalid path: \" + part);\n                    rest = part.slice(pos);\n                }\n                let last = pieces.length - 1, inner = pieces[last];\n                if (!inner)\n                    throw new RangeError(\"Invalid path: \" + part);\n                let rule = new Rule(tags, mode, last > 0 ? pieces.slice(0, last) : null);\n                byName[inner] = rule.sort(byName[inner]);\n            }\n    }\n    return ruleNodeProp.add(byName);\n}\nconst ruleNodeProp = /*@__PURE__*/new NodeProp();\nconst highlightStyle = /*@__PURE__*/Facet.define({\n    combine(stylings) { return stylings.length ? HighlightStyle.combinedMatch(stylings) : null; }\n});\nconst fallbackHighlightStyle = /*@__PURE__*/Facet.define({\n    combine(values) { return values.length ? values[0].match : null; }\n});\nfunction getHighlightStyle(state) {\n    return state.facet(highlightStyle) || state.facet(fallbackHighlightStyle);\n}\nclass Rule {\n    constructor(tags, mode, context, next) {\n        this.tags = tags;\n        this.mode = mode;\n        this.context = context;\n        this.next = next;\n    }\n    sort(other) {\n        if (!other || other.depth < this.depth) {\n            this.next = other;\n            return this;\n        }\n        other.next = this.sort(other.next);\n        return other;\n    }\n    get depth() { return this.context ? this.context.length : 0; }\n}\n/**\nA highlight style associates CSS styles with higlighting\n[tags](https://codemirror.net/6/docs/ref/#highlight.Tag).\n*/\nclass HighlightStyle {\n    constructor(spec, options) {\n        this.map = Object.create(null);\n        let modSpec;\n        function def(spec) {\n            let cls = StyleModule.newName();\n            (modSpec || (modSpec = Object.create(null)))[\".\" + cls] = spec;\n            return cls;\n        }\n        this.all = typeof options.all == \"string\" ? options.all : options.all ? def(options.all) : null;\n        for (let style of spec) {\n            let cls = (style.class || def(Object.assign({}, style, { tag: null }))) +\n                (this.all ? \" \" + this.all : \"\");\n            let tags = style.tag;\n            if (!Array.isArray(tags))\n                this.map[tags.id] = cls;\n            else\n                for (let tag of tags)\n                    this.map[tag.id] = cls;\n        }\n        this.module = modSpec ? new StyleModule(modSpec) : null;\n        this.scope = options.scope || null;\n        this.match = this.match.bind(this);\n        let ext = [treeHighlighter];\n        if (this.module)\n            ext.push(EditorView.styleModule.of(this.module));\n        this.extension = ext.concat(highlightStyle.of(this));\n        this.fallback = ext.concat(fallbackHighlightStyle.of(this));\n    }\n    /**\n    Returns the CSS class associated with the given tag, if any.\n    This method is bound to the instance by the constructor.\n    */\n    match(tag, scope) {\n        if (this.scope && scope != this.scope)\n            return null;\n        for (let t of tag.set) {\n            let match = this.map[t.id];\n            if (match !== undefined) {\n                if (t != tag)\n                    this.map[tag.id] = match;\n                return match;\n            }\n        }\n        return this.map[tag.id] = this.all;\n    }\n    /**\n    Combines an array of highlight styles into a single match\n    function that returns all of the classes assigned by the styles\n    for a given tag.\n    */\n    static combinedMatch(styles) {\n        if (styles.length == 1)\n            return styles[0].match;\n        let cache = styles.some(s => s.scope) ? undefined : Object.create(null);\n        return (tag, scope) => {\n            let cached = cache && cache[tag.id];\n            if (cached !== undefined)\n                return cached;\n            let result = null;\n            for (let style of styles) {\n                let value = style.match(tag, scope);\n                if (value)\n                    result = result ? result + \" \" + value : value;\n            }\n            if (cache)\n                cache[tag.id] = result;\n            return result;\n        };\n    }\n    /**\n    Create a highlighter style that associates the given styles to\n    the given tags. The spec must be objects that hold a style tag\n    or array of tags in their `tag` property, and either a single\n    `class` property providing a static CSS class (for highlighters\n    like [`classHighlightStyle`](https://codemirror.net/6/docs/ref/#highlight.classHighlightStyle)\n    that rely on external styling), or a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style\n    set of CSS properties (which define the styling for those tags).\n    \n    The CSS rules created for a highlighter will be emitted in the\n    order of the spec's properties. That means that for elements that\n    have multiple tags associated with them, styles defined further\n    down in the list will have a higher CSS precedence than styles\n    defined earlier.\n    */\n    static define(specs, options) {\n        return new HighlightStyle(specs, options || {});\n    }\n    /**\n    Returns the CSS classes (if any) that the highlight styles\n    active in the given state would assign to the given a style\n    [tag](https://codemirror.net/6/docs/ref/#highlight.Tag) and (optional) language\n    [scope](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle^define^options.scope).\n    */\n    static get(state, tag, scope) {\n        let style = getHighlightStyle(state);\n        return style && style(tag, scope || NodeType.none);\n    }\n}\n/**\nRun the tree highlighter over the given tree.\n*/\nfunction highlightTree(tree, \n/**\nGet the CSS classes used to style a given [tag](https://codemirror.net/6/docs/ref/#highlight.Tag),\nor `null` if it isn't styled. (You'll often want to pass a\nhighlight style's [`match`](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle.match)\nmethod here.)\n*/\ngetStyle, \n/**\nAssign styling to a region of the text. Will be called, in order\nof position, for any ranges where more than zero classes apply.\n`classes` is a space separated string of CSS classes.\n*/\nputStyle, \n/**\nThe start of the range to highlight.\n*/\nfrom = 0, \n/**\nThe end of the range.\n*/\nto = tree.length) {\n    highlightTreeRange(tree, from, to, getStyle, putStyle);\n}\nclass TreeHighlighter {\n    constructor(view) {\n        this.markCache = Object.create(null);\n        this.tree = syntaxTree(view.state);\n        this.decorations = this.buildDeco(view, getHighlightStyle(view.state));\n    }\n    update(update) {\n        let tree = syntaxTree(update.state), style = getHighlightStyle(update.state);\n        let styleChange = style != update.startState.facet(highlightStyle);\n        if (tree.length < update.view.viewport.to && !styleChange && tree.type == this.tree.type) {\n            this.decorations = this.decorations.map(update.changes);\n        }\n        else if (tree != this.tree || update.viewportChanged || styleChange) {\n            this.tree = tree;\n            this.decorations = this.buildDeco(update.view, style);\n        }\n    }\n    buildDeco(view, match) {\n        if (!match || !this.tree.length)\n            return Decoration.none;\n        let builder = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges) {\n            highlightTreeRange(this.tree, from, to, match, (from, to, style) => {\n                builder.add(from, to, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));\n            });\n        }\n        return builder.finish();\n    }\n}\n// This extension installs a highlighter that highlights based on the\n// syntax tree and highlight style.\nconst treeHighlighter = /*@__PURE__*/Prec.extend(/*@__PURE__*/ViewPlugin.fromClass(TreeHighlighter, {\n    decorations: v => v.decorations\n}));\nconst nodeStack = [\"\"];\nclass HighlightBuilder {\n    constructor(at, style, span) {\n        this.at = at;\n        this.style = style;\n        this.span = span;\n        this.class = \"\";\n    }\n    startSpan(at, cls) {\n        if (cls != this.class) {\n            this.flush(at);\n            if (at > this.at)\n                this.at = at;\n            this.class = cls;\n        }\n    }\n    flush(to) {\n        if (to > this.at && this.class)\n            this.span(this.at, to, this.class);\n    }\n    highlightRange(cursor, from, to, inheritedClass, depth, scope) {\n        let { type, from: start, to: end } = cursor;\n        if (start >= to || end <= from)\n            return;\n        nodeStack[depth] = type.name;\n        if (type.isTop)\n            scope = type;\n        let cls = inheritedClass;\n        let rule = type.prop(ruleNodeProp), opaque = false;\n        while (rule) {\n            if (!rule.context || matchContext(rule.context, nodeStack, depth)) {\n                for (let tag of rule.tags) {\n                    let st = this.style(tag, scope);\n                    if (st) {\n                        if (cls)\n                            cls += \" \";\n                        cls += st;\n                        if (rule.mode == 1 /* Inherit */)\n                            inheritedClass += (inheritedClass ? \" \" : \"\") + st;\n                        else if (rule.mode == 0 /* Opaque */)\n                            opaque = true;\n                    }\n                }\n                break;\n            }\n            rule = rule.next;\n        }\n        this.startSpan(cursor.from, cls);\n        if (opaque)\n            return;\n        let mounted = cursor.tree && cursor.tree.prop(NodeProp.mounted);\n        if (mounted && mounted.overlay) {\n            let inner = cursor.node.enter(mounted.overlay[0].from + start, 1);\n            let hasChild = cursor.firstChild();\n            for (let i = 0, pos = start;; i++) {\n                let next = i < mounted.overlay.length ? mounted.overlay[i] : null;\n                let nextPos = next ? next.from + start : end;\n                let rangeFrom = Math.max(from, pos), rangeTo = Math.min(to, nextPos);\n                if (rangeFrom < rangeTo && hasChild) {\n                    while (cursor.from < rangeTo) {\n                        this.highlightRange(cursor, rangeFrom, rangeTo, inheritedClass, depth + 1, scope);\n                        this.startSpan(Math.min(to, cursor.to), cls);\n                        if (cursor.to >= nextPos || !cursor.nextSibling())\n                            break;\n                    }\n                }\n                if (!next || nextPos > to)\n                    break;\n                pos = next.to + start;\n                if (pos > from) {\n                    this.highlightRange(inner.cursor, Math.max(from, next.from + start), Math.min(to, pos), inheritedClass, depth, mounted.tree.type);\n                    this.startSpan(pos, cls);\n                }\n            }\n            if (hasChild)\n                cursor.parent();\n        }\n        else if (cursor.firstChild()) {\n            do {\n                if (cursor.to <= from)\n                    continue;\n                if (cursor.from >= to)\n                    break;\n                this.highlightRange(cursor, from, to, inheritedClass, depth + 1, scope);\n                this.startSpan(Math.min(to, cursor.to), cls);\n            } while (cursor.nextSibling());\n            cursor.parent();\n        }\n    }\n}\nfunction highlightTreeRange(tree, from, to, style, span) {\n    let builder = new HighlightBuilder(from, style, span);\n    builder.highlightRange(tree.cursor(), from, to, \"\", 0, tree.type);\n    builder.flush(to);\n}\nfunction matchContext(context, stack, depth) {\n    if (context.length > depth - 1)\n        return false;\n    for (let d = depth - 1, i = context.length - 1; i >= 0; i--, d--) {\n        let check = context[i];\n        if (check && check != stack[d])\n            return false;\n    }\n    return true;\n}\nconst t = Tag.define;\nconst comment = /*@__PURE__*/t(), name = /*@__PURE__*/t(), typeName = /*@__PURE__*/t(name), propertyName = /*@__PURE__*/t(name), literal = /*@__PURE__*/t(), string = /*@__PURE__*/t(literal), number = /*@__PURE__*/t(literal), content = /*@__PURE__*/t(), heading = /*@__PURE__*/t(content), keyword = /*@__PURE__*/t(), operator = /*@__PURE__*/t(), punctuation = /*@__PURE__*/t(), bracket = /*@__PURE__*/t(punctuation), meta = /*@__PURE__*/t();\n/**\nThe default set of highlighting [tags](https://codemirror.net/6/docs/ref/#highlight.Tag^define) used\nby regular language packages and themes.\n\nThis collection is heavily biased towards programming languages,\nand necessarily incomplete. A full ontology of syntactic\nconstructs would fill a stack of books, and be impractical to\nwrite themes for. So try to make do with this set. If all else\nfails, [open an\nissue](https://github.com/codemirror/codemirror.next) to propose a\nnew tag, or [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) a local custom tag for\nyour use case.\n\nNote that it is not obligatory to always attach the most specific\ntag possible to an element—if your grammar can't easily\ndistinguish a certain type of element (such as a local variable),\nit is okay to style it as its more general variant (a variable).\n\nFor tags that extend some parent tag, the documentation links to\nthe parent.\n*/\nconst tags = {\n    /**\n    A comment.\n    */\n    comment,\n    /**\n    A line [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    lineComment: /*@__PURE__*/t(comment),\n    /**\n    A block [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    blockComment: /*@__PURE__*/t(comment),\n    /**\n    A documentation [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    docComment: /*@__PURE__*/t(comment),\n    /**\n    Any kind of identifier.\n    */\n    name,\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a variable.\n    */\n    variableName: /*@__PURE__*/t(name),\n    /**\n    A type [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    typeName: typeName,\n    /**\n    A tag name (subtag of [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)).\n    */\n    tagName: /*@__PURE__*/t(typeName),\n    /**\n    A property or field [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    propertyName: propertyName,\n    /**\n    An attribute name (subtag of [`propertyName`](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName)).\n    */\n    attributeName: /*@__PURE__*/t(propertyName),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a class.\n    */\n    className: /*@__PURE__*/t(name),\n    /**\n    A label [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    labelName: /*@__PURE__*/t(name),\n    /**\n    A namespace [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    namespace: /*@__PURE__*/t(name),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a macro.\n    */\n    macroName: /*@__PURE__*/t(name),\n    /**\n    A literal value.\n    */\n    literal,\n    /**\n    A string [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    string,\n    /**\n    A documentation [string](https://codemirror.net/6/docs/ref/#highlight.tags.string).\n    */\n    docString: /*@__PURE__*/t(string),\n    /**\n    A character literal (subtag of [string](https://codemirror.net/6/docs/ref/#highlight.tags.string)).\n    */\n    character: /*@__PURE__*/t(string),\n    /**\n    An attribute value (subtag of [string](https://codemirror.net/6/docs/ref/#highlight.tags.string)).\n    */\n    attributeValue: /*@__PURE__*/t(string),\n    /**\n    A number [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    number,\n    /**\n    An integer [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    integer: /*@__PURE__*/t(number),\n    /**\n    A floating-point [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    float: /*@__PURE__*/t(number),\n    /**\n    A boolean [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    bool: /*@__PURE__*/t(literal),\n    /**\n    Regular expression [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    regexp: /*@__PURE__*/t(literal),\n    /**\n    An escape [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal), for example a\n    backslash escape in a string.\n    */\n    escape: /*@__PURE__*/t(literal),\n    /**\n    A color [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    color: /*@__PURE__*/t(literal),\n    /**\n    A URL [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    url: /*@__PURE__*/t(literal),\n    /**\n    A language keyword.\n    */\n    keyword,\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for the self or this\n    object.\n    */\n    self: /*@__PURE__*/t(keyword),\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for null.\n    */\n    null: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) denoting some atomic value.\n    */\n    atom: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that represents a unit.\n    */\n    unit: /*@__PURE__*/t(keyword),\n    /**\n    A modifier [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    modifier: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that acts as an operator.\n    */\n    operatorKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A control-flow related [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    controlKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that defines something.\n    */\n    definitionKeyword: /*@__PURE__*/t(keyword),\n    /**\n    An operator.\n    */\n    operator,\n    /**\n    An [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    derefOperator: /*@__PURE__*/t(operator),\n    /**\n    Arithmetic-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    arithmeticOperator: /*@__PURE__*/t(operator),\n    /**\n    Logical [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    logicOperator: /*@__PURE__*/t(operator),\n    /**\n    Bit [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    bitwiseOperator: /*@__PURE__*/t(operator),\n    /**\n    Comparison [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    compareOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that updates its operand.\n    */\n    updateOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    definitionOperator: /*@__PURE__*/t(operator),\n    /**\n    Type-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    typeOperator: /*@__PURE__*/t(operator),\n    /**\n    Control-flow [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    controlOperator: /*@__PURE__*/t(operator),\n    /**\n    Program or markup punctuation.\n    */\n    punctuation,\n    /**\n    [Punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation) that separates\n    things.\n    */\n    separator: /*@__PURE__*/t(punctuation),\n    /**\n    Bracket-style [punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation).\n    */\n    bracket,\n    /**\n    Angle [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `<` and `>`\n    tokens).\n    */\n    angleBracket: /*@__PURE__*/t(bracket),\n    /**\n    Square [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `[` and `]`\n    tokens).\n    */\n    squareBracket: /*@__PURE__*/t(bracket),\n    /**\n    Parentheses (usually `(` and `)` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    paren: /*@__PURE__*/t(bracket),\n    /**\n    Braces (usually `{` and `}` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    brace: /*@__PURE__*/t(bracket),\n    /**\n    Content, for example plain text in XML or markup documents.\n    */\n    content,\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a heading.\n    */\n    heading,\n    /**\n    A level 1 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading1: /*@__PURE__*/t(heading),\n    /**\n    A level 2 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading2: /*@__PURE__*/t(heading),\n    /**\n    A level 3 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading3: /*@__PURE__*/t(heading),\n    /**\n    A level 4 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading4: /*@__PURE__*/t(heading),\n    /**\n    A level 5 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading5: /*@__PURE__*/t(heading),\n    /**\n    A level 6 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading6: /*@__PURE__*/t(heading),\n    /**\n    A prose separator (such as a horizontal rule).\n    */\n    contentSeparator: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a list.\n    */\n    list: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a quote.\n    */\n    quote: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is emphasized.\n    */\n    emphasis: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled strong.\n    */\n    strong: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is part of a link.\n    */\n    link: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled as code or\n    monospace.\n    */\n    monospace: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that has a strike-through\n    style.\n    */\n    strikethrough: /*@__PURE__*/t(content),\n    /**\n    Inserted text in a change-tracking format.\n    */\n    inserted: /*@__PURE__*/t(),\n    /**\n    Deleted text.\n    */\n    deleted: /*@__PURE__*/t(),\n    /**\n    Changed text.\n    */\n    changed: /*@__PURE__*/t(),\n    /**\n    An invalid or unsyntactic element.\n    */\n    invalid: /*@__PURE__*/t(),\n    /**\n    Metadata or meta-instruction.\n    */\n    meta,\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that applies to the entire\n    document.\n    */\n    documentMeta: /*@__PURE__*/t(meta),\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that annotates or adds\n    attributes to a given syntactic element.\n    */\n    annotation: /*@__PURE__*/t(meta),\n    /**\n    Processing instruction or preprocessor directive. Subtag of\n    [meta](https://codemirror.net/6/docs/ref/#highlight.tags.meta).\n    */\n    processingInstruction: /*@__PURE__*/t(meta),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that a\n    given element is being defined. Expected to be used with the\n    various [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) tags.\n    */\n    definition: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that\n    something is constant. Mostly expected to be used with\n    [variable names](https://codemirror.net/6/docs/ref/#highlight.tags.variableName).\n    */\n    constant: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) used to indicate that\n    a [variable](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) or [property\n    name](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName) is being called or defined\n    as a function.\n    */\n    function: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that can be applied to\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) to indicate that they belong to\n    the language's standard environment.\n    */\n    standard: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates a given\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) is local to some scope.\n    */\n    local: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    A generic variant [modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that\n    can be used to tag language-specific alternative variants of\n    some common tag. It is recommended for themes to define special\n    forms of at least the [string](https://codemirror.net/6/docs/ref/#highlight.tags.string) and\n    [variable name](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) tags, since those\n    come up a lot.\n    */\n    special: /*@__PURE__*/Tag.defineModifier()\n};\n/**\nA default highlight style (works well with light themes).\n*/\nconst defaultHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        textDecoration: \"underline\",\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.keyword,\n        color: \"#708\" },\n    { tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],\n        color: \"#219\" },\n    { tag: [tags.literal, tags.inserted],\n        color: \"#164\" },\n    { tag: [tags.string, tags.deleted],\n        color: \"#a11\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)],\n        color: \"#e40\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName),\n        color: \"#00f\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName),\n        color: \"#30a\" },\n    { tag: [tags.typeName, tags.namespace],\n        color: \"#085\" },\n    { tag: tags.className,\n        color: \"#167\" },\n    { tag: [/*@__PURE__*/tags.special(tags.variableName), tags.macroName],\n        color: \"#256\" },\n    { tag: /*@__PURE__*/tags.definition(tags.propertyName),\n        color: \"#00c\" },\n    { tag: tags.comment,\n        color: \"#940\" },\n    { tag: tags.meta,\n        color: \"#7a757a\" },\n    { tag: tags.invalid,\n        color: \"#f00\" }\n]);\n/**\nThis is a highlight style that adds stable, predictable classes to\ntokens, for styling with external CSS.\n\nThese tags are mapped to their name prefixed with `\"cmt-\"` (for\nexample `\"cmt-comment\"`):\n\n* [`link`](https://codemirror.net/6/docs/ref/#highlight.tags.link)\n* [`heading`](https://codemirror.net/6/docs/ref/#highlight.tags.heading)\n* [`emphasis`](https://codemirror.net/6/docs/ref/#highlight.tags.emphasis)\n* [`strong`](https://codemirror.net/6/docs/ref/#highlight.tags.strong)\n* [`keyword`](https://codemirror.net/6/docs/ref/#highlight.tags.keyword)\n* [`atom`](https://codemirror.net/6/docs/ref/#highlight.tags.atom) [`bool`](https://codemirror.net/6/docs/ref/#highlight.tags.bool)\n* [`url`](https://codemirror.net/6/docs/ref/#highlight.tags.url)\n* [`labelName`](https://codemirror.net/6/docs/ref/#highlight.tags.labelName)\n* [`inserted`](https://codemirror.net/6/docs/ref/#highlight.tags.inserted)\n* [`deleted`](https://codemirror.net/6/docs/ref/#highlight.tags.deleted)\n* [`literal`](https://codemirror.net/6/docs/ref/#highlight.tags.literal)\n* [`string`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n* [`number`](https://codemirror.net/6/docs/ref/#highlight.tags.number)\n* [`variableName`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n* [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)\n* [`namespace`](https://codemirror.net/6/docs/ref/#highlight.tags.namespace)\n* [`macroName`](https://codemirror.net/6/docs/ref/#highlight.tags.macroName)\n* [`propertyName`](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName)\n* [`operator`](https://codemirror.net/6/docs/ref/#highlight.tags.operator)\n* [`comment`](https://codemirror.net/6/docs/ref/#highlight.tags.comment)\n* [`meta`](https://codemirror.net/6/docs/ref/#highlight.tags.meta)\n* [`punctuation`](https://codemirror.net/6/docs/ref/#highlight.tags.puncutation)\n* [`invalid`](https://codemirror.net/6/docs/ref/#highlight.tags.invalid)\n\nIn addition, these mappings are provided:\n\n* [`regexp`](https://codemirror.net/6/docs/ref/#highlight.tags.regexp),\n  [`escape`](https://codemirror.net/6/docs/ref/#highlight.tags.escape), and\n  [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(string)`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n  are mapped to `\"cmt-string2\"`\n* [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName2\"`\n* [`local`](https://codemirror.net/6/docs/ref/#highlight.tags.local)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-local\"`\n* [`definition`](https://codemirror.net/6/docs/ref/#highlight.tags.definition)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-definition\"`\n*/\nconst classHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link, class: \"cmt-link\" },\n    { tag: tags.heading, class: \"cmt-heading\" },\n    { tag: tags.emphasis, class: \"cmt-emphasis\" },\n    { tag: tags.strong, class: \"cmt-strong\" },\n    { tag: tags.keyword, class: \"cmt-keyword\" },\n    { tag: tags.atom, class: \"cmt-atom\" },\n    { tag: tags.bool, class: \"cmt-bool\" },\n    { tag: tags.url, class: \"cmt-url\" },\n    { tag: tags.labelName, class: \"cmt-labelName\" },\n    { tag: tags.inserted, class: \"cmt-inserted\" },\n    { tag: tags.deleted, class: \"cmt-deleted\" },\n    { tag: tags.literal, class: \"cmt-literal\" },\n    { tag: tags.string, class: \"cmt-string\" },\n    { tag: tags.number, class: \"cmt-number\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)], class: \"cmt-string2\" },\n    { tag: tags.variableName, class: \"cmt-variableName\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName), class: \"cmt-variableName cmt-local\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName), class: \"cmt-variableName cmt-definition\" },\n    { tag: /*@__PURE__*/tags.special(tags.variableName), class: \"cmt-variableName2\" },\n    { tag: tags.typeName, class: \"cmt-typeName\" },\n    { tag: tags.namespace, class: \"cmt-namespace\" },\n    { tag: tags.macroName, class: \"cmt-macroName\" },\n    { tag: tags.propertyName, class: \"cmt-propertyName\" },\n    { tag: tags.operator, class: \"cmt-operator\" },\n    { tag: tags.comment, class: \"cmt-comment\" },\n    { tag: tags.meta, class: \"cmt-meta\" },\n    { tag: tags.invalid, class: \"cmt-invalid\" },\n    { tag: tags.punctuation, class: \"cmt-punctuation\" }\n]);\n\nexport { HighlightStyle, Tag, classHighlightStyle, defaultHighlightStyle, highlightTree, styleTags, tags };\n","import { ViewPlugin, Direction, EditorView, logException } from '@codemirror/view';\nimport { Facet, StateEffect, StateField, MapMode } from '@codemirror/state';\n\nvar _a;\nconst ios = typeof navigator != \"undefined\" &&\n    !/*@__PURE__*//Edge\\/(\\d+)/.exec(navigator.userAgent) && /*@__PURE__*//Apple Computer/.test(navigator.vendor) &&\n    (/*@__PURE__*//Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2);\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return { shouldMeasure: false };\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0)\n                t.dom.remove();\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return { shouldMeasure: true };\n    }\n}\n/**\nReturn an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return tooltipConfig.of(config);\n}\nconst tooltipConfig = /*@__PURE__*/Facet.define({\n    combine: values => {\n        var _a, _b;\n        return ({\n            position: ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n            parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null\n        });\n    }\n});\nconst tooltipPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        let config = view.state.facet(tooltipConfig);\n        this.position = config.position;\n        this.parent = config.parent;\n        this.classes = view.themeClasses;\n        this.createContainer();\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n        this.maybeMeasure();\n    }\n    createContainer() {\n        if (this.parent) {\n            this.container = document.createElement(\"div\");\n            this.container.style.position = \"relative\";\n            this.container.className = this.view.themeClasses;\n            this.parent.appendChild(this.container);\n        }\n        else {\n            this.container = this.view.dom;\n        }\n    }\n    update(update) {\n        let { shouldMeasure } = this.manager.update(update);\n        let newConfig = update.state.facet(tooltipConfig);\n        if (newConfig.position != this.position) {\n            this.position = newConfig.position;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = this.position;\n            shouldMeasure = true;\n        }\n        if (newConfig.parent != this.parent) {\n            if (this.parent)\n                this.container.remove();\n            this.parent = newConfig.parent;\n            this.createContainer();\n            for (let t of this.manager.tooltipViews)\n                this.container.appendChild(t.dom);\n            shouldMeasure = true;\n        }\n        else if (this.parent && this.view.themeClasses != this.classes) {\n            this.classes = this.container.className = this.view.themeClasses;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        if (tooltip.arrow)\n            tooltipView.dom.classList.add(\"cm-tooltip-arrow\");\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.container.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        for (let { dom } of this.manager.tooltipViews)\n            dom.remove();\n    }\n    readMeasure() {\n        let editor = this.view.dom.getBoundingClientRect();\n        return {\n            editor,\n            parent: this.parent ? this.container.getBoundingClientRect() : editor,\n            pos: this.manager.tooltips.map(t => this.view.coordsAtPos(t.pos)),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            innerWidth: window.innerWidth,\n            innerHeight: window.innerHeight\n        };\n    }\n    writeMeasure(measured) {\n        let { editor } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= editor.top || pos.top >= editor.bottom || pos.right <= editor.left || pos.left >= editor.right) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let arrow = !!tooltip.arrow, above = !!tooltip.above;\n            let width = size.right - size.left, height = size.bottom - size.top + (arrow ? 7 /* Size */ : 0);\n            let left = this.view.textDirection == Direction.LTR\n                ? Math.min(pos.left - (arrow ? 14 /* Offset */ : 0), measured.innerWidth - width)\n                : Math.max(0, pos.left - width + (arrow ? 14 /* Offset */ : 0));\n            if (!tooltip.strictSide &&\n                (above ? pos.top - (size.bottom - size.top) < 0 : pos.bottom + (size.bottom - size.top) > measured.innerHeight))\n                above = !above;\n            let top = above ? pos.top - height : pos.bottom + (arrow ? 7 /* Size */ : 0), right = left + width;\n            for (let r of others)\n                if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                    top = above ? r.top - height : r.bottom;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - measured.parent.top) + \"px\";\n                dom.style.left = (left - measured.parent.left) + \"px\";\n            }\n            else {\n                dom.style.top = top + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned();\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst insetInlineStart = typeof document == 'undefined' || ((_a = document.body) === null || _a === void 0 ? void 0 : _a.style.insetInlineStart) != null\n    ? 'insetInlineStart' : 'left';\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #bbb\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #bbb\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tooltip.cm-tooltip-arrow:before, .cm-tooltip.cm-tooltip-arrow:after\": {\n        position: \"absolute\",\n        content: \"''\",\n        [insetInlineStart]: `${14 /* Offset */ - 7 /* Size */}px`,\n        width: 0,\n        height: 0,\n        borderLeft: `${7 /* Size */}px solid transparent`,\n        borderRight: `${7 /* Size */}px solid transparent`,\n        zIndex: -1\n    },\n    \".cm-tooltip-above.cm-tooltip-arrow:before\": {\n        borderTop: `${7 /* Size */}px solid #f5f5f5`,\n        bottom: `-${7 /* Size */ - 1}px`\n    },\n    \".cm-tooltip-below.cm-tooltip-arrow:before\": {\n        borderBottom: `${7 /* Size */}px solid #f5f5f5`,\n        top: `-${7 /* Size */ - 1}px`\n    },\n    \".cm-tooltip-above.cm-tooltip-arrow:after\": {\n        borderTop: `${7 /* Size */}px solid #bbb`,\n        bottom: `-${7 /* Size */}px`,\n        zIndex: -2\n    },\n    \".cm-tooltip-below.cm-tooltip-arrow:after\": {\n        borderBottom: `${7 /* Size */}px solid #bbb`,\n        top: `-${7 /* Size */}px`,\n        zIndex: -2\n    },\n    \"&dark .cm-tooltip.cm-tooltip-arrow:before\": {\n        borderTopColor: \"#333338\",\n        borderBottomColor: \"#333338\"\n    },\n    \"&dark .cm-tooltip.cm-tooltip-arrow:after\": {\n        borderTopColor: \"transparent\",\n        borderBottomColor: \"transparent\"\n    }\n});\n/**\nBehavior by which an extension can provide a tooltip to be shown.\n*/\nconst showTooltip = /*@__PURE__*/Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = /*@__PURE__*/Facet.define();\nclass HoverTooltipHost {\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned() {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned();\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n}\nconst showHoverTooltipHost = /*@__PURE__*/showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above,\n        arrow: tooltips.some(t => t.arrow),\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.lastMouseMove = null;\n        this.lastMoveTime = 0;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMoveTime;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        var _a;\n        clearTimeout(this.restartTimeout);\n        let lastMove = this.lastMouseMove;\n        let coords = { x: lastMove.clientX, y: lastMove.clientY };\n        let pos = this.view.contentDOM.contains(lastMove.target)\n            ? this.view.posAtCoords(coords) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || coords.y < posCoords.top || coords.y > posCoords.bottom ||\n            coords.x < posCoords.left - this.view.defaultCharacterWidth ||\n            coords.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (coords.x < posCoords.left ? -rtl : rtl));\n        if ((_a = open) === null || _a === void 0 ? void 0 : _a.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMouseMove = event;\n        this.lastMoveTime = Date.now();\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(event.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords({ x: event.clientX, y: event.clientY }) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, 6 /* MaxDist */))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave() {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active)\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nEnable a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos` return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer is—it will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = StateEffect.define();\n    let hoverState = StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection)))\n                return null;\n            for (let effect of tr.effects)\n                if (effect.is(setHover))\n                    return effect.value;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                return copy;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    let hoverTime = options.hoverTime || 750 /* Time */;\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, hoverTime)),\n        showHoverTooltipHost\n    ];\n}\n\nexport { hoverTooltip, showTooltip, tooltips };\n","import { Annotation, Facet, combineConfig, StateEffect, StateField, Prec, EditorSelection, Text } from '@codemirror/state';\nimport { Direction, logException, EditorView, ViewPlugin, Decoration, WidgetType, keymap } from '@codemirror/view';\nimport { showTooltip } from '@codemirror/tooltip';\nimport { syntaxTree, indentUnit } from '@codemirror/language';\nimport { codePointAt, codePointSize, fromCodePoint } from '@codemirror/text';\n\n/**\nAn instance of this is passed to completion source functions.\n*/\nclass CompletionContext {\n    /**\n    Create a new completion context. (Mostly useful for testing\n    completion sources—in the editor, the extension will create\n    these for you.)\n    */\n    constructor(\n    /**\n    The editor state that the completion happens in.\n    */\n    state, \n    /**\n    The position at which the completion is happening.\n    */\n    pos, \n    /**\n    Indicates whether completion was activated explicitly, or\n    implicitly by typing. The usual way to respond to this is to\n    only return completions when either there is part of a\n    completable entity before the cursor, or `explicit` is true.\n    */\n    explicit) {\n        this.state = state;\n        this.pos = pos;\n        this.explicit = explicit;\n        /**\n        @internal\n        */\n        this.abortListeners = [];\n    }\n    /**\n    Get the extent, content, and (if there is a token) type of the\n    token before `this.pos`.\n    */\n    tokenBefore(types) {\n        let token = syntaxTree(this.state).resolveInner(this.pos, -1);\n        while (token && types.indexOf(token.name) < 0)\n            token = token.parent;\n        return token ? { from: token.from, to: this.pos,\n            text: this.state.sliceDoc(token.from, this.pos),\n            type: token.type } : null;\n    }\n    /**\n    Get the match of the given expression directly before the\n    cursor.\n    */\n    matchBefore(expr) {\n        let line = this.state.doc.lineAt(this.pos);\n        let start = Math.max(line.from, this.pos - 250);\n        let str = line.text.slice(start - line.from, this.pos - line.from);\n        let found = str.search(ensureAnchor(expr, false));\n        return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n    }\n    /**\n    Yields true when the query has been aborted. Can be useful in\n    asynchronous queries to avoid doing work that will be ignored.\n    */\n    get aborted() { return this.abortListeners == null; }\n    /**\n    Allows you to register abort handlers, which will be called when\n    the query is\n    [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n    */\n    addEventListener(type, listener) {\n        if (type == \"abort\" && this.abortListeners)\n            this.abortListeners.push(listener);\n    }\n}\nfunction toSet(chars) {\n    let flat = Object.keys(chars).join(\"\");\n    let words = /\\w/.test(flat);\n    if (words)\n        flat = flat.replace(/\\w/g, \"\");\n    return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n}\nfunction prefixMatch(options) {\n    let first = Object.create(null), rest = Object.create(null);\n    for (let { label } of options) {\n        first[label[0]] = true;\n        for (let i = 1; i < label.length; i++)\n            rest[label[i]] = true;\n    }\n    let source = toSet(first) + toSet(rest) + \"*$\";\n    return [new RegExp(\"^\" + source), new RegExp(source)];\n}\n/**\nGiven a a fixed array of options, return an autocompleter that\ncompletes them.\n*/\nfunction completeFromList(list) {\n    let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n    let [span, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n    return (context) => {\n        let token = context.matchBefore(match);\n        return token || context.explicit ? { from: token ? token.from : context.pos, options, span } : null;\n    };\n}\n/**\nWrap the given completion source so that it will only fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return source(context);\n        return null;\n    };\n}\n/**\nWrap the given completion source so that it will not fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifNotIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return null;\n        return source(context);\n    };\n}\nclass Option {\n    constructor(completion, source, match) {\n        this.completion = completion;\n        this.source = source;\n        this.match = match;\n    }\n}\nfunction cur(state) { return state.selection.main.head; }\n// Make sure the given regexp has a $ at its end and, if `start` is\n// true, a ^ at its start.\nfunction ensureAnchor(expr, start) {\n    var _a;\n    let { source } = expr;\n    let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n    if (!addStart && !addEnd)\n        return expr;\n    return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n}\n/**\nThis annotation is added to transactions that are produced by\npicking a completion.\n*/\nconst pickedCompletion = /*@__PURE__*/Annotation.define();\nfunction applyCompletion(view, option) {\n    let apply = option.completion.apply || option.completion.label;\n    let result = option.source;\n    if (typeof apply == \"string\") {\n        view.dispatch({\n            changes: { from: result.from, to: result.to, insert: apply },\n            selection: { anchor: result.from + apply.length },\n            userEvent: \"input.complete\",\n            annotations: pickedCompletion.of(option.completion)\n        });\n    }\n    else {\n        apply(view, option.completion, result.from, result.to);\n    }\n}\nconst SourceCache = /*@__PURE__*/new WeakMap();\nfunction asSource(source) {\n    if (!Array.isArray(source))\n        return source;\n    let known = SourceCache.get(source);\n    if (!known)\n        SourceCache.set(source, known = completeFromList(source));\n    return known;\n}\n\n// A pattern matcher for fuzzy completion matching. Create an instance\n// once for a pattern, and then use that to match any number of\n// completions.\nclass FuzzyMatcher {\n    constructor(pattern) {\n        this.pattern = pattern;\n        this.chars = [];\n        this.folded = [];\n        // Buffers reused by calls to `match` to track matched character\n        // positions.\n        this.any = [];\n        this.precise = [];\n        this.byWord = [];\n        for (let p = 0; p < pattern.length;) {\n            let char = codePointAt(pattern, p), size = codePointSize(char);\n            this.chars.push(char);\n            let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n            this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n            p += size;\n        }\n        this.astral = pattern.length != this.chars.length;\n    }\n    // Matches a given word (completion) against the pattern (input).\n    // Will return null for no match, and otherwise an array that starts\n    // with the match score, followed by any number of `from, to` pairs\n    // indicating the matched parts of `word`.\n    //\n    // The score is a number that is more negative the worse the match\n    // is. See `Penalty` above.\n    match(word) {\n        if (this.pattern.length == 0)\n            return [0];\n        if (word.length < this.pattern.length)\n            return null;\n        let { chars, folded, any, precise, byWord } = this;\n        // For single-character queries, only match when they occur right\n        // at the start\n        if (chars.length == 1) {\n            let first = codePointAt(word, 0);\n            return first == chars[0] ? [0, 0, codePointSize(first)]\n                : first == folded[0] ? [-200 /* CaseFold */, 0, codePointSize(first)] : null;\n        }\n        let direct = word.indexOf(this.pattern);\n        if (direct == 0)\n            return [0, 0, this.pattern.length];\n        let len = chars.length, anyTo = 0;\n        if (direct < 0) {\n            for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                let next = codePointAt(word, i);\n                if (next == chars[anyTo] || next == folded[anyTo])\n                    any[anyTo++] = i;\n                i += codePointSize(next);\n            }\n            // No match, exit immediately\n            if (anyTo < len)\n                return null;\n        }\n        // This tracks the extent of the precise (non-folded, not\n        // necessarily adjacent) match\n        let preciseTo = 0;\n        // Tracks whether there is a match that hits only characters that\n        // appear to be starting words. `byWordFolded` is set to true when\n        // a case folded character is encountered in such a match\n        let byWordTo = 0, byWordFolded = false;\n        // If we've found a partial adjacent match, these track its state\n        let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n        let hasLower = /[a-z]/.test(word);\n        // Go over the option's text, scanning for the various kinds of matches\n        for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* NonWord */; i < e && byWordTo < len;) {\n            let next = codePointAt(word, i);\n            if (direct < 0) {\n                if (preciseTo < len && next == chars[preciseTo])\n                    precise[preciseTo++] = i;\n                if (adjacentTo < len) {\n                    if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                        if (adjacentTo == 0)\n                            adjacentStart = i;\n                        adjacentEnd = i + 1;\n                        adjacentTo++;\n                    }\n                    else {\n                        adjacentTo = 0;\n                    }\n                }\n            }\n            let ch, type = next < 0xff\n                ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Lower */ : next >= 65 && next <= 90 ? 1 /* Upper */ : 0 /* NonWord */)\n                : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Upper */ : ch != ch.toUpperCase() ? 2 /* Lower */ : 0 /* NonWord */);\n            if ((type == 1 /* Upper */ && hasLower || prevType == 0 /* NonWord */ && type != 0 /* NonWord */) &&\n                (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true))))\n                byWord[byWordTo++] = i;\n            prevType = type;\n            i += codePointSize(next);\n        }\n        if (byWordTo == len && byWord[0] == 0)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0), byWord, word);\n        if (adjacentTo == len && adjacentStart == 0)\n            return [-200 /* CaseFold */, 0, adjacentEnd];\n        if (direct > -1)\n            return [-700 /* NotStart */, direct, direct + this.pattern.length];\n        if (adjacentTo == len)\n            return [-200 /* CaseFold */ + -700 /* NotStart */, adjacentStart, adjacentEnd];\n        if (byWordTo == len)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0) + -700 /* NotStart */, byWord, word);\n        return chars.length == 2 ? null : this.result((any[0] ? -700 /* NotStart */ : 0) + -200 /* CaseFold */ + -1100 /* Gap */, any, word);\n    }\n    result(score, positions, word) {\n        let result = [score], i = 1;\n        for (let pos of positions) {\n            let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n            if (i > 1 && result[i - 1] == pos)\n                result[i - 1] = to;\n            else {\n                result[i++] = pos;\n                result[i++] = to;\n            }\n        }\n        return result;\n    }\n}\n\nconst completionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            activateOnTyping: true,\n            override: null,\n            maxRenderedOptions: 100,\n            defaultKeymap: true,\n            optionClass: () => \"\",\n            icons: true,\n            addToOptions: []\n        }, {\n            defaultKeymap: (a, b) => a && b,\n            icons: (a, b) => a && b,\n            optionClass: (a, b) => c => joinClass(a(c), b(c)),\n            addToOptions: (a, b) => a.concat(b)\n        });\n    }\n});\nfunction joinClass(a, b) {\n    return a ? b ? a + \" \" + b : a : b;\n}\n\nfunction optionContent(config) {\n    let content = config.addToOptions.slice();\n    if (config.icons)\n        content.push({\n            render(completion) {\n                let icon = document.createElement(\"div\");\n                icon.classList.add(\"cm-completionIcon\");\n                if (completion.type)\n                    icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n                icon.setAttribute(\"aria-hidden\", \"true\");\n                return icon;\n            },\n            position: 20\n        });\n    content.push({\n        render(completion, _s, match) {\n            let labelElt = document.createElement(\"span\");\n            labelElt.className = \"cm-completionLabel\";\n            let { label } = completion, off = 0;\n            for (let j = 1; j < match.length;) {\n                let from = match[j++], to = match[j++];\n                if (from > off)\n                    labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n                let span = labelElt.appendChild(document.createElement(\"span\"));\n                span.appendChild(document.createTextNode(label.slice(from, to)));\n                span.className = \"cm-completionMatchedText\";\n                off = to;\n            }\n            if (off < label.length)\n                labelElt.appendChild(document.createTextNode(label.slice(off)));\n            return labelElt;\n        },\n        position: 50\n    }, {\n        render(completion) {\n            if (!completion.detail)\n                return null;\n            let detailElt = document.createElement(\"span\");\n            detailElt.className = \"cm-completionDetail\";\n            detailElt.textContent = completion.detail;\n            return detailElt;\n        },\n        position: 80\n    });\n    return content.sort((a, b) => a.position - b.position).map(a => a.render);\n}\nfunction createInfoDialog(option, view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-tooltip cm-completionInfo\";\n    let { info } = option.completion;\n    if (typeof info == \"string\") {\n        dom.textContent = info;\n    }\n    else {\n        let content = info(option.completion);\n        if (content.then)\n            content.then(node => dom.appendChild(node), e => logException(view.state, e, \"completion info\"));\n        else\n            dom.appendChild(content);\n    }\n    return dom;\n}\nfunction rangeAroundSelected(total, selected, max) {\n    if (total <= max)\n        return { from: 0, to: total };\n    if (selected <= (total >> 1)) {\n        let off = Math.floor(selected / max);\n        return { from: off * max, to: (off + 1) * max };\n    }\n    let off = Math.floor((total - selected) / max);\n    return { from: total - (off + 1) * max, to: total - off * max };\n}\nclass CompletionTooltip {\n    constructor(view, stateField) {\n        this.view = view;\n        this.stateField = stateField;\n        this.info = null;\n        this.placeInfo = {\n            read: () => this.measureInfo(),\n            write: (pos) => this.positionInfo(pos),\n            key: this\n        };\n        let cState = view.state.field(stateField);\n        let { options, selected } = cState.open;\n        let config = view.state.facet(completionConfig);\n        this.optionContent = optionContent(config);\n        this.optionClass = config.optionClass;\n        this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-tooltip-autocomplete\";\n        this.dom.addEventListener(\"mousedown\", (e) => {\n            for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                    applyCompletion(view, options[+match[1]]);\n                    e.preventDefault();\n                    return;\n                }\n            }\n        });\n        this.list = this.dom.appendChild(this.createListBox(options, cState.id, this.range));\n        this.list.addEventListener(\"scroll\", () => {\n            if (this.info)\n                this.view.requestMeasure(this.placeInfo);\n        });\n    }\n    mount() { this.updateSel(); }\n    update(update) {\n        if (update.state.field(this.stateField) != update.startState.field(this.stateField))\n            this.updateSel();\n    }\n    positioned() {\n        if (this.info)\n            this.view.requestMeasure(this.placeInfo);\n    }\n    updateSel() {\n        let cState = this.view.state.field(this.stateField), open = cState.open;\n        if (open.selected < this.range.from || open.selected >= this.range.to) {\n            this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n            this.list.remove();\n            this.list = this.dom.appendChild(this.createListBox(open.options, cState.id, this.range));\n            this.list.addEventListener(\"scroll\", () => {\n                if (this.info)\n                    this.view.requestMeasure(this.placeInfo);\n            });\n        }\n        if (this.updateSelectedOption(open.selected)) {\n            if (this.info) {\n                this.info.remove();\n                this.info = null;\n            }\n            let option = open.options[open.selected];\n            if (option.completion.info) {\n                this.info = this.dom.appendChild(createInfoDialog(option, this.view));\n                this.view.requestMeasure(this.placeInfo);\n            }\n        }\n    }\n    updateSelectedOption(selected) {\n        let set = null;\n        for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n            if (i == selected) {\n                if (!opt.hasAttribute(\"aria-selected\")) {\n                    opt.setAttribute(\"aria-selected\", \"true\");\n                    set = opt;\n                }\n            }\n            else {\n                if (opt.hasAttribute(\"aria-selected\"))\n                    opt.removeAttribute(\"aria-selected\");\n            }\n        }\n        if (set)\n            scrollIntoView(this.list, set);\n        return set;\n    }\n    measureInfo() {\n        let sel = this.dom.querySelector(\"[aria-selected]\");\n        if (!sel || !this.info)\n            return null;\n        let rect = this.dom.getBoundingClientRect(), infoRect = this.info.getBoundingClientRect();\n        let top = Math.min(sel.getBoundingClientRect().top, innerHeight - infoRect.height) - rect.top;\n        if (top < 0 || top > this.list.clientHeight - 10)\n            return null;\n        let left = this.view.textDirection == Direction.RTL;\n        let spaceLeft = rect.left, spaceRight = innerWidth - rect.right;\n        if (left && spaceLeft < Math.min(infoRect.width, spaceRight))\n            left = false;\n        else if (!left && spaceRight < Math.min(infoRect.width, spaceLeft))\n            left = true;\n        return { top, left };\n    }\n    positionInfo(pos) {\n        if (this.info && pos) {\n            this.info.style.top = pos.top + \"px\";\n            this.info.classList.toggle(\"cm-completionInfo-left\", pos.left);\n            this.info.classList.toggle(\"cm-completionInfo-right\", !pos.left);\n        }\n    }\n    createListBox(options, id, range) {\n        const ul = document.createElement(\"ul\");\n        ul.id = id;\n        ul.setAttribute(\"role\", \"listbox\");\n        for (let i = range.from; i < range.to; i++) {\n            let { completion, match } = options[i];\n            const li = ul.appendChild(document.createElement(\"li\"));\n            li.id = id + \"-\" + i;\n            li.setAttribute(\"role\", \"option\");\n            let cls = this.optionClass(completion);\n            if (cls)\n                li.className = cls;\n            for (let source of this.optionContent) {\n                let node = source(completion, this.view.state, match);\n                if (node)\n                    li.appendChild(node);\n            }\n        }\n        if (range.from)\n            ul.classList.add(\"cm-completionListIncompleteTop\");\n        if (range.to < options.length)\n            ul.classList.add(\"cm-completionListIncompleteBottom\");\n        return ul;\n    }\n}\n// We allocate a new function instance every time the completion\n// changes to force redrawing/repositioning of the tooltip\nfunction completionTooltip(stateField) {\n    return (view) => new CompletionTooltip(view, stateField);\n}\nfunction scrollIntoView(container, element) {\n    let parent = container.getBoundingClientRect();\n    let self = element.getBoundingClientRect();\n    if (self.top < parent.top)\n        container.scrollTop -= parent.top - self.top;\n    else if (self.bottom > parent.bottom)\n        container.scrollTop += self.bottom - parent.bottom;\n}\n\nconst MaxOptions = 300;\n// Used to pick a preferred option when two options with the same\n// label occur in the result.\nfunction score(option) {\n    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n        (option.type ? 1 : 0);\n}\nfunction sortOptions(active, state) {\n    let options = [], i = 0;\n    for (let a of active)\n        if (a.hasResult()) {\n            if (a.result.filter === false) {\n                for (let option of a.result.options)\n                    options.push(new Option(option, a, [1e9 - i++]));\n            }\n            else {\n                let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to)), match;\n                for (let option of a.result.options)\n                    if (match = matcher.match(option.label)) {\n                        if (option.boost != null)\n                            match[0] += option.boost;\n                        options.push(new Option(option, a, match));\n                    }\n            }\n        }\n    options.sort(cmpOption);\n    let result = [], prev = null;\n    for (let opt of options.sort(cmpOption)) {\n        if (result.length == MaxOptions)\n            break;\n        if (!prev || prev.label != opt.completion.label || prev.detail != opt.completion.detail)\n            result.push(opt);\n        else if (score(opt.completion) > score(prev))\n            result[result.length - 1] = opt;\n        prev = opt.completion;\n    }\n    return result;\n}\nclass CompletionDialog {\n    constructor(options, attrs, tooltip, timestamp, selected) {\n        this.options = options;\n        this.attrs = attrs;\n        this.tooltip = tooltip;\n        this.timestamp = timestamp;\n        this.selected = selected;\n    }\n    setSelected(selected, id) {\n        return selected == this.selected || selected >= this.options.length ? this\n            : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected);\n    }\n    static build(active, state, id, prev) {\n        let options = sortOptions(active, state);\n        if (!options.length)\n            return null;\n        let selected = 0;\n        if (prev && prev.selected) {\n            let selectedValue = prev.options[prev.selected].completion;\n            for (let i = 0; i < options.length && !selected; i++) {\n                if (options[i].completion == selectedValue)\n                    selected = i;\n            }\n        }\n        return new CompletionDialog(options, makeAttrs(id, selected), {\n            pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n            create: completionTooltip(completionState)\n        }, prev ? prev.timestamp : Date.now(), selected);\n    }\n    map(changes) {\n        return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected);\n    }\n}\nclass CompletionState {\n    constructor(active, id, open) {\n        this.active = active;\n        this.id = id;\n        this.open = open;\n    }\n    static start() {\n        return new CompletionState(none, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n    }\n    update(tr) {\n        let { state } = tr, conf = state.facet(completionConfig);\n        let sources = conf.override ||\n            state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n        let active = sources.map(source => {\n            let value = this.active.find(s => s.source == source) ||\n                new ActiveSource(source, this.active.some(a => a.state != 0 /* Inactive */) ? 1 /* Pending */ : 0 /* Inactive */);\n            return value.update(tr, conf);\n        });\n        if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n            active = this.active;\n        let open = tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n            !sameResults(active, this.active) ? CompletionDialog.build(active, state, this.id, this.open)\n            : this.open && tr.docChanged ? this.open.map(tr.changes) : this.open;\n        if (!open && active.every(a => a.state != 1 /* Pending */) && active.some(a => a.hasResult()))\n            active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* Inactive */) : a);\n        for (let effect of tr.effects)\n            if (effect.is(setSelectedEffect))\n                open = open && open.setSelected(effect.value, this.id);\n        return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n    }\n    get tooltip() { return this.open ? this.open.tooltip : null; }\n    get attrs() { return this.open ? this.open.attrs : baseAttrs; }\n}\nfunction sameResults(a, b) {\n    if (a == b)\n        return true;\n    for (let iA = 0, iB = 0;;) {\n        while (iA < a.length && !a[iA].hasResult)\n            iA++;\n        while (iB < b.length && !b[iB].hasResult)\n            iB++;\n        let endA = iA == a.length, endB = iB == b.length;\n        if (endA || endB)\n            return endA == endB;\n        if (a[iA++].result != b[iB++].result)\n            return false;\n    }\n}\nconst baseAttrs = {\n    \"aria-autocomplete\": \"list\",\n    \"aria-expanded\": \"false\"\n};\nfunction makeAttrs(id, selected) {\n    return {\n        \"aria-autocomplete\": \"list\",\n        \"aria-expanded\": \"true\",\n        \"aria-activedescendant\": id + \"-\" + selected,\n        \"aria-controls\": id\n    };\n}\nconst none = [];\nfunction cmpOption(a, b) {\n    let dScore = b.match[0] - a.match[0];\n    if (dScore)\n        return dScore;\n    return a.completion.label.localeCompare(b.completion.label);\n}\nfunction getUserEvent(tr) {\n    return tr.isUserEvent(\"input.type\") ? \"input\" : tr.isUserEvent(\"delete.backward\") ? \"delete\" : null;\n}\nclass ActiveSource {\n    constructor(source, state, explicitPos = -1) {\n        this.source = source;\n        this.state = state;\n        this.explicitPos = explicitPos;\n    }\n    hasResult() { return false; }\n    update(tr, conf) {\n        let event = getUserEvent(tr), value = this;\n        if (event)\n            value = value.handleUserEvent(tr, event, conf);\n        else if (tr.docChanged)\n            value = value.handleChange(tr);\n        else if (tr.selection && value.state != 0 /* Inactive */)\n            value = new ActiveSource(value.source, 0 /* Inactive */);\n        for (let effect of tr.effects) {\n            if (effect.is(startCompletionEffect))\n                value = new ActiveSource(value.source, 1 /* Pending */, effect.value ? cur(tr.state) : -1);\n            else if (effect.is(closeCompletionEffect))\n                value = new ActiveSource(value.source, 0 /* Inactive */);\n            else if (effect.is(setActiveEffect))\n                for (let active of effect.value)\n                    if (active.source == value.source)\n                        value = active;\n        }\n        return value;\n    }\n    handleUserEvent(tr, type, conf) {\n        return type == \"delete\" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1 /* Pending */);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(changes) {\n        return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));\n    }\n}\nclass ActiveResult extends ActiveSource {\n    constructor(source, explicitPos, result, from, to, span) {\n        super(source, 2 /* Result */, explicitPos);\n        this.result = result;\n        this.from = from;\n        this.to = to;\n        this.span = span;\n    }\n    hasResult() { return true; }\n    handleUserEvent(tr, type, conf) {\n        let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n        let pos = cur(tr.state);\n        if ((this.explicitPos > -1 ? pos < from : pos <= from) || pos > to)\n            return new ActiveSource(this.source, type == \"input\" && conf.activateOnTyping ? 1 /* Pending */ : 0 /* Inactive */);\n        let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos);\n        if (this.span && (from == to || this.span.test(tr.state.sliceDoc(from, to))))\n            return new ActiveResult(this.source, explicitPos, this.result, from, to, this.span);\n        return new ActiveSource(this.source, 1 /* Pending */, explicitPos);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(mapping) {\n        return mapping.empty ? this :\n            new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1), this.span);\n    }\n}\nconst startCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst closeCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst setActiveEffect = /*@__PURE__*/StateEffect.define({\n    map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n});\nconst setSelectedEffect = /*@__PURE__*/StateEffect.define();\nconst completionState = /*@__PURE__*/StateField.define({\n    create() { return CompletionState.start(); },\n    update(value, tr) { return value.update(tr); },\n    provide: f => [\n        showTooltip.from(f, val => val.tooltip),\n        EditorView.contentAttributes.from(f, state => state.attrs)\n    ]\n});\n\nconst CompletionInteractMargin = 75;\n/**\nReturns a command that moves the completion selection forward or\nbackward by the given amount.\n*/\nfunction moveCompletionSelection(forward, by = \"option\") {\n    return (view) => {\n        let cState = view.state.field(completionState, false);\n        if (!cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n            return false;\n        let step = 1, tooltip;\n        if (by == \"page\" && (tooltip = view.dom.querySelector(\".cm-tooltip-autocomplete\")))\n            step = Math.max(2, Math.floor(tooltip.offsetHeight / tooltip.firstChild.offsetHeight));\n        let selected = cState.open.selected + step * (forward ? 1 : -1), { length } = cState.open.options;\n        if (selected < 0)\n            selected = by == \"page\" ? 0 : length - 1;\n        else if (selected >= length)\n            selected = by == \"page\" ? length - 1 : 0;\n        view.dispatch({ effects: setSelectedEffect.of(selected) });\n        return true;\n    };\n}\n/**\nAccept the current completion.\n*/\nconst acceptCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (view.state.readOnly || !cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n        return false;\n    applyCompletion(view, cState.open.options[cState.open.selected]);\n    return true;\n};\n/**\nExplicitly start autocompletion.\n*/\nconst startCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState)\n        return false;\n    view.dispatch({ effects: startCompletionEffect.of(true) });\n    return true;\n};\n/**\nClose the currently active completion.\n*/\nconst closeCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.active.some(a => a.state != 0 /* Inactive */))\n        return false;\n    view.dispatch({ effects: closeCompletionEffect.of(null) });\n    return true;\n};\nclass RunningQuery {\n    constructor(active, context) {\n        this.active = active;\n        this.context = context;\n        this.time = Date.now();\n        this.updates = [];\n        // Note that 'undefined' means 'not done yet', whereas 'null' means\n        // 'query returned null'.\n        this.done = undefined;\n    }\n}\nconst DebounceTime = 50, MaxUpdateCount = 50, MinAbortTime = 1000;\nconst completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.debounceUpdate = -1;\n        this.running = [];\n        this.debounceAccept = -1;\n        this.composing = 0 /* None */;\n        for (let active of view.state.field(completionState).active)\n            if (active.state == 1 /* Pending */)\n                this.startQuery(active);\n    }\n    update(update) {\n        let cState = update.state.field(completionState);\n        if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n            return;\n        let doesReset = update.transactions.some(tr => {\n            return (tr.selection || tr.docChanged) && !getUserEvent(tr);\n        });\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (doesReset ||\n                query.updates.length + update.transactions.length > MaxUpdateCount && query.time - Date.now() > MinAbortTime) {\n                for (let handler of query.context.abortListeners) {\n                    try {\n                        handler();\n                    }\n                    catch (e) {\n                        logException(this.view.state, e);\n                    }\n                }\n                query.context.abortListeners = null;\n                this.running.splice(i--, 1);\n            }\n            else {\n                query.updates.push(...update.transactions);\n            }\n        }\n        if (this.debounceUpdate > -1)\n            clearTimeout(this.debounceUpdate);\n        this.debounceUpdate = cState.active.some(a => a.state == 1 /* Pending */ && !this.running.some(q => q.active.source == a.source))\n            ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;\n        if (this.composing != 0 /* None */)\n            for (let tr of update.transactions) {\n                if (getUserEvent(tr) == \"input\")\n                    this.composing = 2 /* Changed */;\n                else if (this.composing == 2 /* Changed */ && tr.selection)\n                    this.composing = 3 /* ChangedAndMoved */;\n            }\n    }\n    startUpdate() {\n        this.debounceUpdate = -1;\n        let { state } = this.view, cState = state.field(completionState);\n        for (let active of cState.active) {\n            if (active.state == 1 /* Pending */ && !this.running.some(r => r.active.source == active.source))\n                this.startQuery(active);\n        }\n    }\n    startQuery(active) {\n        let { state } = this.view, pos = cur(state);\n        let context = new CompletionContext(state, pos, active.explicitPos == pos);\n        let pending = new RunningQuery(active, context);\n        this.running.push(pending);\n        Promise.resolve(active.source(context)).then(result => {\n            if (!pending.context.aborted) {\n                pending.done = result || null;\n                this.scheduleAccept();\n            }\n        }, err => {\n            this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            logException(this.view.state, err);\n        });\n    }\n    scheduleAccept() {\n        if (this.running.every(q => q.done !== undefined))\n            this.accept();\n        else if (this.debounceAccept < 0)\n            this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);\n    }\n    // For each finished query in this.running, try to create a result\n    // or, if appropriate, restart the query.\n    accept() {\n        var _a;\n        if (this.debounceAccept > -1)\n            clearTimeout(this.debounceAccept);\n        this.debounceAccept = -1;\n        let updated = [];\n        let conf = this.view.state.facet(completionConfig);\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (query.done === undefined)\n                continue;\n            this.running.splice(i--, 1);\n            if (query.done) {\n                let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : cur(query.updates.length ? query.updates[0].startState : this.view.state), query.done.span && query.done.filter !== false ? ensureAnchor(query.done.span, true) : null);\n                // Replay the transactions that happened since the start of\n                // the request and see if that preserves the result\n                for (let tr of query.updates)\n                    active = active.update(tr, conf);\n                if (active.hasResult()) {\n                    updated.push(active);\n                    continue;\n                }\n            }\n            let current = this.view.state.field(completionState).active.find(a => a.source == query.active.source);\n            if (current && current.state == 1 /* Pending */) {\n                if (query.done == null) {\n                    // Explicitly failed. Should clear the pending status if it\n                    // hasn't been re-set in the meantime.\n                    let active = new ActiveSource(query.active.source, 0 /* Inactive */);\n                    for (let tr of query.updates)\n                        active = active.update(tr, conf);\n                    if (active.state != 1 /* Pending */)\n                        updated.push(active);\n                }\n                else {\n                    // Cleared by subsequent transactions. Restart.\n                    this.startQuery(current);\n                }\n            }\n        }\n        if (updated.length)\n            this.view.dispatch({ effects: setActiveEffect.of(updated) });\n    }\n}, {\n    eventHandlers: {\n        compositionstart() {\n            this.composing = 1 /* Started */;\n        },\n        compositionend() {\n            if (this.composing == 3 /* ChangedAndMoved */) {\n                // Safari fires compositionend events synchronously, possibly\n                // from inside an update, so dispatch asynchronously to avoid reentrancy\n                setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n            }\n            this.composing = 0 /* None */;\n        }\n    }\n});\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip.cm-tooltip-autocomplete\": {\n        \"& > ul\": {\n            fontFamily: \"monospace\",\n            whiteSpace: \"nowrap\",\n            overflow: \"auto\",\n            maxWidth_fallback: \"700px\",\n            maxWidth: \"min(700px, 95vw)\",\n            maxHeight: \"10em\",\n            listStyle: \"none\",\n            margin: 0,\n            padding: 0,\n            \"& > li\": {\n                cursor: \"pointer\",\n                padding: \"1px 1em 1px 3px\",\n                lineHeight: 1.2\n            },\n        }\n    },\n    \"&light .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#39e\",\n        color: \"white\",\n    },\n    \"&dark .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#347\",\n        color: \"white\",\n    },\n    \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n        content: '\"···\"',\n        opacity: 0.5,\n        display: \"block\",\n        textAlign: \"center\"\n    },\n    \".cm-tooltip.cm-completionInfo\": {\n        position: \"absolute\",\n        padding: \"3px 9px\",\n        width: \"max-content\",\n        maxWidth: \"300px\",\n    },\n    \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n    \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n    \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n    \".cm-snippetFieldPosition\": {\n        verticalAlign: \"text-top\",\n        width: 0,\n        height: \"1.15em\",\n        margin: \"0 -0.7px -.7em\",\n        borderLeft: \"1.4px dotted #888\"\n    },\n    \".cm-completionMatchedText\": {\n        textDecoration: \"underline\"\n    },\n    \".cm-completionDetail\": {\n        marginLeft: \"0.5em\",\n        fontStyle: \"italic\"\n    },\n    \".cm-completionIcon\": {\n        fontSize: \"90%\",\n        width: \".8em\",\n        display: \"inline-block\",\n        textAlign: \"center\",\n        paddingRight: \".6em\",\n        opacity: \"0.6\"\n    },\n    \".cm-completionIcon-function, .cm-completionIcon-method\": {\n        \"&:after\": { content: \"'ƒ'\" }\n    },\n    \".cm-completionIcon-class\": {\n        \"&:after\": { content: \"'○'\" }\n    },\n    \".cm-completionIcon-interface\": {\n        \"&:after\": { content: \"'◌'\" }\n    },\n    \".cm-completionIcon-variable\": {\n        \"&:after\": { content: \"'𝑥'\" }\n    },\n    \".cm-completionIcon-constant\": {\n        \"&:after\": { content: \"'𝐶'\" }\n    },\n    \".cm-completionIcon-type\": {\n        \"&:after\": { content: \"'𝑡'\" }\n    },\n    \".cm-completionIcon-enum\": {\n        \"&:after\": { content: \"'∪'\" }\n    },\n    \".cm-completionIcon-property\": {\n        \"&:after\": { content: \"'□'\" }\n    },\n    \".cm-completionIcon-keyword\": {\n        \"&:after\": { content: \"'🔑\\uFE0E'\" } // Disable emoji rendering\n    },\n    \".cm-completionIcon-namespace\": {\n        \"&:after\": { content: \"'▢'\" }\n    },\n    \".cm-completionIcon-text\": {\n        \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n    }\n});\n\nclass FieldPos {\n    constructor(field, line, from, to) {\n        this.field = field;\n        this.line = line;\n        this.from = from;\n        this.to = to;\n    }\n}\nclass FieldRange {\n    constructor(field, from, to) {\n        this.field = field;\n        this.from = from;\n        this.to = to;\n    }\n    map(changes) {\n        return new FieldRange(this.field, changes.mapPos(this.from, -1), changes.mapPos(this.to, 1));\n    }\n}\nclass Snippet {\n    constructor(lines, fieldPositions) {\n        this.lines = lines;\n        this.fieldPositions = fieldPositions;\n    }\n    instantiate(state, pos) {\n        let text = [], lineStart = [pos];\n        let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n        for (let line of this.lines) {\n            if (text.length) {\n                let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                for (let i = 0; i < tabs; i++)\n                    indent += state.facet(indentUnit);\n                lineStart.push(pos + indent.length - tabs);\n                line = indent + line.slice(tabs);\n            }\n            text.push(line);\n            pos += line.length + 1;\n        }\n        let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n        return { text, ranges };\n    }\n    static parse(template) {\n        let fields = [];\n        let lines = [], positions = [], m;\n        for (let line of template.split(/\\r\\n?|\\n/)) {\n            while (m = /[#$]\\{(?:(\\d+)(?::([^}]*))?|([^}]*))\\}/.exec(line)) {\n                let seq = m[1] ? +m[1] : null, name = m[2] || m[3], found = -1;\n                for (let i = 0; i < fields.length; i++) {\n                    if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                        found = i;\n                }\n                if (found < 0) {\n                    let i = 0;\n                    while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                        i++;\n                    fields.splice(i, 0, { seq, name: name || null });\n                    found = i;\n                    for (let pos of positions)\n                        if (pos.field >= found)\n                            pos.field++;\n                }\n                positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                line = line.slice(0, m.index) + name + line.slice(m.index + m[0].length);\n            }\n            lines.push(line);\n        }\n        return new Snippet(lines, positions);\n    }\n}\nlet fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM() {\n            let span = document.createElement(\"span\");\n            span.className = \"cm-snippetFieldPosition\";\n            return span;\n        }\n        ignoreEvent() { return false; }\n    } });\nlet fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\nclass ActiveSnippet {\n    constructor(ranges, active) {\n        this.ranges = ranges;\n        this.active = active;\n        this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));\n    }\n    map(changes) {\n        return new ActiveSnippet(this.ranges.map(r => r.map(changes)), this.active);\n    }\n    selectionInsideField(sel) {\n        return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n    }\n}\nconst setActive = /*@__PURE__*/StateEffect.define({\n    map(value, changes) { return value && value.map(changes); }\n});\nconst moveToField = /*@__PURE__*/StateEffect.define();\nconst snippetState = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setActive))\n                return effect.value;\n            if (effect.is(moveToField) && value)\n                return new ActiveSnippet(value.ranges, effect.value);\n        }\n        if (value && tr.docChanged)\n            value = value.map(tr.changes);\n        if (value && tr.selection && !value.selectionInsideField(tr.selection))\n            value = null;\n        return value;\n    },\n    provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n});\nfunction fieldSelection(ranges, field) {\n    return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n}\n/**\nConvert a snippet template to a function that can apply it.\nSnippets are written using syntax like this:\n\n    \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\nEach `${}` placeholder (you may also use `#{}`) indicates a field\nthat the user can fill in. Its name, if any, will be the default\ncontent for the field.\n\nWhen the snippet is activated by calling the returned function,\nthe code is inserted at the given position. Newlines in the\ntemplate are indented by the indentation of the start line, plus\none [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\nthe newline.\n\nOn activation, (all instances of) the first field are selected.\nThe user can move between fields with Tab and Shift-Tab as long as\nthe fields are active. Moving to the last field or moving the\ncursor out of the current field deactivates the fields.\n\nThe order of fields defaults to textual order, but you can add\nnumbers to placeholders (`${1}` or `${1:defaultText}`) to provide\na custom order.\n*/\nfunction snippet(template) {\n    let snippet = Snippet.parse(template);\n    return (editor, _completion, from, to) => {\n        let { text, ranges } = snippet.instantiate(editor.state, from);\n        let spec = { changes: { from, to, insert: Text.of(text) } };\n        if (ranges.length)\n            spec.selection = fieldSelection(ranges, 0);\n        if (ranges.length > 1) {\n            let active = new ActiveSnippet(ranges, 0);\n            let effects = spec.effects = [setActive.of(active)];\n            if (editor.state.field(snippetState, false) === undefined)\n                effects.push(StateEffect.appendConfig.of([snippetState, addSnippetKeymap, snippetPointerHandler, baseTheme]));\n        }\n        editor.dispatch(editor.state.update(spec));\n    };\n}\nfunction moveField(dir) {\n    return ({ state, dispatch }) => {\n        let active = state.field(snippetState, false);\n        if (!active || dir < 0 && active.active == 0)\n            return false;\n        let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n        dispatch(state.update({\n            selection: fieldSelection(active.ranges, next),\n            effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next))\n        }));\n        return true;\n    };\n}\n/**\nA command that clears the active snippet, if any.\n*/\nconst clearSnippet = ({ state, dispatch }) => {\n    let active = state.field(snippetState, false);\n    if (!active)\n        return false;\n    dispatch(state.update({ effects: setActive.of(null) }));\n    return true;\n};\n/**\nMove to the next snippet field, if available.\n*/\nconst nextSnippetField = /*@__PURE__*/moveField(1);\n/**\nMove to the previous snippet field, if available.\n*/\nconst prevSnippetField = /*@__PURE__*/moveField(-1);\nconst defaultSnippetKeymap = [\n    { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n    { key: \"Escape\", run: clearSnippet }\n];\n/**\nA facet that can be used to configure the key bindings used by\nsnippets. The default binds Tab to\n[`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n[`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\nto [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n*/\nconst snippetKeymap = /*@__PURE__*/Facet.define({\n    combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n});\nconst addSnippetKeymap = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n/**\nCreate a completion from a snippet. Returns an object with the\nproperties from `completion`, plus an `apply` function that\napplies the snippet.\n*/\nfunction snippetCompletion(template, completion) {\n    return Object.assign(Object.assign({}, completion), { apply: snippet(template) });\n}\nconst snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n    mousedown(event, view) {\n        let active = view.state.field(snippetState, false), pos;\n        if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n            return false;\n        let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n        if (!match || match.field == active.active)\n            return false;\n        view.dispatch({\n            selection: fieldSelection(active.ranges, match.field),\n            effects: setActive.of(active.ranges.some(r => r.field > match.field) ? new ActiveSnippet(active.ranges, match.field) : null)\n        });\n        return true;\n    }\n});\n\nfunction wordRE(wordChars) {\n    let escaped = wordChars.replace(/[\\\\[.+*?(){|^$]/g, \"\\\\$&\");\n    try {\n        return new RegExp(`[\\\\p{Alphabetic}\\\\p{Number}_${escaped}]+`, \"ug\");\n    }\n    catch (_a) {\n        return new RegExp(`[\\w${escaped}]`, \"g\");\n    }\n}\nfunction mapRE(re, f) {\n    return new RegExp(f(re.source), re.unicode ? \"u\" : \"\");\n}\nconst wordCaches = /*@__PURE__*/Object.create(null);\nfunction wordCache(wordChars) {\n    return wordCaches[wordChars] || (wordCaches[wordChars] = new WeakMap);\n}\nfunction storeWords(doc, wordRE, result, seen, ignoreAt) {\n    for (let lines = doc.iterLines(), pos = 0; !lines.next().done;) {\n        let { value } = lines, m;\n        wordRE.lastIndex = 0;\n        while (m = wordRE.exec(value)) {\n            if (!seen[m[0]] && pos + m.index != ignoreAt) {\n                result.push({ type: \"text\", label: m[0] });\n                seen[m[0]] = true;\n                if (result.length >= 2000 /* MaxList */)\n                    return;\n            }\n        }\n        pos += value.length + 1;\n    }\n}\nfunction collectWords(doc, cache, wordRE, to, ignoreAt) {\n    let big = doc.length >= 1000 /* MinCacheLen */;\n    let cached = big && cache.get(doc);\n    if (cached)\n        return cached;\n    let result = [], seen = Object.create(null);\n    if (doc.children) {\n        let pos = 0;\n        for (let ch of doc.children) {\n            if (ch.length >= 1000 /* MinCacheLen */) {\n                for (let c of collectWords(ch, cache, wordRE, to - pos, ignoreAt - pos)) {\n                    if (!seen[c.label]) {\n                        seen[c.label] = true;\n                        result.push(c);\n                    }\n                }\n            }\n            else {\n                storeWords(ch, wordRE, result, seen, ignoreAt - pos);\n            }\n            pos += ch.length + 1;\n        }\n    }\n    else {\n        storeWords(doc, wordRE, result, seen, ignoreAt);\n    }\n    if (big && result.length < 2000 /* MaxList */)\n        cache.set(doc, result);\n    return result;\n}\n/**\nA completion source that will scan the document for words (using a\n[character categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer)), and\nreturn those as completions.\n*/\nconst completeAnyWord = context => {\n    let wordChars = context.state.languageDataAt(\"wordChars\", context.pos).join(\"\");\n    let re = wordRE(wordChars);\n    let token = context.matchBefore(mapRE(re, s => s + \"$\"));\n    if (!token && !context.explicit)\n        return null;\n    let from = token ? token.from : context.pos;\n    let options = collectWords(context.state.doc, wordCache(wordChars), re, 50000 /* Range */, from);\n    return { from, options, span: mapRE(re, s => \"^\" + s) };\n};\n\n/**\nReturns an extension that enables autocompletion.\n*/\nfunction autocompletion(config = {}) {\n    return [\n        completionState,\n        completionConfig.of(config),\n        completionPlugin,\n        completionKeymapExt,\n        baseTheme\n    ];\n}\n/**\nBasic keybindings for autocompletion.\n\n - Ctrl-Space: [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n*/\nconst completionKeymap = [\n    { key: \"Ctrl-Space\", run: startCompletion },\n    { key: \"Escape\", run: closeCompletion },\n    { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n    { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n    { key: \"Enter\", run: acceptCompletion }\n];\nconst completionKeymapExt = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n/**\nGet the current completion status. When completions are available,\nthis will return `\"active\"`. When completions are pending (in the\nprocess of being queried), this returns `\"pending\"`. Otherwise, it\nreturns `null`.\n*/\nfunction completionStatus(state) {\n    let cState = state.field(completionState, false);\n    return cState && cState.active.some(a => a.state == 1 /* Pending */) ? \"pending\"\n        : cState && cState.active.some(a => a.state != 0 /* Inactive */) ? \"active\" : null;\n}\n/**\nReturns the available completions as an array.\n*/\nfunction currentCompletions(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open ? open.options.map(o => o.completion) : [];\n}\n/**\nReturn the currently selected completion, if any.\n*/\nfunction selectedCompletion(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open ? open.options[open.selected].completion : null;\n}\n\nexport { CompletionContext, acceptCompletion, autocompletion, clearSnippet, closeCompletion, completeAnyWord, completeFromList, completionKeymap, completionStatus, currentCompletions, ifIn, ifNotIn, moveCompletionSelection, nextSnippetField, pickedCompletion, prevSnippetField, selectedCompletion, snippet, snippetCompletion, snippetKeymap, startCompletion };\n","import { parser } from '@lezer/javascript';\nimport { LRLanguage, indentNodeProp, continuedIndent, flatIndent, delimitedIndent, foldNodeProp, foldInside, LanguageSupport } from '@codemirror/language';\nimport { styleTags, tags } from '@codemirror/highlight';\nimport { snippetCompletion, ifNotIn, completeFromList } from '@codemirror/autocomplete';\n\n/**\nA collection of JavaScript-related\n[snippets](https://codemirror.net/6/docs/ref/#autocomplete.snippet).\n*/\nconst snippets = [\n    /*@__PURE__*/snippetCompletion(\"function ${name}(${params}) {\\n\\t${}\\n}\", {\n        label: \"function\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${name} of ${collection}) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"of loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"try {\\n\\t${}\\n} catch (${error}) {\\n\\t${}\\n}\", {\n        label: \"try\",\n        detail: \"block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"class ${name} {\\n\\tconstructor(${params}) {\\n\\t\\t${}\\n\\t}\\n}\", {\n        label: \"class\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import {${names}} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"named\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import ${name} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"default\",\n        type: \"keyword\"\n    })\n];\n\n/**\nA language provider based on the [Lezer JavaScript\nparser](https://github.com/lezer-parser/javascript), extended with\nhighlighting and indentation information.\n*/\nconst javascriptLanguage = /*@__PURE__*/LRLanguage.define({\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                IfStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|else\\b)/ }),\n                TryStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|catch\\b|finally\\b)/ }),\n                LabeledStatement: flatIndent,\n                SwitchBody: context => {\n                    let after = context.textAfter, closed = /^\\s*\\}/.test(after), isCase = /^\\s*(case|default)\\b/.test(after);\n                    return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;\n                },\n                Block: /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                ArrowFunction: cx => cx.baseIndent + cx.unit,\n                \"TemplateString BlockComment\": () => -1,\n                \"Statement Property\": /*@__PURE__*/continuedIndent({ except: /^{/ }),\n                JSXElement(context) {\n                    let closed = /^\\s*<\\//.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                JSXEscape(context) {\n                    let closed = /\\s*\\}/.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                \"JSXOpenTag JSXSelfClosingTag\"(context) {\n                    return context.column(context.node.from) + context.unit;\n                }\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression\": foldInside,\n                BlockComment(tree) { return { from: tree.from + 2, to: tree.to - 2 }; }\n            }),\n            /*@__PURE__*/styleTags({\n                \"get set async static\": tags.modifier,\n                \"for while do if else switch try catch finally return throw break continue default case\": tags.controlKeyword,\n                \"in of await yield void typeof delete instanceof\": tags.operatorKeyword,\n                \"export import let var const function class extends\": tags.definitionKeyword,\n                \"with debugger from as new\": tags.keyword,\n                TemplateString: /*@__PURE__*/tags.special(tags.string),\n                Super: tags.atom,\n                BooleanLiteral: tags.bool,\n                this: tags.self,\n                null: tags.null,\n                Star: tags.modifier,\n                VariableName: tags.variableName,\n                \"CallExpression/VariableName\": /*@__PURE__*/tags.function(tags.variableName),\n                VariableDefinition: /*@__PURE__*/tags.definition(tags.variableName),\n                Label: tags.labelName,\n                PropertyName: tags.propertyName,\n                \"CallExpression/MemberExpression/PropertyName\": /*@__PURE__*/tags.function(tags.propertyName),\n                \"FunctionDeclaration/VariableDefinition\": /*@__PURE__*/tags.function(/*@__PURE__*/tags.definition(tags.variableName)),\n                \"ClassDeclaration/VariableDefinition\": /*@__PURE__*/tags.definition(tags.className),\n                PropertyNameDefinition: /*@__PURE__*/tags.definition(tags.propertyName),\n                UpdateOp: tags.updateOperator,\n                LineComment: tags.lineComment,\n                BlockComment: tags.blockComment,\n                Number: tags.number,\n                String: tags.string,\n                ArithOp: tags.arithmeticOperator,\n                LogicOp: tags.logicOperator,\n                BitOp: tags.bitwiseOperator,\n                CompareOp: tags.compareOperator,\n                RegExp: tags.regexp,\n                Equals: tags.definitionOperator,\n                \"Arrow : Spread\": tags.punctuation,\n                \"( )\": tags.paren,\n                \"[ ]\": tags.squareBracket,\n                \"{ }\": tags.brace,\n                \".\": tags.derefOperator,\n                \", ;\": tags.separator,\n                TypeName: tags.typeName,\n                TypeDefinition: /*@__PURE__*/tags.definition(tags.typeName),\n                \"type enum interface implements namespace module declare\": tags.definitionKeyword,\n                \"abstract global privacy readonly override\": tags.modifier,\n                \"is keyof unique infer\": tags.operatorKeyword,\n                JSXAttributeValue: tags.attributeValue,\n                JSXText: tags.content,\n                \"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag\": tags.angleBracket,\n                \"JSXIdentifier JSXNameSpacedName\": tags.tagName,\n                \"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName\": tags.attributeName\n            })\n        ]\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"`\"] },\n        commentTokens: { line: \"//\", block: { open: \"/*\", close: \"*/\" } },\n        indentOnInput: /^\\s*(?:case |default:|\\{|\\}|<\\/)$/,\n        wordChars: \"$\"\n    }\n});\n/**\nA language provider for TypeScript.\n*/\nconst typescriptLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"ts\" });\n/**\nLanguage provider for JSX.\n*/\nconst jsxLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"jsx\" });\n/**\nLanguage provider for JSX + TypeScript.\n*/\nconst tsxLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"jsx ts\" });\n/**\nJavaScript support. Includes [snippet](https://codemirror.net/6/docs/ref/#lang-javascript.snippets)\ncompletion.\n*/\nfunction javascript(config = {}) {\n    let lang = config.jsx ? (config.typescript ? tsxLanguage : jsxLanguage)\n        : config.typescript ? typescriptLanguage : javascriptLanguage;\n    return new LanguageSupport(lang, javascriptLanguage.data.of({\n        autocomplete: ifNotIn([\"LineComment\", \"BlockComment\", \"String\"], completeFromList(snippets))\n    }));\n}\n\n/**\nConnects an [ESLint](https://eslint.org/) linter to CodeMirror's\n[lint](https://codemirror.net/6/docs/ref/#lint) integration. `eslint` should be an instance of the\n[`Linter`](https://eslint.org/docs/developer-guide/nodejs-api#linter)\nclass, and `config` an optional ESLint configuration. The return\nvalue of this function can be passed to [`linter`](https://codemirror.net/6/docs/ref/#lint.linter)\nto create a JavaScript linting extension.\n\nNote that ESLint targets node, and is tricky to run in the\nbrowser. The [eslint4b](https://github.com/mysticatea/eslint4b)\nand\n[eslint4b-prebuilt](https://github.com/marijnh/eslint4b-prebuilt/)\npackages may help with that.\n*/\nfunction esLint(eslint, config) {\n    if (!config) {\n        config = {\n            parserOptions: { ecmaVersion: 2019, sourceType: \"module\" },\n            env: { browser: true, node: true, es6: true, es2015: true, es2017: true, es2020: true },\n            rules: {}\n        };\n        eslint.getRules().forEach((desc, name) => {\n            if (desc.meta.docs.recommended)\n                config.rules[name] = 2;\n        });\n    }\n    return (view) => {\n        let { state } = view, found = [];\n        for (let { from, to } of javascriptLanguage.findRegions(state)) {\n            let fromLine = state.doc.lineAt(from), offset = { line: fromLine.number - 1, col: from - fromLine.from, pos: from };\n            for (let d of eslint.verify(state.sliceDoc(from, to), config))\n                found.push(translateDiagnostic(d, state.doc, offset));\n        }\n        return found;\n    };\n}\nfunction mapPos(line, col, doc, offset) {\n    return doc.line(line + offset.line).from + col + (line == 1 ? offset.col - 1 : -1);\n}\nfunction translateDiagnostic(input, doc, offset) {\n    let start = mapPos(input.line, input.column, doc, offset);\n    let result = {\n        from: start,\n        to: input.endLine != null && input.endColumn != 1 ? mapPos(input.endLine, input.endColumn, doc, offset) : start,\n        message: input.message,\n        source: input.ruleId ? \"jshint:\" + input.ruleId : \"jshint\",\n        severity: input.severity == 1 ? \"warning\" : \"error\",\n    };\n    if (input.fix) {\n        let { range, text } = input.fix, from = range[0] + offset.pos - start, to = range[1] + offset.pos - start;\n        result.actions = [{\n                name: \"fix\",\n                apply(view, start) {\n                    view.dispatch({ changes: { from: start + from, to: start + to, insert: text }, scrollIntoView: true });\n                }\n            }];\n    }\n    return result;\n}\n\nexport { esLint, javascript, javascriptLanguage, jsxLanguage, snippets, tsxLanguage, typescriptLanguage };\n","import { ExternalTokenizer, ContextTracker, LRParser } from '@lezer/lr';\nimport { NodeProp } from '@lezer/common';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst printKeyword = 1,\n  indent = 162,\n  dedent = 163,\n  newline$1 = 164,\n  newlineBracketed = 165,\n  newlineEmpty = 166,\n  eof = 167,\n  ParenthesizedExpression = 21,\n  ParenL = 22,\n  TupleExpression = 47,\n  ComprehensionExpression = 48,\n  ArrayExpression = 52,\n  BracketL = 53,\n  ArrayComprehensionExpression = 55,\n  DictionaryExpression = 56,\n  BraceL = 57,\n  DictionaryComprehensionExpression = 59,\n  SetExpression = 60,\n  SetComprehensionExpression = 61,\n  ArgList = 63,\n  subscript = 203,\n  FormatReplacement = 71,\n  importList = 228,\n  ParamList = 121;\n\nconst newline = 10, carriageReturn = 13, space = 32, tab = 9, hash = 35, parenOpen = 40, dot = 46;\n\nconst bracketed = [\n  ParenthesizedExpression, TupleExpression, ComprehensionExpression, importList, ArgList, ParamList,\n  ArrayExpression, ArrayComprehensionExpression, subscript,\n  SetExpression, SetComprehensionExpression,\n  DictionaryExpression, DictionaryComprehensionExpression, FormatReplacement\n];\n\nconst newlines = new ExternalTokenizer((input, stack) => {\n  if (input.next < 0) {\n    input.acceptToken(eof);\n  } else if (input.next != newline && input.next != carriageReturn) ; else if (stack.context.depth < 0) {\n    input.acceptToken(newlineBracketed, 1);\n  } else {\n    input.advance();\n    let spaces = 0;\n    while (input.next == space || input.next == tab) { input.advance(); spaces++; }\n    let empty = input.next == newline || input.next == carriageReturn || input.next == hash;\n    input.acceptToken(empty ? newlineEmpty : newline$1, -spaces);\n  }\n}, {contextual: true, fallback: true});\n\nconst indentation = new ExternalTokenizer((input, stack) => {\n  let cDepth = stack.context.depth;\n  if (cDepth < 0) return\n  let prev = input.peek(-1);\n  if ((prev == newline || prev == carriageReturn) && stack.context.depth >= 0) {\n    let depth = 0, chars = 0;\n    for (;;) {\n      if (input.next == space) depth++;\n      else if (input.next == tab) depth += 8 - (depth % 8);\n      else break\n      input.advance();\n      chars++;\n    }\n    if (depth != cDepth &&\n        input.next != newline && input.next != carriageReturn && input.next != hash) {\n      if (depth < cDepth) input.acceptToken(dedent, -chars);\n      else input.acceptToken(indent);\n    }\n  }\n});\n\nfunction IndentLevel(parent, depth) {\n  this.parent = parent;\n  // -1 means this is not an actual indent level but a set of brackets\n  this.depth = depth;\n  this.hash = (parent ? parent.hash + parent.hash << 8 : 0) + depth + (depth << 4);\n}\n\nconst topIndent = new IndentLevel(null, 0);\n\nconst trackIndent = new ContextTracker({\n  start: topIndent,\n  reduce(context, term) {\n    return context.depth < 0 && bracketed.indexOf(term) > -1 ? context.parent : context\n  },\n  shift(context, term, stack, input) {\n    if (term == indent) return new IndentLevel(context, stack.pos - input.pos)\n    if (term == dedent) return context.parent\n    if (term == ParenL || term == BracketL || term == BraceL) return new IndentLevel(context, -1)\n    return context\n  },\n  hash(context) { return context.hash }\n});\n\nconst legacyPrint = new ExternalTokenizer(input => {\n  for (let i = 0; i < 5; i++) {\n    if (input.next != \"print\".charCodeAt(i)) return\n    input.advance();\n  }\n  if (/\\w/.test(String.fromCharCode(input.next))) return\n  for (let off = 0;; off++) {\n    let next = input.peek(off);\n    if (next == space || next == tab) continue\n    if (next != parenOpen && next != dot && next != newline && next != carriageReturn && next != hash)\n      input.acceptToken(printKeyword);\n    return\n  }\n});\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,await:40, or:48, and:50, in:54, not:56, is:58, if:64, else:66, lambda:70, yield:88, from:90, async:98, for:100, None:152, True:154, False:154, del:168, pass:172, break:176, continue:180, return:184, raise:192, import:196, as:198, global:202, nonlocal:204, assert:208, elif:218, while:222, try:228, except:230, finally:232, with:236, def:240, class:250};\nconst parser = LRParser.deserialize({\n  version: 13,\n  states: \"!?pO`Q$IXOOO%cQ$I[O'#GaOOQ$IS'#Cm'#CmOOQ$IS'#Cn'#CnO'RQ$IWO'#ClO(tQ$I[O'#G`OOQ$IS'#Ga'#GaOOQ$IS'#DR'#DROOQ$IS'#G`'#G`O)bQ$IWO'#CqO)rQ$IWO'#DbO*SQ$IWO'#DfOOQ$IS'#Ds'#DsO*gO`O'#DsO*oOpO'#DsO*wO!bO'#DtO+SO#tO'#DtO+_O&jO'#DtO+jO,UO'#DtO-lQ$I[O'#GQOOQ$IS'#GQ'#GQO'RQ$IWO'#GPO/OQ$I[O'#GPOOQ$IS'#E]'#E]O/gQ$IWO'#E^OOQ$IS'#GO'#GOO/qQ$IWO'#F}OOQ$IV'#F}'#F}O/|Q$IWO'#FPOOQ$IS'#Fr'#FrO0RQ$IWO'#FOOOQ$IV'#H]'#H]OOQ$IV'#F|'#F|OOQ$IT'#FR'#FRQ`Q$IXOOO'RQ$IWO'#CoO0aQ$IWO'#CzO0hQ$IWO'#DOO0vQ$IWO'#GeO1WQ$I[O'#EQO'RQ$IWO'#EROOQ$IS'#ET'#ETOOQ$IS'#EV'#EVOOQ$IS'#EX'#EXO1lQ$IWO'#EZO2SQ$IWO'#E_O/|Q$IWO'#EaO2gQ$I[O'#EaO/|Q$IWO'#EdO/gQ$IWO'#EgO/gQ$IWO'#EkO/gQ$IWO'#EnO2rQ$IWO'#EpO2yQ$IWO'#EuO3UQ$IWO'#EqO/gQ$IWO'#EuO/|Q$IWO'#EwO/|Q$IWO'#E|OOQ$IS'#Cc'#CcOOQ$IS'#Cd'#CdOOQ$IS'#Ce'#CeOOQ$IS'#Cf'#CfOOQ$IS'#Cg'#CgOOQ$IS'#Ch'#ChOOQ$IS'#Cj'#CjO'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O'RQ$IWO,58|O3ZQ$IWO'#DmOOQ$IS,5:W,5:WO3nQ$IWO'#GoOOQ$IS,5:Z,5:ZO3{Q%1`O,5:ZO4QQ$I[O,59WO0aQ$IWO,59_O0aQ$IWO,59_O0aQ$IWO,59_O6pQ$IWO,59_O6uQ$IWO,59_O6|Q$IWO,59gO7TQ$IWO'#G`O8ZQ$IWO'#G_OOQ$IS'#G_'#G_OOQ$IS'#DX'#DXO8rQ$IWO,59]O'RQ$IWO,59]O9QQ$IWO,59]O9VQ$IWO,5:PO'RQ$IWO,5:POOQ$IS,59|,59|O9eQ$IWO,59|O9jQ$IWO,5:VO'RQ$IWO,5:VO'RQ$IWO,5:TOOQ$IS,5:Q,5:QO9{Q$IWO,5:QO:QQ$IWO,5:UOOOO'#FZ'#FZO:VO`O,5:_OOQ$IS,5:_,5:_OOOO'#F['#F[O:_OpO,5:_O:gQ$IWO'#DuOOOO'#F]'#F]O:wO!bO,5:`OOQ$IS,5:`,5:`OOOO'#F`'#F`O;SO#tO,5:`OOOO'#Fa'#FaO;_O&jO,5:`OOOO'#Fb'#FbO;jO,UO,5:`OOQ$IS'#Fc'#FcO;uQ$I[O,5:dO>gQ$I[O,5<kO?QQ%GlO,5<kO?qQ$I[O,5<kOOQ$IS,5:x,5:xO@YQ$IXO'#FkOAiQ$IWO,5;TOOQ$IV,5<i,5<iOAtQ$I[O'#HXOB]Q$IWO,5;kOOQ$IS-E9p-E9pOOQ$IV,5;j,5;jO3PQ$IWO'#EwOOQ$IT-E9P-E9POBeQ$I[O,59ZODlQ$I[O,59fOEVQ$IWO'#GbOEbQ$IWO'#GbO/|Q$IWO'#GbOEmQ$IWO'#DQOEuQ$IWO,59jOEzQ$IWO'#GfO'RQ$IWO'#GfO/gQ$IWO,5=POOQ$IS,5=P,5=PO/gQ$IWO'#D|OOQ$IS'#D}'#D}OFiQ$IWO'#FeOFyQ$IWO,58zOGXQ$IWO,58zO)eQ$IWO,5:jOG^Q$I[O'#GhOOQ$IS,5:m,5:mOOQ$IS,5:u,5:uOGqQ$IWO,5:yOHSQ$IWO,5:{OOQ$IS'#Fh'#FhOHbQ$I[O,5:{OHpQ$IWO,5:{OHuQ$IWO'#H[OOQ$IS,5;O,5;OOITQ$IWO'#HWOOQ$IS,5;R,5;RO3UQ$IWO,5;VO3UQ$IWO,5;YOIfQ$I[O'#H^O'RQ$IWO'#H^OIpQ$IWO,5;[O2rQ$IWO,5;[O/gQ$IWO,5;aO/|Q$IWO,5;cOIuQ$IXO'#ElOKOQ$IZO,5;]ONaQ$IWO'#H_O3UQ$IWO,5;aONlQ$IWO,5;cONqQ$IWO,5;hO!#fQ$I[O1G.hO!#mQ$I[O1G.hO!&^Q$I[O1G.hO!&hQ$I[O1G.hO!)RQ$I[O1G.hO!)fQ$I[O1G.hO!)yQ$IWO'#GnO!*XQ$I[O'#GQO/gQ$IWO'#GnO!*cQ$IWO'#GmOOQ$IS,5:X,5:XO!*kQ$IWO,5:XO!*pQ$IWO'#GpO!*{Q$IWO'#GpO!+`Q$IWO,5=ZOOQ$IS'#Dq'#DqOOQ$IS1G/u1G/uOOQ$IS1G.y1G.yO!,`Q$I[O1G.yO!,gQ$I[O1G.yO0aQ$IWO1G.yO!-SQ$IWO1G/ROOQ$IS'#DW'#DWO/gQ$IWO,59qOOQ$IS1G.w1G.wO!-ZQ$IWO1G/cO!-kQ$IWO1G/cO!-sQ$IWO1G/dO'RQ$IWO'#GgO!-xQ$IWO'#GgO!-}Q$I[O1G.wO!._Q$IWO,59fO!/eQ$IWO,5=VO!/uQ$IWO,5=VO!/}Q$IWO1G/kO!0SQ$I[O1G/kOOQ$IS1G/h1G/hO!0dQ$IWO,5=QO!1ZQ$IWO,5=QO/gQ$IWO1G/oO!1xQ$IWO1G/qO!1}Q$I[O1G/qO!2_Q$I[O1G/oOOQ$IS1G/l1G/lOOQ$IS1G/p1G/pOOOO-E9X-E9XOOQ$IS1G/y1G/yOOOO-E9Y-E9YO!2oQ$IWO'#G{O/gQ$IWO'#G{O!2}Q$IWO,5:aOOOO-E9Z-E9ZOOQ$IS1G/z1G/zOOOO-E9^-E9^OOOO-E9_-E9_OOOO-E9`-E9`OOQ$IS-E9a-E9aO!3YQ%GlO1G2VO!3yQ$I[O1G2VO'RQ$IWO,5<OOOQ$IS,5<O,5<OOOQ$IS-E9b-E9bOOQ$IS,5<V,5<VOOQ$IS-E9i-E9iOOQ$IV1G0o1G0oO/|Q$IWO'#FgO!4bQ$I[O,5=sOOQ$IS1G1V1G1VO!4yQ$IWO1G1VOOQ$IS'#DS'#DSO/gQ$IWO,5<|OOQ$IS,5<|,5<|O!5OQ$IWO'#FSO!5ZQ$IWO,59lO!5cQ$IWO1G/UO!5mQ$I[O,5=QOOQ$IS1G2k1G2kOOQ$IS,5:h,5:hO!6^Q$IWO'#GPOOQ$IS,5<P,5<POOQ$IS-E9c-E9cO!6oQ$IWO1G.fOOQ$IS1G0U1G0UO!6}Q$IWO,5=SO!7_Q$IWO,5=SO/gQ$IWO1G0eO/gQ$IWO1G0eO/|Q$IWO1G0gOOQ$IS-E9f-E9fO!7pQ$IWO1G0gO!7{Q$IWO1G0gO!8QQ$IWO,5=vO!8`Q$IWO,5=vO!8nQ$IWO,5=rO!9UQ$IWO,5=rO!9gQ$IZO1G0qO!<uQ$IZO1G0tO!@QQ$IWO,5=xO!@[Q$IWO,5=xO!@dQ$I[O,5=xO/gQ$IWO1G0vO!@nQ$IWO1G0vO3UQ$IWO1G0{ONlQ$IWO1G0}OOQ$IV,5;W,5;WO!@sQ$IYO,5;WO!@xQ$IZO1G0wO!DZQ$IWO'#FoO3UQ$IWO1G0wO3UQ$IWO1G0wO!DhQ$IWO,5=yO!DuQ$IWO,5=yO/|Q$IWO,5=yOOQ$IV1G0{1G0{O!D}Q$IWO'#EyO!E`Q%1`O1G0}OOQ$IV1G1S1G1SO3UQ$IWO1G1SOOQ$IS,5=Y,5=YOOQ$IS'#Dn'#DnO/gQ$IWO,5=YO!EhQ$IWO,5=XO!E{Q$IWO,5=XOOQ$IS1G/s1G/sO!FTQ$IWO,5=[O!FeQ$IWO,5=[O!FmQ$IWO,5=[O!GQQ$IWO,5=[O!GbQ$IWO,5=[OOQ$IS1G2u1G2uOOQ$IS7+$e7+$eO!5cQ$IWO7+$mO!ITQ$IWO1G.yO!I[Q$IWO1G.yOOQ$IS1G/]1G/]OOQ$IS,5;p,5;pO'RQ$IWO,5;pOOQ$IS7+$}7+$}O!IcQ$IWO7+$}OOQ$IS-E9S-E9SOOQ$IS7+%O7+%OO!IsQ$IWO,5=RO'RQ$IWO,5=ROOQ$IS7+$c7+$cO!IxQ$IWO7+$}O!JQQ$IWO7+%OO!JVQ$IWO1G2qOOQ$IS7+%V7+%VO!JgQ$IWO1G2qO!JoQ$IWO7+%VOOQ$IS,5;o,5;oO'RQ$IWO,5;oO!JtQ$IWO1G2lOOQ$IS-E9R-E9RO!KkQ$IWO7+%ZOOQ$IS7+%]7+%]O!KyQ$IWO1G2lO!LhQ$IWO7+%]O!LmQ$IWO1G2rO!L}Q$IWO1G2rO!MVQ$IWO7+%ZO!M[Q$IWO,5=gO!MrQ$IWO,5=gO!MrQ$IWO,5=gO!NQO!LQO'#DwO!N]OSO'#G|OOOO1G/{1G/{O!NbQ$IWO1G/{O!NjQ%GlO7+'qO# ZQ$I[O1G1jP# tQ$IWO'#FdOOQ$IS,5<R,5<ROOQ$IS-E9e-E9eOOQ$IS7+&q7+&qOOQ$IS1G2h1G2hOOQ$IS,5;n,5;nOOQ$IS-E9Q-E9QOOQ$IS7+$p7+$pO#!RQ$IWO,5<kO#!lQ$IWO,5<kO#!}Q$I[O,5;qO##bQ$IWO1G2nOOQ$IS-E9T-E9TOOQ$IS7+&P7+&PO##rQ$IWO7+&POOQ$IS7+&R7+&RO#$QQ$IWO'#HZO/|Q$IWO'#HYO#$fQ$IWO7+&ROOQ$IS,5<U,5<UO#$qQ$IWO1G3bOOQ$IS-E9h-E9hOOQ$IS,5<Q,5<QO#%PQ$IWO1G3^OOQ$IS-E9d-E9dO#%gQ$IZO7+&]O!DZQ$IWO'#FmO3UQ$IWO7+&]O3UQ$IWO7+&`O#(uQ$I[O,5<YO'RQ$IWO,5<YO#)PQ$IWO1G3dOOQ$IS-E9l-E9lO#)ZQ$IWO1G3dO3UQ$IWO7+&bO/gQ$IWO7+&bOOQ$IV7+&g7+&gO!E`Q%1`O7+&iO#)cQ$IXO1G0rOOQ$IV-E9m-E9mO3UQ$IWO7+&cO3UQ$IWO7+&cOOQ$IV,5<Z,5<ZO#+UQ$IWO,5<ZOOQ$IV7+&c7+&cO#+aQ$IZO7+&cO#.lQ$IWO,5<[O#.wQ$IWO1G3eOOQ$IS-E9n-E9nO#/UQ$IWO1G3eO#/^Q$IWO'#HaO#/lQ$IWO'#HaO/|Q$IWO'#HaOOQ$IS'#Ha'#HaO#/wQ$IWO'#H`OOQ$IS,5;e,5;eO#0PQ$IWO,5;eO/gQ$IWO'#E{OOQ$IV7+&i7+&iO3UQ$IWO7+&iOOQ$IV7+&n7+&nOOQ$IS1G2t1G2tOOQ$IS,5;s,5;sO#0UQ$IWO1G2sOOQ$IS-E9V-E9VO#0iQ$IWO,5;tO#0tQ$IWO,5;tO#1XQ$IWO1G2vOOQ$IS-E9W-E9WO#1iQ$IWO1G2vO#1qQ$IWO1G2vO#2RQ$IWO1G2vO#1iQ$IWO1G2vOOQ$IS<<HX<<HXO#2^Q$I[O1G1[OOQ$IS<<Hi<<HiP#2kQ$IWO'#FUO6|Q$IWO1G2mO#2xQ$IWO1G2mO#2}Q$IWO<<HiOOQ$IS<<Hj<<HjO#3_Q$IWO7+(]OOQ$IS<<Hq<<HqO#3oQ$I[O1G1ZP#4`Q$IWO'#FTO#4mQ$IWO7+(^O#4}Q$IWO7+(^O#5VQ$IWO<<HuO#5[Q$IWO7+(WOOQ$IS<<Hw<<HwO#6RQ$IWO,5;rO'RQ$IWO,5;rOOQ$IS-E9U-E9UOOQ$IS<<Hu<<HuOOQ$IS,5;x,5;xO/gQ$IWO,5;xO#6WQ$IWO1G3ROOQ$IS-E9[-E9[O#6nQ$IWO1G3ROOOO'#F_'#F_O#6|O!LQO,5:cOOOO,5=h,5=hOOOO7+%g7+%gO#7XQ$IWO1G2VO#7rQ$IWO1G2VP'RQ$IWO'#FVO/gQ$IWO<<IkO#8TQ$IWO,5=uO#8fQ$IWO,5=uO/|Q$IWO,5=uO#8wQ$IWO,5=tOOQ$IS<<Im<<ImP/|Q$IWO'#FjP/gQ$IWO'#FfOOQ$IV-E9k-E9kO3UQ$IWO<<IwOOQ$IV,5<X,5<XO3UQ$IWO,5<XOOQ$IV<<Iw<<IwOOQ$IV<<Iz<<IzO#8|Q$I[O1G1tP#9WQ$IWO'#FnO#9_Q$IWO7+)OO#9iQ$IZO<<I|O3UQ$IWO<<I|OOQ$IV<<JT<<JTO3UQ$IWO<<JTOOQ$IV'#Fl'#FlO#<tQ$IZO7+&^OOQ$IV<<I}<<I}O#>mQ$IZO<<I}OOQ$IV1G1u1G1uO/|Q$IWO1G1uO3UQ$IWO<<I}O/|Q$IWO1G1vP/gQ$IWO'#FpO#AxQ$IWO7+)PO#BVQ$IWO7+)POOQ$IS'#Ez'#EzO/gQ$IWO,5={O#B_Q$IWO,5={OOQ$IS,5={,5={O#BjQ$IWO,5=zO#B{Q$IWO,5=zOOQ$IS1G1P1G1POOQ$IS,5;g,5;gP#CTQ$IWO'#FXO#CeQ$IWO1G1`O#CxQ$IWO1G1`O#DYQ$IWO1G1`P#DeQ$IWO'#FYO#DrQ$IWO7+(bO#ESQ$IWO7+(bO#ESQ$IWO7+(bO#E[Q$IWO7+(bO#ElQ$IWO7+(XO6|Q$IWO7+(XOOQ$ISAN>TAN>TO#FVQ$IWO<<KxOOQ$ISAN>aAN>aO/gQ$IWO1G1^O#FgQ$I[O1G1^P#FqQ$IWO'#FWOOQ$IS1G1d1G1dP#GOQ$IWO'#F^O#G]Q$IWO7+(mOOOO-E9]-E9]O#GsQ$IWO7+'qOOQ$ISAN?VAN?VO#H^Q$IWO,5<TO#HrQ$IWO1G3aOOQ$IS-E9g-E9gO#ITQ$IWO1G3aOOQ$IS1G3`1G3`OOQ$IVAN?cAN?cOOQ$IV1G1s1G1sO3UQ$IWOAN?hO#IfQ$IZOAN?hOOQ$IVAN?oAN?oOOQ$IV-E9j-E9jOOQ$IV<<Ix<<IxO3UQ$IWOAN?iO3UQ$IWO7+'aOOQ$IVAN?iAN?iOOQ$IS7+'b7+'bO#LqQ$IWO<<LkOOQ$IS1G3g1G3gO/gQ$IWO1G3gOOQ$IS,5<],5<]O#MOQ$IWO1G3fOOQ$IS-E9o-E9oO#MaQ$IWO7+&zO#MqQ$IWO7+&zOOQ$IS7+&z7+&zO#M|Q$IWO<<K|O#N^Q$IWO<<K|O#N^Q$IWO<<K|O#NfQ$IWO'#GiOOQ$IS<<Ks<<KsO#NpQ$IWO<<KsOOQ$IS7+&x7+&xO/|Q$IWO1G1oP/|Q$IWO'#FiO$ ZQ$IWO7+({O$ lQ$IWO7+({OOQ$IVG25SG25SO3UQ$IWOG25SOOQ$IVG25TG25TOOQ$IV<<J{<<J{OOQ$IS7+)R7+)RP$ }Q$IWO'#FqOOQ$IS<<Jf<<JfO$!]Q$IWO<<JfO$!mQ$IWOANAhO$!}Q$IWOANAhO$#VQ$IWO'#GjOOQ$IS'#Gj'#GjO0hQ$IWO'#DaO$#pQ$IWO,5=TOOQ$ISANA_ANA_OOQ$IS7+'Z7+'ZO$$XQ$IWO<<LgOOQ$IVLD*nLD*nOOQ$ISAN@QAN@QO$$jQ$IWOG27SO$$zQ$IWO,59{OOQ$IS1G2o1G2oO#NfQ$IWO1G/gOOQ$IS7+%R7+%RO6|Q$IWO'#CzO6|Q$IWO,59_O6|Q$IWO,59_O6|Q$IWO,59_O$%PQ$I[O,5<kO6|Q$IWO1G.yO/gQ$IWO1G/UO/gQ$IWO7+$mP$%dQ$IWO'#FdO'RQ$IWO'#GPO$%qQ$IWO,59_O$%vQ$IWO,59_O$%}Q$IWO,59jO$&SQ$IWO1G/RO0hQ$IWO'#DOO6|Q$IWO,59g\",\n  stateData: \"$&j~O$oOS$lOS$kOSQOS~OPhOTeOdsOfXOltOp!SOsuO|vO}!PO!R!VO!S!UO!VYO!ZZO!fdO!mdO!ndO!odO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO$jqO$zQO${QO%PRO%QVO%f[O%g]O%j^O%m_O%s`O%vaO%xbO~OT!aO]!aO_!bOf!iO!V!kO!d!mO$u![O$v!]O$w!^O$x!_O$y!_O$z!`O${!`O$|!aO$}!aO%O!aO~Oh%TXi%TXj%TXk%TXl%TXm%TXp%TXw%TXx%TX!s%TX#^%TX$j%TX$m%TX%V%TX!O%TX!R%TX!S%TX%W%TX!W%TX![%TX}%TX#V%TXq%TX!j%TX~P$_OdsOfXO!VYO!ZZO!fdO!mdO!ndO!odO$zQO${QO%PRO%QVO%f[O%g]O%j^O%m_O%s`O%vaO%xbO~Ow%SXx%SX#^%SX$j%SX$m%SX%V%SX~Oh!pOi!qOj!oOk!oOl!rOm!sOp!tO!s%SX~P(`OT!zOl-dOs-rO|vO~P'ROT!}Ol-dOs-rO!W#OO~P'ROT#RO_#SOl-dOs-rO![#TO~P'RO%h#WO%i#YO~O%k#ZO%l#YO~O!Z#]O%n#^O%r#`O~O!Z#]O%t#aO%u#`O~O!Z#]O%i#`O%w#cO~O!Z#]O%l#`O%y#eO~OT$tX]$tX_$tXf$tXh$tXi$tXj$tXk$tXl$tXm$tXp$tXw$tX!V$tX!d$tX$u$tX$v$tX$w$tX$x$tX$y$tX$z$tX${$tX$|$tX$}$tX%O$tX!O$tX!R$tX!S$tX~O%f[O%g]O%j^O%m_O%s`O%vaO%xbOx$tX!s$tX#^$tX$j$tX$m$tX%V$tX%W$tX!W$tX![$tX}$tX#V$tXq$tX!j$tX~P+uOw#jOx$sX!s$sX#^$sX$j$sX$m$sX%V$sX~Ol-dOs-rO~P'RO#^#mO$j#oO$m#oO~O%QVO~O!R#tO#l!YO#q!ZO#tlO~OltO~P'ROT#yO_#zO%QVOxtP~OT$OOl-dOs-rO}$PO~P'ROx$RO!s$WO%V$SO#^!tX$j!tX$m!tX~OT$OOl-dOs-rO#^!}X$j!}X$m!}X~P'ROl-dOs-rO#^#RX$j#RX$m#RX~P'RO!d$^O!m$^O%QVO~OT$hO~P'RO!S$jO#j$kO#l$lO~Ox$mO~OT${O_${Ol-dOs-rO!O$}O~P'ROl-dOs-rOx%QO~P'RO%e%SO~O_!bOf!iO!V!kO!d!mOT`a]`ah`ai`aj`ak`al`am`ap`aw`ax`a!s`a#^`a$j`a$m`a$u`a$v`a$w`a$x`a$y`a$z`a${`a$|`a$}`a%O`a%V`a!O`a!R`a!S`a%W`a!W`a![`a}`a#V`aq`a!j`a~Ok%XO~Ol%XO~P'ROl-dO~P'ROh-fOi-gOj-eOk-eOl-nOm-oOp-sO!O%SX!R%SX!S%SX%W%SX!W%SX![%SX}%SX#V%SX!j%SX~P(`O%W%ZOw%RX!O%RX!R%RX!S%RX!W%RXx%RX~Ow%^O!O%]O!R%bO!S%aO~O!O%]O~Ow%eO!R%bO!S%aO!W%_X~O!W%iO~Ow%jOx%lO!R%bO!S%aO![%YX~O![%pO~O![%qO~O%h#WO%i%sO~O%k#ZO%l%sO~OT%vOl-dOs-rO|vO~P'RO!Z#]O%n#^O%r%yO~O!Z#]O%t#aO%u%yO~O!Z#]O%i%yO%w#cO~O!Z#]O%l%yO%y#eO~OT!la]!la_!laf!lah!lai!laj!lak!lal!lam!lap!law!lax!la!V!la!d!la!s!la#^!la$j!la$m!la$u!la$v!la$w!la$x!la$y!la$z!la${!la$|!la$}!la%O!la%V!la!O!la!R!la!S!la%W!la!W!la![!la}!la#V!laq!la!j!la~P#vOw&OOx$sa!s$sa#^$sa$j$sa$m$sa%V$sa~P$_OT&QOltOsuOx$sa!s$sa#^$sa$j$sa$m$sa%V$sa~P'ROw&OOx$sa!s$sa#^$sa$j$sa$m$sa%V$sa~OPhOTeOltOsuO|vO}!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#^$_X$j$_X$m$_X~P'RO#^#mO$j&VO$m&VO~O!d&WOf%{X$j%{X#V%{X#^%{X$m%{X#U%{X~Of!iO$j&YO~Ohcaicajcakcalcamcapcawcaxca!sca#^ca$jca$mca%Vca!Oca!Rca!Sca%Wca!Wca![ca}ca#Vcaqca!jca~P$_Opnawnaxna#^na$jna$mna%Vna~Oh!pOi!qOj!oOk!oOl!rOm!sO!sna~PDTO%V&[Ow%UXx%UX~O%QVOw%UXx%UX~Ow&_OxtX~Ox&aO~Ow%jO#^%YX$j%YX$m%YX!O%YXx%YX![%YX!j%YX%V%YX~OT-mOl-dOs-rO|vO~P'RO%V$SO#^Sa$jSa$mSa~O%V$SO~Ow&jO#^%[X$j%[X$m%[Xk%[X~P$_Ow&mO}&lO#^#Ra$j#Ra$m#Ra~O#V&nO#^#Ta$j#Ta$m#Ta~O!d$^O!m$^O#U&pO%QVO~O#U&pO~Ow&rO#^&OX$j&OX$m&OX~Ow&tO#^%zX$j%zX$m%zXx%zX~Ow&xOk&QX~P$_Ok&{O~OPhOTeOltOsuO|vO}!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO$j'QO~P'ROq'UO#g'SO#h'TOP#eaT#ead#eaf#eal#eap#eas#ea|#ea}#ea!R#ea!S#ea!V#ea!Z#ea!f#ea!m#ea!n#ea!o#ea!v#ea!x#ea!z#ea!|#ea#O#ea#S#ea#U#ea#X#ea#Y#ea#[#ea#c#ea#f#ea#j#ea#l#ea#q#ea#t#ea$g#ea$j#ea$z#ea${#ea%P#ea%Q#ea%f#ea%g#ea%j#ea%m#ea%s#ea%v#ea%x#ea$i#ea$m#ea~Ow'VO#V'XOx&RX~Of'ZO~Of!iOx$mO~OT!aO]!aO_!bOf!iO!V!kO!d!mO$w!^O$x!_O$y!_O$z!`O${!`O$|!aO$}!aO%O!aOhUiiUijUikUilUimUipUiwUixUi!sUi#^Ui$jUi$mUi$uUi%VUi!OUi!RUi!SUi%WUi!WUi![Ui}Ui#VUiqUi!jUi~O$v!]O~PNyO$vUi~PNyOT!aO]!aO_!bOf!iO!V!kO!d!mO$z!`O${!`O$|!aO$}!aO%O!aOhUiiUijUikUilUimUipUiwUixUi!sUi#^Ui$jUi$mUi$uUi$vUi$wUi%VUi!OUi!RUi!SUi%WUi!WUi![Ui}Ui#VUiqUi!jUi~O$x!_O$y!_O~P!#tO$xUi$yUi~P!#tO_!bOf!iO!V!kO!d!mOhUiiUijUikUilUimUipUiwUixUi!sUi#^Ui$jUi$mUi$uUi$vUi$wUi$xUi$yUi$zUi${Ui%VUi!OUi!RUi!SUi%WUi!WUi![Ui}Ui#VUiqUi!jUi~OT!aO]!aO$|!aO$}!aO%O!aO~P!&rOTUi]Ui$|Ui$}Ui%OUi~P!&rO!R%bO!S%aOw%bX!O%bX~O%V'`O%W'`O~P+uOw'bO!O%aX~O!O'dO~Ow'eOx'gO!W%dX~Ol-dOs-rOw'eOx'hO!W%dX~P'RO!W'jO~Oj!oOk!oOl!rOm!sOhgipgiwgixgi!sgi#^gi$jgi$mgi%Vgi~Oi!qO~P!+eOigi~P!+eOh-fOi-gOj-eOk-eOl-nOm-oO~Oq'lO~P!,nOT'qOl-dOs-rO!O'rO~P'ROw'sO!O'rO~O!O'uO~O!S'wO~Ow'sO!O'xO!R%bO!S%aO~P$_Oh-fOi-gOj-eOk-eOl-nOm-oO!Ona!Rna!Sna%Wna!Wna![na}na#Vnaqna!jna~PDTOT'qOl-dOs-rO!W%_a~P'ROw'{O!W%_a~O!W'|O~Ow'{O!R%bO!S%aO!W%_a~P$_OT(QOl-dOs-rO![%Ya#^%Ya$j%Ya$m%Ya!O%Yax%Ya!j%Ya%V%Ya~P'ROw(RO![%Ya#^%Ya$j%Ya$m%Ya!O%Yax%Ya!j%Ya%V%Ya~O![(UO~Ow(RO!R%bO!S%aO![%Ya~P$_Ow(XO!R%bO!S%aO![%`a~P$_Ow([Ox%oX![%oX!j%oX~Ox(_O![(aO!j(bO~OT&QOltOsuOx$si!s$si#^$si$j$si$m$si%V$si~P'ROw(cOx$si!s$si#^$si$j$si$m$si%V$si~O!d&WOf%{a$j%{a#V%{a#^%{a$m%{a#U%{a~O$j(hO~OT#yO_#zO%QVO~Ow&_Oxta~OltOsuO~P'ROw(RO#^%Ya$j%Ya$m%Ya!O%Yax%Ya![%Ya!j%Ya%V%Ya~P$_Ow(mO#^$sX$j$sX$m$sX%V$sX~O%V$SO#^Si$jSi$mSi~O#^%[a$j%[a$m%[ak%[a~P'ROw(pO#^%[a$j%[a$m%[ak%[a~OT(tOf(vO%QVO~O#U(wO~O%QVO#^&Oa$j&Oa$m&Oa~Ow(yO#^&Oa$j&Oa$m&Oa~Ol-dOs-rO#^%za$j%za$m%zax%za~P'ROw(|O#^%za$j%za$m%zax%za~Oq)QO#a)POP#_iT#_id#_if#_il#_ip#_is#_i|#_i}#_i!R#_i!S#_i!V#_i!Z#_i!f#_i!m#_i!n#_i!o#_i!v#_i!x#_i!z#_i!|#_i#O#_i#S#_i#U#_i#X#_i#Y#_i#[#_i#c#_i#f#_i#j#_i#l#_i#q#_i#t#_i$g#_i$j#_i$z#_i${#_i%P#_i%Q#_i%f#_i%g#_i%j#_i%m#_i%s#_i%v#_i%x#_i$i#_i$m#_i~Oq)ROP#biT#bid#bif#bil#bip#bis#bi|#bi}#bi!R#bi!S#bi!V#bi!Z#bi!f#bi!m#bi!n#bi!o#bi!v#bi!x#bi!z#bi!|#bi#O#bi#S#bi#U#bi#X#bi#Y#bi#[#bi#c#bi#f#bi#j#bi#l#bi#q#bi#t#bi$g#bi$j#bi$z#bi${#bi%P#bi%Q#bi%f#bi%g#bi%j#bi%m#bi%s#bi%v#bi%x#bi$i#bi$m#bi~OT)TOk&Qa~P'ROw)UOk&Qa~Ow)UOk&Qa~P$_Ok)YO~O$h)]O~Oq)`O#g'SO#h)_OP#eiT#eid#eif#eil#eip#eis#ei|#ei}#ei!R#ei!S#ei!V#ei!Z#ei!f#ei!m#ei!n#ei!o#ei!v#ei!x#ei!z#ei!|#ei#O#ei#S#ei#U#ei#X#ei#Y#ei#[#ei#c#ei#f#ei#j#ei#l#ei#q#ei#t#ei$g#ei$j#ei$z#ei${#ei%P#ei%Q#ei%f#ei%g#ei%j#ei%m#ei%s#ei%v#ei%x#ei$i#ei$m#ei~Ol-dOs-rOx$mO~P'ROl-dOs-rOx&Ra~P'ROw)fOx&Ra~OT)jO_)kO!O)nO$|)lO%QVO~Ox$mO&U)pO~OT${O_${Ol-dOs-rO!O%aa~P'ROw)vO!O%aa~Ol-dOs-rOx)yO!W%da~P'ROw)zO!W%da~Ol-dOs-rOw)zOx)}O!W%da~P'ROl-dOs-rOw)zO!W%da~P'ROw)zOx)}O!W%da~Oj-eOk-eOl-nOm-oOhgipgiwgi!Ogi!Rgi!Sgi%Wgi!Wgixgi![gi#^gi$jgi$mgi}gi#Vgiqgi!jgi%Vgi~Oi-gO~P!GmOigi~P!GmOT'qOl-dOs-rO!O*SO~P'ROk*UO~Ow*WO!O*SO~O!O*XO~OT'qOl-dOs-rO!W%_i~P'ROw*YO!W%_i~O!W*ZO~OT(QOl-dOs-rO![%Yi#^%Yi$j%Yi$m%Yi!O%Yix%Yi!j%Yi%V%Yi~P'ROw*^O!R%bO!S%aO![%`i~Ow*aO![%Yi#^%Yi$j%Yi$m%Yi!O%Yix%Yi!j%Yi%V%Yi~O![*bO~O_*dOl-dOs-rO![%`i~P'ROw*^O![%`i~O![*fO~OT*hOl-dOs-rOx%oa![%oa!j%oa~P'ROw*iOx%oa![%oa!j%oa~O!Z#]O%q*lO![!kX~O![*nO~Ox(_O![*oO~OT&QOltOsuOx$sq!s$sq#^$sq$j$sq$m$sq%V$sq~P'ROw$Wix$Wi!s$Wi#^$Wi$j$Wi$m$Wi%V$Wi~P$_OT&QOltOsuO~P'ROT&QOl-dOs-rO#^$sa$j$sa$m$sa%V$sa~P'ROw*pO#^$sa$j$sa$m$sa%V$sa~Ow#ya#^#ya$j#ya$m#yak#ya~P$_O#^%[i$j%[i$m%[ik%[i~P'ROw*sO#^#Rq$j#Rq$m#Rq~Ow*tO#V*vO#^%}X$j%}X$m%}X!O%}X~OT*xOf(vO%QVO~O%QVO#^&Oi$j&Oi$m&Oi~Ol-dOs-rO#^%zi$j%zi$m%zix%zi~P'ROq*|O#a)POP#_qT#_qd#_qf#_ql#_qp#_qs#_q|#_q}#_q!R#_q!S#_q!V#_q!Z#_q!f#_q!m#_q!n#_q!o#_q!v#_q!x#_q!z#_q!|#_q#O#_q#S#_q#U#_q#X#_q#Y#_q#[#_q#c#_q#f#_q#j#_q#l#_q#q#_q#t#_q$g#_q$j#_q$z#_q${#_q%P#_q%Q#_q%f#_q%g#_q%j#_q%m#_q%s#_q%v#_q%x#_q$i#_q$m#_q~Ok$baw$ba~P$_OT)TOk&Qi~P'ROw+TOk&Qi~OPhOTeOltOp!SOsuO|vO}!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO~P'ROw+_Ox$mO#V+_O~O#h+`OP#eqT#eqd#eqf#eql#eqp#eqs#eq|#eq}#eq!R#eq!S#eq!V#eq!Z#eq!f#eq!m#eq!n#eq!o#eq!v#eq!x#eq!z#eq!|#eq#O#eq#S#eq#U#eq#X#eq#Y#eq#[#eq#c#eq#f#eq#j#eq#l#eq#q#eq#t#eq$g#eq$j#eq$z#eq${#eq%P#eq%Q#eq%f#eq%g#eq%j#eq%m#eq%s#eq%v#eq%x#eq$i#eq$m#eq~O#V+aOw$dax$da~Ol-dOs-rOx&Ri~P'ROw+cOx&Ri~Ox$RO%V+eOw&TX!O&TX~O%QVOw&TX!O&TX~Ow+iO!O&SX~O!O+kO~OT${O_${Ol-dOs-rO!O%ai~P'ROx+nOw#|a!W#|a~Ol-dOs-rOx+oOw#|a!W#|a~P'ROl-dOs-rOx)yO!W%di~P'ROw+rO!W%di~Ol-dOs-rOw+rO!W%di~P'ROw+rOx+uO!W%di~Ow#xi!O#xi!W#xi~P$_OT'qOl-dOs-rO~P'ROk+wO~OT'qOl-dOs-rO!O+xO~P'ROT'qOl-dOs-rO!W%_q~P'ROw#wi![#wi#^#wi$j#wi$m#wi!O#wix#wi!j#wi%V#wi~P$_OT(QOl-dOs-rO~P'RO_*dOl-dOs-rO![%`q~P'ROw+yO![%`q~O![+zO~OT(QOl-dOs-rO![%Yq#^%Yq$j%Yq$m%Yq!O%Yqx%Yq!j%Yq%V%Yq~P'ROx+{O~OT*hOl-dOs-rOx%oi![%oi!j%oi~P'ROw,QOx%oi![%oi!j%oi~O!Z#]O%q*lO![!ka~OT&QOl-dOs-rO#^$si$j$si$m$si%V$si~P'ROw,SO#^$si$j$si$m$si%V$si~O%QVO#^%}a$j%}a$m%}a!O%}a~Ow,VO#^%}a$j%}a$m%}a!O%}a~O!O,YO~Ok$biw$bi~P$_OT)TO~P'ROT)TOk&Qq~P'ROq,]OP#dyT#dyd#dyf#dyl#dyp#dys#dy|#dy}#dy!R#dy!S#dy!V#dy!Z#dy!f#dy!m#dy!n#dy!o#dy!v#dy!x#dy!z#dy!|#dy#O#dy#S#dy#U#dy#X#dy#Y#dy#[#dy#c#dy#f#dy#j#dy#l#dy#q#dy#t#dy$g#dy$j#dy$z#dy${#dy%P#dy%Q#dy%f#dy%g#dy%j#dy%m#dy%s#dy%v#dy%x#dy$i#dy$m#dy~OPhOTeOltOp!SOsuO|vO}!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO$i,aO$m,aO~P'RO#h,bOP#eyT#eyd#eyf#eyl#eyp#eys#ey|#ey}#ey!R#ey!S#ey!V#ey!Z#ey!f#ey!m#ey!n#ey!o#ey!v#ey!x#ey!z#ey!|#ey#O#ey#S#ey#U#ey#X#ey#Y#ey#[#ey#c#ey#f#ey#j#ey#l#ey#q#ey#t#ey$g#ey$j#ey$z#ey${#ey%P#ey%Q#ey%f#ey%g#ey%j#ey%m#ey%s#ey%v#ey%x#ey$i#ey$m#ey~Ol-dOs-rOx&Rq~P'ROw,fOx&Rq~O%V+eOw&Ta!O&Ta~OT)jO_)kO$|)lO%QVO!O&Sa~Ow,jO!O&Sa~OT${O_${Ol-dOs-rO~P'ROl-dOs-rOx,lOw#|i!W#|i~P'ROl-dOs-rOw#|i!W#|i~P'ROx,lOw#|i!W#|i~Ol-dOs-rOx)yO~P'ROl-dOs-rOx)yO!W%dq~P'ROw,oO!W%dq~Ol-dOs-rOw,oO!W%dq~P'ROp,rO!R%bO!S%aO!O%Zq!W%Zq![%Zqw%Zq~P!,nO_*dOl-dOs-rO![%`y~P'ROw#zi![#zi~P$_O_*dOl-dOs-rO~P'ROT*hOl-dOs-rO~P'ROT*hOl-dOs-rOx%oq![%oq!j%oq~P'ROT&QOl-dOs-rO#^$sq$j$sq$m$sq%V$sq~P'RO#V,vOw$]a#^$]a$j$]a$m$]a!O$]a~O%QVO#^%}i$j%}i$m%}i!O%}i~Ow,xO#^%}i$j%}i$m%}i!O%}i~Oq,{OP#d!RT#d!Rd#d!Rf#d!Rl#d!Rp#d!Rs#d!R|#d!R}#d!R!R#d!R!S#d!R!V#d!R!Z#d!R!f#d!R!m#d!R!n#d!R!o#d!R!v#d!R!x#d!R!z#d!R!|#d!R#O#d!R#S#d!R#U#d!R#X#d!R#Y#d!R#[#d!R#c#d!R#f#d!R#j#d!R#l#d!R#q#d!R#t#d!R$g#d!R$j#d!R$z#d!R${#d!R%P#d!R%Q#d!R%f#d!R%g#d!R%j#d!R%m#d!R%s#d!R%v#d!R%x#d!R$i#d!R$m#d!R~Ol-dOs-rOx&Ry~P'ROT)jO_)kO$|)lO%QVO!O&Si~Ol-dOs-rOw#|q!W#|q~P'ROx-ROw#|q!W#|q~Ol-dOs-rOx)yO!W%dy~P'ROw-SO!W%dy~Ol-dOs-WO~P'ROp,rO!R%bO!S%aO!O%Zy!W%Zy![%Zyw%Zy~P!,nO%QVO#^%}q$j%}q$m%}q!O%}q~Ow-[O#^%}q$j%}q$m%}q!O%}q~OT)jO_)kO$|)lO%QVO~Ol-dOs-rOw#|y!W#|y~P'ROl-dOs-rOx)yO!W%d!R~P'ROw-_O!W%d!R~Op%^X!O%^X!R%^X!S%^X!W%^X![%^Xw%^X~P!,nOp,rO!R%bO!S%aO!O%]a!W%]a![%]aw%]a~O%QVO#^%}y$j%}y$m%}y!O%}y~Ol-dOs-rOx)yO!W%d!Z~P'ROx-bO~Ow*pO#^$sa$j$sa$m$sa%V$sa~P$_OT&QOl-dOs-rO~P'ROk-iO~Ol-iO~P'ROx-jO~Oq-kO~P!,nO%g%j%v%x%f!Z%n%t%w%y%m%s%m%Q~\",\n  goto: \"!-g&UPPPP&VP&_)p*V*m+U+n,XP,sP&_-a-a&_P&_P0rPPPPPP0r3bPP3bP5n5w:zPP:};];`PPP&_&_PP;l&_PP&_&_PP&_&_&_&_;p<d&_P<gP<j<j@PP@e&_PPP@i@o&VP&V&VP&VP&VP&VP&VP&V&V&VP&VPP&VPP&VP@uP@|ASP@|P@|@|PPP@|PB{PCUC[CbB{P@|ChPCoCuC{DXDkDqD{EREoEuE{FRF]FcFiFoFuF{G_GiGoGuG{HVH]HcHiHoHyIPIZIaPPPPPPPPPIjIrI{JVJbPPPPPPPPPPPPNw! a!%o!({PP!)T!)c!)l!*b!*X!*k!*q!*t!*w!*z!+S!+pPPPPPPPPPP!+s!+vPPPPPPPPP!+|!,Y!,f!,l!,u!,x!-O!-U!-[!-_]iOr#m$m)]+Z'odOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'b'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-sw!cP#i#v$X$g%c%h%n%o&b&z(d(o)S*R*[+R+|-hy!dP#i#v$X$g$s%c%h%n%o&b&z(d(o)S*R*[+R+|-h{!eP#i#v$X$g$s$t%c%h%n%o&b&z(d(o)S*R*[+R+|-h}!fP#i#v$X$g$s$t$u%c%h%n%o&b&z(d(o)S*R*[+R+|-h!P!gP#i#v$X$g$s$t$u$v%c%h%n%o&b&z(d(o)S*R*[+R+|-h!R!hP#i#v$X$g$s$t$u$v$w%c%h%n%o&b&z(d(o)S*R*[+R+|-h!V!hP!n#i#v$X$g$s$t$u$v$w$x%c%h%n%o&b&z(d(o)S*R*[+R+|-h'oSOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'b'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-s&ZUOXYZhrtv|}!R!S!T!X!i!k!o!p!q!s!t#]#j#m$P$R$T$W$k$m${%Q%X%[%^%e%j%l%v&O&]&a&l&m&t&{'S'V'a'b'e'g'h'l's'{(R(X([(c(e(m(|)P)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*h*i*p*s*z+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-o-s%eWOXYZhrv|}!R!S!T!X!i!k#]#j#m$P$R$T$W$k$m${%Q%[%^%e%j%l%v&O&]&a&l&m&t&{'S'V'a'b'e'g'h'l's'{(R(X([(c(e(m(|)P)Y)])f)p)v)y)z)}*T*W*Y*]*^*a*h*i*p*s*z+Z+b+c+f+m+n+o+q+r+u+y+{+},P,Q,S,f,h,l,o-R-S-_-j-k-lQ#|uQ-`-WR-p-r'fdOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-sW#pl!O!P$_W#xu&_-W-rQ$a!QQ$q!YQ$r!ZW$z!i'b)v+mS&^#y#zQ'O$lQ(f&WQ(t&nU(u&p(v(wU(x&r(y*yQ)h'XW)i'Z+i,j-PS+h)j)kY,U*t,V,w,x-[Q,X*vQ,c+_Q,e+aR-Z,vR&]#xi!wXY!S!T%^%e's'{)P*T*W*YR%[!vQ!{XQ%w#]Q&f$TR&i$WT-V,r-b!U!jP!n#i#v$X$g$s$t$u$v$w$x%c%h%n%o&b&z(d(o)S*R*[+R+|-hQ&Z#qR'^$rR'a$zR%T!m'ncOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m${%Q%X%[%^%a%e%j%l%v&O&Q&]&a&j&l&m&t&x&{'S'V'a'b'e'g'h'l'q's'w'{(Q(R(X([(c(e(m(p(|)P)T)U)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*d*h*i*p*r*s*z+S+T+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-m-o-sT#gc#hS#^_#_S#a`#bS#ca#dS#eb#fT*l(_*mT(`%w(bQ$VwR+g)iX$Tw$U$V&hZkOr$m)]+ZXoOr)]+ZQ$n!WQ&v$eQ&w$fQ'Y$pQ']$rQ)Z&}Q)a'SQ)c'TQ)d'UQ)q'[Q)s'^Q*})PQ+P)QQ+Q)RQ+U)XS+W)[)rQ+[)_Q+])`Q+^)bQ,Z*|Q,[+OQ,^+VQ,_+XQ,d+`Q,z,]Q,|,bQ,},cR-],{WoOr)]+ZR#snQ'[$qR)['OQ+f)iR,h+gQ)r'[R+X)[ZmOnr)]+ZQrOR#urQ&`#{R(k&`S%k#Q#}S(S%k(VT(V%n&bQ%_!yQ%f!|W't%_%f'y'}Q'y%cR'}%hQ&k$XR(q&kQ(Y%oQ*_(TT*e(Y*_Q'c$|R)w'cS'f%P%QY){'f)|+s,p-TU)|'g'h'iU+s)}*O*PS,p+t+uR-T,qQ#X]R%r#XQ#[^R%t#[Q#__R%x#_Q(]%uS*j(]*kR*k(^Q*m(_R,R*mQ#b`R%z#bQ#daR%{#dQ#fbR%|#fQ#hcR%}#hQ#kfQ&P#iW&S#k&P(n*qQ(n&eR*q-hQ$UwS&g$U&hR&h$VQ&u$cR(}&uQ&X#pR(g&XQ$_!PR&o$_Q*u(uS,W*u,yR,y,XQ&s$aR(z&sQ#njR&U#nQ+Z)]R,`+ZQ)O&vR*{)OQ&y$gS)V&y)WR)W&zQ'R$nR)^'RQ'W$oS)g'W+dR+d)hQ+j)mR,k+jWnOr)]+ZR#rnSqOrT+Y)]+ZWpOr)]+ZR'P$mYjOr$m)]+ZR&T#m[wOr#m$m)]+ZR&f$T&YPOXYZhrtv|}!R!S!T!X!i!k!o!p!q!s!t#]#j#m$P$R$T$W$k$m${%Q%X%[%^%e%j%l%v&O&]&a&l&m&t&{'S'V'a'b'e'g'h'l's'{(R(X([(c(e(m(|)P)Y)])f)p)v)y)z)}*T*U*W*Y*]*^*a*h*i*p*s*z+Z+b+c+f+m+n+o+q+r+u+w+y+{+},P,Q,S,f,h,l,o,r-R-S-_-b-d-e-f-g-i-j-k-l-o-sQ!nSQ#ieQ#vsU$Xx%a'wS$g!U$jQ$s!cQ$t!dQ$u!eQ$v!fQ$w!gQ$x!hQ%c!zQ%h!}Q%n#RQ%o#SQ&b$OQ&z$hQ(d&QU(o&j(p*rW)S&x)U+S+TQ*R'qQ*[(QQ+R)TQ+|*dR-h-mQ!yXQ!|YQ$e!SQ$f!T^'p%^%e's'{*T*W*YR+O)P[fOr#m$m)]+Zh!vXY!S!T%^%e's'{)P*T*W*YQ#QZQ#lhS#}v|Q$[}W$c!R$W&{)YS$o!X$kW$y!i'b)v+mQ%P!kQ%u#]`&R#j&O(c(e(m*p,S-lQ&c$PQ&d$RQ&e$TQ'_${Q'i%QQ'o%[W(P%j(R*]*aQ(T%lQ(^%vQ(i&]S(l&a-jQ(r&lQ(s&mU({&t(|*zQ)b'SY)e'V)f+b+c,fQ)t'a^)x'e)z+q+r,o-S-_Q*O'gQ*P'hS*Q'l-kW*c(X*^+y+}W*g([*i,P,QQ+l)pQ+p)yQ+t)}Q,O*hQ,T*sQ,g+fQ,m+nQ,n+oQ,q+uQ,u+{Q-O,hQ-Q,lR-^-RhTOr#j#m$m&O&a'l(c(e)]+Z$z!uXYZhv|}!R!S!T!X!i!k#]$P$R$T$W$k${%Q%[%^%e%j%l%v&]&l&m&t&{'S'V'a'b'e'g'h's'{(R(X([(m(|)P)Y)f)p)v)y)z)}*T*W*Y*]*^*a*h*i*p*s*z+b+c+f+m+n+o+q+r+u+y+{+},P,Q,S,f,h,l,o-R-S-_-j-k-lQ#wtW%U!o!s-e-oQ%V!pQ%W!qQ%Y!tQ%d-dS'k%X-iQ'm-fQ'n-gQ+v*UQ,t+wS-U,r-bR-q-sU#{u-W-rR(j&_[gOr#m$m)]+ZX!xX#]$T$WQ#VZQ$QvR$Z|Q%`!yQ%g!|Q%m#QQ'_$yQ'z%cQ(O%hQ(W%nQ(Z%oQ*`(TQ,s+vQ-Y,tR-a-XQ$YxQ'v%aR*V'wQ-X,rR-c-bR#PYR#UZR%O!iQ$|!iV)u'b)v+m!V!lP!n#i#v$X$g$s$t$u$v$w$x%c%h%n%o&b&z(d(o)S*R*[+R+|-hR%R!kR%w#]Q(a%wR*o(bQ$d!RQ&i$WQ)X&{R+V)YQ#qlQ$]!OQ$`!PR&q$_Q(t&pR*x(wQ(t&pQ*w(vR*x(wR$b!QXpOr)]+ZQ$i!UR&|$jQ$p!XR&}$kR)o'ZQ)m'ZV,i+i,j-P\",\n  nodeNames: \"⚠ print Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ParenthesizedExpression ( BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from ) TupleExpression ComprehensionExpression async for LambdaExpression ArrayExpression [ ] ArrayComprehensionExpression DictionaryExpression { } DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At\",\n  maxTerm: 236,\n  context: trackIndent,\n  nodeProps: [\n    [NodeProp.group, -14,4,80,82,83,85,87,89,91,93,94,95,97,100,103,\"Statement Statement\",-22,6,16,19,21,37,47,48,52,55,56,59,60,61,62,65,68,69,70,74,75,76,77,\"Expression\",-9,105,107,110,112,113,117,119,124,126,\"Statement\"]\n  ],\n  skippedNodes: [0,2],\n  repeatNodeCount: 32,\n  tokenData: \"&AaMgR!^OX$}XY!#xY[$}[]!#x]p$}pq!#xqr!&Srs!)yst!C{tu$}uv$+}vw$.awx$/mxy$Lgyz$Mmz{$Ns{|%#c|}%$o}!O%%u!O!P%([!P!Q%3b!Q!R%6Q!R![%:S![!]%EO!]!^%Gb!^!_%Hh!_!`%KW!`!a%Ld!a!b$}!b!c& P!c!d&!_!d!e&$P!e!h&!_!h!i&.R!i!t&!_!t!u&7g!u!w&!_!w!x&,a!x!}&!_!}#O&9q#O#P!%b#P#Q&:w#Q#R&;}#R#S&!_#S#T$}#T#U&!_#U#V&$P#V#Y&!_#Y#Z&.R#Z#f&!_#f#g&7g#g#i&!_#i#j&,a#j#o&!_#o#p&=Z#p#q&>P#q#r&?]#r#s&@Z#s$g$}$g~&!_<r%`Z%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}9[&^Z%q7[%hS%n`%w!bOr'PrsCxsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'P9['^Z%q7[%hS%kW%n`%w!bOr'Prs&Rsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'P8z(WZ%q7[%kWOr(yrs)wsw(ywx;bx#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8z)UZ%q7[%hS%kW%w!bOr(yrs)wsw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8z*QZ%q7[%hS%w!bOr(yrs*ssw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8z*|Z%q7[%hS%w!bOr(yrs+osw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y8r+xX%q7[%hS%w!bOw+owx,ex#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+o8r,jX%q7[Ow+owx-Vx#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+o8r-[X%q7[Ow+owx-wx#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+o7[-|R%q7[O#o-w#p#q-w#r~-w8r.[T%q7[O#o+o#o#p.k#p#q+o#q#r.k#r~+o!f.rV%hS%w!bOw.kwx/Xx#O.k#O#P0W#P#o.k#o#p0^#p~.k!f/[VOw.kwx/qx#O.k#O#P0W#P#o.k#o#p0^#p~.k!f/tUOw.kx#O.k#O#P0W#P#o.k#o#p0^#p~.k!f0ZPO~.k!f0cV%hSOw0xwx1^x#O0x#O#P2P#P#o0x#o#p.k#p~0xS0}T%hSOw0xwx1^x#O0x#O#P2P#P~0xS1aTOw0xwx1px#O0x#O#P2P#P~0xS1sSOw0xx#O0x#O#P2P#P~0xS2SPO~0x8z2[T%q7[O#o(y#o#p2k#p#q(y#q#r2k#r~(y!n2tX%hS%kW%w!bOr2krs3asw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k!n3hX%hS%w!bOr2krs4Tsw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k!n4[X%hS%w!bOr2krs.ksw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k!n4|X%kWOr2krs3asw2kwx5ix#O2k#O#P7h#P#o2k#o#p7n#p~2k!n5nX%kWOr2krs3asw2kwx6Zx#O2k#O#P7h#P#o2k#o#p7n#p~2kW6`T%kWOr6Zrs6os#O6Z#O#P7b#P~6ZW6rTOr6Zrs7Rs#O6Z#O#P7b#P~6ZW7USOr6Zs#O6Z#O#P7b#P~6ZW7ePO~6Z!n7kPO~2k!n7uX%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p2k#p~8b[8iV%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P~8b[9TV%hSOr8brs9jsw8bwx:Ux#O8b#O#P;[#P~8b[9oV%hSOr8brs0xsw8bwx:Ux#O8b#O#P;[#P~8b[:ZV%kWOr8brs9Osw8bwx:px#O8b#O#P;[#P~8b[:uV%kWOr8brs9Osw8bwx6Zx#O8b#O#P;[#P~8b[;_PO~8b8z;iZ%q7[%kWOr(yrs)wsw(ywx<[x#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(y7d<cX%q7[%kWOr<[rs=Os#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[7d=TX%q7[Or<[rs=ps#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[7d=uX%q7[Or<[rs-ws#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[7d>gT%q7[O#o<[#o#p6Z#p#q<[#q#r6Z#r~<[9[>{T%q7[O#o'P#o#p?[#p#q'P#q#r?[#r~'P#O?gX%hS%kW%n`%w!bOr?[rs@Ssw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[#O@]X%hS%n`%w!bOr?[rs@xsw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[#OARX%hS%n`%w!bOr?[rsAnsw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[!vAwV%hS%n`%w!bOwAnwx/Xx#OAn#O#PB^#P#oAn#o#pBd#p~An!vBaPO~An!vBiV%hSOw0xwx1^x#O0x#O#P2P#P#o0x#o#pAn#p~0x#OCRPO~?[#OC]X%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p?[#p~8b9[DTZ%q7[%hS%n`%w!bOr'PrsDvsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'P9SERX%q7[%hS%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~Dv9SEsT%q7[O#oDv#o#pAn#p#qDv#q#rAn#r~Dv<bF_Z%q7[%kW%tp%y#tOrGQrs)wswGQwxM^x#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQ<bGaZ%q7[%hS%kW%tp%w!b%y#tOrGQrs)wswGQwxFSx#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQ<bHXT%q7[O#oGQ#o#pHh#p#qGQ#q#rHh#r~GQ&UHuX%hS%kW%tp%w!b%y#tOrHhrs3aswHhwxIbx#OHh#O#PLd#P#oHh#o#pLj#p~Hh&UIkX%kW%tp%y#tOrHhrs3aswHhwxJWx#OHh#O#PLd#P#oHh#o#pLj#p~Hh&UJaX%kW%tp%y#tOrHhrs3aswHhwxJ|x#OHh#O#PLd#P#oHh#o#pLj#p~Hh$nKVX%kW%tp%y#tOrJ|rs6oswJ|wxJ|x#OJ|#O#PKr#P#oJ|#o#pKx#p~J|$nKuPO~J|$nK}V%kWOr6Zrs6os#O6Z#O#P7b#P#o6Z#o#pJ|#p~6Z&ULgPO~Hh&ULqX%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#pHh#p~8b<bMiZ%q7[%kW%tp%y#tOrGQrs)wswGQwxN[x#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQ:zNgZ%q7[%kW%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[:z! _T%q7[O#oN[#o#pJ|#p#qN[#q#rJ|#r~N[<r! sT%q7[O#o$}#o#p!!S#p#q$}#q#r!!S#r~$}&f!!cX%hS%kW%n`%tp%w!b%y#tOr!!Srs@Ssw!!SwxIbx#O!!S#O#P!#O#P#o!!S#o#p!#U#p~!!S&f!#RPO~!!S&f!#]X%hS%kWOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p!!S#p~8bMg!$]a%q7[%hS%kW$o1s%n`%tp%w!b%y#tOX$}XY!#xY[$}[]!#x]p$}pq!#xqr$}rs&Rsw$}wxFSx#O$}#O#P!%b#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg!%gX%q7[OY$}YZ!#xZ]$}]^!#x^#o$}#o#p!!S#p#q$}#q#r!!S#r~$}<u!&eb%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`!'m!`#O$}#O#P! n#P#T$}#T#U!(s#U#f$}#f#g!(s#g#h!(s#h#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u!(QZjR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u!)WZ!jR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{!*Y_%up%q7[%hS%f,X%n`%w!bOY!+XYZ'PZ]!+X]^'P^r!+Xrs!BPsw!+Xwx!-gx#O!+X#O#P!>e#P#o!+X#o#p!@}#p#q!+X#q#r!>y#r~!+XDe!+h_%q7[%hS%kW%f,X%n`%w!bOY!+XYZ'PZ]!+X]^'P^r!+Xrs!,gsw!+Xwx!-gx#O!+X#O#P!>e#P#o!+X#o#p!@}#p#q!+X#q#r!>y#r~!+XDe!,tZ%q7[%hS%f,X%n`%w!bOr'PrsCxsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PDT!-p_%q7[%kW%f,XOY!.oYZ(yZ]!.o]^(y^r!.ors!/{sw!.owx!;Rx#O!.o#O#P!0y#P#o!.o#o#p!6m#p#q!.o#q#r!1_#r~!.oDT!.|_%q7[%hS%kW%f,X%w!bOY!.oYZ(yZ]!.o]^(y^r!.ors!/{sw!.owx!-gx#O!.o#O#P!0y#P#o!.o#o#p!6m#p#q!.o#q#r!1_#r~!.oDT!0WZ%q7[%hS%f,X%w!bOr(yrs*ssw(ywx(Px#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(yDT!1OT%q7[O#o!.o#o#p!1_#p#q!.o#q#r!1_#r~!.o-w!1j]%hS%kW%f,X%w!bOY!1_YZ2kZ]!1_]^2k^r!1_rs!2csw!1_wx!3Xx#O!1_#O#P!6g#P#o!1_#o#p!6m#p~!1_-w!2lX%hS%f,X%w!bOr2krs4Tsw2kwx4wx#O2k#O#P7h#P#o2k#o#p7n#p~2k-w!3`]%kW%f,XOY!1_YZ2kZ]!1_]^2k^r!1_rs!2csw!1_wx!4Xx#O!1_#O#P!6g#P#o!1_#o#p!6m#p~!1_-w!4`]%kW%f,XOY!1_YZ2kZ]!1_]^2k^r!1_rs!2csw!1_wx!5Xx#O!1_#O#P!6g#P#o!1_#o#p!6m#p~!1_,a!5`X%kW%f,XOY!5XYZ6ZZ]!5X]^6Z^r!5Xrs!5{s#O!5X#O#P!6a#P~!5X,a!6QT%f,XOr6Zrs7Rs#O6Z#O#P7b#P~6Z,a!6dPO~!5X-w!6jPO~!1_-w!6v]%hS%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!9Xx#O!7o#O#P!:{#P#o!7o#o#p!1_#p~!7o,e!7xZ%hS%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!9Xx#O!7o#O#P!:{#P~!7o,e!8rV%hS%f,XOr8brs9jsw8bwx:Ux#O8b#O#P;[#P~8b,e!9`Z%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!:Rx#O!7o#O#P!:{#P~!7o,e!:YZ%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!5Xx#O!7o#O#P!:{#P~!7o,e!;OPO~!7oDT!;[_%q7[%kW%f,XOY!.oYZ(yZ]!.o]^(y^r!.ors!/{sw!.owx!<Zx#O!.o#O#P!0y#P#o!.o#o#p!6m#p#q!.o#q#r!1_#r~!.oBm!<d]%q7[%kW%f,XOY!<ZYZ<[Z]!<Z]^<[^r!<Zrs!=]s#O!<Z#O#P!>P#P#o!<Z#o#p!5X#p#q!<Z#q#r!5X#r~!<ZBm!=dX%q7[%f,XOr<[rs=ps#O<[#O#P>b#P#o<[#o#p6Z#p#q<[#q#r6Z#r~<[Bm!>UT%q7[O#o!<Z#o#p!5X#p#q!<Z#q#r!5X#r~!<ZDe!>jT%q7[O#o!+X#o#p!>y#p#q!+X#q#r!>y#r~!+X.X!?W]%hS%kW%f,X%n`%w!bOY!>yYZ?[Z]!>y]^?[^r!>yrs!@Psw!>ywx!3Xx#O!>y#O#P!@w#P#o!>y#o#p!@}#p~!>y.X!@[X%hS%f,X%n`%w!bOr?[rs@xsw?[wx4wx#O?[#O#PCO#P#o?[#o#pCU#p~?[.X!@zPO~!>y.X!AW]%hS%kW%f,XOY!7oYZ8bZ]!7o]^8b^r!7ors!8ksw!7owx!9Xx#O!7o#O#P!:{#P#o!7o#o#p!>y#p~!7oGZ!B^Z%q7[%hS%f,X%n`%w!bOr'Prs!CPsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PGZ!C`X%l#|%q7[%hS%j,X%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~DvMg!D`_Q1s%q7[%hS%kW%n`%tp%w!b%y#tOY!C{YZ$}Z]!C{]^$}^r!C{rs!E_sw!C{wx#Hqx#O!C{#O#P$(i#P#o!C{#o#p$*{#p#q!C{#q#r$)]#r~!C{JP!El_Q1s%q7[%hS%n`%w!bOY!FkYZ'PZ]!Fk]^'P^r!Fkrs#Eksw!Fkwx!Gyx#O!Fk#O#P#=u#P#o!Fk#o#p#Di#p#q!Fk#q#r#>i#r~!FkJP!Fz_Q1s%q7[%hS%kW%n`%w!bOY!FkYZ'PZ]!Fk]^'P^r!Fkrs!E_sw!Fkwx!Gyx#O!Fk#O#P#=u#P#o!Fk#o#p#Di#p#q!Fk#q#r#>i#r~!FkIo!HS_Q1s%q7[%kWOY!IRYZ(yZ]!IR]^(y^r!IRrs!J_sw!IRwx#8wx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIo!I`_Q1s%q7[%hS%kW%w!bOY!IRYZ(yZ]!IR]^(y^r!IRrs!J_sw!IRwx!Gyx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIo!Jj_Q1s%q7[%hS%w!bOY!IRYZ(yZ]!IR]^(y^r!IRrs!Kisw!IRwx!Gyx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIo!Kt_Q1s%q7[%hS%w!bOY!IRYZ(yZ]!IR]^(y^r!IRrs!Lssw!IRwx!Gyx#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRIg!MO]Q1s%q7[%hS%w!bOY!LsYZ+oZ]!Ls]^+o^w!Lswx!Mwx#O!Ls#O#P#!y#P#o!Ls#o#p#&m#p#q!Ls#q#r##m#r~!LsIg!NO]Q1s%q7[OY!LsYZ+oZ]!Ls]^+o^w!Lswx!Nwx#O!Ls#O#P#!y#P#o!Ls#o#p#&m#p#q!Ls#q#r##m#r~!LsIg# O]Q1s%q7[OY!LsYZ+oZ]!Ls]^+o^w!Lswx# wx#O!Ls#O#P#!y#P#o!Ls#o#p#&m#p#q!Ls#q#r##m#r~!LsHP#!OXQ1s%q7[OY# wYZ-wZ]# w]^-w^#o# w#o#p#!k#p#q# w#q#r#!k#r~# w1s#!pRQ1sOY#!kZ]#!k^~#!kIg##QXQ1s%q7[OY!LsYZ+oZ]!Ls]^+o^#o!Ls#o#p##m#p#q!Ls#q#r##m#r~!Ls3Z##vZQ1s%hS%w!bOY##mYZ.kZ]##m]^.k^w##mwx#$ix#O##m#O#P#&X#P#o##m#o#p#&m#p~##m3Z#$nZQ1sOY##mYZ.kZ]##m]^.k^w##mwx#%ax#O##m#O#P#&X#P#o##m#o#p#&m#p~##m3Z#%fZQ1sOY##mYZ.kZ]##m]^.k^w##mwx#!kx#O##m#O#P#&X#P#o##m#o#p#&m#p~##m3Z#&^TQ1sOY##mYZ.kZ]##m]^.k^~##m3Z#&tZQ1s%hSOY#'gYZ0xZ]#'g]^0x^w#'gwx#(Zx#O#'g#O#P#)m#P#o#'g#o#p##m#p~#'g1w#'nXQ1s%hSOY#'gYZ0xZ]#'g]^0x^w#'gwx#(Zx#O#'g#O#P#)m#P~#'g1w#(`XQ1sOY#'gYZ0xZ]#'g]^0x^w#'gwx#({x#O#'g#O#P#)m#P~#'g1w#)QXQ1sOY#'gYZ0xZ]#'g]^0x^w#'gwx#!kx#O#'g#O#P#)m#P~#'g1w#)rTQ1sOY#'gYZ0xZ]#'g]^0x^~#'gIo#*YXQ1s%q7[OY!IRYZ(yZ]!IR]^(y^#o!IR#o#p#*u#p#q!IR#q#r#*u#r~!IR3c#+Q]Q1s%hS%kW%w!bOY#*uYZ2kZ]#*u]^2k^r#*urs#+ysw#*uwx#-}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#,S]Q1s%hS%w!bOY#*uYZ2kZ]#*u]^2k^r#*urs#,{sw#*uwx#-}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#-U]Q1s%hS%w!bOY#*uYZ2kZ]#*u]^2k^r#*urs##msw#*uwx#-}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#.U]Q1s%kWOY#*uYZ2kZ]#*u]^2k^r#*urs#+ysw#*uwx#.}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u3c#/U]Q1s%kWOY#*uYZ2kZ]#*u]^2k^r#*urs#+ysw#*uwx#/}x#O#*u#O#P#2i#P#o#*u#o#p#2}#p~#*u1{#0UXQ1s%kWOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#0qs#O#/}#O#P#2T#P~#/}1{#0vXQ1sOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#1cs#O#/}#O#P#2T#P~#/}1{#1hXQ1sOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#!ks#O#/}#O#P#2T#P~#/}1{#2YTQ1sOY#/}YZ6ZZ]#/}]^6Z^~#/}3c#2nTQ1sOY#*uYZ2kZ]#*u]^2k^~#*u3c#3W]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p#*u#p~#4P2P#4YZQ1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P~#4P2P#5SZQ1s%hSOY#4PYZ8bZ]#4P]^8b^r#4Prs#5usw#4Pwx#6ox#O#4P#O#P#8c#P~#4P2P#5|ZQ1s%hSOY#4PYZ8bZ]#4P]^8b^r#4Prs#'gsw#4Pwx#6ox#O#4P#O#P#8c#P~#4P2P#6vZQ1s%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#7ix#O#4P#O#P#8c#P~#4P2P#7pZQ1s%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#/}x#O#4P#O#P#8c#P~#4P2P#8hTQ1sOY#4PYZ8bZ]#4P]^8b^~#4PIo#9Q_Q1s%q7[%kWOY!IRYZ(yZ]!IR]^(y^r!IRrs!J_sw!IRwx#:Px#O!IR#O#P#*R#P#o!IR#o#p#2}#p#q!IR#q#r#*u#r~!IRHX#:Y]Q1s%q7[%kWOY#:PYZ<[Z]#:P]^<[^r#:Prs#;Rs#O#:P#O#P#=R#P#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PHX#;Y]Q1s%q7[OY#:PYZ<[Z]#:P]^<[^r#:Prs#<Rs#O#:P#O#P#=R#P#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PHX#<Y]Q1s%q7[OY#:PYZ<[Z]#:P]^<[^r#:Prs# ws#O#:P#O#P#=R#P#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PHX#=YXQ1s%q7[OY#:PYZ<[Z]#:P]^<[^#o#:P#o#p#/}#p#q#:P#q#r#/}#r~#:PJP#=|XQ1s%q7[OY!FkYZ'PZ]!Fk]^'P^#o!Fk#o#p#>i#p#q!Fk#q#r#>i#r~!Fk3s#>v]Q1s%hS%kW%n`%w!bOY#>iYZ?[Z]#>i]^?[^r#>irs#?osw#>iwx#-}x#O#>i#O#P#DT#P#o#>i#o#p#Di#p~#>i3s#?z]Q1s%hS%n`%w!bOY#>iYZ?[Z]#>i]^?[^r#>irs#@ssw#>iwx#-}x#O#>i#O#P#DT#P#o#>i#o#p#Di#p~#>i3s#AO]Q1s%hS%n`%w!bOY#>iYZ?[Z]#>i]^?[^r#>irs#Awsw#>iwx#-}x#O#>i#O#P#DT#P#o#>i#o#p#Di#p~#>i3k#BSZQ1s%hS%n`%w!bOY#AwYZAnZ]#Aw]^An^w#Awwx#$ix#O#Aw#O#P#Bu#P#o#Aw#o#p#CZ#p~#Aw3k#BzTQ1sOY#AwYZAnZ]#Aw]^An^~#Aw3k#CbZQ1s%hSOY#'gYZ0xZ]#'g]^0x^w#'gwx#(Zx#O#'g#O#P#)m#P#o#'g#o#p#Aw#p~#'g3s#DYTQ1sOY#>iYZ?[Z]#>i]^?[^~#>i3s#Dr]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p#>i#p~#4PJP#Ex_Q1s%q7[%hS%n`%w!bOY!FkYZ'PZ]!Fk]^'P^r!Fkrs#Fwsw!Fkwx!Gyx#O!Fk#O#P#=u#P#o!Fk#o#p#Di#p#q!Fk#q#r#>i#r~!FkIw#GU]Q1s%q7[%hS%n`%w!bOY#FwYZDvZ]#Fw]^Dv^w#Fwwx!Mwx#O#Fw#O#P#G}#P#o#Fw#o#p#CZ#p#q#Fw#q#r#Aw#r~#FwIw#HUXQ1s%q7[OY#FwYZDvZ]#Fw]^Dv^#o#Fw#o#p#Aw#p#q#Fw#q#r#Aw#r~#FwMV#IO_Q1s%q7[%kW%tp%y#tOY#I}YZGQZ]#I}]^GQ^r#I}rs!J_sw#I}wx$%]x#O#I}#O#P#K_#P#o#I}#o#p$$Z#p#q#I}#q#r#LR#r~#I}MV#J`_Q1s%q7[%hS%kW%tp%w!b%y#tOY#I}YZGQZ]#I}]^GQ^r#I}rs!J_sw#I}wx#Hqx#O#I}#O#P#K_#P#o#I}#o#p$$Z#p#q#I}#q#r#LR#r~#I}MV#KfXQ1s%q7[OY#I}YZGQZ]#I}]^GQ^#o#I}#o#p#LR#p#q#I}#q#r#LR#r~#I}6y#Lb]Q1s%hS%kW%tp%w!b%y#tOY#LRYZHhZ]#LR]^Hh^r#LRrs#+ysw#LRwx#MZx#O#LR#O#P$#u#P#o#LR#o#p$$Z#p~#LR6y#Mf]Q1s%kW%tp%y#tOY#LRYZHhZ]#LR]^Hh^r#LRrs#+ysw#LRwx#N_x#O#LR#O#P$#u#P#o#LR#o#p$$Z#p~#LR6y#Nj]Q1s%kW%tp%y#tOY#LRYZHhZ]#LR]^Hh^r#LRrs#+ysw#LRwx$ cx#O#LR#O#P$#u#P#o#LR#o#p$$Z#p~#LR5c$ n]Q1s%kW%tp%y#tOY$ cYZJ|Z]$ c]^J|^r$ crs#0qsw$ cwx$ cx#O$ c#O#P$!g#P#o$ c#o#p$!{#p~$ c5c$!lTQ1sOY$ cYZJ|Z]$ c]^J|^~$ c5c$#SZQ1s%kWOY#/}YZ6ZZ]#/}]^6Z^r#/}rs#0qs#O#/}#O#P#2T#P#o#/}#o#p$ c#p~#/}6y$#zTQ1sOY#LRYZHhZ]#LR]^Hh^~#LR6y$$d]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p#LR#p~#4PMV$%j_Q1s%q7[%kW%tp%y#tOY#I}YZGQZ]#I}]^GQ^r#I}rs!J_sw#I}wx$&ix#O#I}#O#P#K_#P#o#I}#o#p$$Z#p#q#I}#q#r#LR#r~#I}Ko$&v_Q1s%q7[%kW%tp%y#tOY$&iYZN[Z]$&i]^N[^r$&irs#;Rsw$&iwx$&ix#O$&i#O#P$'u#P#o$&i#o#p$!{#p#q$&i#q#r$ c#r~$&iKo$'|XQ1s%q7[OY$&iYZN[Z]$&i]^N[^#o$&i#o#p$ c#p#q$&i#q#r$ c#r~$&iMg$(pXQ1s%q7[OY!C{YZ$}Z]!C{]^$}^#o!C{#o#p$)]#p#q!C{#q#r$)]#r~!C{7Z$)n]Q1s%hS%kW%n`%tp%w!b%y#tOY$)]YZ!!SZ]$)]]^!!S^r$)]rs#?osw$)]wx#MZx#O$)]#O#P$*g#P#o$)]#o#p$*{#p~$)]7Z$*lTQ1sOY$)]YZ!!SZ]$)]]^!!S^~$)]7Z$+U]Q1s%hS%kWOY#4PYZ8bZ]#4P]^8b^r#4Prs#4{sw#4Pwx#6ox#O#4P#O#P#8c#P#o#4P#o#p$)]#p~#4PGz$,b]$}Q%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz$-nZ!s,W%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz$.t]$wQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{$/|_%r`%q7[%kW%f,X%tp%y#tOY$0{YZGQZ]$0{]^GQ^r$0{rs$2]sw$0{wx$Jex#O$0{#O#P$Fw#P#o$0{#o#p$Ic#p#q$0{#q#r$G]#r~$0{Gk$1^_%q7[%hS%kW%f,X%tp%w!b%y#tOY$0{YZGQZ]$0{]^GQ^r$0{rs$2]sw$0{wx$Ewx#O$0{#O#P$Fw#P#o$0{#o#p$Ic#p#q$0{#q#r$G]#r~$0{DT$2h_%q7[%hS%f,X%w!bOY$3gYZ(yZ]$3g]^(y^r$3grs$Basw$3gwx$4sx#O$3g#O#P$5o#P#o$3g#o#p$={#p#q$3g#q#r$6T#r~$3gDT$3t_%q7[%hS%kW%f,X%w!bOY$3gYZ(yZ]$3g]^(y^r$3grs$2]sw$3gwx$4sx#O$3g#O#P$5o#P#o$3g#o#p$={#p#q$3g#q#r$6T#r~$3gDT$4|Z%q7[%kW%f,XOr(yrs)wsw(ywx;bx#O(y#O#P2V#P#o(y#o#p7n#p#q(y#q#r2k#r~(yDT$5tT%q7[O#o$3g#o#p$6T#p#q$3g#q#r$6T#r~$3g-w$6`]%hS%kW%f,X%w!bOY$6TYZ2kZ]$6T]^2k^r$6Trs$7Xsw$6Twx$=Rx#O$6T#O#P$=u#P#o$6T#o#p$={#p~$6T-w$7b]%hS%f,X%w!bOY$6TYZ2kZ]$6T]^2k^r$6Trs$8Zsw$6Twx$=Rx#O$6T#O#P$=u#P#o$6T#o#p$={#p~$6T-w$8d]%hS%f,X%w!bOY$6TYZ2kZ]$6T]^2k^r$6Trs$9]sw$6Twx$=Rx#O$6T#O#P$=u#P#o$6T#o#p$={#p~$6T-o$9fZ%hS%f,X%w!bOY$9]YZ.kZ]$9]]^.k^w$9]wx$:Xx#O$9]#O#P$:s#P#o$9]#o#p$:y#p~$9]-o$:^V%f,XOw.kwx/qx#O.k#O#P0W#P#o.k#o#p0^#p~.k-o$:vPO~$9]-o$;QZ%hS%f,XOY$;sYZ0xZ]$;s]^0x^w$;swx$<gx#O$;s#O#P$<{#P#o$;s#o#p$9]#p~$;s,]$;zX%hS%f,XOY$;sYZ0xZ]$;s]^0x^w$;swx$<gx#O$;s#O#P$<{#P~$;s,]$<lT%f,XOw0xwx1px#O0x#O#P2P#P~0x,]$=OPO~$;s-w$=YX%kW%f,XOr2krs3asw2kwx5ix#O2k#O#P7h#P#o2k#o#p7n#p~2k-w$=xPO~$6T-w$>U]%hS%kW%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$?ysw$>}wx$Amx#O$>}#O#P$BZ#P#o$>}#o#p$6T#p~$>},e$?WZ%hS%kW%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$?ysw$>}wx$Amx#O$>}#O#P$BZ#P~$>},e$@QZ%hS%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$@ssw$>}wx$Amx#O$>}#O#P$BZ#P~$>},e$@zZ%hS%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$;ssw$>}wx$Amx#O$>}#O#P$BZ#P~$>},e$AtV%kW%f,XOr8brs9Osw8bwx:px#O8b#O#P;[#P~8b,e$B^PO~$>}DT$Bl_%q7[%hS%f,X%w!bOY$3gYZ(yZ]$3g]^(y^r$3grs$Cksw$3gwx$4sx#O$3g#O#P$5o#P#o$3g#o#p$={#p#q$3g#q#r$6T#r~$3gC{$Cv]%q7[%hS%f,X%w!bOY$CkYZ+oZ]$Ck]^+o^w$Ckwx$Dox#O$Ck#O#P$Ec#P#o$Ck#o#p$:y#p#q$Ck#q#r$9]#r~$CkC{$DvX%q7[%f,XOw+owx-Vx#O+o#O#P.V#P#o+o#o#p0^#p#q+o#q#r.k#r~+oC{$EhT%q7[O#o$Ck#o#p$9]#p#q$Ck#q#r$9]#r~$CkGk$FUZ%q7[%kW%f,X%tp%y#tOrGQrs)wswGQwxM^x#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQGk$F|T%q7[O#o$0{#o#p$G]#p#q$0{#q#r$G]#r~$0{1_$Gl]%hS%kW%f,X%tp%w!b%y#tOY$G]YZHhZ]$G]]^Hh^r$G]rs$7Xsw$G]wx$Hex#O$G]#O#P$I]#P#o$G]#o#p$Ic#p~$G]1_$HpX%kW%f,X%tp%y#tOrHhrs3aswHhwxJWx#OHh#O#PLd#P#oHh#o#pLj#p~Hh1_$I`PO~$G]1_$Il]%hS%kW%f,XOY$>}YZ8bZ]$>}]^8b^r$>}rs$?ysw$>}wx$Amx#O$>}#O#P$BZ#P#o$>}#o#p$G]#p~$>}Gk$JrZ%q7[%kW%f,X%tp%y#tOrGQrs)wswGQwx$Kex#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQGk$KtZ%i!f%q7[%kW%g,X%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[G{$LzZf,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u$NQZ!OR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{% W_T,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSxz$}z{%!V{!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%!j]_R%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%#v]$z,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u%%SZwR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg%&Y^${,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`!a%'U!a#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}B^%'iZ&U&j%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%(o_!dQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%)n!P!Q$}!Q![%,O![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%*P]%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%*x!P#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%+]Z!m,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%,cg!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%,O![!g$}!g!h%-z!h!l$}!l!m%2[!m#O$}#O#P! n#P#R$}#R#S%,O#S#X$}#X#Y%-z#Y#^$}#^#_%2[#_#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%.]a%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx{$}{|%/b|}$}}!O%/b!O!Q$}!Q![%0l![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%/s]%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%0l![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%1Pc!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%0l![!l$}!l!m%2[!m#O$}#O#P! n#P#R$}#R#S%0l#S#^$}#^#_%2[#_#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%2oZ!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%3u_$|R%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!P$}!P!Q%4t!Q!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz%5X]%OQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%6eu!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%8x!P!Q$}!Q![%:S![!d$}!d!e%<U!e!g$}!g!h%-z!h!l$}!l!m%2[!m!q$}!q!r%?O!r!z$}!z!{%Ar!{#O$}#O#P! n#P#R$}#R#S%:S#S#U$}#U#V%<U#V#X$}#X#Y%-z#Y#^$}#^#_%2[#_#c$}#c#d%?O#d#l$}#l#m%Ar#m#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%9Z]%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%,O![#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%:gi!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!O$}!O!P%8x!P!Q$}!Q![%:S![!g$}!g!h%-z!h!l$}!l!m%2[!m#O$}#O#P! n#P#R$}#R#S%:S#S#X$}#X#Y%-z#Y#^$}#^#_%2[#_#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%<g`%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!R%=i!R!S%=i!S#O$}#O#P! n#P#R$}#R#S%=i#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%=|`!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!R%=i!R!S%=i!S#O$}#O#P! n#P#R$}#R#S%=i#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%?a_%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!Y%@`!Y#O$}#O#P! n#P#R$}#R#S%@`#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%@s_!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q!Y%@`!Y#O$}#O#P! n#P#R$}#R#S%@`#S#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%BTc%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%C`![!c$}!c!i%C`!i#O$}#O#P! n#P#R$}#R#S%C`#S#T$}#T#Z%C`#Z#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy%Csc!f,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!Q$}!Q![%C`![!c$}!c!i%C`!i#O$}#O#P! n#P#R$}#R#S%C`#S#T$}#T#Z%C`#Z#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg%Ec]x1s%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`%F[!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u%FoZ%WR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%GuZ#^,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%H{_jR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!^$}!^!_%Iz!_!`!'m!`!a!'m!a#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz%J_]$xQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%Kk]%V,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`!'m!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{%Lw^jR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`!'m!`!a%Ms!a#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz%NW]$yQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}G{& f]]Q#tP%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Mg&!tc%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&Rsw$}wxFSx!Q$}!Q![&!_![!c$}!c!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_Mg&$fg%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&%}sw$}wx&)Tx!Q$}!Q![&!_![!c$}!c!t&!_!t!u&,a!u!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#f&!_#f#g&,a#g#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_De&&[_%q7[%hS%f,X%n`%w!bOY!+XYZ'PZ]!+X]^'P^r!+Xrs&'Zsw!+Xwx!-gx#O!+X#O#P!>e#P#o!+X#o#p!@}#p#q!+X#q#r!>y#r~!+XDe&'hZ%q7[%hS%f,X%n`%w!bOr'Prs&(Zsw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PD]&(hX%q7[%hS%j,X%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~DvGk&)b_%q7[%kW%f,X%tp%y#tOY$0{YZGQZ]$0{]^GQ^r$0{rs$2]sw$0{wx&*ax#O$0{#O#P$Fw#P#o$0{#o#p$Ic#p#q$0{#q#r$G]#r~$0{Gk&*nZ%q7[%kW%f,X%tp%y#tOrGQrs)wswGQwx&+ax#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQFT&+nZ%q7[%kW%g,X%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[Mg&,vc%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&%}sw$}wx&)Tx!Q$}!Q![&!_![!c$}!c!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_Mg&.hg%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&0Psw$}wx&2wx!Q$}!Q![&!_![!c$}!c!t&!_!t!u&5u!u!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#f&!_#f#g&5u#g#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_De&0^Z%q7[%hS%n`%w!b%s,XOr'Prs&1Psw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PDe&1[Z%q7[%hS%n`%w!bOr'Prs&1}sw'Pwx(Px#O'P#O#P>v#P#o'P#o#pCU#p#q'P#q#r?[#r~'PD]&2[X%q7[%hS%x,X%n`%w!bOwDvwx,ex#ODv#O#PEn#P#oDv#o#pBd#p#qDv#q#rAn#r~DvGk&3UZ%q7[%kW%tp%y#t%m,XOrGQrs)wswGQwx&3wx#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQGk&4SZ%q7[%kW%tp%y#tOrGQrs)wswGQwx&4ux#OGQ#O#PHS#P#oGQ#o#pLj#p#qGQ#q#rHh#r~GQFT&5SZ%q7[%kW%v,X%tp%y#tOrN[rs=OswN[wxN[x#ON[#O#P! Y#P#oN[#o#pKx#p#qN[#q#rJ|#r~N[Mg&6[c%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&0Psw$}wx&2wx!Q$}!Q![&!_![!c$}!c!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_Mg&7|k%q7[%hS%kW%e&j%n`%tp%w!b%y#t%Q,XOr$}rs&%}sw$}wx&)Tx!Q$}!Q![&!_![!c$}!c!h&!_!h!i&5u!i!t&!_!t!u&,a!u!}&!_!}#O$}#O#P! n#P#R$}#R#S&!_#S#T$}#T#U&!_#U#V&,a#V#Y&!_#Y#Z&5u#Z#o&!_#o#p!#U#p#q$}#q#r!!S#r$g$}$g~&!_G{&:UZ!V,X%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u&;[Z!WR%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gz&<b]$vQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}Gy&=dX%hS%kW!ZGmOr8brs9Osw8bwx:Ux#O8b#O#P;[#P#o8b#o#p!!S#p~8bGz&>d]$uQ%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx!_$}!_!`$-Z!`#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}<u&?nX![7_%hS%kW%n`%tp%w!b%y#tOr!!Srs@Ssw!!SwxIbx#O!!S#O#P!#O#P#o!!S#o#p!#U#p~!!SGy&@nZ%P,V%q7[%hS%kW%n`%tp%w!b%y#tOr$}rs&Rsw$}wxFSx#O$}#O#P! n#P#o$}#o#p!#U#p#q$}#q#r!!S#r~$}\",\n  tokenizers: [legacyPrint, indentation, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, newlines],\n  topRules: {\"Script\":[0,3]},\n  specialized: [{term: 186, get: value => spec_identifier[value] || -1}],\n  tokenPrec: 6589\n});\n\nexport { parser };\n","import { parser } from '@lezer/python';\nimport { LRLanguage, indentNodeProp, delimitedIndent, foldNodeProp, foldInside, LanguageSupport } from '@codemirror/language';\nimport { styleTags, tags } from '@codemirror/highlight';\n\nfunction indentBody(context, node) {\n    let base = context.lineIndent(node.from);\n    let line = context.lineAt(context.pos, -1), to = line.from + line.text.length;\n    // Don't consider blank, deindented lines at the end of the\n    // block part of the block\n    if (!/\\S/.test(line.text) &&\n        context.node.to < to + 100 &&\n        !/\\S/.test(context.state.sliceDoc(to, context.node.to)) &&\n        context.lineIndent(context.pos, -1) <= base)\n        return null;\n    // A normally deindenting keyword that appears at a higher\n    // indentation than the block should probably be handled by the next\n    // level\n    if (/^\\s*(else:|elif |except |finally:)/.test(context.textAfter) && context.lineIndent(context.pos, -1) > base)\n        return null;\n    return base + context.unit;\n}\n/**\nA language provider based on the [Lezer Python\nparser](https://github.com/lezer-parser/python), extended with\nhighlighting and indentation information.\n*/\nconst pythonLanguage = /*@__PURE__*/LRLanguage.define({\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                Body: context => { var _a; return (_a = indentBody(context, context.node)) !== null && _a !== void 0 ? _a : context.continue(); },\n                IfStatement: cx => /^\\s*(else:|elif )/.test(cx.textAfter) ? cx.baseIndent : cx.continue(),\n                TryStatement: cx => /^\\s*(except |finally:)/.test(cx.textAfter) ? cx.baseIndent : cx.continue(),\n                \"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression\": /*@__PURE__*/delimitedIndent({ closing: \")\" }),\n                \"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression\": /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                \"ArrayExpression ArrayComprehensionExpression\": /*@__PURE__*/delimitedIndent({ closing: \"]\" }),\n                Script: context => {\n                    if (context.pos + /\\s*/.exec(context.textAfter)[0].length >= context.node.to) {\n                        let endBody = null;\n                        for (let cur = context.node, to = cur.to;;) {\n                            cur = cur.lastChild;\n                            if (!cur || cur.to != to)\n                                break;\n                            if (cur.type.name == \"Body\")\n                                endBody = cur;\n                        }\n                        if (endBody) {\n                            let bodyIndent = indentBody(context, endBody);\n                            if (bodyIndent != null)\n                                return bodyIndent;\n                        }\n                    }\n                    return context.continue();\n                }\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Body ArrayExpression DictionaryExpression\": foldInside\n            }),\n            /*@__PURE__*/styleTags({\n                \"async '*' '**' FormatConversion\": tags.modifier,\n                \"for while if elif else try except finally return raise break continue with pass assert await yield\": tags.controlKeyword,\n                \"in not and or is del\": tags.operatorKeyword,\n                \"import from def class global nonlocal lambda\": tags.definitionKeyword,\n                \"with as print\": tags.keyword,\n                self: tags.self,\n                Boolean: tags.bool,\n                None: tags.null,\n                VariableName: tags.variableName,\n                \"CallExpression/VariableName\": /*@__PURE__*/tags.function(tags.variableName),\n                \"FunctionDefinition/VariableName\": /*@__PURE__*/tags.function(/*@__PURE__*/tags.definition(tags.variableName)),\n                \"ClassDefinition/VariableName\": /*@__PURE__*/tags.definition(tags.className),\n                PropertyName: tags.propertyName,\n                \"CallExpression/MemberExpression/PropertyName\": /*@__PURE__*/tags.function(tags.propertyName),\n                Comment: tags.lineComment,\n                Number: tags.number,\n                String: tags.string,\n                FormatString: /*@__PURE__*/tags.special(tags.string),\n                UpdateOp: tags.updateOperator,\n                ArithOp: tags.arithmeticOperator,\n                BitOp: tags.bitwiseOperator,\n                CompareOp: tags.compareOperator,\n                AssignOp: tags.definitionOperator,\n                Ellipsis: tags.punctuation,\n                At: tags.meta,\n                \"( )\": tags.paren,\n                \"[ ]\": tags.squareBracket,\n                \"{ }\": tags.brace,\n                \".\": tags.derefOperator,\n                \", ;\": tags.separator\n            })\n        ],\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"'''\", '\"\"\"'] },\n        commentTokens: { line: \"#\" },\n        indentOnInput: /^\\s*([\\}\\]\\)]|else:|elif |except |finally:)$/\n    }\n});\n/**\nPython language support.\n*/\nfunction python() {\n    return new LanguageSupport(pythonLanguage);\n}\n\nexport { python, pythonLanguage };\n","import { EditorView, ViewPlugin, BlockType, PluginField, Direction } from '@codemirror/view';\nimport { RangeSet, RangeValue } from '@codemirror/rangeset';\nimport { MapMode, Facet, combineConfig } from '@codemirror/state';\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = /*@__PURE__*/Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => RangeSet.empty,\n    lineMarker: () => null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutters\": {\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#999\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    }\n});\nconst unfixGutters = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n        baseTheme\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n        this.syncGutters();\n    }\n    update(update) {\n        if (this.updateGutters(update))\n            this.syncGutters();\n        if (update.geometryChanged)\n            this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n    }\n    syncGutters() {\n        let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport));\n        this.view.viewportLines(line => {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                return;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }, 0);\n        for (let cx of contexts)\n            cx.finish();\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters)\n                g.dom.remove();\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        this.dom.remove();\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => {\n        if (value.gutters.length == 0 || !value.fixed)\n            return null;\n        return value.view.textDirection == Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport) {\n        this.gutter = gutter;\n        this.localMarkers = [];\n        this.i = 0;\n        this.height = 0;\n        this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        advanceCursor(this.cursor, this.localMarkers, line.from);\n        let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            let elt = gutter.elements[this.i];\n            if (sameMarkers(localMarkers, elt.markers))\n                localMarkers = elt.markers;\n            elt.update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i)\n            gutter.dom.removeChild(gutter.elements.pop().dom);\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.visualLineAtHeight(event.clientY, view.contentDOM.getBoundingClientRect().top);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to);\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.dom = document.createElement(\"div\");\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (this.markers != markers) {\n            this.markers = markers;\n            for (let ch; ch = this.dom.lastChild;)\n                ch.remove();\n            let cls = \"cm-gutterElement\";\n            for (let m of markers) {\n                if (m.toDOM)\n                    this.dom.appendChild(m.toDOM(view));\n                let c = m.elementClass;\n                if (c)\n                    cls += \" \" + c;\n            }\n            this.dom.className = cls;\n        }\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n    combine(values) {\n        return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM(_view) { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = /*@__PURE__*/activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = /*@__PURE__*/new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = /*@__PURE__*/gutterLineClass.compute([\"selection\"], state => {\n    let marks = [], last = -1;\n    for (let range of state.selection.ranges)\n        if (range.empty) {\n            let linePos = state.doc.lineAt(range.head).from;\n            if (linePos > last) {\n                last = linePos;\n                marks.push(activeLineGutterMarker.range(linePos));\n            }\n        }\n    return RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\nexport { GutterMarker, gutter, gutterLineClass, gutters, highlightActiveLineGutter, lineNumberMarkers, lineNumbers };\n","import { Annotation, Facet, combineConfig, StateField, Transaction, ChangeSet, ChangeDesc, EditorSelection, StateEffect } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\n\nconst fromHistory = /*@__PURE__*/Annotation.define();\n/**\nTransaction annotation that will prevent that transaction from\nbeing combined with other transactions in the undo history. Given\n`\"before\"`, it'll prevent merging with previous transactions. With\n`\"after\"`, subsequent transactions won't be combined with this\none. With `\"full\"`, the transaction is isolated on both sides.\n*/\nconst isolateHistory = /*@__PURE__*/Annotation.define();\n/**\nThis facet provides a way to register functions that, given a\ntransaction, provide a set of effects that the history should\nstore when inverting the transaction. This can be used to\nintegrate some kinds of effects in the history, so that they can\nbe undone (and redone again).\n*/\nconst invertedEffects = /*@__PURE__*/Facet.define();\nconst historyConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            minDepth: 100,\n            newGroupDelay: 500\n        }, { minDepth: Math.max, newGroupDelay: Math.min });\n    }\n});\nconst historyField_ = /*@__PURE__*/StateField.define({\n    create() {\n        return HistoryState.empty;\n    },\n    update(state, tr) {\n        let config = tr.state.facet(historyConfig);\n        let fromHist = tr.annotation(fromHistory);\n        if (fromHist) {\n            let item = HistEvent.fromTransaction(tr), from = fromHist.side;\n            let other = from == 0 /* Done */ ? state.undone : state.done;\n            if (item)\n                other = updateBranch(other, other.length, config.minDepth, item);\n            else\n                other = addSelection(other, tr.startState.selection);\n            return new HistoryState(from == 0 /* Done */ ? fromHist.rest : other, from == 0 /* Done */ ? other : fromHist.rest);\n        }\n        let isolate = tr.annotation(isolateHistory);\n        if (isolate == \"full\" || isolate == \"before\")\n            state = state.isolate();\n        if (tr.annotation(Transaction.addToHistory) === false)\n            return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n        let event = HistEvent.fromTransaction(tr);\n        let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n        if (event)\n            state = state.addChanges(event, time, userEvent, config.newGroupDelay, config.minDepth);\n        else if (tr.selection)\n            state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n        if (isolate == \"full\" || isolate == \"after\")\n            state = state.isolate();\n        return state;\n    },\n    toJSON(value) {\n        return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n    },\n    fromJSON(json) {\n        return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n    }\n});\n/**\nCreate a history extension with the given configuration.\n*/\nfunction history(config = {}) {\n    return [\n        historyField_,\n        historyConfig.of(config),\n        EditorView.domEventHandlers({\n            beforeinput(e, view) {\n                if (e.inputType == \"historyUndo\")\n                    return undo(view);\n                if (e.inputType == \"historyRedo\")\n                    return redo(view);\n                return false;\n            }\n        })\n    ];\n}\n/**\nThe state field used to store the history data. Should probably\nonly be used when you want to\n[serialize](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) or\n[deserialize](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) state objects in a way\nthat preserves history.\n*/\nconst historyField = historyField_;\nfunction cmd(side, selection) {\n    return function ({ state, dispatch }) {\n        let historyState = state.field(historyField_, false);\n        if (!historyState)\n            return false;\n        let tr = historyState.pop(side, state, selection);\n        if (!tr)\n            return false;\n        dispatch(tr);\n        return true;\n    };\n}\n/**\nUndo a single group of history events. Returns false if no group\nwas available.\n*/\nconst undo = /*@__PURE__*/cmd(0 /* Done */, false);\n/**\nRedo a group of history events. Returns false if no group was\navailable.\n*/\nconst redo = /*@__PURE__*/cmd(1 /* Undone */, false);\n/**\nUndo a selection change.\n*/\nconst undoSelection = /*@__PURE__*/cmd(0 /* Done */, true);\n/**\nRedo a selection change.\n*/\nconst redoSelection = /*@__PURE__*/cmd(1 /* Undone */, true);\nfunction depth(side) {\n    return function (state) {\n        let histState = state.field(historyField_, false);\n        if (!histState)\n            return 0;\n        let branch = side == 0 /* Done */ ? histState.done : histState.undone;\n        return branch.length - (branch.length && !branch[0].changes ? 1 : 0);\n    };\n}\n/**\nThe amount of undoable change events available in a given state.\n*/\nconst undoDepth = /*@__PURE__*/depth(0 /* Done */);\n/**\nThe amount of redoable change events available in a given state.\n*/\nconst redoDepth = /*@__PURE__*/depth(1 /* Undone */);\n// History events store groups of changes or effects that need to be\n// undone/redone together.\nclass HistEvent {\n    constructor(\n    // The changes in this event. Normal events hold at least one\n    // change or effect. But it may be necessary to store selection\n    // events before the first change, in which case a special type of\n    // instance is created which doesn't hold any changes, with\n    // changes == startSelection == undefined\n    changes, \n    // The effects associated with this event\n    effects, mapped, \n    // The selection before this event\n    startSelection, \n    // Stores selection changes after this event, to be used for\n    // selection undo/redo.\n    selectionsAfter) {\n        this.changes = changes;\n        this.effects = effects;\n        this.mapped = mapped;\n        this.startSelection = startSelection;\n        this.selectionsAfter = selectionsAfter;\n    }\n    setSelAfter(after) {\n        return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n    }\n    toJSON() {\n        var _a, _b, _c;\n        return {\n            changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n            selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n        };\n    }\n    static fromJSON(json) {\n        return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n    }\n    // This does not check `addToHistory` and such, it assumes the\n    // transaction needs to be converted to an item. Returns null when\n    // there are no changes or effects in the transaction.\n    static fromTransaction(tr) {\n        let effects = none;\n        for (let invert of tr.startState.facet(invertedEffects)) {\n            let result = invert(tr);\n            if (result.length)\n                effects = effects.concat(result);\n        }\n        if (!effects.length && tr.changes.empty)\n            return null;\n        return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, tr.startState.selection, none);\n    }\n    static selection(selections) {\n        return new HistEvent(undefined, none, undefined, undefined, selections);\n    }\n}\nfunction updateBranch(branch, to, maxLen, newEvent) {\n    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    let newBranch = branch.slice(start, to);\n    newBranch.push(newEvent);\n    return newBranch;\n}\nfunction isAdjacent(a, b) {\n    let ranges = [], isAdjacent = false;\n    a.iterChangedRanges((f, t) => ranges.push(f, t));\n    b.iterChangedRanges((_f, _t, f, t) => {\n        for (let i = 0; i < ranges.length;) {\n            let from = ranges[i++], to = ranges[i++];\n            if (t >= from && f <= to)\n                isAdjacent = true;\n        }\n    });\n    return isAdjacent;\n}\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n}\nfunction conc(a, b) {\n    return !a.length ? b : !b.length ? a : a.concat(b);\n}\nconst none = [];\nconst MaxSelectionsPerEvent = 200;\nfunction addSelection(branch, selection) {\n    if (!branch.length) {\n        return [HistEvent.selection([selection])];\n    }\n    else {\n        let lastEvent = branch[branch.length - 1];\n        let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n        if (sels.length && sels[sels.length - 1].eq(selection))\n            return branch;\n        sels.push(selection);\n        return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n    }\n}\n// Assumes the top item has one or more selectionAfter values\nfunction popSelection(branch) {\n    let last = branch[branch.length - 1];\n    let newBranch = branch.slice();\n    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n    return newBranch;\n}\n// Add a mapping to the top event in the given branch. If this maps\n// away all the changes and effects in that item, drop it and\n// propagate the mapping to the next item.\nfunction addMappingToBranch(branch, mapping) {\n    if (!branch.length)\n        return branch;\n    let length = branch.length, selections = none;\n    while (length) {\n        let event = mapEvent(branch[length - 1], mapping, selections);\n        if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n            let result = branch.slice(0, length);\n            result[length - 1] = event;\n            return result;\n        }\n        else { // Drop this event, since there's no changes or effects left\n            mapping = event.mapped;\n            length--;\n            selections = event.selectionsAfter;\n        }\n    }\n    return selections.length ? [HistEvent.selection(selections)] : none;\n}\nfunction mapEvent(event, mapping, extraSelections) {\n    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none, extraSelections);\n    // Change-less events don't store mappings (they are always the last event in a branch)\n    if (!event.changes)\n        return HistEvent.selection(selections);\n    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n}\nclass HistoryState {\n    constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    isolate() {\n        return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n    }\n    addChanges(event, time, userEvent, newGroupDelay, maxLen) {\n        let done = this.done, lastEvent = done[done.length - 1];\n        if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes &&\n            ((!lastEvent.selectionsAfter.length &&\n                time - this.prevTime < newGroupDelay &&\n                isAdjacent(lastEvent.changes, event.changes)) ||\n                // For compose (but not compose.start) events, always join with previous event\n                userEvent == \"input.type.compose\")) {\n            done = updateBranch(done, done.length - 1, maxLen, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none));\n        }\n        else {\n            done = updateBranch(done, done.length, maxLen, event);\n        }\n        return new HistoryState(done, none, time, userEvent);\n    }\n    addSelection(selection, time, userEvent, newGroupDelay) {\n        let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none;\n        if (last.length > 0 &&\n            time - this.prevTime < newGroupDelay &&\n            userEvent == this.prevUserEvent && userEvent && /^select($|\\.)/.test(userEvent) &&\n            eqSelectionShape(last[last.length - 1], selection))\n            return this;\n        return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n    }\n    addMapping(mapping) {\n        return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n    }\n    pop(side, state, selection) {\n        let branch = side == 0 /* Done */ ? this.done : this.undone;\n        if (branch.length == 0)\n            return null;\n        let event = branch[branch.length - 1];\n        if (selection && event.selectionsAfter.length) {\n            return state.update({\n                selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                annotations: fromHistory.of({ side, rest: popSelection(branch) }),\n                userEvent: side == 0 /* Done */ ? \"select.undo\" : \"select.redo\"\n            });\n        }\n        else if (!event.changes) {\n            return null;\n        }\n        else {\n            let rest = branch.length == 1 ? none : branch.slice(0, branch.length - 1);\n            if (event.mapped)\n                rest = addMappingToBranch(rest, event.mapped);\n            return state.update({\n                changes: event.changes,\n                selection: event.startSelection,\n                effects: event.effects,\n                annotations: fromHistory.of({ side, rest }),\n                filter: false,\n                userEvent: side == 0 /* Done */ ? \"undo\" : \"redo\"\n            });\n        }\n    }\n}\nHistoryState.empty = /*@__PURE__*/new HistoryState(none, none);\n/**\nDefault key bindings for the undo history.\n\n- Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#history.undo).\n- Mod-y (Mod-Shift-z on macOS): [`redo`](https://codemirror.net/6/docs/ref/#history.redo).\n- Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#history.undoSelection).\n- Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#history.redoSelection).\n*/\nconst historyKeymap = [\n    { key: \"Mod-z\", run: undo, preventDefault: true },\n    { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n    { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n    { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n];\n\nexport { history, historyField, historyKeymap, invertedEffects, isolateHistory, redo, redoDepth, redoSelection, undo, undoDepth, undoSelection };\n","import { StateEffect, StateField, Facet, combineConfig } from '@codemirror/state';\nimport { Decoration, EditorView, WidgetType, ViewPlugin } from '@codemirror/view';\nimport { foldable, language } from '@codemirror/language';\nimport { gutter, GutterMarker } from '@codemirror/gutter';\nimport { RangeSet, RangeSetBuilder } from '@codemirror/rangeset';\n\nfunction mapRange(range, mapping) {\n    let from = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);\n    return from >= to ? undefined : { from, to };\n}\n/**\nState effect that can be attached to a transaction to fold the\ngiven range. (You probably only need this in exceptional\ncircumstances—usually you'll just want to let\n[`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode) and the [fold\ngutter](https://codemirror.net/6/docs/ref/#fold.foldGutter) create the transactions.)\n*/\nconst foldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n/**\nState effect that unfolds the given range (if it was folded).\n*/\nconst unfoldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\nfunction selectedLines(view) {\n    let lines = [];\n    for (let { head } of view.state.selection.ranges) {\n        if (lines.some(l => l.from <= head && l.to >= head))\n            continue;\n        lines.push(view.visualLineAt(head));\n    }\n    return lines;\n}\nconst foldState = /*@__PURE__*/StateField.define({\n    create() {\n        return Decoration.none;\n    },\n    update(folded, tr) {\n        folded = folded.map(tr.changes);\n        for (let e of tr.effects) {\n            if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to))\n                folded = folded.update({ add: [foldWidget.range(e.value.from, e.value.to)] });\n            else if (e.is(unfoldEffect))\n                folded = folded.update({ filter: (from, to) => e.value.from != from || e.value.to != to,\n                    filterFrom: e.value.from, filterTo: e.value.to });\n        }\n        // Clear folded ranges that cover the selection head\n        if (tr.selection) {\n            let onSelection = false, { head } = tr.selection.main;\n            folded.between(head, head, (a, b) => { if (a < head && b > head)\n                onSelection = true; });\n            if (onSelection)\n                folded = folded.update({\n                    filterFrom: head,\n                    filterTo: head,\n                    filter: (a, b) => b <= head || a >= head\n                });\n        }\n        return folded;\n    },\n    provide: f => EditorView.decorations.from(f)\n});\n/**\nGet a [range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) containing the folded ranges\nin the given state.\n*/\nfunction foldedRanges(state) {\n    return state.field(foldState, false) || RangeSet.empty;\n}\nfunction foldInside(state, from, to) {\n    var _a;\n    let found = null;\n    (_a = state.field(foldState, false)) === null || _a === void 0 ? void 0 : _a.between(from, to, (from, to) => {\n        if (!found || found.from > from)\n            found = { from, to };\n    });\n    return found;\n}\nfunction foldExists(folded, from, to) {\n    let found = false;\n    folded.between(from, from, (a, b) => { if (a == from && b == to)\n        found = true; });\n    return found;\n}\nfunction maybeEnable(state, other) {\n    return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));\n}\n/**\nFold the lines that are selected, if possible.\n*/\nconst foldCode = view => {\n    for (let line of selectedLines(view)) {\n        let range = foldable(view.state, line.from, line.to);\n        if (range) {\n            view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });\n            return true;\n        }\n    }\n    return false;\n};\n/**\nUnfold folded ranges on selected lines.\n*/\nconst unfoldCode = view => {\n    if (!view.state.field(foldState, false))\n        return false;\n    let effects = [];\n    for (let line of selectedLines(view)) {\n        let folded = foldInside(view.state, line.from, line.to);\n        if (folded)\n            effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n    }\n    if (effects.length)\n        view.dispatch({ effects });\n    return effects.length > 0;\n};\nfunction announceFold(view, range, fold = true) {\n    let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;\n    return EditorView.announce.of(`${view.state.phrase(fold ? \"Folded lines\" : \"Unfolded lines\")} ${lineFrom} ${view.state.phrase(\"to\")} ${lineTo}.`);\n}\n/**\nFold all top-level foldable ranges.\n*/\nconst foldAll = view => {\n    let { state } = view, effects = [];\n    for (let pos = 0; pos < state.doc.length;) {\n        let line = view.visualLineAt(pos), range = foldable(state, line.from, line.to);\n        if (range)\n            effects.push(foldEffect.of(range));\n        pos = (range ? view.visualLineAt(range.to) : line).to + 1;\n    }\n    if (effects.length)\n        view.dispatch({ effects: maybeEnable(view.state, effects) });\n    return !!effects.length;\n};\n/**\nUnfold all folded code.\n*/\nconst unfoldAll = view => {\n    let field = view.state.field(foldState, false);\n    if (!field || !field.size)\n        return false;\n    let effects = [];\n    field.between(0, view.state.doc.length, (from, to) => { effects.push(unfoldEffect.of({ from, to })); });\n    view.dispatch({ effects });\n    return true;\n};\n/**\nDefault fold-related key bindings.\n\n - Ctrl-Shift-[ (Cmd-Alt-[ on macOS): [`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode).\n - Ctrl-Shift-] (Cmd-Alt-] on macOS): [`unfoldCode`](https://codemirror.net/6/docs/ref/#fold.unfoldCode).\n - Ctrl-Alt-[: [`foldAll`](https://codemirror.net/6/docs/ref/#fold.foldAll).\n - Ctrl-Alt-]: [`unfoldAll`](https://codemirror.net/6/docs/ref/#fold.unfoldAll).\n*/\nconst foldKeymap = [\n    { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\n    { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\n    { key: \"Ctrl-Alt-[\", run: foldAll },\n    { key: \"Ctrl-Alt-]\", run: unfoldAll }\n];\nconst defaultConfig = {\n    placeholderDOM: null,\n    placeholderText: \"…\"\n};\nconst foldConfig = /*@__PURE__*/Facet.define({\n    combine(values) { return combineConfig(values, defaultConfig); }\n});\n/**\nCreate an extension that configures code folding.\n*/\nfunction codeFolding(config) {\n    let result = [foldState, baseTheme];\n    if (config)\n        result.push(foldConfig.of(config));\n    return result;\n}\nconst foldWidget = /*@__PURE__*/Decoration.replace({ widget: /*@__PURE__*/new class extends WidgetType {\n        ignoreEvents() { return false; }\n        toDOM(view) {\n            let { state } = view, conf = state.facet(foldConfig);\n            let onclick = (event) => {\n                let line = view.visualLineAt(view.posAtDOM(event.target));\n                let folded = foldInside(view.state, line.from, line.to);\n                if (folded)\n                    view.dispatch({ effects: unfoldEffect.of(folded) });\n                event.preventDefault();\n            };\n            if (conf.placeholderDOM)\n                return conf.placeholderDOM(view, onclick);\n            let element = document.createElement(\"span\");\n            element.textContent = conf.placeholderText;\n            element.setAttribute(\"aria-label\", state.phrase(\"folded code\"));\n            element.title = state.phrase(\"unfold\");\n            element.className = \"cm-foldPlaceholder\";\n            element.onclick = onclick;\n            return element;\n        }\n    } });\nconst foldGutterDefaults = {\n    openText: \"⌄\",\n    closedText: \"›\",\n    markerDOM: null,\n};\nclass FoldMarker extends GutterMarker {\n    constructor(config, open) {\n        super();\n        this.config = config;\n        this.open = open;\n    }\n    eq(other) { return this.config == other.config && this.open == other.open; }\n    toDOM(view) {\n        if (this.config.markerDOM)\n            return this.config.markerDOM(this.open);\n        let span = document.createElement(\"span\");\n        span.textContent = this.open ? this.config.openText : this.config.closedText;\n        span.title = view.state.phrase(this.open ? \"Fold line\" : \"Unfold line\");\n        return span;\n    }\n}\n/**\nCreate an extension that registers a fold gutter, which shows a\nfold status indicator before foldable lines (which can be clicked\nto fold or unfold the line).\n*/\nfunction foldGutter(config = {}) {\n    let fullConfig = Object.assign(Object.assign({}, foldGutterDefaults), config);\n    let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);\n    let markers = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.from = view.viewport.from;\n            this.markers = this.buildMarkers(view);\n        }\n        update(update) {\n            if (update.docChanged || update.viewportChanged ||\n                update.startState.facet(language) != update.state.facet(language) ||\n                update.startState.field(foldState, false) != update.state.field(foldState, false))\n                this.markers = this.buildMarkers(update.view);\n        }\n        buildMarkers(view) {\n            let builder = new RangeSetBuilder();\n            view.viewportLines(line => {\n                let mark = foldInside(view.state, line.from, line.to) ? canUnfold\n                    : foldable(view.state, line.from, line.to) ? canFold : null;\n                if (mark)\n                    builder.add(line.from, line.from, mark);\n            });\n            return builder.finish();\n        }\n    });\n    return [\n        markers,\n        gutter({\n            class: \"cm-foldGutter\",\n            markers(view) { var _a; return ((_a = view.plugin(markers)) === null || _a === void 0 ? void 0 : _a.markers) || RangeSet.empty; },\n            initialSpacer() {\n                return new FoldMarker(fullConfig, false);\n            },\n            domEventHandlers: {\n                click: (view, line) => {\n                    let folded = foldInside(view.state, line.from, line.to);\n                    if (folded) {\n                        view.dispatch({ effects: unfoldEffect.of(folded) });\n                        return true;\n                    }\n                    let range = foldable(view.state, line.from, line.to);\n                    if (range) {\n                        view.dispatch({ effects: foldEffect.of(range) });\n                        return true;\n                    }\n                    return false;\n                }\n            }\n        }),\n        codeFolding()\n    ];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"#eee\",\n        border: \"1px solid #ddd\",\n        color: \"#888\",\n        borderRadius: \".2em\",\n        margin: \"0 1px\",\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    },\n    \".cm-foldGutter span\": {\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    }\n});\n\nexport { codeFolding, foldAll, foldCode, foldEffect, foldGutter, foldKeymap, foldedRanges, unfoldAll, unfoldCode, unfoldEffect };\n","import { Facet, combineConfig, StateField } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { EditorView, Decoration } from '@codemirror/view';\nimport { NodeProp } from '@lezer/common';\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-matchingBracket\": { backgroundColor: \"#328c8252\" },\n    \".cm-nonmatchingBracket\": { backgroundColor: \"#bb555544\" }\n});\nconst DefaultScanDist = 10000, DefaultBrackets = \"()[]{}\";\nconst bracketMatchingConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            afterCursor: true,\n            brackets: DefaultBrackets,\n            maxScanDistance: DefaultScanDist\n        });\n    }\n});\nconst matchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-matchingBracket\" }), nonmatchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-nonmatchingBracket\" });\nconst bracketMatchingState = /*@__PURE__*/StateField.define({\n    create() { return Decoration.none; },\n    update(deco, tr) {\n        if (!tr.docChanged && !tr.selection)\n            return deco;\n        let decorations = [];\n        let config = tr.state.facet(bracketMatchingConfig);\n        for (let range of tr.state.selection.ranges) {\n            if (!range.empty)\n                continue;\n            let match = matchBrackets(tr.state, range.head, -1, config)\n                || (range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config))\n                || (config.afterCursor &&\n                    (matchBrackets(tr.state, range.head, 1, config) ||\n                        (range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config))));\n            if (!match)\n                continue;\n            let mark = match.matched ? matchingMark : nonmatchingMark;\n            decorations.push(mark.range(match.start.from, match.start.to));\n            if (match.end)\n                decorations.push(mark.range(match.end.from, match.end.to));\n        }\n        return Decoration.set(decorations, true);\n    },\n    provide: f => EditorView.decorations.from(f)\n});\nconst bracketMatchingUnique = [\n    bracketMatchingState,\n    baseTheme\n];\n/**\nCreate an extension that enables bracket matching. Whenever the\ncursor is next to a bracket, that bracket and the one it matches\nare highlighted. Or, when no matching bracket is found, another\nhighlighting style is used to indicate this.\n*/\nfunction bracketMatching(config = {}) {\n    return [bracketMatchingConfig.of(config), bracketMatchingUnique];\n}\nfunction matchingNodes(node, dir, brackets) {\n    let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);\n    if (byProp)\n        return byProp;\n    if (node.name.length == 1) {\n        let index = brackets.indexOf(node.name);\n        if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))\n            return [brackets[index + dir]];\n    }\n    return null;\n}\n/**\nFind the matching bracket for the token at `pos`, scanning\ndirection `dir`. Only the `brackets` and `maxScanDistance`\nproperties are used from `config`, if given. Returns null if no\nbracket was found at `pos`, or a match result otherwise.\n*/\nfunction matchBrackets(state, pos, dir, config = {}) {\n    let maxScanDistance = config.maxScanDistance || DefaultScanDist, brackets = config.brackets || DefaultBrackets;\n    let tree = syntaxTree(state), node = tree.resolveInner(pos, dir);\n    for (let cur = node; cur; cur = cur.parent) {\n        let matches = matchingNodes(cur.type, dir, brackets);\n        if (matches && cur.from < cur.to)\n            return matchMarkedBrackets(state, pos, dir, cur, matches, brackets);\n    }\n    return matchPlainBrackets(state, pos, dir, tree, node.type, maxScanDistance, brackets);\n}\nfunction matchMarkedBrackets(_state, _pos, dir, token, matching, brackets) {\n    let parent = token.parent, firstToken = { from: token.from, to: token.to };\n    let depth = 0, cursor = parent === null || parent === void 0 ? void 0 : parent.cursor;\n    if (cursor && (dir < 0 ? cursor.childBefore(token.from) : cursor.childAfter(token.to)))\n        do {\n            if (dir < 0 ? cursor.to <= token.from : cursor.from >= token.to) {\n                if (depth == 0 && matching.indexOf(cursor.type.name) > -1 && cursor.from < cursor.to) {\n                    return { start: firstToken, end: { from: cursor.from, to: cursor.to }, matched: true };\n                }\n                else if (matchingNodes(cursor.type, dir, brackets)) {\n                    depth++;\n                }\n                else if (matchingNodes(cursor.type, -dir, brackets)) {\n                    depth--;\n                    if (depth == 0)\n                        return {\n                            start: firstToken,\n                            end: cursor.from == cursor.to ? undefined : { from: cursor.from, to: cursor.to },\n                            matched: false\n                        };\n                }\n            }\n        } while (dir < 0 ? cursor.prevSibling() : cursor.nextSibling());\n    return { start: firstToken, matched: false };\n}\nfunction matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {\n    let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);\n    let bracket = brackets.indexOf(startCh);\n    if (bracket < 0 || (bracket % 2 == 0) != (dir > 0))\n        return null;\n    let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };\n    let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;\n    for (let distance = 0; !(iter.next()).done && distance <= maxScanDistance;) {\n        let text = iter.value;\n        if (dir < 0)\n            distance += text.length;\n        let basePos = pos + distance * dir;\n        for (let pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n            let found = brackets.indexOf(text[pos]);\n            if (found < 0 || tree.resolve(basePos + pos, 1).type != tokenType)\n                continue;\n            if ((found % 2 == 0) == (dir > 0)) {\n                depth++;\n            }\n            else if (depth == 1) { // Closing\n                return { start: startToken, end: { from: basePos + pos, to: basePos + pos + 1 }, matched: (found >> 1) == (bracket >> 1) };\n            }\n            else {\n                depth--;\n            }\n        }\n        if (dir > 0)\n            distance += text.length;\n    }\n    return iter.done ? { start: startToken, matched: false } : null;\n}\n\nexport { bracketMatching, matchBrackets };\n","import { EditorSelection, CharCategory } from '@codemirror/state';\nimport { Text, findClusterBreak, countColumn } from '@codemirror/text';\nimport { Direction, EditorView, PluginField } from '@codemirror/view';\nimport { matchBrackets } from '@codemirror/matchbrackets';\nimport { IndentContext, getIndentation, indentString, indentUnit, getIndentUnit, syntaxTree } from '@codemirror/language';\nimport { NodeProp } from '@lezer/common';\n\nfunction updateSel(sel, by) {\n    return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n}\nfunction setSel(state, selection) {\n    return state.update({ selection, scrollIntoView: true, userEvent: \"select\" });\n}\nfunction moveSel({ state, dispatch }, how) {\n    let selection = updateSel(state.selection, how);\n    if (selection.eq(state.selection))\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\nfunction rangeEnd(range, forward) {\n    return EditorSelection.cursor(forward ? range.to : range.from);\n}\nfunction cursorByChar(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one character to the left (which is backward in\nleft-to-right text, forward in right-to-left text).\n*/\nconst cursorCharLeft = view => cursorByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one character to the right.\n*/\nconst cursorCharRight = view => cursorByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one character forward.\n*/\nconst cursorCharForward = view => cursorByChar(view, true);\n/**\nMove the selection one character backward.\n*/\nconst cursorCharBackward = view => cursorByChar(view, false);\nfunction cursorByGroup(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection to the left across one group of word or\nnon-word (but also non-space) characters.\n*/\nconst cursorGroupLeft = view => cursorByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one group to the right.\n*/\nconst cursorGroupRight = view => cursorByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one group forward.\n*/\nconst cursorGroupForward = view => cursorByGroup(view, true);\n/**\nMove the selection one group backward.\n*/\nconst cursorGroupBackward = view => cursorByGroup(view, false);\nfunction moveBySubword(view, range, forward) {\n    let categorize = view.state.charCategorizer(range.from);\n    return view.moveByChar(range, forward, start => {\n        let cat = CharCategory.Space, pos = range.from;\n        let done = false, sawUpper = false, sawLower = false;\n        let step = (next) => {\n            if (done)\n                return false;\n            pos += forward ? next.length : -next.length;\n            let nextCat = categorize(next), ahead;\n            if (cat == CharCategory.Space)\n                cat = nextCat;\n            if (cat != nextCat)\n                return false;\n            if (cat == CharCategory.Word) {\n                if (next.toLowerCase() == next) {\n                    if (!forward && sawUpper)\n                        return false;\n                    sawLower = true;\n                }\n                else if (sawLower) {\n                    if (forward)\n                        return false;\n                    done = true;\n                }\n                else {\n                    if (sawUpper && forward && categorize(ahead = view.state.sliceDoc(pos, pos + 1)) == CharCategory.Word &&\n                        ahead.toLowerCase() == ahead)\n                        return false;\n                    sawUpper = true;\n                }\n            }\n            return true;\n        };\n        step(start);\n        return step;\n    });\n}\nfunction cursorBySubword(view, forward) {\n    return moveSel(view, range => range.empty ? moveBySubword(view, range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one group or camel-case subword forward.\n*/\nconst cursorSubwordForward = view => cursorBySubword(view, true);\n/**\nMove the selection one group or camel-case subword backward.\n*/\nconst cursorSubwordBackward = view => cursorBySubword(view, false);\nfunction interestingNode(state, node, bracketProp) {\n    if (node.type.prop(bracketProp))\n        return true;\n    let len = node.to - node.from;\n    return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n}\nfunction moveBySyntax(state, start, forward) {\n    let pos = syntaxTree(state).resolveInner(start.head);\n    let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n    // Scan forward through child nodes to see if there's an interesting\n    // node ahead.\n    for (let at = start.head;;) {\n        let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n        if (!next)\n            break;\n        if (interestingNode(state, next, bracketProp))\n            pos = next;\n        else\n            at = forward ? next.to : next.from;\n    }\n    let bracket = pos.type.prop(bracketProp), match, newPos;\n    if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n        newPos = forward ? match.end.to : match.end.from;\n    else\n        newPos = forward ? pos.to : pos.from;\n    return EditorSelection.cursor(newPos, forward ? -1 : 1);\n}\n/**\nMove the cursor over the next syntactic element to the left.\n*/\nconst cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the cursor over the next syntactic element to the right.\n*/\nconst cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction cursorByLine(view, forward) {\n    return moveSel(view, range => {\n        if (!range.empty)\n            return rangeEnd(range, forward);\n        let moved = view.moveVertically(range, forward);\n        return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);\n    });\n}\n/**\nMove the selection one line up.\n*/\nconst cursorLineUp = view => cursorByLine(view, false);\n/**\nMove the selection one line down.\n*/\nconst cursorLineDown = view => cursorByLine(view, true);\nfunction cursorByPage(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveVertically(range, forward, view.dom.clientHeight) : rangeEnd(range, forward));\n}\n/**\nMove the selection one page up.\n*/\nconst cursorPageUp = view => cursorByPage(view, false);\n/**\nMove the selection one page down.\n*/\nconst cursorPageDown = view => cursorByPage(view, true);\nfunction moveByLineBoundary(view, start, forward) {\n    let line = view.visualLineAt(start.head), moved = view.moveToLineBoundary(start, forward);\n    if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n        moved = view.moveToLineBoundary(start, forward, false);\n    if (!forward && moved.head == line.from && line.length) {\n        let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n        if (space && start.head != line.from + space)\n            moved = EditorSelection.cursor(line.from + space);\n    }\n    return moved;\n}\n/**\nMove the selection to the next line wrap point, or to the end of\nthe line if there isn't one left on this line.\n*/\nconst cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection to previous line wrap point, or failing that to\nthe start of the line. If the line is indented, and the cursor\nisn't already at the end of the indentation, this will move to the\nend of the indentation instead of the start of the line.\n*/\nconst cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection to the start of the line.\n*/\nconst cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from, 1));\n/**\nMove the selection to the end of the line.\n*/\nconst cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to, -1));\nfunction toMatchingBracket(state, dispatch, extend) {\n    let found = false, selection = updateSel(state.selection, range => {\n        let matching = matchBrackets(state, range.head, -1)\n            || matchBrackets(state, range.head, 1)\n            || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n            || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n        if (!matching || !matching.end)\n            return range;\n        found = true;\n        let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n        return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);\n    });\n    if (!found)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\n/**\nMove the selection to the bracket matching the one it is currently\non, if any.\n*/\nconst cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);\n/**\nExtend the selection to the bracket matching the one the selection\nhead is currently on, if any.\n*/\nconst selectMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, true);\nfunction extendSel(view, how) {\n    let selection = updateSel(view.state.selection, range => {\n        let head = how(range);\n        return EditorSelection.range(range.anchor, head.head, head.goalColumn);\n    });\n    if (selection.eq(view.state.selection))\n        return false;\n    view.dispatch(setSel(view.state, selection));\n    return true;\n}\nfunction selectByChar(view, forward) {\n    return extendSel(view, range => view.moveByChar(range, forward));\n}\n/**\nMove the selection head one character to the left, while leaving\nthe anchor in place.\n*/\nconst selectCharLeft = view => selectByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one character to the right.\n*/\nconst selectCharRight = view => selectByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one character forward.\n*/\nconst selectCharForward = view => selectByChar(view, true);\n/**\nMove the selection head one character backward.\n*/\nconst selectCharBackward = view => selectByChar(view, false);\nfunction selectByGroup(view, forward) {\n    return extendSel(view, range => view.moveByGroup(range, forward));\n}\n/**\nMove the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\nthe left.\n*/\nconst selectGroupLeft = view => selectByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one group to the right.\n*/\nconst selectGroupRight = view => selectByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one group forward.\n*/\nconst selectGroupForward = view => selectByGroup(view, true);\n/**\nMove the selection head one group backward.\n*/\nconst selectGroupBackward = view => selectByGroup(view, false);\nfunction selectBySubword(view, forward) {\n    return extendSel(view, range => moveBySubword(view, range, forward));\n}\n/**\nMove the selection head one group or camel-case subword forward.\n*/\nconst selectSubwordForward = view => selectBySubword(view, true);\n/**\nMove the selection head one group or subword backward.\n*/\nconst selectSubwordBackward = view => selectBySubword(view, false);\n/**\nMove the selection head over the next syntactic element to the left.\n*/\nconst selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the selection head over the next syntactic element to the right.\n*/\nconst selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction selectByLine(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward));\n}\n/**\nMove the selection head one line up.\n*/\nconst selectLineUp = view => selectByLine(view, false);\n/**\nMove the selection head one line down.\n*/\nconst selectLineDown = view => selectByLine(view, true);\nfunction selectByPage(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward, view.dom.clientHeight));\n}\n/**\nMove the selection head one page up.\n*/\nconst selectPageUp = view => selectByPage(view, false);\n/**\nMove the selection head one page down.\n*/\nconst selectPageDown = view => selectByPage(view, true);\n/**\nMove the selection head to the next line boundary.\n*/\nconst selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection head to the previous line boundary.\n*/\nconst selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection head to the start of the line.\n*/\nconst selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from));\n/**\nMove the selection head to the end of the line.\n*/\nconst selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to));\n/**\nMove the selection to the start of the document.\n*/\nconst cursorDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: 0 }));\n    return true;\n};\n/**\nMove the selection to the end of the document.\n*/\nconst cursorDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.doc.length }));\n    return true;\n};\n/**\nMove the selection head to the start of the document.\n*/\nconst selectDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n    return true;\n};\n/**\nMove the selection head to the end of the document.\n*/\nconst selectDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n    return true;\n};\n/**\nSelect the entire document.\n*/\nconst selectAll = ({ state, dispatch }) => {\n    dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: \"select\" }));\n    return true;\n};\n/**\nExpand the selection to cover entire lines.\n*/\nconst selectLine = ({ state, dispatch }) => {\n    let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n    dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: \"select\" }));\n    return true;\n};\n/**\nSelect the next syntactic construct that is larger than the\nselection. Note that this will only work insofar as the language\n[provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\nsyntax tree.\n*/\nconst selectParentSyntax = ({ state, dispatch }) => {\n    let selection = updateSel(state.selection, range => {\n        var _a;\n        let context = syntaxTree(state).resolveInner(range.head, 1);\n        while (!((context.from < range.from && context.to >= range.to) ||\n            (context.to > range.to && context.from <= range.from) ||\n            !((_a = context.parent) === null || _a === void 0 ? void 0 : _a.parent)))\n            context = context.parent;\n        return EditorSelection.range(context.to, context.from);\n    });\n    dispatch(setSel(state, selection));\n    return true;\n};\n/**\nSimplify the current selection. When multiple ranges are selected,\nreduce it to its main range. Otherwise, if the selection is\nnon-empty, convert it to a cursor selection.\n*/\nconst simplifySelection = ({ state, dispatch }) => {\n    let cur = state.selection, selection = null;\n    if (cur.ranges.length > 1)\n        selection = EditorSelection.create([cur.main]);\n    else if (!cur.main.empty)\n        selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n    if (!selection)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n};\nfunction deleteBy({ state, dispatch }, by) {\n    if (state.readOnly)\n        return false;\n    let event = \"delete.selection\";\n    let changes = state.changeByRange(range => {\n        let { from, to } = range;\n        if (from == to) {\n            let towards = by(from);\n            if (towards < from)\n                event = \"delete.backward\";\n            else if (towards > from)\n                event = \"delete.forward\";\n            from = Math.min(from, towards);\n            to = Math.max(to, towards);\n        }\n        return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: event }));\n    return true;\n}\nfunction skipAtomic(target, pos, forward) {\n    if (target instanceof EditorView)\n        for (let ranges of target.pluginField(PluginField.atomicRanges))\n            ranges.between(pos, pos, (from, to) => {\n                if (from < pos && to > pos)\n                    pos = forward ? to : from;\n            });\n    return pos;\n}\nconst deleteByChar = (target, forward) => deleteBy(target, pos => {\n    let { state } = target, line = state.doc.lineAt(pos), before, targetPos;\n    if (!forward && pos > line.from && pos < line.from + 200 &&\n        !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n        if (before[before.length - 1] == \"\\t\")\n            return pos - 1;\n        let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n        for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n            pos--;\n        targetPos = pos;\n    }\n    else {\n        targetPos = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n            targetPos += forward ? 1 : -1;\n    }\n    return skipAtomic(target, targetPos, forward);\n});\n/**\nDelete the selection, or, for cursor selections, the character\nbefore the cursor.\n*/\nconst deleteCharBackward = view => deleteByChar(view, false);\n/**\nDelete the selection or the character after the cursor.\n*/\nconst deleteCharForward = view => deleteByChar(view, true);\nconst deleteByGroup = (target, forward) => deleteBy(target, start => {\n    let pos = start, { state } = target, line = state.doc.lineAt(pos);\n    let categorize = state.charCategorizer(pos);\n    for (let cat = null;;) {\n        if (pos == (forward ? line.to : line.from)) {\n            if (pos == start && line.number != (forward ? state.doc.lines : 1))\n                pos += forward ? 1 : -1;\n            break;\n        }\n        let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n        let nextCat = categorize(nextChar);\n        if (cat != null && nextCat != cat)\n            break;\n        if (nextChar != \" \" || pos != start)\n            cat = nextCat;\n        pos = next;\n    }\n    return skipAtomic(target, pos, forward);\n});\n/**\nDelete the selection or backward until the end of the next\n[group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\nwhitespace when they consist of a single space.\n*/\nconst deleteGroupBackward = target => deleteByGroup(target, false);\n/**\nDelete the selection or forward until the end of the next group.\n*/\nconst deleteGroupForward = target => deleteByGroup(target, true);\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe end of the line. If the cursor is directly at the end of the\nline, delete the line break after it.\n*/\nconst deleteToLineEnd = view => deleteBy(view, pos => {\n    let lineEnd = view.visualLineAt(pos).to;\n    return skipAtomic(view, pos < lineEnd ? lineEnd : Math.min(view.state.doc.length, pos + 1), true);\n});\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe start of the line. If the cursor is directly at the start of the\nline, delete the line break before it.\n*/\nconst deleteToLineStart = view => deleteBy(view, pos => {\n    let lineStart = view.visualLineAt(pos).from;\n    return skipAtomic(view, pos > lineStart ? lineStart : Math.max(0, pos - 1), false);\n});\n/**\nDelete all whitespace directly before a line end from the\ndocument.\n*/\nconst deleteTrailingWhitespace = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let pos = 0, prev = \"\", iter = state.doc.iter();;) {\n        iter.next();\n        if (iter.lineBreak || iter.done) {\n            let trailing = prev.search(/\\s+$/);\n            if (trailing > -1)\n                changes.push({ from: pos - (prev.length - trailing), to: pos });\n            if (iter.done)\n                break;\n            prev = \"\";\n        }\n        else {\n            prev = iter.value;\n        }\n        pos += iter.value.length;\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({ changes, userEvent: \"delete\" }));\n    return true;\n};\n/**\nReplace each selection range with a line break, leaving the cursor\non the line before the break.\n*/\nconst splitLine = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n            range: EditorSelection.cursor(range.from) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nFlip the characters before and after the cursor(s).\n*/\nconst transposeChars = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        if (!range.empty || range.from == 0 || range.from == state.doc.length)\n            return { range };\n        let pos = range.from, line = state.doc.lineAt(pos);\n        let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n        let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n        return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n            range: EditorSelection.cursor(to) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"move.character\" }));\n    return true;\n};\nfunction selectedLineBlocks(state) {\n    let blocks = [], upto = -1;\n    for (let range of state.selection.ranges) {\n        let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n        if (!range.empty && range.to == endLine.from)\n            endLine = state.doc.lineAt(range.to - 1);\n        if (upto >= startLine.number) {\n            let prev = blocks[blocks.length - 1];\n            prev.to = endLine.to;\n            prev.ranges.push(range);\n        }\n        else {\n            blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n        }\n        upto = endLine.number + 1;\n    }\n    return blocks;\n}\nfunction moveLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [], ranges = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward ? block.to == state.doc.length : block.from == 0)\n            continue;\n        let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n        let size = nextLine.length + 1;\n        if (forward) {\n            changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n        }\n        else {\n            changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n        }\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({\n        changes,\n        scrollIntoView: true,\n        selection: EditorSelection.create(ranges, state.selection.mainIndex),\n        userEvent: \"move.line\"\n    }));\n    return true;\n}\n/**\nMove the selected lines up one line.\n*/\nconst moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n/**\nMove the selected lines down one line.\n*/\nconst moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\nfunction copyLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward)\n            changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n        else\n            changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n    }\n    dispatch(state.update({ changes, scrollIntoView: true, userEvent: \"input.copyline\" }));\n    return true;\n}\n/**\nCreate a copy of the selected lines. Keep the selection in the top copy.\n*/\nconst copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n/**\nCreate a copy of the selected lines. Keep the selection in the bottom copy.\n*/\nconst copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n/**\nDelete selected lines.\n*/\nconst deleteLine = view => {\n    if (view.state.readOnly)\n        return false;\n    let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n        if (from > 0)\n            from--;\n        else if (to < state.doc.length)\n            to++;\n        return { from, to };\n    }));\n    let selection = updateSel(state.selection, range => view.moveVertically(range, true)).map(changes);\n    view.dispatch({ changes, selection, scrollIntoView: true, userEvent: \"delete.line\" });\n    return true;\n};\n/**\nReplace the selection with a newline.\n*/\nconst insertNewline = ({ state, dispatch }) => {\n    dispatch(state.update(state.replaceSelection(state.lineBreak), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\nfunction isBetweenBrackets(state, pos) {\n    if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n        return { from: pos, to: pos };\n    let context = syntaxTree(state).resolveInner(pos);\n    let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n    if (before && after && before.to <= pos && after.from >= pos &&\n        (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n        state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from)\n        return { from: before.to, to: after.from };\n    return null;\n}\n/**\nReplace the selection with a newline and indent the newly created\nline(s). If the current line consists only of whitespace, this\nwill also delete that whitespace. When the cursor is between\nmatching brackets, an additional newline will be inserted after\nthe cursor.\n*/\nconst insertNewlineAndIndent = /*@__PURE__*/newlineAndIndent(false);\n/**\nCreate a blank, indented line below the current line.\n*/\nconst insertBlankLine = /*@__PURE__*/newlineAndIndent(true);\nfunction newlineAndIndent(atEof) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let changes = state.changeByRange(range => {\n            let { from, to } = range, line = state.doc.lineAt(from);\n            let explode = !atEof && from == to && isBetweenBrackets(state, from);\n            if (atEof)\n                from = to = (to <= line.to ? line : state.doc.lineAt(to)).to;\n            let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n            let indent = getIndentation(cx, from);\n            if (indent == null)\n                indent = /^\\s*/.exec(state.doc.lineAt(from).text)[0].length;\n            while (to < line.to && /\\s/.test(line.text[to - line.from]))\n                to++;\n            if (explode)\n                ({ from, to } = explode);\n            else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n                from = line.from;\n            let insert = [\"\", indentString(state, indent)];\n            if (explode)\n                insert.push(indentString(state, cx.lineIndent(line.from, -1)));\n            return { changes: { from, to, insert: Text.of(insert) },\n                range: EditorSelection.cursor(from + 1 + insert[1].length) };\n        });\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n        return true;\n    };\n}\nfunction changeBySelectedLine(state, f) {\n    let atLine = -1;\n    return state.changeByRange(range => {\n        let changes = [];\n        for (let pos = range.from; pos <= range.to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.number > atLine && (range.empty || range.to > line.from)) {\n                f(line, changes, range);\n                atLine = line.number;\n            }\n            pos = line.to + 1;\n        }\n        let changeSet = state.changes(changes);\n        return { changes,\n            range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n    });\n}\n/**\nAuto-indent the selected lines. This uses the [indentation service\nfacet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\ninformation.\n*/\nconst indentSelection = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => {\n            let found = updated[start];\n            return found == null ? -1 : found;\n        } });\n    let changes = changeBySelectedLine(state, (line, changes, range) => {\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            return;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm || range.from < line.from + cur.length) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    });\n    if (!changes.changes.empty)\n        dispatch(state.update(changes, { userEvent: \"indent\" }));\n    return true;\n};\n/**\nAdd a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\nlines.\n*/\nconst indentMore = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        changes.push({ from: line.from, insert: state.facet(indentUnit) });\n    }), { userEvent: \"input.indent\" }));\n    return true;\n};\n/**\nRemove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\nselected lines.\n*/\nconst indentLess = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        let space = /^\\s*/.exec(line.text)[0];\n        if (!space)\n            return;\n        let col = countColumn(space, state.tabSize), keep = 0;\n        let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n        while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n            keep++;\n        changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n    }), { userEvent: \"delete.dedent\" }));\n    return true;\n};\n/**\nInsert a tab character at the cursor or, if something is selected,\nuse [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) to indent the entire\nselection.\n*/\nconst insertTab = ({ state, dispatch }) => {\n    if (state.selection.ranges.some(r => !r.empty))\n        return indentMore({ state, dispatch });\n    dispatch(state.update(state.replaceSelection(\"\\t\"), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nArray of key bindings containing the Emacs-style bindings that are\navailable on macOS by default.\n\n - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n - Alt-<: [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart)\n - Alt->: [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd)\n - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n*/\nconst emacsStyleKeymap = [\n    { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n    { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n    { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n    { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n    { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n    { key: \"Ctrl-d\", run: deleteCharForward },\n    { key: \"Ctrl-h\", run: deleteCharBackward },\n    { key: \"Ctrl-k\", run: deleteToLineEnd },\n    { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n    { key: \"Ctrl-o\", run: splitLine },\n    { key: \"Ctrl-t\", run: transposeChars },\n    { key: \"Alt-<\", run: cursorDocStart },\n    { key: \"Alt->\", run: cursorDocEnd },\n    { key: \"Ctrl-v\", run: cursorPageDown },\n    { key: \"Alt-v\", run: cursorPageUp },\n];\n/**\nAn array of key bindings closely sticking to platform-standard or\nwidely used bindings. (This includes the bindings from\n[`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\nproperty changed to `mac`.)\n\n - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n - Backspace: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Cmd-Backspace (macOS): [`deleteToLineStart`](https://codemirror.net/6/docs/ref/#commands.deleteToLineStart).\n - Cmd-Delete (macOS): [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd).\n*/\nconst standardKeymap = /*@__PURE__*/[\n    { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft },\n    { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n    { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight },\n    { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n    { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n    { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n    { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n    { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n    { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n    { key: \"Enter\", run: insertNewlineAndIndent },\n    { key: \"Mod-a\", run: selectAll },\n    { key: \"Backspace\", run: deleteCharBackward, shift: deleteCharBackward },\n    { key: \"Delete\", run: deleteCharForward, shift: deleteCharForward },\n    { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n    { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n    { mac: \"Mod-Backspace\", run: deleteToLineStart },\n    { mac: \"Mod-Delete\", run: deleteToLineEnd }\n].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n/**\nThe default keymap. Includes all bindings from\n[`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n- Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n- Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n- Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n- Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n- Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n- Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n- Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n- Ctrl-Enter (Comd-Enter on macOS): [`insertBlankLine`](https://codemirror.net/6/docs/ref/#commands.insertBlankLine)\n- Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n- Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n- Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n- Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n- Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n- Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n- Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n*/\nconst defaultKeymap = /*@__PURE__*/[\n    { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n    { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n    { key: \"Alt-ArrowUp\", run: moveLineUp },\n    { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n    { key: \"Alt-ArrowDown\", run: moveLineDown },\n    { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n    { key: \"Escape\", run: simplifySelection },\n    { key: \"Mod-Enter\", run: insertBlankLine },\n    { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n    { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n    { key: \"Mod-[\", run: indentLess },\n    { key: \"Mod-]\", run: indentMore },\n    { key: \"Mod-Alt-\\\\\", run: indentSelection },\n    { key: \"Shift-Mod-k\", run: deleteLine },\n    { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket }\n].concat(standardKeymap);\n/**\nA binding that binds Tab to [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) and\nShift-Tab to [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess).\nPlease see the [Tab example](../../examples/tab/) before using\nthis.\n*/\nconst indentWithTab = { key: \"Tab\", run: indentMore, shift: indentLess };\n\nexport { copyLineDown, copyLineUp, cursorCharBackward, cursorCharForward, cursorCharLeft, cursorCharRight, cursorDocEnd, cursorDocStart, cursorGroupBackward, cursorGroupForward, cursorGroupLeft, cursorGroupRight, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorLineDown, cursorLineEnd, cursorLineStart, cursorLineUp, cursorMatchingBracket, cursorPageDown, cursorPageUp, cursorSubwordBackward, cursorSubwordForward, cursorSyntaxLeft, cursorSyntaxRight, defaultKeymap, deleteCharBackward, deleteCharForward, deleteGroupBackward, deleteGroupForward, deleteLine, deleteToLineEnd, deleteToLineStart, deleteTrailingWhitespace, emacsStyleKeymap, indentLess, indentMore, indentSelection, indentWithTab, insertBlankLine, insertNewline, insertNewlineAndIndent, insertTab, moveLineDown, moveLineUp, selectAll, selectCharBackward, selectCharForward, selectCharLeft, selectCharRight, selectDocEnd, selectDocStart, selectGroupBackward, selectGroupForward, selectGroupLeft, selectGroupRight, selectLine, selectLineBoundaryBackward, selectLineBoundaryForward, selectLineDown, selectLineEnd, selectLineStart, selectLineUp, selectMatchingBracket, selectPageDown, selectPageUp, selectParentSyntax, selectSubwordBackward, selectSubwordForward, selectSyntaxLeft, selectSyntaxRight, simplifySelection, splitLine, standardKeymap, transposeChars };\n","import { EditorView } from '@codemirror/view';\nimport { StateEffect, MapMode, StateField, EditorSelection, CharCategory } from '@codemirror/state';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { codePointSize, codePointAt, fromCodePoint } from '@codemirror/text';\nimport { syntaxTree } from '@codemirror/language';\n\nconst defaults = {\n    brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n    before: \")]}'\\\":;>\"\n};\nconst closeBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) {\n        let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n        return mapped == null ? undefined : mapped;\n    }\n});\nconst skipBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) { return mapping.mapPos(value); }\n});\nconst closedBracket = /*@__PURE__*/new class extends RangeValue {\n};\nclosedBracket.startSide = 1;\nclosedBracket.endSide = -1;\nconst bracketState = /*@__PURE__*/StateField.define({\n    create() { return RangeSet.empty; },\n    update(value, tr) {\n        if (tr.selection) {\n            let lineStart = tr.state.doc.lineAt(tr.selection.main.head).from;\n            let prevLineStart = tr.startState.doc.lineAt(tr.startState.selection.main.head).from;\n            if (lineStart != tr.changes.mapPos(prevLineStart, -1))\n                value = RangeSet.empty;\n        }\n        value = value.map(tr.changes);\n        for (let effect of tr.effects) {\n            if (effect.is(closeBracketEffect))\n                value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n            else if (effect.is(skipBracketEffect))\n                value = value.update({ filter: from => from != effect.value });\n        }\n        return value;\n    }\n});\n/**\nExtension to enable bracket-closing behavior. When a closeable\nbracket is typed, its closing bracket is immediately inserted\nafter the cursor. When closing a bracket directly in front of a\nclosing bracket inserted by the extension, the cursor moves over\nthat bracket.\n*/\nfunction closeBrackets() {\n    return [EditorView.inputHandler.of(handleInput), bracketState];\n}\nconst definedClosing = \"()[]{}<>\";\nfunction closing(ch) {\n    for (let i = 0; i < definedClosing.length; i += 2)\n        if (definedClosing.charCodeAt(i) == ch)\n            return definedClosing.charAt(i + 1);\n    return fromCodePoint(ch < 128 ? ch : ch + 1);\n}\nfunction config(state, pos) {\n    return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n}\nfunction handleInput(view, from, to, insert) {\n    if (view.composing)\n        return false;\n    let sel = view.state.selection.main;\n    if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n        from != sel.from || to != sel.to)\n        return false;\n    let tr = insertBracket(view.state, insert);\n    if (!tr)\n        return false;\n    view.dispatch(tr);\n    return true;\n}\n/**\nCommand that implements deleting a pair of matching brackets when\nthe cursor is between them.\n*/\nconst deleteBracketPair = ({ state, dispatch }) => {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty) {\n            let before = prevChar(state.doc, range.head);\n            for (let token of tokens) {\n                if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                    return { changes: { from: range.head - token.length, to: range.head + token.length },\n                        range: EditorSelection.cursor(range.head - token.length),\n                        userEvent: \"delete.backward\" };\n            }\n        }\n        return { range: dont = range };\n    });\n    if (!dont)\n        dispatch(state.update(changes, { scrollIntoView: true }));\n    return !dont;\n};\n/**\nClose-brackets related key bindings. Binds Backspace to\n[`deleteBracketPair`](https://codemirror.net/6/docs/ref/#closebrackets.deleteBracketPair).\n*/\nconst closeBracketsKeymap = [\n    { key: \"Backspace\", run: deleteBracketPair }\n];\n/**\nImplements the extension's behavior on text insertion. If the\ngiven string counts as a bracket in the language around the\nselection, and replacing the selection with it requires custom\nbehavior (inserting a closing version or skipping past a\npreviously-closed bracket), this function returns a transaction\nrepresenting that custom behavior. (You only need this if you want\nto programmatically insert brackets—the\n[`closeBrackets`](https://codemirror.net/6/docs/ref/#closebrackets.closeBrackets) extension will\ntake care of running this for user input.)\n*/\nfunction insertBracket(state, bracket) {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    for (let tok of tokens) {\n        let closed = closing(codePointAt(tok, 0));\n        if (bracket == tok)\n            return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1)\n                : handleOpen(state, tok, closed, conf.before || defaults.before);\n        if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n            return handleClose(state, tok, closed);\n    }\n    return null;\n}\nfunction closedBracketAt(state, pos) {\n    let found = false;\n    state.field(bracketState).between(0, state.doc.length, from => {\n        if (from == pos)\n            found = true;\n    });\n    return found;\n}\nfunction nextChar(doc, pos) {\n    let next = doc.sliceString(pos, pos + 2);\n    return next.slice(0, codePointSize(codePointAt(next, 0)));\n}\nfunction prevChar(doc, pos) {\n    let prev = doc.sliceString(pos - 2, pos);\n    return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n}\nfunction handleOpen(state, open, close, closeBefore) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                effects: closeBracketEffect.of(range.to + open.length),\n                range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n        let next = nextChar(state.doc, range.head);\n        if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n            return { changes: { insert: open + close, from: range.head },\n                effects: closeBracketEffect.of(range.head + open.length),\n                range: EditorSelection.cursor(range.head + open.length) };\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction handleClose(state, _open, close) {\n    let dont = null, moved = state.selection.ranges.map(range => {\n        if (range.empty && nextChar(state.doc, range.head) == close)\n            return EditorSelection.cursor(range.head + close.length);\n        return dont = range;\n    });\n    return dont ? null : state.update({\n        selection: EditorSelection.create(moved, state.selection.mainIndex),\n        scrollIntoView: true,\n        effects: state.selection.ranges.map(({ from }) => skipBracketEffect.of(from))\n    });\n}\n// Handles cases where the open and close token are the same, and\n// possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\nfunction handleSame(state, token, allowTriple) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                effects: closeBracketEffect.of(range.to + token.length),\n                range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n        let pos = range.head, next = nextChar(state.doc, pos);\n        if (next == token) {\n            if (nodeStart(state, pos)) {\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n            }\n            else if (closedBracketAt(state, pos)) {\n                let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                return { range: EditorSelection.cursor(pos + token.length * (isTriple ? 3 : 1)),\n                    effects: skipBracketEffect.of(pos) };\n            }\n        }\n        else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n            nodeStart(state, pos - 2 * token.length)) {\n            return { changes: { insert: token + token + token + token, from: pos },\n                effects: closeBracketEffect.of(pos + token.length),\n                range: EditorSelection.cursor(pos + token.length) };\n        }\n        else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n            let prev = state.sliceDoc(pos - 1, pos);\n            if (prev != token && state.charCategorizer(pos)(prev) != CharCategory.Word)\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n        }\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction nodeStart(state, pos) {\n    let tree = syntaxTree(state).resolveInner(pos + 1);\n    return tree.parent && tree.from == pos;\n}\n\nexport { closeBrackets, closeBracketsKeymap, deleteBracketPair, insertBracket };\n","import { ViewPlugin, PluginField, EditorView } from '@codemirror/view';\nimport { Facet } from '@codemirror/state';\n\nconst panelConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => ({ top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() }))\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    }\n});\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = /*@__PURE__*/Facet.define({\n    enables: [panelPlugin, baseTheme]\n});\n\nexport { getPanel, panels, showPanel };\n","export default function crelt() {\n  var elt = arguments[0]\n  if (typeof elt == \"string\") elt = document.createElement(elt)\n  var i = 1, next = arguments[1]\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n      var value = next[name]\n      if (typeof value == \"string\") elt.setAttribute(name, value)\n      else if (value != null) elt[name] = value\n    }\n    i++\n  }\n  for (; i < arguments.length; i++) add(elt, arguments[i])\n  return elt\n}\n\nfunction add(elt, child) {\n  if (typeof child == \"string\") {\n    elt.appendChild(document.createTextNode(child))\n  } else if (child == null) {\n  } else if (child.nodeType != null) {\n    elt.appendChild(child)\n  } else if (Array.isArray(child)) {\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\n  } else {\n    throw new RangeError(\"Unsupported child node: \" + child)\n  }\n}\n","import { EditorView, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\nimport { StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, Prec } from '@codemirror/state';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\nimport elt from 'crelt';\nimport { codePointAt, fromCodePoint, codePointSize } from '@codemirror/text';\n\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\n    ? x => x.normalize(\"NFKD\") : x => x;\n/**\nA search cursor provides an iterator over text matches in a\ndocument.\n*/\nclass SearchCursor {\n    /**\n    Create a text cursor. The query is the search string, `from` to\n    `to` provides the region to search.\n    \n    When `normalize` is given, it will be called, on both the query\n    string and the content it is matched against, before comparing.\n    You can, for example, create a case-insensitive search by\n    passing `s => s.toLowerCase()`.\n    \n    Text is always normalized with\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n    (when supported).\n    */\n    constructor(text, query, from = 0, to = text.length, normalize) {\n        /**\n        The current match (only holds a meaningful value after\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n        `done` is false).\n        */\n        this.value = { from: 0, to: 0 };\n        /**\n        Whether the end of the iterated region has been reached.\n        */\n        this.done = false;\n        this.matches = [];\n        this.buffer = \"\";\n        this.bufferPos = 0;\n        this.iter = text.iterRange(from, to);\n        this.bufferStart = from;\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n        this.query = this.normalize(query);\n    }\n    peek() {\n        if (this.bufferPos == this.buffer.length) {\n            this.bufferStart += this.buffer.length;\n            this.iter.next();\n            if (this.iter.done)\n                return -1;\n            this.bufferPos = 0;\n            this.buffer = this.iter.value;\n        }\n        return codePointAt(this.buffer, this.bufferPos);\n    }\n    /**\n    Look for the next match. Updates the iterator's\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n    at least once before using the cursor.\n    */\n    next() {\n        while (this.matches.length)\n            this.matches.pop();\n        return this.nextOverlapping();\n    }\n    /**\n    The `next` method will ignore matches that partially overlap a\n    previous match. This method behaves like `next`, but includes\n    such matches.\n    */\n    nextOverlapping() {\n        for (;;) {\n            let next = this.peek();\n            if (next < 0) {\n                this.done = true;\n                return this;\n            }\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n            this.bufferPos += codePointSize(next);\n            let norm = this.normalize(str);\n            for (let i = 0, pos = start;; i++) {\n                let code = norm.charCodeAt(i);\n                let match = this.match(code, pos);\n                if (match) {\n                    this.value = match;\n                    return this;\n                }\n                if (i == norm.length - 1)\n                    break;\n                if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                    pos++;\n            }\n        }\n    }\n    match(code, pos) {\n        let match = null;\n        for (let i = 0; i < this.matches.length; i += 2) {\n            let index = this.matches[i], keep = false;\n            if (this.query.charCodeAt(index) == code) {\n                if (index == this.query.length - 1) {\n                    match = { from: this.matches[i + 1], to: pos + 1 };\n                }\n                else {\n                    this.matches[i]++;\n                    keep = true;\n                }\n            }\n            if (!keep) {\n                this.matches.splice(i, 2);\n                i -= 2;\n            }\n        }\n        if (this.query.charCodeAt(0) == code) {\n            if (this.query.length == 1)\n                match = { from: pos, to: pos + 1 };\n            else\n                this.matches.push(1, pos);\n        }\n        return match;\n    }\n}\n\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n/**\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\nbut searches for a regular expression pattern instead of a plain\nstring.\n*/\nclass RegExpCursor {\n    /**\n    Create a cursor that will search the given range in the given\n    document. `query` should be the raw pattern (as you'd pass it to\n    `new RegExp`).\n    */\n    constructor(text, query, options, from = 0, to = text.length) {\n        this.to = to;\n        this.curLine = \"\";\n        /**\n        Set to `true` when the cursor has reached the end of the search\n        range.\n        */\n        this.done = false;\n        /**\n        Will contain an object with the extent of the match and the\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n        sucessfully finds a match.\n        */\n        this.value = empty;\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n            return new MultilineRegExpCursor(text, query, options, from, to);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.iter = text.iter();\n        let startLine = text.lineAt(from);\n        this.curLineStart = startLine.from;\n        this.matchPos = from;\n        this.getLine(this.curLineStart);\n    }\n    getLine(skip) {\n        this.iter.next(skip);\n        if (this.iter.lineBreak) {\n            this.curLine = \"\";\n        }\n        else {\n            this.curLine = this.iter.value;\n            if (this.curLineStart + this.curLine.length > this.to)\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n            this.iter.next();\n        }\n    }\n    nextLine() {\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\n        if (this.curLineStart > this.to)\n            this.curLine = \"\";\n        else\n            this.getLine(0);\n    }\n    /**\n    Move to the next match, if there is one.\n    */\n    next() {\n        for (let off = this.matchPos - this.curLineStart;;) {\n            this.re.lastIndex = off;\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n            if (match) {\n                let from = this.curLineStart + match.index, to = from + match[0].length;\n                this.matchPos = to + (from == to ? 1 : 0);\n                if (from == this.curLine.length)\n                    this.nextLine();\n                if (from < to || from > this.value.to) {\n                    this.value = { from, to, match };\n                    return this;\n                }\n                off = this.matchPos - this.curLineStart;\n            }\n            else if (this.curLineStart + this.curLine.length < this.to) {\n                this.nextLine();\n                off = 0;\n            }\n            else {\n                this.done = true;\n                return this;\n            }\n        }\n    }\n}\nconst flattened = /*@__PURE__*/new WeakMap();\n// Reusable (partially) flattened document strings\nclass FlattenedDoc {\n    constructor(from, text) {\n        this.from = from;\n        this.text = text;\n    }\n    get to() { return this.from + this.text.length; }\n    static get(doc, from, to) {\n        let cached = flattened.get(doc);\n        if (!cached || cached.from >= to || cached.to <= from) {\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n            flattened.set(doc, flat);\n            return flat;\n        }\n        if (cached.from == from && cached.to == to)\n            return cached;\n        let { text, from: cachedFrom } = cached;\n        if (cachedFrom > from) {\n            text = doc.sliceString(from, cachedFrom) + text;\n            cachedFrom = from;\n        }\n        if (cached.to < to)\n            text += doc.sliceString(cached.to, to);\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n    }\n}\nclass MultilineRegExpCursor {\n    constructor(text, query, options, from, to) {\n        this.text = text;\n        this.to = to;\n        this.done = false;\n        this.value = empty;\n        this.matchPos = from;\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Base */));\n    }\n    chunkEnd(pos) {\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n    }\n    next() {\n        for (;;) {\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\n            let match = this.re.exec(this.flat.text);\n            // Skip empty matches directly after the last match\n            if (match && !match[0] && match.index == off) {\n                this.re.lastIndex = off + 1;\n                match = this.re.exec(this.flat.text);\n            }\n            // If a match goes almost to the end of a noncomplete chunk, try\n            // again, since it'll likely be able to match more\n            if (match && this.flat.to < this.to && match.index + match[0].length > this.flat.text.length - 10)\n                match = null;\n            if (match) {\n                let from = this.flat.from + match.index, to = from + match[0].length;\n                this.value = { from, to, match };\n                this.matchPos = to + (from == to ? 1 : 0);\n                return this;\n            }\n            else {\n                if (this.flat.to == this.to) {\n                    this.done = true;\n                    return this;\n                }\n                // Grow the flattened doc\n                this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n            }\n        }\n    }\n}\nfunction validRegExp(source) {\n    try {\n        new RegExp(source, baseFlags);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n\nfunction createLineDialog(view) {\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\" });\n    let dom = elt(\"form\", {\n        class: \"cm-gotoLine\",\n        onkeydown: (event) => {\n            if (event.keyCode == 27) { // Escape\n                event.preventDefault();\n                view.dispatch({ effects: dialogEffect.of(false) });\n                view.focus();\n            }\n            else if (event.keyCode == 13) { // Enter\n                event.preventDefault();\n                go();\n            }\n        },\n        onsubmit: (event) => {\n            event.preventDefault();\n            go();\n        }\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\n    function go() {\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n        if (!match)\n            return;\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n        let [, sign, ln, cl, percent] = match;\n        let col = cl ? +cl.slice(1) : 0;\n        let line = ln ? +ln : startLine.number;\n        if (ln && percent) {\n            let pc = line / 100;\n            if (sign)\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n            line = Math.round(state.doc.lines * pc);\n        }\n        else if (ln && sign) {\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n        }\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n        view.dispatch({\n            effects: dialogEffect.of(false),\n            selection: EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length))),\n            scrollIntoView: true\n        });\n        view.focus();\n    }\n    return { dom, pos: -10 };\n}\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\nconst dialogField = /*@__PURE__*/StateField.define({\n    create() { return true; },\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(dialogEffect))\n                value = e.value;\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n});\n/**\nCommand that shows a dialog asking the user for a line number, and\nwhen a valid position is provided, moves the cursor to that line.\n\nSupports line numbers, relative line offsets prefixed with `+` or\n`-`, document percentages suffixed with `%`, and an optional\ncolumn position by adding `:` and a second number after the line\nnumber.\n\nThe dialog can be styled with the `panel.gotoLine` theme\nselector.\n*/\nconst gotoLine = view => {\n    let panel = getPanel(view, createLineDialog);\n    if (!panel) {\n        let effects = [dialogEffect.of(true)];\n        if (view.state.field(dialogField, false) == null)\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\n        view.dispatch({ effects });\n        panel = getPanel(view, createLineDialog);\n    }\n    if (panel)\n        panel.dom.querySelector(\"input\").focus();\n    return true;\n};\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-gotoLine\": {\n        padding: \"2px 6px 4px\",\n        \"& label\": { fontSize: \"80%\" }\n    }\n});\n\nconst defaultHighlightOptions = {\n    highlightWordAroundCursor: false,\n    minSelectionLength: 1,\n    maxMatches: 100\n};\nconst highlightConfig = /*@__PURE__*/Facet.define({\n    combine(options) {\n        return combineConfig(options, defaultHighlightOptions, {\n            highlightWordAroundCursor: (a, b) => a || b,\n            minSelectionLength: Math.min,\n            maxMatches: Math.min\n        });\n    }\n});\n/**\nThis extension highlights text that matches the selection. It uses\nthe `\"cm-selectionMatch\"` class for the highlighting. When\n`highlightWordAroundCursor` is enabled, the word at the cursor\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\n*/\nfunction highlightSelectionMatches(options) {\n    let ext = [defaultTheme, matchHighlighter];\n    if (options)\n        ext.push(highlightConfig.of(options));\n    return ext;\n}\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let conf = view.state.facet(highlightConfig);\n        let { state } = view, sel = state.selection;\n        if (sel.ranges.length > 1)\n            return Decoration.none;\n        let range = sel.main, query, check = null;\n        if (range.empty) {\n            if (!conf.highlightWordAroundCursor)\n                return Decoration.none;\n            let word = state.wordAt(range.head);\n            if (!word)\n                return Decoration.none;\n            check = state.charCategorizer(range.head);\n            query = state.sliceDoc(word.from, word.to);\n        }\n        else {\n            let len = range.to - range.from;\n            if (len < conf.minSelectionLength || len > 200)\n                return Decoration.none;\n            query = state.sliceDoc(range.from, range.to).trim();\n            if (!query)\n                return Decoration.none;\n        }\n        let deco = [];\n        for (let part of view.visibleRanges) {\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n            while (!cursor.next().done) {\n                let { from, to } = cursor.value;\n                if (!check || ((from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n                    (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word))) {\n                    if (check && from <= range.from && to >= range.to)\n                        deco.push(mainMatchDeco.range(from, to));\n                    else if (from >= range.to || to <= range.from)\n                        deco.push(matchDeco.range(from, to));\n                    if (deco.length > conf.maxMatches)\n                        return Decoration.none;\n                }\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n});\n// Select the words around the cursors.\nconst selectWord = ({ state, dispatch }) => {\n    let { selection } = state;\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n    if (newSel.eq(selection))\n        return false;\n    dispatch(state.update({ selection: newSel }));\n    return true;\n};\n// Find next occurrence of query relative to last cursor. Wrap around\n// the document if there are no more matches.\nfunction findNextOccurrence(state, query) {\n    let { main, ranges } = state.selection;\n    let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\n    for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\n        cursor.next();\n        if (cursor.done) {\n            if (cycled)\n                return null;\n            cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n            cycled = true;\n        }\n        else {\n            if (cycled && ranges.some(r => r.from == cursor.value.from))\n                continue;\n            if (fullWord) {\n                let word = state.wordAt(cursor.value.from);\n                if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\n                    continue;\n            }\n            return cursor.value;\n        }\n    }\n}\n/**\nSelect next occurrence of the current selection.\nExpand selection to the word when selection range is empty.\n*/\nconst selectNextOccurrence = ({ state, dispatch }) => {\n    let { ranges } = state.selection;\n    if (ranges.some(sel => sel.from === sel.to))\n        return selectWord({ state, dispatch });\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n        return false;\n    let range = findNextOccurrence(state, searchedText);\n    if (!range)\n        return false;\n    dispatch(state.update({\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\n        scrollIntoView: true\n    }));\n    return true;\n};\n\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let matchCase = configs.some(c => c.matchCase);\n        return {\n            top: configs.some(c => c.top),\n            matchCase: matchCase === undefined ? true : matchCase,\n        };\n    }\n});\n/**\nConfigure the behavior of the search extension.\n*/\nfunction searchConfig(config) {\n    return searchConfigFacet.of(config);\n}\nclass Query {\n    constructor(search, replace, caseInsensitive) {\n        this.search = search;\n        this.replace = replace;\n        this.caseInsensitive = caseInsensitive;\n    }\n    eq(other) {\n        return this.search == other.search && this.replace == other.replace &&\n            this.caseInsensitive == other.caseInsensitive && this.constructor == other.constructor;\n    }\n}\nclass StringQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.unquoted = search.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new SearchCursor(doc, this.unquoted, from, to, this.caseInsensitive ? x => x.toLowerCase() : undefined);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).nextOverlapping();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).nextOverlapping();\n        return cursor.done ? null : cursor.value;\n    }\n    // Searching in reverse is, rather than implementing inverted search\n    // cursor, done by scanning chunk after chunk forward.\n    prevMatchInRange(doc, from, to) {\n        for (let pos = to;;) {\n            let start = Math.max(from, pos - 10000 /* ChunkSize */ - this.unquoted.length);\n            let cursor = this.cursor(doc, start, pos), range = null;\n            while (!cursor.nextOverlapping().done)\n                range = cursor.value;\n            if (range)\n                return range;\n            if (start == from)\n                return null;\n            pos -= 10000 /* ChunkSize */;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(_result) { return this.replace; }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - this.unquoted.length), Math.min(to + this.unquoted.length, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n    get valid() { return !!this.search; }\n}\nclass RegExpQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.valid = !!search && validRegExp(search);\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new RegExpCursor(doc, this.search, this.caseInsensitive ? { ignoreCase: true } : undefined, from, to);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).next();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).next();\n        return cursor.done ? null : cursor.value;\n    }\n    prevMatchInRange(doc, from, to) {\n        for (let size = 1;; size++) {\n            let start = Math.max(from, to - size * 10000 /* ChunkSize */);\n            let cursor = this.cursor(doc, start, to), range = null;\n            while (!cursor.next().done)\n                range = cursor.value;\n            if (range && (start == from || range.from > start + 10))\n                return range;\n            if (start == from)\n                return null;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(result) {\n        return this.replace.replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\n            : i == \"&\" ? result.match[0]\n                : i != \"0\" && +i < result.match.length ? result.match[i]\n                    : m);\n    }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - 250 /* HighlightMargin */), Math.min(to + 250 /* HighlightMargin */, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\nconst setQuery = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst searchState = /*@__PURE__*/StateField.define({\n    create(state) {\n        return new SearchState(defaultQuery(state), createSearchPanel);\n    },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setQuery))\n                value = new SearchState(effect.value, value.panel);\n            else if (effect.is(togglePanel))\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n        }\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val.panel)\n});\nclass SearchState {\n    constructor(query, panel) {\n        this.query = query;\n        this.panel = panel;\n    }\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.decorations = this.highlight(view.state.field(searchState));\n    }\n    update(update) {\n        let state = update.state.field(searchState);\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet)\n            this.decorations = this.highlight(state);\n    }\n    highlight({ query, panel }) {\n        if (!panel || !query.valid)\n            return Decoration.none;\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* HighlightMargin */)\n                to = ranges[++i].to;\n            query.highlight(view.state.doc, from, to, (from, to) => {\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\n            });\n        }\n        return builder.finish();\n    }\n}, {\n    decorations: v => v.decorations\n});\nfunction searchCommand(f) {\n    return view => {\n        let state = view.state.field(searchState, false);\n        return state && state.query.valid ? f(view, state) : openSearchPanel(view);\n    };\n}\n/**\nOpen the search panel if it isn't already open, and move the\nselection to the first match after the current main selection.\nWill wrap around to the start of the document when it reaches the\nend.\n*/\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { from, to } = view.state.selection.main;\n    let next = query.nextMatch(view.state.doc, from, to);\n    if (!next || next.from == from && next.to == to)\n        return false;\n    view.dispatch({\n        selection: { anchor: next.from, head: next.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, next)\n    });\n    return true;\n});\n/**\nMove the selection to the previous instance of the search query,\nbefore the current main selection. Will wrap past the start\nof the document to start searching at the end again.\n*/\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    let range = query.prevMatch(state.doc, from, to);\n    if (!range)\n        return false;\n    view.dispatch({\n        selection: { anchor: range.from, head: range.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, range)\n    });\n    return true;\n});\n/**\nSelect all instances of the search query.\n*/\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n    let ranges = query.matchAll(view.state.doc, 1000);\n    if (!ranges || !ranges.length)\n        return false;\n    view.dispatch({\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to)))\n    });\n    return true;\n});\n/**\nSelect all instances of the currently selected text.\n*/\nconst selectSelectionMatches = ({ state, dispatch }) => {\n    let sel = state.selection;\n    if (sel.ranges.length > 1 || sel.main.empty)\n        return false;\n    let { from, to } = sel.main;\n    let ranges = [], main = 0;\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n        if (ranges.length > 1000)\n            return false;\n        if (cur.value.from == from)\n            main = ranges.length;\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n    }\n    dispatch(state.update({ selection: EditorSelection.create(ranges, main) }));\n    return true;\n};\n/**\nReplace the current match of the search query.\n*/\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    if (state.readOnly)\n        return false;\n    let next = query.nextMatch(state.doc, from, from);\n    if (!next)\n        return false;\n    let changes = [], selection, replacement;\n    if (next.from == from && next.to == to) {\n        replacement = state.toText(query.getReplacement(next));\n        changes.push({ from: next.from, to: next.to, insert: replacement });\n        next = query.nextMatch(state.doc, next.from, next.to);\n    }\n    if (next) {\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\n        selection = { anchor: next.from - off, head: next.to - off };\n    }\n    view.dispatch({\n        changes, selection,\n        scrollIntoView: !!selection,\n        effects: next ? announceMatch(view, next) : undefined\n    });\n    return true;\n});\n/**\nReplace all instances of the search query with the given\nreplacement.\n*/\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n    if (view.state.readOnly)\n        return false;\n    let changes = query.matchAll(view.state.doc, 1e9).map(match => {\n        let { from, to } = match;\n        return { from, to, insert: query.getReplacement(match) };\n    });\n    if (!changes.length)\n        return false;\n    view.dispatch({ changes });\n    return true;\n});\nfunction createSearchPanel(view) {\n    let { query } = view.state.field(searchState);\n    return {\n        dom: buildPanel({\n            view,\n            query,\n            updateQuery(q) {\n                if (!query.eq(q)) {\n                    query = q;\n                    view.dispatch({ effects: setQuery.of(query) });\n                }\n            }\n        }),\n        mount() {\n            this.dom.querySelector(\"[name=search]\").select();\n        },\n        pos: 80,\n        top: view.state.facet(searchConfigFacet).top\n    };\n}\nfunction defaultQuery(state, fallback) {\n    var _a;\n    let sel = state.selection.main;\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n    let caseInsensitive = (_a = fallback === null || fallback === void 0 ? void 0 : fallback.caseInsensitive) !== null && _a !== void 0 ? _a : !state.facet(searchConfigFacet).matchCase;\n    return fallback && !selText ? fallback : new StringQuery(selText.replace(/\\n/g, \"\\\\n\"), \"\", caseInsensitive);\n}\n/**\nMake sure the search panel is open and focused.\n*/\nconst openSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (state && state.panel) {\n        let panel = getPanel(view, createSearchPanel);\n        if (!panel)\n            return false;\n        let searchInput = panel.dom.querySelector(\"[name=search]\");\n        searchInput.focus();\n        searchInput.select();\n    }\n    else {\n        view.dispatch({ effects: [\n                togglePanel.of(true),\n                state ? setQuery.of(defaultQuery(view.state, state.query)) : StateEffect.appendConfig.of(searchExtensions)\n            ] });\n    }\n    return true;\n};\n/**\nClose the search panel.\n*/\nconst closeSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (!state || !state.panel)\n        return false;\n    let panel = getPanel(view, createSearchPanel);\n    if (panel && panel.dom.contains(view.root.activeElement))\n        view.focus();\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nDefault search-related key bindings.\n\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n - Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n*/\nconst searchKeymap = [\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n    { key: \"Alt-g\", run: gotoLine },\n    { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\n];\nfunction buildPanel(conf) {\n    function phrase(phrase) { return conf.view.state.phrase(phrase); }\n    let searchField = elt(\"input\", {\n        value: conf.query.search,\n        placeholder: phrase(\"Find\"),\n        \"aria-label\": phrase(\"Find\"),\n        class: \"cm-textfield\",\n        name: \"search\",\n        onchange: update,\n        onkeyup: update\n    });\n    let replaceField = elt(\"input\", {\n        value: conf.query.replace,\n        placeholder: phrase(\"Replace\"),\n        \"aria-label\": phrase(\"Replace\"),\n        class: \"cm-textfield\",\n        name: \"replace\",\n        onchange: update,\n        onkeyup: update\n    });\n    let caseField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"case\",\n        checked: !conf.query.caseInsensitive,\n        onchange: update\n    });\n    let reField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"re\",\n        checked: conf.query instanceof RegExpQuery,\n        onchange: update\n    });\n    function update() {\n        conf.updateQuery(new (reField.checked ? RegExpQuery : StringQuery)(searchField.value, replaceField.value, !caseField.checked));\n    }\n    function keydown(e) {\n        if (runScopeHandlers(conf.view, e, \"search-panel\")) {\n            e.preventDefault();\n        }\n        else if (e.keyCode == 13 && e.target == searchField) {\n            e.preventDefault();\n            (e.shiftKey ? findPrevious : findNext)(conf.view);\n        }\n        else if (e.keyCode == 13 && e.target == replaceField) {\n            e.preventDefault();\n            replaceNext(conf.view);\n        }\n    }\n    function button(name, onclick, content) {\n        return elt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\n    }\n    let panel = elt(\"div\", { onkeydown: keydown, class: \"cm-search\" }, [\n        searchField,\n        button(\"next\", () => findNext(conf.view), [phrase(\"next\")]),\n        button(\"prev\", () => findPrevious(conf.view), [phrase(\"previous\")]),\n        button(\"select\", () => selectMatches(conf.view), [phrase(\"all\")]),\n        elt(\"label\", null, [caseField, phrase(\"match case\")]),\n        elt(\"label\", null, [reField, phrase(\"regexp\")]),\n        elt(\"br\"),\n        replaceField,\n        button(\"replace\", () => replaceNext(conf.view), [phrase(\"replace\")]),\n        button(\"replaceAll\", () => replaceAll(conf.view), [phrase(\"replace all\")]),\n        elt(\"button\", { name: \"close\", onclick: () => closeSearchPanel(conf.view), \"aria-label\": phrase(\"close\"), type: \"button\" }, [\"×\"])\n    ]);\n    return panel;\n}\nconst AnnounceMargin = 30;\nconst Break = /[\\s\\.,:;?!]/;\nfunction announceMatch(view, { from, to }) {\n    let lineStart = view.state.doc.lineAt(from).from, lineEnd = view.state.doc.lineAt(to).to;\n    let start = Math.max(lineStart, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n    let text = view.state.sliceDoc(start, end);\n    if (start != lineStart) {\n        for (let i = 0; i < AnnounceMargin; i++)\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                text = text.slice(i);\n                break;\n            }\n    }\n    if (end != lineEnd) {\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                text = text.slice(0, i);\n                break;\n            }\n    }\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${view.state.doc.lineAt(from).number}`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-search\": {\n        padding: \"2px 6px 4px\",\n        position: \"relative\",\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"4px\",\n            backgroundColor: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        },\n        \"& input, & button, & label\": {\n            margin: \".2em .6em .2em 0\"\n        },\n        \"& input[type=checkbox]\": {\n            marginRight: \".2em\"\n        },\n        \"& label\": {\n            fontSize: \"80%\",\n            whiteSpace: \"pre\"\n        }\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n});\nconst searchExtensions = [\n    searchState,\n    /*@__PURE__*/Prec.fallback(searchHighlighter),\n    baseTheme\n];\n\nexport { RegExpCursor, SearchCursor, closeSearchPanel, findNext, findPrevious, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, searchConfig, searchKeymap, selectMatches, selectNextOccurrence, selectSelectionMatches };\n","import { EditorSelection } from '@codemirror/state';\n\n/**\nComment or uncomment the current selection. Will use line comments\nif available, otherwise falling back to block comments.\n*/\nconst toggleComment = target => {\n    let config = getConfig(target.state);\n    return config.line ? toggleLineComment(target) : config.block ? toggleBlockComment(target) : false;\n};\nfunction command(f, option) {\n    return ({ state, dispatch }) => {\n        let tr = f(option, state.selection.ranges, state);\n        if (!tr)\n            return false;\n        dispatch(state.update(tr));\n        return true;\n    };\n}\n/**\nComment or uncomment the current selection using line comments.\nThe line comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* Toggle */);\n/**\nComment the current selection using line comments.\n*/\nconst lineComment = /*@__PURE__*/command(changeLineComment, 1 /* Comment */);\n/**\nUncomment the current selection using line comments.\n*/\nconst lineUncomment = /*@__PURE__*/command(changeLineComment, 2 /* Uncomment */);\n/**\nComment or uncomment the current selection using block comments.\nThe block comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* Toggle */);\n/**\nComment the current selection using block comments.\n*/\nconst blockComment = /*@__PURE__*/command(changeBlockComment, 1 /* Comment */);\n/**\nUncomment the current selection using block comments.\n*/\nconst blockUncomment = /*@__PURE__*/command(changeBlockComment, 2 /* Uncomment */);\n/**\nDefault key bindings for this package.\n\n - Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#comment.toggleComment).\n - Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#comment.toggleBlockComment).\n*/\nconst commentKeymap = [\n    { key: \"Mod-/\", run: toggleComment },\n    { key: \"Alt-A\", run: toggleBlockComment }\n];\nfunction getConfig(state, pos = state.selection.main.head) {\n    let data = state.languageDataAt(\"commentTokens\", pos);\n    return data.length ? data[0] : {};\n}\nconst SearchMargin = 50;\n/**\nDetermines if the given range is block-commented in the given\nstate.\n*/\nfunction findBlockComment(state, { open, close }, from, to) {\n    let textBefore = state.sliceDoc(from - SearchMargin, from);\n    let textAfter = state.sliceDoc(to, to + SearchMargin);\n    let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n    let beforeOff = textBefore.length - spaceBefore;\n    if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n        textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n        return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n            close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n    }\n    let startText, endText;\n    if (to - from <= 2 * SearchMargin) {\n        startText = endText = state.sliceDoc(from, to);\n    }\n    else {\n        startText = state.sliceDoc(from, from + SearchMargin);\n        endText = state.sliceDoc(to - SearchMargin, to);\n    }\n    let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n    let endOff = endText.length - endSpace - close.length;\n    if (startText.slice(startSpace, startSpace + open.length) == open &&\n        endText.slice(endOff, endOff + close.length) == close) {\n        return { open: { pos: from + startSpace + open.length,\n                margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n            close: { pos: to - endSpace - close.length,\n                margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of block comments in\n// languages that support them.\nfunction changeBlockComment(option, ranges, state) {\n    let tokens = ranges.map(r => getConfig(state, r.from).block);\n    if (!tokens.every(c => c))\n        return null;\n    let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n    if (option != 2 /* Uncomment */ && !comments.every(c => c)) {\n        let index = 0;\n        return state.changeByRange(range => {\n            let { open, close } = tokens[index++];\n            if (comments[index])\n                return { range };\n            let shift = open.length + 1;\n            return {\n                changes: [{ from: range.from, insert: open + \" \" }, { from: range.to, insert: \" \" + close }],\n                range: EditorSelection.range(range.anchor + shift, range.head + shift)\n            };\n        });\n    }\n    else if (option != 1 /* Comment */ && comments.some(c => c)) {\n        let changes = [];\n        for (let i = 0, comment; i < comments.length; i++)\n            if (comment = comments[i]) {\n                let token = tokens[i], { open, close } = comment;\n                changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n            }\n        return { changes };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of line comments.\nfunction changeLineComment(option, ranges, state) {\n    let lines = [];\n    let prevLine = -1;\n    for (let { from, to } of ranges) {\n        let startI = lines.length, minIndent = 1e9;\n        for (let pos = from; pos <= to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.from > prevLine && (from == to || to > line.from)) {\n                prevLine = line.from;\n                let token = getConfig(state, pos).line;\n                if (!token)\n                    continue;\n                let indent = /^\\s*/.exec(line.text)[0].length;\n                let empty = indent == line.length;\n                let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                if (indent < line.text.length && indent < minIndent)\n                    minIndent = indent;\n                lines.push({ line, comment, token, indent, empty, single: false });\n            }\n            pos = line.to + 1;\n        }\n        if (minIndent < 1e9)\n            for (let i = startI; i < lines.length; i++)\n                if (lines[i].indent < lines[i].line.text.length)\n                    lines[i].indent = minIndent;\n        if (lines.length == startI + 1)\n            lines[startI].single = true;\n    }\n    if (option != 2 /* Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n        let changes = [];\n        for (let { line, token, indent, empty, single } of lines)\n            if (single || !empty)\n                changes.push({ from: line.from + indent, insert: token + \" \" });\n        let changeSet = state.changes(changes);\n        return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n    }\n    else if (option != 1 /* Comment */ && lines.some(l => l.comment >= 0)) {\n        let changes = [];\n        for (let { line, comment, token } of lines)\n            if (comment >= 0) {\n                let from = line.from + comment, to = from + token.length;\n                if (line.text[to - line.from] == \" \")\n                    to++;\n                changes.push({ from, to });\n            }\n        return { changes };\n    }\n    return null;\n}\n\nexport { blockComment, blockUncomment, commentKeymap, lineComment, lineUncomment, toggleBlockComment, toggleComment, toggleLineComment };\n","import { EditorSelection } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\nimport { findColumn, countColumn } from '@codemirror/text';\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            let start = findColumn(line.text, startCol, state.tabSize, true);\n            if (start > -1) {\n                let end = findColumn(line.text, endCol, state.tabSize);\n                ranges.push(EditorSelection.range(line.from + start, line.from + end));\n            }\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\n\nexport { rectangularSelection };\n","import { Decoration, EditorView, ViewPlugin, logException, WidgetType } from '@codemirror/view';\nimport { StateEffect, StateField, Facet } from '@codemirror/state';\nimport { hoverTooltip } from '@codemirror/tooltip';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        let ranges = Decoration.set(diagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction maybeEnableLint(state, effects, getState) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of([\n        lintState.init(getState),\n        EditorView.decorations.compute([lintState], state => {\n            let { selected, panel } = state.field(lintState);\n            return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n                activeMark.range(selected.from, selected.to)\n            ]);\n        }),\n        hoverTooltip(lintTooltip),\n        baseTheme\n    ]));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)], () => LintState.init(diagnostics, null, state))\n    };\n}\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: elt(\"ul\", { class: \"cm-tooltip-lint\" }, found.map(d => renderDiagnostic(view, d, false))) };\n        }\n    };\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)], () => LintState.init([], LintPanel.open, view.state)) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintSource);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintSource);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                var _a, _b;\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc &&\n                    (all.length || ((_b = (_a = this.view.state.field(lintState, false)) === null || _a === void 0 ? void 0 : _a.diagnostics) === null || _b === void 0 ? void 0 : _b.size)))\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        let source = update.state.facet(lintSource);\n        if (update.docChanged || source != update.startState.facet(lintSource)) {\n            this.lintTime = Date.now() + source.delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, source.delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintSource = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return { sources: input.map(i => i.source), delay: input.length ? Math.max(...input.map(i => i.delay)) : 750 };\n    },\n    enables: lintPlugin\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    var _a;\n    return lintSource.of({ source, delay: (_a = config.delay) !== null && _a !== void 0 ? _a : 750 });\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let click = (e) => {\n            e.preventDefault();\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"×\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction underline(color) {\n    if (typeof btoa != \"function\")\n        return \"none\";\n    let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"6\" height=\"3\">\n    <path d=\"m0 3 l2 -2 l1 0 l2 2 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>\n  </svg>`;\n    return `url('data:image/svg+xml;base64,${btoa(svg)}')`;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\"\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\n\nexport { closeLintPanel, diagnosticCount, forceLinting, lintKeymap, linter, nextDiagnostic, openLintPanel, setDiagnostics };\n","import { highlightSpecialChars, drawSelection, highlightActiveLine, keymap } from '@codemirror/view';\nexport { EditorView } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nexport { EditorState } from '@codemirror/state';\nimport { history, historyKeymap } from '@codemirror/history';\nimport { foldGutter, foldKeymap } from '@codemirror/fold';\nimport { indentOnInput } from '@codemirror/language';\nimport { lineNumbers, highlightActiveLineGutter } from '@codemirror/gutter';\nimport { defaultKeymap } from '@codemirror/commands';\nimport { bracketMatching } from '@codemirror/matchbrackets';\nimport { closeBrackets, closeBracketsKeymap } from '@codemirror/closebrackets';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { autocompletion, completionKeymap } from '@codemirror/autocomplete';\nimport { commentKeymap } from '@codemirror/comment';\nimport { rectangularSelection } from '@codemirror/rectangular-selection';\nimport { defaultHighlightStyle } from '@codemirror/highlight';\nimport { lintKeymap } from '@codemirror/lint';\n\n/**\nThis is an extension value that just pulls together a whole lot of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#gutter.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#history.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#fold.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#highlight.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#matchbrackets.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#closebrackets.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#rectangular-selection.rectangularSelection)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#gutter.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [commenting](https://codemirror.net/6/docs/ref/#comment.commentKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis package does not allow customization. The idea is that, once\nyou decide you want to configure your editor more precisely, you\ntake this package's source (which is just a bunch of imports and\nan array literal), copy it into your own code, and adjust it as\ndesired.\n*/\nconst basicSetup = [\n    /*@__PURE__*/lineNumbers(),\n    /*@__PURE__*/highlightActiveLineGutter(),\n    /*@__PURE__*/highlightSpecialChars(),\n    /*@__PURE__*/history(),\n    /*@__PURE__*/foldGutter(),\n    /*@__PURE__*/drawSelection(),\n    /*@__PURE__*/EditorState.allowMultipleSelections.of(true),\n    /*@__PURE__*/indentOnInput(),\n    defaultHighlightStyle.fallback,\n    /*@__PURE__*/bracketMatching(),\n    /*@__PURE__*/closeBrackets(),\n    /*@__PURE__*/autocompletion(),\n    /*@__PURE__*/rectangularSelection(),\n    /*@__PURE__*/highlightActiveLine(),\n    /*@__PURE__*/highlightSelectionMatches(),\n    /*@__PURE__*/keymap.of([\n        ...closeBracketsKeymap,\n        ...defaultKeymap,\n        ...searchKeymap,\n        ...historyKeymap,\n        ...foldKeymap,\n        ...commentKeymap,\n        ...completionKeymap,\n        ...lintKeymap\n    ])\n];\n\nexport { basicSetup };\n","import { EditorView } from \"@codemirror/basic-setup\";\nimport { HighlightStyle, tags } from \"@codemirror/highlight\";\n\nexport const lightTheme = EditorView.theme({\n  \"&\": {\n    fontSize: \"12pt\",\n  },\n  \".cm-content\": {\n    fontFamily: \"Source Code Pro\",\n  },\n  \".cm-lineWrapping\": {\n    wordBreak: \"break-all\",\n  },\n});\n\nconst darkColors = {\n  enki: {\n    background: \"#242a36\", // enki's dark.cardBackground\n    primary: \"#95FFCD\", // dark.accent\n    text: \"#f8f8f8\", // enki text\n    textSecondary: \"#f8f8f880\",\n  },\n  oneDark: {\n    highlightBackground: \"#202530\", // dark.codeBackground\n    selection: \"#547370\", // \"#3E4451\" combined with the accent color #95FFCD twice\n    selectionMatch: \"#aafe661a\", // original theme\n    stone: \"#7d8799\", // from original theme\n    violet: \"#c678dd\",\n    coral: \"#e06c75\",\n    cyan: \"#56b6c2\",\n    malibu: \"#61afef\",\n    whiskey: \"#d19a66\",\n    sage: \"#98c379\",\n    chalky: \"#e5c07b\",\n    invalid: \"#ffffff\",\n    ivory: \"#abb2bf\",\n  },\n};\n\n/// The editor theme styles for One Dark.\nexport const darkTheme = EditorView.theme(\n  {\n    \"&\": {\n      color: darkColors.oneDark.ivory,\n      backgroundColor: darkColors.enki.background,\n      fontSize: \"12pt\",\n    },\n    \".cm-lineWrapping\": {\n      wordBreak: \"break-all\",\n    },\n    \".cm-content\": {\n      caretColor: darkColors.enki.primary,\n      fontFamily: \"Source Code Pro\",\n    },\n    \"&.cm-focused .cm-cursor\": { borderLeftColor: darkColors.enki.primary },\n    \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\":\n      { backgroundColor: darkColors.oneDark.selection },\n\n    // we don't use panels, but this is the working API\n    // https://codemirror.net/6/examples/panel/\n    // \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n    // \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n    // \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n\n    // we don't use searching either\n    // \".cm-searchMatch\": {\n    //   backgroundColor: \"#72a1ff59\",\n    //   outline: \"1px solid #457dff\",\n    // },\n    // \".cm-searchMatch.cm-searchMatch-selected\": {\n    //   backgroundColor: \"#6199ff2f\",\n    // },\n\n    \".cm-activeLine\": {\n      backgroundColor: darkColors.oneDark.highlightBackground,\n    },\n    \".cm-selectionMatch\": {\n      backgroundColor: darkColors.oneDark.selectionMatch,\n    },\n\n    \"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket\": {\n      backgroundColor: darkColors.oneDark.selectionMatch,\n      outline: `1px solid ${darkColors.enki.primary}`,\n    },\n\n    \".cm-gutters\": {\n      backgroundColor: darkColors.enki.background,\n      color: darkColors.oneDark.stone,\n      border: \"none\",\n    },\n\n    \".cm-activeLineGutter\": {\n      backgroundColor: darkColors.oneDark.highlightBackground,\n    },\n\n    // we don't use folding\n    // \".cm-foldPlaceholder\": {\n    //   backgroundColor: \"transparent\",\n    //   border: \"none\",\n    //   color: \"#ddd\",\n    // },\n\n    // autocompletions\n    \".cm-tooltip\": {\n      border: \"1px solid #181a1f\",\n      backgroundColor: darkColors.enki.background,\n    },\n    \".cm-tooltip.cm-tooltip-arrow:before\": {\n      borderTopColor: darkColors.enki.background,\n      borderBottomColor: darkColors.enki.background,\n    },\n    \".cm-tooltip.cm-tooltip-arrow:after\": {\n      borderTopColor: darkColors.enki.background,\n      borderBottomColor: darkColors.enki.background,\n    },\n    \".cm-tooltip-autocomplete\": {\n      \"& > ul > li\": {\n        color: darkColors.enki.textSecondary,\n      },\n    },\n    \".cm-tooltip-autocomplete\": {\n      \"& > ul > li[aria-selected]\": {\n        background: darkColors.oneDark.selectionMatch,\n        color: darkColors.enki.text,\n      },\n    },\n  },\n  { dark: true }\n);\n\nexport const darkHighlighting = HighlightStyle.define([\n  { tag: tags.keyword, color: darkColors.oneDark.violet },\n  {\n    tag: tags.link,\n    textDecoration: \"underline\",\n    color: darkColors.oneDark.stone,\n  }, // updated\n  {\n    tag: tags.heading,\n    textDecoration: \"underline\",\n    fontWeight: \"bold\",\n    color: darkColors.oneDark.coral,\n  },\n  { tag: tags.emphasis, fontStyle: \"italic\" },\n  { tag: tags.strong, fontWeight: \"bold\" },\n  { tag: tags.strikethrough, textDecoration: \"line-through\" },\n\n  {\n    tag: [\n      tags.atom,\n      tags.bool,\n      tags.url,\n      tags.contentSeparator,\n      tags.labelName,\n    ],\n    color: darkColors.oneDark.cyan,\n  },\n  { tag: [tags.deleted], color: darkColors.oneDark.coral },\n  {\n    tag: [tags.processingInstruction, tags.string, tags.inserted],\n    color: darkColors.oneDark.sage,\n  },\n  {\n    tag: [tags.regexp, tags.escape, tags.special(tags.string)],\n    color: darkColors.oneDark.cyan,\n  },\n  {\n    tag: tags.definition(tags.variableName),\n    color: darkColors.oneDark.whiskey,\n  },\n  { tag: tags.local(tags.variableName), color: darkColors.oneDark.whiskey },\n\n  { tag: [tags.typeName, tags.namespace], color: darkColors.oneDark.chalky },\n  { tag: tags.className, color: darkColors.oneDark.chalky },\n  {\n    tag: [tags.special(tags.variableName), tags.macroName],\n    color: darkColors.oneDark.whiskey,\n  },\n  { tag: tags.definition(tags.propertyName), color: darkColors.oneDark.coral },\n  { tag: tags.comment, color: darkColors.oneDark.stone },\n  { tag: tags.meta, color: darkColors.oneDark.stone },\n  { tag: tags.invalid, color: darkColors.oneDark.invalid },\n  {\n    tag: [tags.function(tags.variableName), tags.labelName, tags.propertyName],\n    color: darkColors.oneDark.malibu,\n  },\n  {\n    tag: [tags.propertyName],\n    color: darkColors.oneDark.malibu,\n  },\n  // {\n  //   tag: [tags.name], // don't use this. breaks android on mobile when typing x.forEach (javascript)\n  //   color: darkColors.whiskey,\n  // },\n  {\n    tag: [tags.operator],\n    color: darkColors.oneDark.sage,\n  },\n]);\n\n// original white theme\nexport const lightHighlighting = HighlightStyle.define([\n  { tag: tags.link, textDecoration: \"underline\" },\n  { tag: tags.heading, textDecoration: \"underline\", fontWeight: \"bold\" },\n  { tag: tags.emphasis, fontStyle: \"italic\" },\n  { tag: tags.strong, fontWeight: \"bold\" },\n  { tag: tags.strikethrough, textDecoration: \"line-through\" },\n  { tag: tags.keyword, color: \"#708\" },\n  {\n    tag: [\n      tags.atom,\n      tags.bool,\n      tags.url,\n      tags.contentSeparator,\n      tags.labelName,\n    ],\n    color: \"#219\",\n  },\n  { tag: [tags.literal, tags.inserted], color: \"#164\" },\n  { tag: [tags.string, tags.deleted], color: \"#a11\" },\n  { tag: [tags.regexp, tags.escape, tags.special(tags.string)], color: \"#e40\" },\n  { tag: tags.definition(tags.variableName), color: \"#00f\" },\n  { tag: tags.local(tags.variableName), color: \"#30a\" },\n  { tag: [tags.typeName, tags.namespace], color: \"#085\" },\n  { tag: tags.className, color: \"#167\" },\n  { tag: [tags.special(tags.variableName), tags.macroName], color: \"#256\" },\n  { tag: tags.definition(tags.propertyName), color: \"#00c\" },\n  { tag: tags.comment, color: \"#940\" },\n  { tag: tags.meta, color: \"#7a757a\" },\n  { tag: tags.invalid, color: \"#f00\" },\n]);\n\nexport const darkThemeExtensions = [darkTheme, darkHighlighting];\n\nexport const lightThemeExtensions = [lightTheme, lightHighlighting];\n","import { javascript, javascriptLanguage } from \"@codemirror/lang-javascript\";\nimport { python, pythonLanguage } from \"@codemirror/lang-python\";\nimport { lineNumbers, highlightActiveLineGutter } from \"@codemirror/gutter\";\nimport { darkThemeExtensions, lightThemeExtensions } from \"./theme\";\nimport {\n  autocompletion,\n  completionKeymap,\n  completeFromList,\n  completeAnyWord,\n} from \"@codemirror/autocomplete\";\nimport { closeBrackets, closeBracketsKeymap } from \"@codemirror/closebrackets\";\nimport { bracketMatching } from \"@codemirror/matchbrackets\";\nimport { defaultKeymap, indentWithTab } from \"@codemirror/commands\";\nimport { EditorView } from \"@codemirror/view\";\nimport { EditorState, Compartment } from \"@codemirror/state\";\nimport {\n  keymap,\n  drawSelection,\n  highlightActiveLine,\n  highlightSpecialChars,\n} from \"@codemirror/view\";\nimport { highlightSelectionMatches, searchKeymap } from \"@codemirror/search\";\nimport { indentOnInput } from \"@codemirror/language\";\nimport { defaultHighlightStyle } from \"@codemirror/highlight\";\nimport { basicSetup } from \"@codemirror/basic-setup\";\n\nif (!window.ReactNativeWebView) {\n  console.log(\"window.ReactNativeWebView missing, will mock instead\");\n  window.ReactNativeWebView = {\n    postMessage: console.log,\n  };\n}\n\nconst consoleLog = (type, log) =>\n  window.ReactNativeWebView.postMessage(\n    JSON.stringify({ event: \"console\", data: { type: type, log: log } })\n  );\nconsole = {\n  log: (log) => consoleLog(\"log\", log),\n  debug: (log) => consoleLog(\"debug\", log),\n  info: (log) => consoleLog(\"info\", log),\n  warn: (log) => consoleLog(\"warn\", log),\n  error: (log) => consoleLog(\"error\", log),\n};\n\nconsole.log(\"ooooo\");\n\n// TODOS:\n// - extracting theme\n// - QoL: propagate errors to RN logs, capture with bugsnag\n// - nice to have: brackets utility in accessory toolbar\n\n// issues to look out for when building the editor:\n// on ios mobile safari, pressing enter spits out 2 new lines\n// on android mobile (through webview only) sometimes the BACKSPACE key doesn't work\n// on android mobile typing \"array.forEach\" may duplciate the text -> seems to happen with custom syntax highlighting if placed the last\n\nlet languages = new Compartment();\nlet themes = new Compartment();\n\nlet jsKeywords =\n  \"break case catch class const continue debugger default delete do else enum export extends false finally for function if implements import interface in instanceof let new package private protected public return static super switch this throw true try typeof var void while with yield\";\nlet pyKeywords =\n  \"False def if raise None del import return True elif in try and else is while as except lambda with assert finally nonlocal yield break for not class from or continue global pass\";\n\nconst mapKeywordString = (kString) =>\n  kString.split(\" \").map((kw) => ({\n    label: kw,\n    type: \"keyword\",\n  }));\nconst jsCompletion = completeFromList(mapKeywordString(jsKeywords));\nconst pyCompletion = completeFromList(mapKeywordString(pyKeywords));\n\nconst initialState = EditorState.create({\n  doc: `/* eslint-disable import/no-unresolved */\n/* eslint-disable global-require */\nimport C from '@teamenki/common-constants';\nimport combs from '@nem035/combs';\nimport isEqual from 'lodash.isequal';\nimport difference from 'lodash.difference';\nimport { aspects as commonAspects } from '@teamenki/common-helpers';\nimport Topic from '../../../backend/app/models/topic';\n\nconst ASPECTS = Object.keys(commonAspects);\n\n// This stat requires you to run two other stats\n// to generate the starting data\n// i.e. the wsa-graph-paths and wsa-sequences\nexport default async function compareWSAGraphAndSequences() {\n  const graph = require('../wsa-graph-paths/wsa-graph.json');\n  const sequences = require('../wsa-sequences/wsa-sequences.json');\n\n  const topics = await Topic.find({\n    availabilityStatus: C.TOPIC.STATUS.PUBLISHED,\n    $or: [{ team: { $exists: false } }, { team: null }],\n  }).lean();\n\n  for (const { slug } of topics) {\n    const { paths } = graph.find(({ topic }) => slug === topic);\n    const { seqs } = sequences.find(({ topic }) => slug === topic);\n\n    for (const comb of combs(ASPECTS)) {\n      const { path } = paths.find(({ aspects }) =>\n        isEqual(aspects.slice().sort(), comb.slice().sort())\n      );\n      const { seq } = seqs.find(({ aspects }) =>\n        isEqual(aspects.slice().sort(), comb.slice().sort())\n      );\n\n      const equal = isEqual(\n        seq.map(({ slug: s }) => s),\n        path.map(({ slug: s }) => s)\n      );\n\n      if (!equal) {\n        console.log(\n          \"a\"\n        );\n      }\n    }\n  }\n\n  process.exit(0);\n}`,\n  extensions: [\n    basicSetup,\n    EditorView.updateListener.of((v) => {\n      const { doc } = v.state;\n      if (v.docChanged) {\n        window.ReactNativeWebView.postMessage(\n          JSON.stringify({ event: \"code-change\", data: doc.toString() })\n        );\n      }\n    }),\n    lineNumbers(),\n    highlightActiveLineGutter(),\n    highlightSpecialChars(),\n    drawSelection(),\n    EditorState.allowMultipleSelections.of(true),\n    indentOnInput(),\n    defaultHighlightStyle.fallback,\n    themes.of(darkThemeExtensions),\n    bracketMatching(),\n    closeBrackets(),\n    autocompletion(),\n    highlightActiveLine(),\n    highlightSelectionMatches(),\n    keymap.of([\n      indentWithTab,\n      ...closeBracketsKeymap,\n      ...defaultKeymap,  // causes ios double enter press\n      ...completionKeymap,\n    ]),\n    languages.of(javascript()),\n    EditorView.lineWrapping,\n    EditorState.languageData.of(() => [{ autocomplete: completeAnyWord }]), // adds words from the editor as completions\n    javascriptLanguage.data.of({\n      autocomplete: jsCompletion,\n    }),\n    pythonLanguage.data.of({\n      autocomplete: pyCompletion,\n    }),\n  ],\n});\n\nconst view = new EditorView({\n  parent: document.getElementById(\"editor\"),\n  state: initialState,\n});\n\nwindow.view = view;\n\nwindow.replaceCode = (code) => {\n  window.view.dispatch({\n    changes: {\n      from: 0,\n      to: window.view.state.doc.toString().length,\n      insert: code || \"\",\n    },\n  });\n  view.dispatch({ selection: { anchor: view.state.doc.length } });\n};\n\nconst languageExtensionsMap = {\n  javascript: javascript,\n  python: python,\n};\n\nwindow.replaceLanguage = (language) => {\n  const languageExtension = languageExtensionsMap[language];\n\n  if (languageExtension) {\n    view.dispatch({\n      effects: languages.reconfigure(languageExtension()),\n    });\n  } else {\n    window.ReactNativeWebView.postMessage(\n      JSON.stringify({ event: \"invalid-language\", data: language })\n    );\n  }\n};\n\nwindow.replaceTheme = (theme) => {\n  if (theme === \"light\") {\n    view.dispatch({\n      effects: themes.reconfigure(lightThemeExtensions),\n    });\n  } else if (theme === \"dark\") {\n    view.dispatch({\n      effects: themes.reconfigure(darkThemeExtensions),\n    });\n  } else {\n    window?.ReactNativeWebView.postMessage(\n      JSON.stringify({ event: \"invalid-language\", data: language })\n    );\n  }\n};\n\nwindow.simulateKeyPress = (key = \"Enter\") => {\n  const element = document.querySelector(\".cm-content\");\n  element.dispatchEvent(new KeyboardEvent(\"keydown\", { key }));\n  element.dispatchEvent(new KeyboardEvent(\"keyup\", { key }));\n};\n\n// this is magic, don't touch\n// fixes all problems identified with the editor's webview not syncing with the updates from react native\n// e.g. closing the keyboard on Android wouldn't update the editor's view, leaving half a screen blank\nwindow.onresize = (x) => {\n  const element = document.querySelector(\".cm-activeLine\");\n  element.scrollIntoViewIfNeeded(false); // false here makes the scroll stop once the element is visible, compared to centering it into the viewport\n};\n\n\ndocument.addEventListener(\"keydown\", (e) => {\n  console.log(e.keyCode)\n})"]}